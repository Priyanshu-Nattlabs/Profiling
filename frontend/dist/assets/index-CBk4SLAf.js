var Jq=Object.defineProperty;var Zq=(e,t,r)=>t in e?Jq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var gr=(e,t,r)=>Zq(e,typeof t!="symbol"?t+"":t,r);function eX(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var tOe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Uj={exports:{}},kx={},Rj={exports:{}},ir={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hg=Symbol.for("react.element"),tX=Symbol.for("react.portal"),rX=Symbol.for("react.fragment"),nX=Symbol.for("react.strict_mode"),iX=Symbol.for("react.profiler"),aX=Symbol.for("react.provider"),oX=Symbol.for("react.context"),sX=Symbol.for("react.forward_ref"),lX=Symbol.for("react.suspense"),uX=Symbol.for("react.memo"),cX=Symbol.for("react.lazy"),ek=Symbol.iterator;function AX(e){return e===null||typeof e!="object"?null:(e=ek&&e[ek]||e["@@iterator"],typeof e=="function"?e:null)}var Dj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jj=Object.assign,Mj={};function Rh(e,t,r){this.props=e,this.context=t,this.refs=Mj,this.updater=r||Dj}Rh.prototype.isReactComponent={};Rh.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Rh.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Qj(){}Qj.prototype=Rh.prototype;function X4(e,t,r){this.props=e,this.context=t,this.refs=Mj,this.updater=r||Dj}var Y4=X4.prototype=new Qj;Y4.constructor=X4;jj(Y4,Rh.prototype);Y4.isPureReactComponent=!0;var tk=Array.isArray,Hj=Object.prototype.hasOwnProperty,J4={current:null},$j={key:!0,ref:!0,__self:!0,__source:!0};function Wj(e,t,r){var n,i={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)Hj.call(t,n)&&!$j.hasOwnProperty(n)&&(i[n]=t[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:Hg,type:e,key:a,ref:o,props:i,_owner:J4.current}}function fX(e,t){return{$$typeof:Hg,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Z4(e){return typeof e=="object"&&e!==null&&e.$$typeof===Hg}function dX(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var rk=/\/+/g;function mB(e,t){return typeof e=="object"&&e!==null&&e.key!=null?dX(""+e.key):t.toString(36)}function qy(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Hg:case tX:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+mB(o,0):n,tk(i)?(r="",e!=null&&(r=e.replace(rk,"$&/")+"/"),qy(i,t,r,"",function(u){return u})):i!=null&&(Z4(i)&&(i=fX(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(rk,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",tk(e))for(var s=0;s<e.length;s++){a=e[s];var l=n+mB(a,s);o+=qy(a,t,r,l,i)}else if(l=AX(e),typeof l=="function")for(e=l.call(e),s=0;!(a=e.next()).done;)a=a.value,l=n+mB(a,s++),o+=qy(a,t,r,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function y0(e,t,r){if(e==null)return e;var n=[],i=0;return qy(e,n,"","",function(a){return t.call(r,a,i++)}),n}function hX(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var La={current:null},Xy={transition:null},pX={ReactCurrentDispatcher:La,ReactCurrentBatchConfig:Xy,ReactCurrentOwner:J4};function Kj(){throw Error("act(...) is not supported in production builds of React.")}ir.Children={map:y0,forEach:function(e,t,r){y0(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return y0(e,function(){t++}),t},toArray:function(e){return y0(e,function(t){return t})||[]},only:function(e){if(!Z4(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ir.Component=Rh;ir.Fragment=rX;ir.Profiler=iX;ir.PureComponent=X4;ir.StrictMode=nX;ir.Suspense=lX;ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pX;ir.act=Kj;ir.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=jj({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=J4.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)Hj.call(t,l)&&!$j.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];n.children=s}return{$$typeof:Hg,type:e.type,key:i,ref:a,props:n,_owner:o}};ir.createContext=function(e){return e={$$typeof:oX,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:aX,_context:e},e.Consumer=e};ir.createElement=Wj;ir.createFactory=function(e){var t=Wj.bind(null,e);return t.type=e,t};ir.createRef=function(){return{current:null}};ir.forwardRef=function(e){return{$$typeof:sX,render:e}};ir.isValidElement=Z4;ir.lazy=function(e){return{$$typeof:cX,_payload:{_status:-1,_result:e},_init:hX}};ir.memo=function(e,t){return{$$typeof:uX,type:e,compare:t===void 0?null:t}};ir.startTransition=function(e){var t=Xy.transition;Xy.transition={};try{e()}finally{Xy.transition=t}};ir.unstable_act=Kj;ir.useCallback=function(e,t){return La.current.useCallback(e,t)};ir.useContext=function(e){return La.current.useContext(e)};ir.useDebugValue=function(){};ir.useDeferredValue=function(e){return La.current.useDeferredValue(e)};ir.useEffect=function(e,t){return La.current.useEffect(e,t)};ir.useId=function(){return La.current.useId()};ir.useImperativeHandle=function(e,t,r){return La.current.useImperativeHandle(e,t,r)};ir.useInsertionEffect=function(e,t){return La.current.useInsertionEffect(e,t)};ir.useLayoutEffect=function(e,t){return La.current.useLayoutEffect(e,t)};ir.useMemo=function(e,t){return La.current.useMemo(e,t)};ir.useReducer=function(e,t,r){return La.current.useReducer(e,t,r)};ir.useRef=function(e){return La.current.useRef(e)};ir.useState=function(e){return La.current.useState(e)};ir.useSyncExternalStore=function(e,t,r){return La.current.useSyncExternalStore(e,t,r)};ir.useTransition=function(){return La.current.useTransition()};ir.version="18.3.1";Rj.exports=ir;var E=Rj.exports;const bu=zs(E),mX=eX({__proto__:null,default:bu},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gX=E,vX=Symbol.for("react.element"),yX=Symbol.for("react.fragment"),wX=Object.prototype.hasOwnProperty,xX=gX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bX={key:!0,ref:!0,__self:!0,__source:!0};function zj(e,t,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)wX.call(t,n)&&!bX.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:vX,type:e,key:a,ref:o,props:i,_owner:xX.current}}kx.Fragment=yX;kx.jsx=zj;kx.jsxs=zj;Uj.exports=kx;var h=Uj.exports,Q5={},Vj={exports:{}},Ro={},Gj={exports:{}},qj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,K){var ie=D.length;D.push(K);e:for(;0<ie;){var ee=ie-1>>>1,L=D[ee];if(0<i(L,K))D[ee]=K,D[ie]=L,ie=ee;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var K=D[0],ie=D.pop();if(ie!==K){D[0]=ie;e:for(var ee=0,L=D.length,j=L>>>1;ee<j;){var z=2*(ee+1)-1,X=D[z],ae=z+1,Z=D[ae];if(0>i(X,ie))ae<L&&0>i(Z,X)?(D[ee]=Z,D[ae]=ie,ee=ae):(D[ee]=X,D[z]=ie,ee=z);else if(ae<L&&0>i(Z,ie))D[ee]=Z,D[ae]=ie,ee=ae;else break e}}return K}function i(D,K){var ie=D.sortIndex-K.sortIndex;return ie!==0?ie:D.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,A=null,d=3,f=!1,p=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(D){for(var K=r(u);K!==null;){if(K.callback===null)n(u);else if(K.startTime<=D)n(u),K.sortIndex=K.expirationTime,t(l,K);else break;K=r(u)}}function b(D){if(g=!1,w(D),!p)if(r(l)!==null)p=!0,Q(B);else{var K=r(u);K!==null&&W(b,K.startTime-D)}}function B(D,K){p=!1,g&&(g=!1,m(k),k=-1),f=!0;var ie=d;try{for(w(K),A=r(l);A!==null&&(!(A.expirationTime>K)||D&&!F());){var ee=A.callback;if(typeof ee=="function"){A.callback=null,d=A.priorityLevel;var L=ee(A.expirationTime<=K);K=e.unstable_now(),typeof L=="function"?A.callback=L:A===r(l)&&n(l),w(K)}else n(l);A=r(l)}if(A!==null)var j=!0;else{var z=r(u);z!==null&&W(b,z.startTime-K),j=!1}return j}finally{A=null,d=ie,f=!1}}var S=!1,P=null,k=-1,I=5,O=-1;function F(){return!(e.unstable_now()-O<I)}function N(){if(P!==null){var D=e.unstable_now();O=D;var K=!0;try{K=P(!0,D)}finally{K?U():(S=!1,P=null)}}else S=!1}var U;if(typeof y=="function")U=function(){y(N)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,V=M.port2;M.port1.onmessage=N,U=function(){V.postMessage(null)}}else U=function(){v(N,0)};function Q(D){P=D,S||(S=!0,U())}function W(D,K){k=v(function(){D(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){p||f||(p=!0,Q(B))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(D){switch(d){case 1:case 2:case 3:var K=3;break;default:K=d}var ie=d;d=K;try{return D()}finally{d=ie}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,K){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var ie=d;d=D;try{return K()}finally{d=ie}},e.unstable_scheduleCallback=function(D,K,ie){var ee=e.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?ee+ie:ee):ie=ee,D){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=ie+L,D={id:c++,callback:K,priorityLevel:D,startTime:ie,expirationTime:L,sortIndex:-1},ie>ee?(D.sortIndex=ie,t(u,D),r(l)===null&&D===r(u)&&(g?(m(k),k=-1):g=!0,W(b,ie-ee))):(D.sortIndex=L,t(l,D),p||f||(p=!0,Q(B))),D},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(D){var K=d;return function(){var ie=d;d=K;try{return D.apply(this,arguments)}finally{d=ie}}}})(qj);Gj.exports=qj;var BX=Gj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CX=E,To=BX;function ze(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xj=new Set,zm={};function Of(e,t){dh(e,t),dh(e+"Capture",t)}function dh(e,t){for(zm[e]=t,e=0;e<t.length;e++)Xj.add(t[e])}var Fu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),H5=Object.prototype.hasOwnProperty,EX=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nk={},ik={};function SX(e){return H5.call(ik,e)?!0:H5.call(nk,e)?!1:EX.test(e)?ik[e]=!0:(nk[e]=!0,!1)}function NX(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function FX(e,t,r,n){if(t===null||typeof t>"u"||NX(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ua(e,t,r,n,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Ji={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ji[e]=new Ua(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ji[t]=new Ua(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ji[e]=new Ua(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ji[e]=new Ua(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ji[e]=new Ua(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ji[e]=new Ua(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ji[e]=new Ua(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ji[e]=new Ua(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ji[e]=new Ua(e,5,!1,e.toLowerCase(),null,!1,!1)});var e3=/[\-:]([a-z])/g;function t3(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(e3,t3);Ji[t]=new Ua(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(e3,t3);Ji[t]=new Ua(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(e3,t3);Ji[t]=new Ua(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ji[e]=new Ua(e,1,!1,e.toLowerCase(),null,!1,!1)});Ji.xlinkHref=new Ua("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ji[e]=new Ua(e,1,!1,e.toLowerCase(),null,!0,!0)});function r3(e,t,r,n){var i=Ji.hasOwnProperty(t)?Ji[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(FX(t,r,i,n)&&(r=null),n||i===null?SX(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Hu=CX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w0=Symbol.for("react.element"),Id=Symbol.for("react.portal"),_d=Symbol.for("react.fragment"),n3=Symbol.for("react.strict_mode"),$5=Symbol.for("react.profiler"),Yj=Symbol.for("react.provider"),Jj=Symbol.for("react.context"),i3=Symbol.for("react.forward_ref"),W5=Symbol.for("react.suspense"),K5=Symbol.for("react.suspense_list"),a3=Symbol.for("react.memo"),Cc=Symbol.for("react.lazy"),Zj=Symbol.for("react.offscreen"),ak=Symbol.iterator;function Up(e){return e===null||typeof e!="object"?null:(e=ak&&e[ak]||e["@@iterator"],typeof e=="function"?e:null)}var mn=Object.assign,gB;function Am(e){if(gB===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);gB=t&&t[1]||""}return`
`+gB+e}var vB=!1;function yB(e,t){if(!e||vB)return"";vB=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=s);break}}}finally{vB=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Am(e):""}function IX(e){switch(e.tag){case 5:return Am(e.type);case 16:return Am("Lazy");case 13:return Am("Suspense");case 19:return Am("SuspenseList");case 0:case 2:case 15:return e=yB(e.type,!1),e;case 11:return e=yB(e.type.render,!1),e;case 1:return e=yB(e.type,!0),e;default:return""}}function z5(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _d:return"Fragment";case Id:return"Portal";case $5:return"Profiler";case n3:return"StrictMode";case W5:return"Suspense";case K5:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Jj:return(e.displayName||"Context")+".Consumer";case Yj:return(e._context.displayName||"Context")+".Provider";case i3:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case a3:return t=e.displayName||null,t!==null?t:z5(e.type)||"Memo";case Cc:t=e._payload,e=e._init;try{return z5(e(t))}catch{}}return null}function _X(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z5(t);case 8:return t===n3?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function rA(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function e6(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function kX(e){var t=e6(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function x0(e){e._valueTracker||(e._valueTracker=kX(e))}function t6(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=e6(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function I1(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function V5(e,t){var r=t.checked;return mn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function ok(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=rA(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function r6(e,t){t=t.checked,t!=null&&r3(e,"checked",t,!1)}function G5(e,t){r6(e,t);var r=rA(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?q5(e,t.type,r):t.hasOwnProperty("defaultValue")&&q5(e,t.type,rA(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function sk(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function q5(e,t,r){(t!=="number"||I1(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var fm=Array.isArray;function zd(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+rA(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function X5(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ze(91));return mn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function lk(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ze(92));if(fm(r)){if(1<r.length)throw Error(ze(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:rA(r)}}function n6(e,t){var r=rA(t.value),n=rA(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function uk(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function i6(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Y5(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?i6(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var b0,a6=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(b0=b0||document.createElement("div"),b0.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=b0.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Vm(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Cm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},PX=["Webkit","ms","Moz","O"];Object.keys(Cm).forEach(function(e){PX.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Cm[t]=Cm[e]})});function o6(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Cm.hasOwnProperty(e)&&Cm[e]?(""+t).trim():t+"px"}function s6(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=o6(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var OX=mn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function J5(e,t){if(t){if(OX[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ze(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ze(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ze(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ze(62))}}function Z5(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eE=null;function o3(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var tE=null,Vd=null,Gd=null;function ck(e){if(e=Kg(e)){if(typeof tE!="function")throw Error(ze(280));var t=e.stateNode;t&&(t=Ux(t),tE(e.stateNode,e.type,t))}}function l6(e){Vd?Gd?Gd.push(e):Gd=[e]:Vd=e}function u6(){if(Vd){var e=Vd,t=Gd;if(Gd=Vd=null,ck(e),t)for(e=0;e<t.length;e++)ck(t[e])}}function c6(e,t){return e(t)}function A6(){}var wB=!1;function f6(e,t,r){if(wB)return e(t,r);wB=!0;try{return c6(e,t,r)}finally{wB=!1,(Vd!==null||Gd!==null)&&(A6(),u6())}}function Gm(e,t){var r=e.stateNode;if(r===null)return null;var n=Ux(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ze(231,t,typeof r));return r}var rE=!1;if(Fu)try{var Rp={};Object.defineProperty(Rp,"passive",{get:function(){rE=!0}}),window.addEventListener("test",Rp,Rp),window.removeEventListener("test",Rp,Rp)}catch{rE=!1}function TX(e,t,r,n,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var Em=!1,_1=null,k1=!1,nE=null,LX={onError:function(e){Em=!0,_1=e}};function UX(e,t,r,n,i,a,o,s,l){Em=!1,_1=null,TX.apply(LX,arguments)}function RX(e,t,r,n,i,a,o,s,l){if(UX.apply(this,arguments),Em){if(Em){var u=_1;Em=!1,_1=null}else throw Error(ze(198));k1||(k1=!0,nE=u)}}function Tf(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function d6(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ak(e){if(Tf(e)!==e)throw Error(ze(188))}function DX(e){var t=e.alternate;if(!t){if(t=Tf(e),t===null)throw Error(ze(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return Ak(i),e;if(a===n)return Ak(i),t;a=a.sibling}throw Error(ze(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(ze(189))}}if(r.alternate!==n)throw Error(ze(190))}if(r.tag!==3)throw Error(ze(188));return r.stateNode.current===r?e:t}function h6(e){return e=DX(e),e!==null?p6(e):null}function p6(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=p6(e);if(t!==null)return t;e=e.sibling}return null}var m6=To.unstable_scheduleCallback,fk=To.unstable_cancelCallback,jX=To.unstable_shouldYield,MX=To.unstable_requestPaint,Ln=To.unstable_now,QX=To.unstable_getCurrentPriorityLevel,s3=To.unstable_ImmediatePriority,g6=To.unstable_UserBlockingPriority,P1=To.unstable_NormalPriority,HX=To.unstable_LowPriority,v6=To.unstable_IdlePriority,Px=null,Sl=null;function $X(e){if(Sl&&typeof Sl.onCommitFiberRoot=="function")try{Sl.onCommitFiberRoot(Px,e,void 0,(e.current.flags&128)===128)}catch{}}var Rs=Math.clz32?Math.clz32:zX,WX=Math.log,KX=Math.LN2;function zX(e){return e>>>=0,e===0?32:31-(WX(e)/KX|0)|0}var B0=64,C0=4194304;function dm(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function O1(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var s=o&~i;s!==0?n=dm(s):(a&=o,a!==0&&(n=dm(a)))}else o=r&~i,o!==0?n=dm(o):a!==0&&(n=dm(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Rs(t),i=1<<r,n|=e[r],t&=~i;return n}function VX(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function GX(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Rs(a),s=1<<o,l=i[o];l===-1?(!(s&r)||s&n)&&(i[o]=VX(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}function iE(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function y6(){var e=B0;return B0<<=1,!(B0&4194240)&&(B0=64),e}function xB(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function $g(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Rs(t),e[t]=r}function qX(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Rs(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function l3(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Rs(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Sr=0;function w6(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var x6,u3,b6,B6,C6,aE=!1,E0=[],Qc=null,Hc=null,$c=null,qm=new Map,Xm=new Map,Ic=[],XX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dk(e,t){switch(e){case"focusin":case"focusout":Qc=null;break;case"dragenter":case"dragleave":Hc=null;break;case"mouseover":case"mouseout":$c=null;break;case"pointerover":case"pointerout":qm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xm.delete(t.pointerId)}}function Dp(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Kg(t),t!==null&&u3(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function YX(e,t,r,n,i){switch(t){case"focusin":return Qc=Dp(Qc,e,t,r,n,i),!0;case"dragenter":return Hc=Dp(Hc,e,t,r,n,i),!0;case"mouseover":return $c=Dp($c,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return qm.set(a,Dp(qm.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Xm.set(a,Dp(Xm.get(a)||null,e,t,r,n,i)),!0}return!1}function E6(e){var t=VA(e.target);if(t!==null){var r=Tf(t);if(r!==null){if(t=r.tag,t===13){if(t=d6(r),t!==null){e.blockedOn=t,C6(e.priority,function(){b6(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Yy(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=oE(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);eE=n,r.target.dispatchEvent(n),eE=null}else return t=Kg(r),t!==null&&u3(t),e.blockedOn=r,!1;t.shift()}return!0}function hk(e,t,r){Yy(e)&&r.delete(t)}function JX(){aE=!1,Qc!==null&&Yy(Qc)&&(Qc=null),Hc!==null&&Yy(Hc)&&(Hc=null),$c!==null&&Yy($c)&&($c=null),qm.forEach(hk),Xm.forEach(hk)}function jp(e,t){e.blockedOn===t&&(e.blockedOn=null,aE||(aE=!0,To.unstable_scheduleCallback(To.unstable_NormalPriority,JX)))}function Ym(e){function t(i){return jp(i,e)}if(0<E0.length){jp(E0[0],e);for(var r=1;r<E0.length;r++){var n=E0[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Qc!==null&&jp(Qc,e),Hc!==null&&jp(Hc,e),$c!==null&&jp($c,e),qm.forEach(t),Xm.forEach(t),r=0;r<Ic.length;r++)n=Ic[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ic.length&&(r=Ic[0],r.blockedOn===null);)E6(r),r.blockedOn===null&&Ic.shift()}var qd=Hu.ReactCurrentBatchConfig,T1=!0;function ZX(e,t,r,n){var i=Sr,a=qd.transition;qd.transition=null;try{Sr=1,c3(e,t,r,n)}finally{Sr=i,qd.transition=a}}function eY(e,t,r,n){var i=Sr,a=qd.transition;qd.transition=null;try{Sr=4,c3(e,t,r,n)}finally{Sr=i,qd.transition=a}}function c3(e,t,r,n){if(T1){var i=oE(e,t,r,n);if(i===null)kB(e,t,n,L1,r),dk(e,n);else if(YX(i,e,t,r,n))n.stopPropagation();else if(dk(e,n),t&4&&-1<XX.indexOf(e)){for(;i!==null;){var a=Kg(i);if(a!==null&&x6(a),a=oE(e,t,r,n),a===null&&kB(e,t,n,L1,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else kB(e,t,n,null,r)}}var L1=null;function oE(e,t,r,n){if(L1=null,e=o3(n),e=VA(e),e!==null)if(t=Tf(e),t===null)e=null;else if(r=t.tag,r===13){if(e=d6(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return L1=e,null}function S6(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(QX()){case s3:return 1;case g6:return 4;case P1:case HX:return 16;case v6:return 536870912;default:return 16}default:return 16}}var Pc=null,A3=null,Jy=null;function N6(){if(Jy)return Jy;var e,t=A3,r=t.length,n,i="value"in Pc?Pc.value:Pc.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[a-n];n++);return Jy=i.slice(e,1<n?1-n:void 0)}function Zy(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function S0(){return!0}function pk(){return!1}function Do(e){function t(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?S0:pk,this.isPropagationStopped=pk,this}return mn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=S0)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=S0)},persist:function(){},isPersistent:S0}),t}var Dh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},f3=Do(Dh),Wg=mn({},Dh,{view:0,detail:0}),tY=Do(Wg),bB,BB,Mp,Ox=mn({},Wg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:d3,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Mp&&(Mp&&e.type==="mousemove"?(bB=e.screenX-Mp.screenX,BB=e.screenY-Mp.screenY):BB=bB=0,Mp=e),bB)},movementY:function(e){return"movementY"in e?e.movementY:BB}}),mk=Do(Ox),rY=mn({},Ox,{dataTransfer:0}),nY=Do(rY),iY=mn({},Wg,{relatedTarget:0}),CB=Do(iY),aY=mn({},Dh,{animationName:0,elapsedTime:0,pseudoElement:0}),oY=Do(aY),sY=mn({},Dh,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),lY=Do(sY),uY=mn({},Dh,{data:0}),gk=Do(uY),cY={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},AY={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fY={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dY(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=fY[e])?!!t[e]:!1}function d3(){return dY}var hY=mn({},Wg,{key:function(e){if(e.key){var t=cY[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zy(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?AY[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:d3,charCode:function(e){return e.type==="keypress"?Zy(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zy(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pY=Do(hY),mY=mn({},Ox,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vk=Do(mY),gY=mn({},Wg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:d3}),vY=Do(gY),yY=mn({},Dh,{propertyName:0,elapsedTime:0,pseudoElement:0}),wY=Do(yY),xY=mn({},Ox,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bY=Do(xY),BY=[9,13,27,32],h3=Fu&&"CompositionEvent"in window,Sm=null;Fu&&"documentMode"in document&&(Sm=document.documentMode);var CY=Fu&&"TextEvent"in window&&!Sm,F6=Fu&&(!h3||Sm&&8<Sm&&11>=Sm),yk=" ",wk=!1;function I6(e,t){switch(e){case"keyup":return BY.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _6(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var kd=!1;function EY(e,t){switch(e){case"compositionend":return _6(t);case"keypress":return t.which!==32?null:(wk=!0,yk);case"textInput":return e=t.data,e===yk&&wk?null:e;default:return null}}function SY(e,t){if(kd)return e==="compositionend"||!h3&&I6(e,t)?(e=N6(),Jy=A3=Pc=null,kd=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return F6&&t.locale!=="ko"?null:t.data;default:return null}}var NY={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xk(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!NY[e.type]:t==="textarea"}function k6(e,t,r,n){l6(n),t=U1(t,"onChange"),0<t.length&&(r=new f3("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Nm=null,Jm=null;function FY(e){H6(e,0)}function Tx(e){var t=Td(e);if(t6(t))return e}function IY(e,t){if(e==="change")return t}var P6=!1;if(Fu){var EB;if(Fu){var SB="oninput"in document;if(!SB){var bk=document.createElement("div");bk.setAttribute("oninput","return;"),SB=typeof bk.oninput=="function"}EB=SB}else EB=!1;P6=EB&&(!document.documentMode||9<document.documentMode)}function Bk(){Nm&&(Nm.detachEvent("onpropertychange",O6),Jm=Nm=null)}function O6(e){if(e.propertyName==="value"&&Tx(Jm)){var t=[];k6(t,Jm,e,o3(e)),f6(FY,t)}}function _Y(e,t,r){e==="focusin"?(Bk(),Nm=t,Jm=r,Nm.attachEvent("onpropertychange",O6)):e==="focusout"&&Bk()}function kY(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Tx(Jm)}function PY(e,t){if(e==="click")return Tx(t)}function OY(e,t){if(e==="input"||e==="change")return Tx(t)}function TY(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qs=typeof Object.is=="function"?Object.is:TY;function Zm(e,t){if(Qs(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!H5.call(t,i)||!Qs(e[i],t[i]))return!1}return!0}function Ck(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ek(e,t){var r=Ck(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ck(r)}}function T6(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?T6(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function L6(){for(var e=window,t=I1();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=I1(e.document)}return t}function p3(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function LY(e){var t=L6(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&T6(r.ownerDocument.documentElement,r)){if(n!==null&&p3(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=Ek(r,a);var o=Ek(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var UY=Fu&&"documentMode"in document&&11>=document.documentMode,Pd=null,sE=null,Fm=null,lE=!1;function Sk(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;lE||Pd==null||Pd!==I1(n)||(n=Pd,"selectionStart"in n&&p3(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Fm&&Zm(Fm,n)||(Fm=n,n=U1(sE,"onSelect"),0<n.length&&(t=new f3("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Pd)))}function N0(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Od={animationend:N0("Animation","AnimationEnd"),animationiteration:N0("Animation","AnimationIteration"),animationstart:N0("Animation","AnimationStart"),transitionend:N0("Transition","TransitionEnd")},NB={},U6={};Fu&&(U6=document.createElement("div").style,"AnimationEvent"in window||(delete Od.animationend.animation,delete Od.animationiteration.animation,delete Od.animationstart.animation),"TransitionEvent"in window||delete Od.transitionend.transition);function Lx(e){if(NB[e])return NB[e];if(!Od[e])return e;var t=Od[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in U6)return NB[e]=t[r];return e}var R6=Lx("animationend"),D6=Lx("animationiteration"),j6=Lx("animationstart"),M6=Lx("transitionend"),Q6=new Map,Nk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function uA(e,t){Q6.set(e,t),Of(t,[e])}for(var FB=0;FB<Nk.length;FB++){var IB=Nk[FB],RY=IB.toLowerCase(),DY=IB[0].toUpperCase()+IB.slice(1);uA(RY,"on"+DY)}uA(R6,"onAnimationEnd");uA(D6,"onAnimationIteration");uA(j6,"onAnimationStart");uA("dblclick","onDoubleClick");uA("focusin","onFocus");uA("focusout","onBlur");uA(M6,"onTransitionEnd");dh("onMouseEnter",["mouseout","mouseover"]);dh("onMouseLeave",["mouseout","mouseover"]);dh("onPointerEnter",["pointerout","pointerover"]);dh("onPointerLeave",["pointerout","pointerover"]);Of("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Of("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Of("onBeforeInput",["compositionend","keypress","textInput","paste"]);Of("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Of("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Of("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jY=new Set("cancel close invalid load scroll toggle".split(" ").concat(hm));function Fk(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,RX(n,t,void 0,e),e.currentTarget=null}function H6(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var s=n[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;Fk(i,s,u),a=l}else for(o=0;o<n.length;o++){if(s=n[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;Fk(i,s,u),a=l}}}if(k1)throw e=nE,k1=!1,nE=null,e}function Xr(e,t){var r=t[dE];r===void 0&&(r=t[dE]=new Set);var n=e+"__bubble";r.has(n)||($6(t,e,2,!1),r.add(n))}function _B(e,t,r){var n=0;t&&(n|=4),$6(r,e,n,t)}var F0="_reactListening"+Math.random().toString(36).slice(2);function eg(e){if(!e[F0]){e[F0]=!0,Xj.forEach(function(r){r!=="selectionchange"&&(jY.has(r)||_B(r,!1,e),_B(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[F0]||(t[F0]=!0,_B("selectionchange",!1,t))}}function $6(e,t,r,n){switch(S6(t)){case 1:var i=ZX;break;case 4:i=eY;break;default:i=c3}r=i.bind(null,t,r,e),i=void 0,!rE||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function kB(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=VA(s),o===null)return;if(l=o.tag,l===5||l===6){n=a=o;continue e}s=s.parentNode}}n=n.return}f6(function(){var u=a,c=o3(r),A=[];e:{var d=Q6.get(e);if(d!==void 0){var f=f3,p=e;switch(e){case"keypress":if(Zy(r)===0)break e;case"keydown":case"keyup":f=pY;break;case"focusin":p="focus",f=CB;break;case"focusout":p="blur",f=CB;break;case"beforeblur":case"afterblur":f=CB;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=mk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=nY;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=vY;break;case R6:case D6:case j6:f=oY;break;case M6:f=wY;break;case"scroll":f=tY;break;case"wheel":f=bY;break;case"copy":case"cut":case"paste":f=lY;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=vk}var g=(t&4)!==0,v=!g&&e==="scroll",m=g?d!==null?d+"Capture":null:d;g=[];for(var y=u,w;y!==null;){w=y;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,m!==null&&(b=Gm(y,m),b!=null&&g.push(tg(y,b,w)))),v)break;y=y.return}0<g.length&&(d=new f(d,p,null,r,c),A.push({event:d,listeners:g}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",d&&r!==eE&&(p=r.relatedTarget||r.fromElement)&&(VA(p)||p[Iu]))break e;if((f||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,f?(p=r.relatedTarget||r.toElement,f=u,p=p?VA(p):null,p!==null&&(v=Tf(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=u),f!==p)){if(g=mk,b="onMouseLeave",m="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(g=vk,b="onPointerLeave",m="onPointerEnter",y="pointer"),v=f==null?d:Td(f),w=p==null?d:Td(p),d=new g(b,y+"leave",f,r,c),d.target=v,d.relatedTarget=w,b=null,VA(c)===u&&(g=new g(m,y+"enter",p,r,c),g.target=w,g.relatedTarget=v,b=g),v=b,f&&p)t:{for(g=f,m=p,y=0,w=g;w;w=nd(w))y++;for(w=0,b=m;b;b=nd(b))w++;for(;0<y-w;)g=nd(g),y--;for(;0<w-y;)m=nd(m),w--;for(;y--;){if(g===m||m!==null&&g===m.alternate)break t;g=nd(g),m=nd(m)}g=null}else g=null;f!==null&&Ik(A,d,f,g,!1),p!==null&&v!==null&&Ik(A,v,p,g,!0)}}e:{if(d=u?Td(u):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var B=IY;else if(xk(d))if(P6)B=OY;else{B=kY;var S=_Y}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(B=PY);if(B&&(B=B(e,u))){k6(A,B,r,c);break e}S&&S(e,d,u),e==="focusout"&&(S=d._wrapperState)&&S.controlled&&d.type==="number"&&q5(d,"number",d.value)}switch(S=u?Td(u):window,e){case"focusin":(xk(S)||S.contentEditable==="true")&&(Pd=S,sE=u,Fm=null);break;case"focusout":Fm=sE=Pd=null;break;case"mousedown":lE=!0;break;case"contextmenu":case"mouseup":case"dragend":lE=!1,Sk(A,r,c);break;case"selectionchange":if(UY)break;case"keydown":case"keyup":Sk(A,r,c)}var P;if(h3)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else kd?I6(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(F6&&r.locale!=="ko"&&(kd||k!=="onCompositionStart"?k==="onCompositionEnd"&&kd&&(P=N6()):(Pc=c,A3="value"in Pc?Pc.value:Pc.textContent,kd=!0)),S=U1(u,k),0<S.length&&(k=new gk(k,e,null,r,c),A.push({event:k,listeners:S}),P?k.data=P:(P=_6(r),P!==null&&(k.data=P)))),(P=CY?EY(e,r):SY(e,r))&&(u=U1(u,"onBeforeInput"),0<u.length&&(c=new gk("onBeforeInput","beforeinput",null,r,c),A.push({event:c,listeners:u}),c.data=P))}H6(A,t)})}function tg(e,t,r){return{instance:e,listener:t,currentTarget:r}}function U1(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Gm(e,r),a!=null&&n.unshift(tg(e,a,i)),a=Gm(e,t),a!=null&&n.push(tg(e,a,i))),e=e.return}return n}function nd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ik(e,t,r,n,i){for(var a=t._reactName,o=[];r!==null&&r!==n;){var s=r,l=s.alternate,u=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&u!==null&&(s=u,i?(l=Gm(r,a),l!=null&&o.unshift(tg(r,l,s))):i||(l=Gm(r,a),l!=null&&o.push(tg(r,l,s)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var MY=/\r\n?/g,QY=/\u0000|\uFFFD/g;function _k(e){return(typeof e=="string"?e:""+e).replace(MY,`
`).replace(QY,"")}function I0(e,t,r){if(t=_k(t),_k(e)!==t&&r)throw Error(ze(425))}function R1(){}var uE=null,cE=null;function AE(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var fE=typeof setTimeout=="function"?setTimeout:void 0,HY=typeof clearTimeout=="function"?clearTimeout:void 0,kk=typeof Promise=="function"?Promise:void 0,$Y=typeof queueMicrotask=="function"?queueMicrotask:typeof kk<"u"?function(e){return kk.resolve(null).then(e).catch(WY)}:fE;function WY(e){setTimeout(function(){throw e})}function PB(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Ym(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Ym(t)}function Wc(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Pk(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var jh=Math.random().toString(36).slice(2),vl="__reactFiber$"+jh,rg="__reactProps$"+jh,Iu="__reactContainer$"+jh,dE="__reactEvents$"+jh,KY="__reactListeners$"+jh,zY="__reactHandles$"+jh;function VA(e){var t=e[vl];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Iu]||r[vl]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Pk(e);e!==null;){if(r=e[vl])return r;e=Pk(e)}return t}e=r,r=e.parentNode}return null}function Kg(e){return e=e[vl]||e[Iu],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Td(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ze(33))}function Ux(e){return e[rg]||null}var hE=[],Ld=-1;function cA(e){return{current:e}}function en(e){0>Ld||(e.current=hE[Ld],hE[Ld]=null,Ld--)}function Wr(e,t){Ld++,hE[Ld]=e.current,e.current=t}var nA={},ya=cA(nA),Xa=cA(!1),pf=nA;function hh(e,t){var r=e.type.contextTypes;if(!r)return nA;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ya(e){return e=e.childContextTypes,e!=null}function D1(){en(Xa),en(ya)}function Ok(e,t,r){if(ya.current!==nA)throw Error(ze(168));Wr(ya,t),Wr(Xa,r)}function W6(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(ze(108,_X(e)||"Unknown",i));return mn({},r,n)}function j1(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||nA,pf=ya.current,Wr(ya,e),Wr(Xa,Xa.current),!0}function Tk(e,t,r){var n=e.stateNode;if(!n)throw Error(ze(169));r?(e=W6(e,t,pf),n.__reactInternalMemoizedMergedChildContext=e,en(Xa),en(ya),Wr(ya,e)):en(Xa),Wr(Xa,r)}var fu=null,Rx=!1,OB=!1;function K6(e){fu===null?fu=[e]:fu.push(e)}function VY(e){Rx=!0,K6(e)}function AA(){if(!OB&&fu!==null){OB=!0;var e=0,t=Sr;try{var r=fu;for(Sr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}fu=null,Rx=!1}catch(i){throw fu!==null&&(fu=fu.slice(e+1)),m6(s3,AA),i}finally{Sr=t,OB=!1}}return null}var Ud=[],Rd=0,M1=null,Q1=0,Yo=[],Jo=0,mf=null,gu=1,vu="";function UA(e,t){Ud[Rd++]=Q1,Ud[Rd++]=M1,M1=e,Q1=t}function z6(e,t,r){Yo[Jo++]=gu,Yo[Jo++]=vu,Yo[Jo++]=mf,mf=e;var n=gu;e=vu;var i=32-Rs(n)-1;n&=~(1<<i),r+=1;var a=32-Rs(t)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,gu=1<<32-Rs(t)+i|r<<i|n,vu=a+e}else gu=1<<a|r<<i|n,vu=e}function m3(e){e.return!==null&&(UA(e,1),z6(e,1,0))}function g3(e){for(;e===M1;)M1=Ud[--Rd],Ud[Rd]=null,Q1=Ud[--Rd],Ud[Rd]=null;for(;e===mf;)mf=Yo[--Jo],Yo[Jo]=null,vu=Yo[--Jo],Yo[Jo]=null,gu=Yo[--Jo],Yo[Jo]=null}var ko=null,Eo=null,on=!1,Is=null;function V6(e,t){var r=rs(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Lk(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ko=e,Eo=Wc(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ko=e,Eo=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=mf!==null?{id:gu,overflow:vu}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=rs(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ko=e,Eo=null,!0):!1;default:return!1}}function pE(e){return(e.mode&1)!==0&&(e.flags&128)===0}function mE(e){if(on){var t=Eo;if(t){var r=t;if(!Lk(e,t)){if(pE(e))throw Error(ze(418));t=Wc(r.nextSibling);var n=ko;t&&Lk(e,t)?V6(n,r):(e.flags=e.flags&-4097|2,on=!1,ko=e)}}else{if(pE(e))throw Error(ze(418));e.flags=e.flags&-4097|2,on=!1,ko=e}}}function Uk(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ko=e}function _0(e){if(e!==ko)return!1;if(!on)return Uk(e),on=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!AE(e.type,e.memoizedProps)),t&&(t=Eo)){if(pE(e))throw G6(),Error(ze(418));for(;t;)V6(e,t),t=Wc(t.nextSibling)}if(Uk(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ze(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Eo=Wc(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Eo=null}}else Eo=ko?Wc(e.stateNode.nextSibling):null;return!0}function G6(){for(var e=Eo;e;)e=Wc(e.nextSibling)}function ph(){Eo=ko=null,on=!1}function v3(e){Is===null?Is=[e]:Is.push(e)}var GY=Hu.ReactCurrentBatchConfig;function Qp(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ze(309));var n=r.stateNode}if(!n)throw Error(ze(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(ze(284));if(!r._owner)throw Error(ze(290,e))}return e}function k0(e,t){throw e=Object.prototype.toString.call(t),Error(ze(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Rk(e){var t=e._init;return t(e._payload)}function q6(e){function t(m,y){if(e){var w=m.deletions;w===null?(m.deletions=[y],m.flags|=16):w.push(y)}}function r(m,y){if(!e)return null;for(;y!==null;)t(m,y),y=y.sibling;return null}function n(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function i(m,y){return m=Gc(m,y),m.index=0,m.sibling=null,m}function a(m,y,w){return m.index=w,e?(w=m.alternate,w!==null?(w=w.index,w<y?(m.flags|=2,y):w):(m.flags|=2,y)):(m.flags|=1048576,y)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function s(m,y,w,b){return y===null||y.tag!==6?(y=MB(w,m.mode,b),y.return=m,y):(y=i(y,w),y.return=m,y)}function l(m,y,w,b){var B=w.type;return B===_d?c(m,y,w.props.children,b,w.key):y!==null&&(y.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Cc&&Rk(B)===y.type)?(b=i(y,w.props),b.ref=Qp(m,y,w),b.return=m,b):(b=o1(w.type,w.key,w.props,null,m.mode,b),b.ref=Qp(m,y,w),b.return=m,b)}function u(m,y,w,b){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=QB(w,m.mode,b),y.return=m,y):(y=i(y,w.children||[]),y.return=m,y)}function c(m,y,w,b,B){return y===null||y.tag!==7?(y=of(w,m.mode,b,B),y.return=m,y):(y=i(y,w),y.return=m,y)}function A(m,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=MB(""+y,m.mode,w),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case w0:return w=o1(y.type,y.key,y.props,null,m.mode,w),w.ref=Qp(m,null,y),w.return=m,w;case Id:return y=QB(y,m.mode,w),y.return=m,y;case Cc:var b=y._init;return A(m,b(y._payload),w)}if(fm(y)||Up(y))return y=of(y,m.mode,w,null),y.return=m,y;k0(m,y)}return null}function d(m,y,w,b){var B=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return B!==null?null:s(m,y,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case w0:return w.key===B?l(m,y,w,b):null;case Id:return w.key===B?u(m,y,w,b):null;case Cc:return B=w._init,d(m,y,B(w._payload),b)}if(fm(w)||Up(w))return B!==null?null:c(m,y,w,b,null);k0(m,w)}return null}function f(m,y,w,b,B){if(typeof b=="string"&&b!==""||typeof b=="number")return m=m.get(w)||null,s(y,m,""+b,B);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case w0:return m=m.get(b.key===null?w:b.key)||null,l(y,m,b,B);case Id:return m=m.get(b.key===null?w:b.key)||null,u(y,m,b,B);case Cc:var S=b._init;return f(m,y,w,S(b._payload),B)}if(fm(b)||Up(b))return m=m.get(w)||null,c(y,m,b,B,null);k0(y,b)}return null}function p(m,y,w,b){for(var B=null,S=null,P=y,k=y=0,I=null;P!==null&&k<w.length;k++){P.index>k?(I=P,P=null):I=P.sibling;var O=d(m,P,w[k],b);if(O===null){P===null&&(P=I);break}e&&P&&O.alternate===null&&t(m,P),y=a(O,y,k),S===null?B=O:S.sibling=O,S=O,P=I}if(k===w.length)return r(m,P),on&&UA(m,k),B;if(P===null){for(;k<w.length;k++)P=A(m,w[k],b),P!==null&&(y=a(P,y,k),S===null?B=P:S.sibling=P,S=P);return on&&UA(m,k),B}for(P=n(m,P);k<w.length;k++)I=f(P,m,k,w[k],b),I!==null&&(e&&I.alternate!==null&&P.delete(I.key===null?k:I.key),y=a(I,y,k),S===null?B=I:S.sibling=I,S=I);return e&&P.forEach(function(F){return t(m,F)}),on&&UA(m,k),B}function g(m,y,w,b){var B=Up(w);if(typeof B!="function")throw Error(ze(150));if(w=B.call(w),w==null)throw Error(ze(151));for(var S=B=null,P=y,k=y=0,I=null,O=w.next();P!==null&&!O.done;k++,O=w.next()){P.index>k?(I=P,P=null):I=P.sibling;var F=d(m,P,O.value,b);if(F===null){P===null&&(P=I);break}e&&P&&F.alternate===null&&t(m,P),y=a(F,y,k),S===null?B=F:S.sibling=F,S=F,P=I}if(O.done)return r(m,P),on&&UA(m,k),B;if(P===null){for(;!O.done;k++,O=w.next())O=A(m,O.value,b),O!==null&&(y=a(O,y,k),S===null?B=O:S.sibling=O,S=O);return on&&UA(m,k),B}for(P=n(m,P);!O.done;k++,O=w.next())O=f(P,m,k,O.value,b),O!==null&&(e&&O.alternate!==null&&P.delete(O.key===null?k:O.key),y=a(O,y,k),S===null?B=O:S.sibling=O,S=O);return e&&P.forEach(function(N){return t(m,N)}),on&&UA(m,k),B}function v(m,y,w,b){if(typeof w=="object"&&w!==null&&w.type===_d&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case w0:e:{for(var B=w.key,S=y;S!==null;){if(S.key===B){if(B=w.type,B===_d){if(S.tag===7){r(m,S.sibling),y=i(S,w.props.children),y.return=m,m=y;break e}}else if(S.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Cc&&Rk(B)===S.type){r(m,S.sibling),y=i(S,w.props),y.ref=Qp(m,S,w),y.return=m,m=y;break e}r(m,S);break}else t(m,S);S=S.sibling}w.type===_d?(y=of(w.props.children,m.mode,b,w.key),y.return=m,m=y):(b=o1(w.type,w.key,w.props,null,m.mode,b),b.ref=Qp(m,y,w),b.return=m,m=b)}return o(m);case Id:e:{for(S=w.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){r(m,y.sibling),y=i(y,w.children||[]),y.return=m,m=y;break e}else{r(m,y);break}else t(m,y);y=y.sibling}y=QB(w,m.mode,b),y.return=m,m=y}return o(m);case Cc:return S=w._init,v(m,y,S(w._payload),b)}if(fm(w))return p(m,y,w,b);if(Up(w))return g(m,y,w,b);k0(m,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(r(m,y.sibling),y=i(y,w),y.return=m,m=y):(r(m,y),y=MB(w,m.mode,b),y.return=m,m=y),o(m)):r(m,y)}return v}var mh=q6(!0),X6=q6(!1),H1=cA(null),$1=null,Dd=null,y3=null;function w3(){y3=Dd=$1=null}function x3(e){var t=H1.current;en(H1),e._currentValue=t}function gE(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Xd(e,t){$1=e,y3=Dd=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(za=!0),e.firstContext=null)}function ls(e){var t=e._currentValue;if(y3!==e)if(e={context:e,memoizedValue:t,next:null},Dd===null){if($1===null)throw Error(ze(308));Dd=e,$1.dependencies={lanes:0,firstContext:e}}else Dd=Dd.next=e;return t}var GA=null;function b3(e){GA===null?GA=[e]:GA.push(e)}function Y6(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,b3(t)):(r.next=i.next,i.next=r),t.interleaved=r,_u(e,n)}function _u(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ec=!1;function B3(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function J6(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bu(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Kc(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,hr&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,_u(e,r)}return i=n.interleaved,i===null?(t.next=t,b3(n)):(t.next=i.next,i.next=t),n.interleaved=t,_u(e,r)}function e1(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,l3(e,r)}}function Dk(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function W1(e,t,r,n){var i=e.updateQueue;Ec=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==o&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(a!==null){var A=i.baseState;o=0,c=u=l=null,s=a;do{var d=s.lane,f=s.eventTime;if((n&d)===d){c!==null&&(c=c.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,g=s;switch(d=t,f=r,g.tag){case 1:if(p=g.payload,typeof p=="function"){A=p.call(f,A,d);break e}A=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,d=typeof p=="function"?p.call(f,A,d):p,d==null)break e;A=mn({},A,d);break e;case 2:Ec=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[s]:d.push(s))}else f={eventTime:f,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=f,l=A):c=c.next=f,o|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=A),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);vf|=o,e.lanes=o,e.memoizedState=A}}function jk(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ze(191,i));i.call(n)}}}var zg={},Nl=cA(zg),ng=cA(zg),ig=cA(zg);function qA(e){if(e===zg)throw Error(ze(174));return e}function C3(e,t){switch(Wr(ig,t),Wr(ng,e),Wr(Nl,zg),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Y5(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Y5(t,e)}en(Nl),Wr(Nl,t)}function gh(){en(Nl),en(ng),en(ig)}function Z6(e){qA(ig.current);var t=qA(Nl.current),r=Y5(t,e.type);t!==r&&(Wr(ng,e),Wr(Nl,r))}function E3(e){ng.current===e&&(en(Nl),en(ng))}var fn=cA(0);function K1(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var TB=[];function S3(){for(var e=0;e<TB.length;e++)TB[e]._workInProgressVersionPrimary=null;TB.length=0}var t1=Hu.ReactCurrentDispatcher,LB=Hu.ReactCurrentBatchConfig,gf=0,pn=null,li=null,Ii=null,z1=!1,Im=!1,ag=0,qY=0;function ra(){throw Error(ze(321))}function N3(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Qs(e[r],t[r]))return!1;return!0}function F3(e,t,r,n,i,a){if(gf=a,pn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,t1.current=e===null||e.memoizedState===null?ZY:eJ,e=r(n,i),Im){a=0;do{if(Im=!1,ag=0,25<=a)throw Error(ze(301));a+=1,Ii=li=null,t.updateQueue=null,t1.current=tJ,e=r(n,i)}while(Im)}if(t1.current=V1,t=li!==null&&li.next!==null,gf=0,Ii=li=pn=null,z1=!1,t)throw Error(ze(300));return e}function I3(){var e=ag!==0;return ag=0,e}function pl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ii===null?pn.memoizedState=Ii=e:Ii=Ii.next=e,Ii}function us(){if(li===null){var e=pn.alternate;e=e!==null?e.memoizedState:null}else e=li.next;var t=Ii===null?pn.memoizedState:Ii.next;if(t!==null)Ii=t,li=e;else{if(e===null)throw Error(ze(310));li=e,e={memoizedState:li.memoizedState,baseState:li.baseState,baseQueue:li.baseQueue,queue:li.queue,next:null},Ii===null?pn.memoizedState=Ii=e:Ii=Ii.next=e}return Ii}function og(e,t){return typeof t=="function"?t(e):t}function UB(e){var t=us(),r=t.queue;if(r===null)throw Error(ze(311));r.lastRenderedReducer=e;var n=li,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var s=o=null,l=null,u=a;do{var c=u.lane;if((gf&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var A={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=A,o=n):l=l.next=A,pn.lanes|=c,vf|=c}u=u.next}while(u!==null&&u!==a);l===null?o=n:l.next=s,Qs(n,t.memoizedState)||(za=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,pn.lanes|=a,vf|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function RB(e){var t=us(),r=t.queue;if(r===null)throw Error(ze(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);Qs(a,t.memoizedState)||(za=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function eM(){}function tM(e,t){var r=pn,n=us(),i=t(),a=!Qs(n.memoizedState,i);if(a&&(n.memoizedState=i,za=!0),n=n.queue,_3(iM.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Ii!==null&&Ii.memoizedState.tag&1){if(r.flags|=2048,sg(9,nM.bind(null,r,n,i,t),void 0,null),ki===null)throw Error(ze(349));gf&30||rM(r,t,i)}return i}function rM(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=pn.updateQueue,t===null?(t={lastEffect:null,stores:null},pn.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function nM(e,t,r,n){t.value=r,t.getSnapshot=n,aM(t)&&oM(e)}function iM(e,t,r){return r(function(){aM(t)&&oM(e)})}function aM(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Qs(e,r)}catch{return!0}}function oM(e){var t=_u(e,1);t!==null&&Ds(t,e,1,-1)}function Mk(e){var t=pl();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:og,lastRenderedState:e},t.queue=e,e=e.dispatch=JY.bind(null,pn,e),[t.memoizedState,e]}function sg(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=pn.updateQueue,t===null?(t={lastEffect:null,stores:null},pn.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function sM(){return us().memoizedState}function r1(e,t,r,n){var i=pl();pn.flags|=e,i.memoizedState=sg(1|t,r,void 0,n===void 0?null:n)}function Dx(e,t,r,n){var i=us();n=n===void 0?null:n;var a=void 0;if(li!==null){var o=li.memoizedState;if(a=o.destroy,n!==null&&N3(n,o.deps)){i.memoizedState=sg(t,r,a,n);return}}pn.flags|=e,i.memoizedState=sg(1|t,r,a,n)}function Qk(e,t){return r1(8390656,8,e,t)}function _3(e,t){return Dx(2048,8,e,t)}function lM(e,t){return Dx(4,2,e,t)}function uM(e,t){return Dx(4,4,e,t)}function cM(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function AM(e,t,r){return r=r!=null?r.concat([e]):null,Dx(4,4,cM.bind(null,t,e),r)}function k3(){}function fM(e,t){var r=us();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&N3(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function dM(e,t){var r=us();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&N3(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function hM(e,t,r){return gf&21?(Qs(r,t)||(r=y6(),pn.lanes|=r,vf|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,za=!0),e.memoizedState=r)}function XY(e,t){var r=Sr;Sr=r!==0&&4>r?r:4,e(!0);var n=LB.transition;LB.transition={};try{e(!1),t()}finally{Sr=r,LB.transition=n}}function pM(){return us().memoizedState}function YY(e,t,r){var n=Vc(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},mM(e))gM(t,r);else if(r=Y6(e,t,r,n),r!==null){var i=Oa();Ds(r,e,n,i),vM(r,t,n)}}function JY(e,t,r){var n=Vc(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(mM(e))gM(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,r);if(i.hasEagerState=!0,i.eagerState=s,Qs(s,o)){var l=t.interleaved;l===null?(i.next=i,b3(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=Y6(e,t,i,n),r!==null&&(i=Oa(),Ds(r,e,n,i),vM(r,t,n))}}function mM(e){var t=e.alternate;return e===pn||t!==null&&t===pn}function gM(e,t){Im=z1=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function vM(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,l3(e,r)}}var V1={readContext:ls,useCallback:ra,useContext:ra,useEffect:ra,useImperativeHandle:ra,useInsertionEffect:ra,useLayoutEffect:ra,useMemo:ra,useReducer:ra,useRef:ra,useState:ra,useDebugValue:ra,useDeferredValue:ra,useTransition:ra,useMutableSource:ra,useSyncExternalStore:ra,useId:ra,unstable_isNewReconciler:!1},ZY={readContext:ls,useCallback:function(e,t){return pl().memoizedState=[e,t===void 0?null:t],e},useContext:ls,useEffect:Qk,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,r1(4194308,4,cM.bind(null,t,e),r)},useLayoutEffect:function(e,t){return r1(4194308,4,e,t)},useInsertionEffect:function(e,t){return r1(4,2,e,t)},useMemo:function(e,t){var r=pl();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=pl();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=YY.bind(null,pn,e),[n.memoizedState,e]},useRef:function(e){var t=pl();return e={current:e},t.memoizedState=e},useState:Mk,useDebugValue:k3,useDeferredValue:function(e){return pl().memoizedState=e},useTransition:function(){var e=Mk(!1),t=e[0];return e=XY.bind(null,e[1]),pl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=pn,i=pl();if(on){if(r===void 0)throw Error(ze(407));r=r()}else{if(r=t(),ki===null)throw Error(ze(349));gf&30||rM(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,Qk(iM.bind(null,n,a,e),[e]),n.flags|=2048,sg(9,nM.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=pl(),t=ki.identifierPrefix;if(on){var r=vu,n=gu;r=(n&~(1<<32-Rs(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ag++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=qY++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},eJ={readContext:ls,useCallback:fM,useContext:ls,useEffect:_3,useImperativeHandle:AM,useInsertionEffect:lM,useLayoutEffect:uM,useMemo:dM,useReducer:UB,useRef:sM,useState:function(){return UB(og)},useDebugValue:k3,useDeferredValue:function(e){var t=us();return hM(t,li.memoizedState,e)},useTransition:function(){var e=UB(og)[0],t=us().memoizedState;return[e,t]},useMutableSource:eM,useSyncExternalStore:tM,useId:pM,unstable_isNewReconciler:!1},tJ={readContext:ls,useCallback:fM,useContext:ls,useEffect:_3,useImperativeHandle:AM,useInsertionEffect:lM,useLayoutEffect:uM,useMemo:dM,useReducer:RB,useRef:sM,useState:function(){return RB(og)},useDebugValue:k3,useDeferredValue:function(e){var t=us();return li===null?t.memoizedState=e:hM(t,li.memoizedState,e)},useTransition:function(){var e=RB(og)[0],t=us().memoizedState;return[e,t]},useMutableSource:eM,useSyncExternalStore:tM,useId:pM,unstable_isNewReconciler:!1};function Ns(e,t){if(e&&e.defaultProps){t=mn({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function vE(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:mn({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var jx={isMounted:function(e){return(e=e._reactInternals)?Tf(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Oa(),i=Vc(e),a=Bu(n,i);a.payload=t,r!=null&&(a.callback=r),t=Kc(e,a,i),t!==null&&(Ds(t,e,i,n),e1(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Oa(),i=Vc(e),a=Bu(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Kc(e,a,i),t!==null&&(Ds(t,e,i,n),e1(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Oa(),n=Vc(e),i=Bu(r,n);i.tag=2,t!=null&&(i.callback=t),t=Kc(e,i,n),t!==null&&(Ds(t,e,n,r),e1(t,e,n))}};function Hk(e,t,r,n,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!Zm(r,n)||!Zm(i,a):!0}function yM(e,t,r){var n=!1,i=nA,a=t.contextType;return typeof a=="object"&&a!==null?a=ls(a):(i=Ya(t)?pf:ya.current,n=t.contextTypes,a=(n=n!=null)?hh(e,i):nA),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=jx,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function $k(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&jx.enqueueReplaceState(t,t.state,null)}function yE(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},B3(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=ls(a):(a=Ya(t)?pf:ya.current,i.context=hh(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(vE(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&jx.enqueueReplaceState(i,i.state,null),W1(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function vh(e,t){try{var r="",n=t;do r+=IX(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function DB(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function wE(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var rJ=typeof WeakMap=="function"?WeakMap:Map;function wM(e,t,r){r=Bu(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){q1||(q1=!0,_E=n),wE(e,t)},r}function xM(e,t,r){r=Bu(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){wE(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){wE(e,t),typeof n!="function"&&(zc===null?zc=new Set([this]):zc.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Wk(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new rJ;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=mJ.bind(null,e,t,r),t.then(e,e))}function Kk(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function zk(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Bu(-1,1),t.tag=2,Kc(r,t,1))),r.lanes|=1),e)}var nJ=Hu.ReactCurrentOwner,za=!1;function Ia(e,t,r,n){t.child=e===null?X6(t,null,r,n):mh(t,e.child,r,n)}function Vk(e,t,r,n,i){r=r.render;var a=t.ref;return Xd(t,i),n=F3(e,t,r,n,a,i),r=I3(),e!==null&&!za?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ku(e,t,i)):(on&&r&&m3(t),t.flags|=1,Ia(e,t,n,i),t.child)}function Gk(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!j3(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,bM(e,t,a,n,i)):(e=o1(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:Zm,r(o,n)&&e.ref===t.ref)return ku(e,t,i)}return t.flags|=1,e=Gc(a,n),e.ref=t.ref,e.return=t,t.child=e}function bM(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(Zm(a,n)&&e.ref===t.ref)if(za=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(za=!0);else return t.lanes=e.lanes,ku(e,t,i)}return xE(e,t,r,n,i)}function BM(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wr(Md,xo),xo|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Wr(Md,xo),xo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Wr(Md,xo),xo|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Wr(Md,xo),xo|=n;return Ia(e,t,i,r),t.child}function CM(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function xE(e,t,r,n,i){var a=Ya(r)?pf:ya.current;return a=hh(t,a),Xd(t,i),r=F3(e,t,r,n,a,i),n=I3(),e!==null&&!za?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ku(e,t,i)):(on&&n&&m3(t),t.flags|=1,Ia(e,t,r,i),t.child)}function qk(e,t,r,n,i){if(Ya(r)){var a=!0;j1(t)}else a=!1;if(Xd(t,i),t.stateNode===null)n1(e,t),yM(t,r,n),yE(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=ls(u):(u=Ya(r)?pf:ya.current,u=hh(t,u));var c=r.getDerivedStateFromProps,A=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";A||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||l!==u)&&$k(t,o,n,u),Ec=!1;var d=t.memoizedState;o.state=d,W1(t,n,o,i),l=t.memoizedState,s!==n||d!==l||Xa.current||Ec?(typeof c=="function"&&(vE(t,r,c,n),l=t.memoizedState),(s=Ec||Hk(t,r,s,n,d,l,u))?(A||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=u,n=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,J6(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Ns(t.type,s),o.props=u,A=t.pendingProps,d=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=ls(l):(l=Ya(r)?pf:ya.current,l=hh(t,l));var f=r.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==A||d!==l)&&$k(t,o,n,l),Ec=!1,d=t.memoizedState,o.state=d,W1(t,n,o,i);var p=t.memoizedState;s!==A||d!==p||Xa.current||Ec?(typeof f=="function"&&(vE(t,r,f,n),p=t.memoizedState),(u=Ec||Hk(t,r,u,n,d,p,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,p,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),o.props=n,o.state=p,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),n=!1)}return bE(e,t,r,n,a,i)}function bE(e,t,r,n,i,a){CM(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&Tk(t,r,!1),ku(e,t,a);n=t.stateNode,nJ.current=t;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=mh(t,e.child,null,a),t.child=mh(t,null,s,a)):Ia(e,t,s,a),t.memoizedState=n.state,i&&Tk(t,r,!0),t.child}function EM(e){var t=e.stateNode;t.pendingContext?Ok(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ok(e,t.context,!1),C3(e,t.containerInfo)}function Xk(e,t,r,n,i){return ph(),v3(i),t.flags|=256,Ia(e,t,r,n),t.child}var BE={dehydrated:null,treeContext:null,retryLane:0};function CE(e){return{baseLanes:e,cachePool:null,transitions:null}}function SM(e,t,r){var n=t.pendingProps,i=fn.current,a=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Wr(fn,i&1),e===null)return mE(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Hx(o,n,0,null),e=of(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=CE(r),t.memoizedState=BE,e):P3(t,o));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return iJ(e,t,o,n,s,i,r);if(a){a=n.fallback,o=t.mode,i=e.child,s=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Gc(i,l),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=Gc(s,a):(a=of(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?CE(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=BE,n}return a=e.child,e=a.sibling,n=Gc(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function P3(e,t){return t=Hx({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function P0(e,t,r,n){return n!==null&&v3(n),mh(t,e.child,null,r),e=P3(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function iJ(e,t,r,n,i,a,o){if(r)return t.flags&256?(t.flags&=-257,n=DB(Error(ze(422))),P0(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=Hx({mode:"visible",children:n.children},i,0,null),a=of(a,i,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&mh(t,e.child,null,o),t.child.memoizedState=CE(o),t.memoizedState=BE,a);if(!(t.mode&1))return P0(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,a=Error(ze(419)),n=DB(a,n,void 0),P0(e,t,o,n)}if(s=(o&e.childLanes)!==0,za||s){if(n=ki,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,_u(e,i),Ds(n,e,i,-1))}return D3(),n=DB(Error(ze(421))),P0(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=gJ.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Eo=Wc(i.nextSibling),ko=t,on=!0,Is=null,e!==null&&(Yo[Jo++]=gu,Yo[Jo++]=vu,Yo[Jo++]=mf,gu=e.id,vu=e.overflow,mf=t),t=P3(t,n.children),t.flags|=4096,t)}function Yk(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),gE(e.return,t,r)}function jB(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function NM(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(Ia(e,t,n.children,r),n=fn.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yk(e,r,t);else if(e.tag===19)Yk(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Wr(fn,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&K1(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),jB(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&K1(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}jB(t,!0,r,null,a);break;case"together":jB(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function n1(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ku(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),vf|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ze(153));if(t.child!==null){for(e=t.child,r=Gc(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Gc(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function aJ(e,t,r){switch(t.tag){case 3:EM(t),ph();break;case 5:Z6(t);break;case 1:Ya(t.type)&&j1(t);break;case 4:C3(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Wr(H1,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Wr(fn,fn.current&1),t.flags|=128,null):r&t.child.childLanes?SM(e,t,r):(Wr(fn,fn.current&1),e=ku(e,t,r),e!==null?e.sibling:null);Wr(fn,fn.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return NM(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Wr(fn,fn.current),n)break;return null;case 22:case 23:return t.lanes=0,BM(e,t,r)}return ku(e,t,r)}var FM,EE,IM,_M;FM=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};EE=function(){};IM=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,qA(Nl.current);var a=null;switch(r){case"input":i=V5(e,i),n=V5(e,n),a=[];break;case"select":i=mn({},i,{value:void 0}),n=mn({},n,{value:void 0}),a=[];break;case"textarea":i=X5(e,i),n=X5(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=R1)}J5(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(zm.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(s=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(zm.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Xr("scroll",e),a||s===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};_M=function(e,t,r,n){r!==n&&(t.flags|=4)};function Hp(e,t){if(!on)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function na(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function oJ(e,t,r){var n=t.pendingProps;switch(g3(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return na(t),null;case 1:return Ya(t.type)&&D1(),na(t),null;case 3:return n=t.stateNode,gh(),en(Xa),en(ya),S3(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(_0(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Is!==null&&(OE(Is),Is=null))),EE(e,t),na(t),null;case 5:E3(t);var i=qA(ig.current);if(r=t.type,e!==null&&t.stateNode!=null)IM(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ze(166));return na(t),null}if(e=qA(Nl.current),_0(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[vl]=t,n[rg]=a,e=(t.mode&1)!==0,r){case"dialog":Xr("cancel",n),Xr("close",n);break;case"iframe":case"object":case"embed":Xr("load",n);break;case"video":case"audio":for(i=0;i<hm.length;i++)Xr(hm[i],n);break;case"source":Xr("error",n);break;case"img":case"image":case"link":Xr("error",n),Xr("load",n);break;case"details":Xr("toggle",n);break;case"input":ok(n,a),Xr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Xr("invalid",n);break;case"textarea":lk(n,a),Xr("invalid",n)}J5(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?n.textContent!==s&&(a.suppressHydrationWarning!==!0&&I0(n.textContent,s,e),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&I0(n.textContent,s,e),i=["children",""+s]):zm.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&Xr("scroll",n)}switch(r){case"input":x0(n),sk(n,a,!0);break;case"textarea":x0(n),uk(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=R1)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=i6(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[vl]=t,e[rg]=n,FM(e,t,!1,!1),t.stateNode=e;e:{switch(o=Z5(r,n),r){case"dialog":Xr("cancel",e),Xr("close",e),i=n;break;case"iframe":case"object":case"embed":Xr("load",e),i=n;break;case"video":case"audio":for(i=0;i<hm.length;i++)Xr(hm[i],e);i=n;break;case"source":Xr("error",e),i=n;break;case"img":case"image":case"link":Xr("error",e),Xr("load",e),i=n;break;case"details":Xr("toggle",e),i=n;break;case"input":ok(e,n),i=V5(e,n),Xr("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=mn({},n,{value:void 0}),Xr("invalid",e);break;case"textarea":lk(e,n),i=X5(e,n),Xr("invalid",e);break;default:i=n}J5(r,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?s6(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&a6(e,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Vm(e,l):typeof l=="number"&&Vm(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(zm.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Xr("scroll",e):l!=null&&r3(e,a,l,o))}switch(r){case"input":x0(e),sk(e,n,!1);break;case"textarea":x0(e),uk(e);break;case"option":n.value!=null&&e.setAttribute("value",""+rA(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?zd(e,!!n.multiple,a,!1):n.defaultValue!=null&&zd(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=R1)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return na(t),null;case 6:if(e&&t.stateNode!=null)_M(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ze(166));if(r=qA(ig.current),qA(Nl.current),_0(t)){if(n=t.stateNode,r=t.memoizedProps,n[vl]=t,(a=n.nodeValue!==r)&&(e=ko,e!==null))switch(e.tag){case 3:I0(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&I0(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[vl]=t,t.stateNode=n}return na(t),null;case 13:if(en(fn),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(on&&Eo!==null&&t.mode&1&&!(t.flags&128))G6(),ph(),t.flags|=98560,a=!1;else if(a=_0(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(ze(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ze(317));a[vl]=t}else ph(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;na(t),a=!1}else Is!==null&&(OE(Is),Is=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||fn.current&1?Ai===0&&(Ai=3):D3())),t.updateQueue!==null&&(t.flags|=4),na(t),null);case 4:return gh(),EE(e,t),e===null&&eg(t.stateNode.containerInfo),na(t),null;case 10:return x3(t.type._context),na(t),null;case 17:return Ya(t.type)&&D1(),na(t),null;case 19:if(en(fn),a=t.memoizedState,a===null)return na(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)Hp(a,!1);else{if(Ai!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=K1(e),o!==null){for(t.flags|=128,Hp(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Wr(fn,fn.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ln()>yh&&(t.flags|=128,n=!0,Hp(a,!1),t.lanes=4194304)}else{if(!n)if(e=K1(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Hp(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!on)return na(t),null}else 2*Ln()-a.renderingStartTime>yh&&r!==1073741824&&(t.flags|=128,n=!0,Hp(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ln(),t.sibling=null,r=fn.current,Wr(fn,n?r&1|2:r&1),t):(na(t),null);case 22:case 23:return R3(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?xo&1073741824&&(na(t),t.subtreeFlags&6&&(t.flags|=8192)):na(t),null;case 24:return null;case 25:return null}throw Error(ze(156,t.tag))}function sJ(e,t){switch(g3(t),t.tag){case 1:return Ya(t.type)&&D1(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return gh(),en(Xa),en(ya),S3(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return E3(t),null;case 13:if(en(fn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ze(340));ph()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return en(fn),null;case 4:return gh(),null;case 10:return x3(t.type._context),null;case 22:case 23:return R3(),null;case 24:return null;default:return null}}var O0=!1,fa=!1,lJ=typeof WeakSet=="function"?WeakSet:Set,ot=null;function jd(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){En(e,t,n)}else r.current=null}function SE(e,t,r){try{r()}catch(n){En(e,t,n)}}var Jk=!1;function uJ(e,t){if(uE=T1,e=L6(),p3(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,s=-1,l=-1,u=0,c=0,A=e,d=null;t:for(;;){for(var f;A!==r||i!==0&&A.nodeType!==3||(s=o+i),A!==a||n!==0&&A.nodeType!==3||(l=o+n),A.nodeType===3&&(o+=A.nodeValue.length),(f=A.firstChild)!==null;)d=A,A=f;for(;;){if(A===e)break t;if(d===r&&++u===i&&(s=o),d===a&&++c===n&&(l=o),(f=A.nextSibling)!==null)break;A=d,d=A.parentNode}A=f}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(cE={focusedElem:e,selectionRange:r},T1=!1,ot=t;ot!==null;)if(t=ot,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ot=e;else for(;ot!==null;){t=ot;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,v=p.memoizedState,m=t.stateNode,y=m.getSnapshotBeforeUpdate(t.elementType===t.type?g:Ns(t.type,g),v);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ze(163))}}catch(b){En(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,ot=e;break}ot=t.return}return p=Jk,Jk=!1,p}function _m(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&SE(t,r,a)}i=i.next}while(i!==n)}}function Mx(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function NE(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function kM(e){var t=e.alternate;t!==null&&(e.alternate=null,kM(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[vl],delete t[rg],delete t[dE],delete t[KY],delete t[zY])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function PM(e){return e.tag===5||e.tag===3||e.tag===4}function Zk(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||PM(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function FE(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=R1));else if(n!==4&&(e=e.child,e!==null))for(FE(e,t,r),e=e.sibling;e!==null;)FE(e,t,r),e=e.sibling}function IE(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(IE(e,t,r),e=e.sibling;e!==null;)IE(e,t,r),e=e.sibling}var Wi=null,Fs=!1;function gc(e,t,r){for(r=r.child;r!==null;)OM(e,t,r),r=r.sibling}function OM(e,t,r){if(Sl&&typeof Sl.onCommitFiberUnmount=="function")try{Sl.onCommitFiberUnmount(Px,r)}catch{}switch(r.tag){case 5:fa||jd(r,t);case 6:var n=Wi,i=Fs;Wi=null,gc(e,t,r),Wi=n,Fs=i,Wi!==null&&(Fs?(e=Wi,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Wi.removeChild(r.stateNode));break;case 18:Wi!==null&&(Fs?(e=Wi,r=r.stateNode,e.nodeType===8?PB(e.parentNode,r):e.nodeType===1&&PB(e,r),Ym(e)):PB(Wi,r.stateNode));break;case 4:n=Wi,i=Fs,Wi=r.stateNode.containerInfo,Fs=!0,gc(e,t,r),Wi=n,Fs=i;break;case 0:case 11:case 14:case 15:if(!fa&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&SE(r,t,o),i=i.next}while(i!==n)}gc(e,t,r);break;case 1:if(!fa&&(jd(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){En(r,t,s)}gc(e,t,r);break;case 21:gc(e,t,r);break;case 22:r.mode&1?(fa=(n=fa)||r.memoizedState!==null,gc(e,t,r),fa=n):gc(e,t,r);break;default:gc(e,t,r)}}function eP(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new lJ),t.forEach(function(n){var i=vJ.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Cs(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:Wi=s.stateNode,Fs=!1;break e;case 3:Wi=s.stateNode.containerInfo,Fs=!0;break e;case 4:Wi=s.stateNode.containerInfo,Fs=!0;break e}s=s.return}if(Wi===null)throw Error(ze(160));OM(a,o,i),Wi=null,Fs=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){En(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)TM(t,e),t=t.sibling}function TM(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Cs(t,e),ll(e),n&4){try{_m(3,e,e.return),Mx(3,e)}catch(g){En(e,e.return,g)}try{_m(5,e,e.return)}catch(g){En(e,e.return,g)}}break;case 1:Cs(t,e),ll(e),n&512&&r!==null&&jd(r,r.return);break;case 5:if(Cs(t,e),ll(e),n&512&&r!==null&&jd(r,r.return),e.flags&32){var i=e.stateNode;try{Vm(i,"")}catch(g){En(e,e.return,g)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&r6(i,a),Z5(s,o);var u=Z5(s,a);for(o=0;o<l.length;o+=2){var c=l[o],A=l[o+1];c==="style"?s6(i,A):c==="dangerouslySetInnerHTML"?a6(i,A):c==="children"?Vm(i,A):r3(i,c,A,u)}switch(s){case"input":G5(i,a);break;case"textarea":n6(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var f=a.value;f!=null?zd(i,!!a.multiple,f,!1):d!==!!a.multiple&&(a.defaultValue!=null?zd(i,!!a.multiple,a.defaultValue,!0):zd(i,!!a.multiple,a.multiple?[]:"",!1))}i[rg]=a}catch(g){En(e,e.return,g)}}break;case 6:if(Cs(t,e),ll(e),n&4){if(e.stateNode===null)throw Error(ze(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){En(e,e.return,g)}}break;case 3:if(Cs(t,e),ll(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ym(t.containerInfo)}catch(g){En(e,e.return,g)}break;case 4:Cs(t,e),ll(e);break;case 13:Cs(t,e),ll(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(L3=Ln())),n&4&&eP(e);break;case 22:if(c=r!==null&&r.memoizedState!==null,e.mode&1?(fa=(u=fa)||c,Cs(t,e),fa=u):Cs(t,e),ll(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(ot=e,c=e.child;c!==null;){for(A=ot=c;ot!==null;){switch(d=ot,f=d.child,d.tag){case 0:case 11:case 14:case 15:_m(4,d,d.return);break;case 1:jd(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){n=d,r=d.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){En(n,r,g)}}break;case 5:jd(d,d.return);break;case 22:if(d.memoizedState!==null){rP(A);continue}}f!==null?(f.return=d,ot=f):rP(A)}c=c.sibling}e:for(c=null,A=e;;){if(A.tag===5){if(c===null){c=A;try{i=A.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=A.stateNode,l=A.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=o6("display",o))}catch(g){En(e,e.return,g)}}}else if(A.tag===6){if(c===null)try{A.stateNode.nodeValue=u?"":A.memoizedProps}catch(g){En(e,e.return,g)}}else if((A.tag!==22&&A.tag!==23||A.memoizedState===null||A===e)&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===e)break e;for(;A.sibling===null;){if(A.return===null||A.return===e)break e;c===A&&(c=null),A=A.return}c===A&&(c=null),A.sibling.return=A.return,A=A.sibling}}break;case 19:Cs(t,e),ll(e),n&4&&eP(e);break;case 21:break;default:Cs(t,e),ll(e)}}function ll(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(PM(r)){var n=r;break e}r=r.return}throw Error(ze(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Vm(i,""),n.flags&=-33);var a=Zk(e);IE(e,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,s=Zk(e);FE(e,s,o);break;default:throw Error(ze(161))}}catch(l){En(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function cJ(e,t,r){ot=e,LM(e)}function LM(e,t,r){for(var n=(e.mode&1)!==0;ot!==null;){var i=ot,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||O0;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||fa;s=O0;var u=fa;if(O0=o,(fa=l)&&!u)for(ot=i;ot!==null;)o=ot,l=o.child,o.tag===22&&o.memoizedState!==null?nP(i):l!==null?(l.return=o,ot=l):nP(i);for(;a!==null;)ot=a,LM(a),a=a.sibling;ot=i,O0=s,fa=u}tP(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,ot=a):tP(e)}}function tP(e){for(;ot!==null;){var t=ot;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:fa||Mx(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!fa)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Ns(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&jk(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}jk(t,o,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var A=c.dehydrated;A!==null&&Ym(A)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ze(163))}fa||t.flags&512&&NE(t)}catch(d){En(t,t.return,d)}}if(t===e){ot=null;break}if(r=t.sibling,r!==null){r.return=t.return,ot=r;break}ot=t.return}}function rP(e){for(;ot!==null;){var t=ot;if(t===e){ot=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ot=r;break}ot=t.return}}function nP(e){for(;ot!==null;){var t=ot;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Mx(4,t)}catch(l){En(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){En(t,i,l)}}var a=t.return;try{NE(t)}catch(l){En(t,a,l)}break;case 5:var o=t.return;try{NE(t)}catch(l){En(t,o,l)}}}catch(l){En(t,t.return,l)}if(t===e){ot=null;break}var s=t.sibling;if(s!==null){s.return=t.return,ot=s;break}ot=t.return}}var AJ=Math.ceil,G1=Hu.ReactCurrentDispatcher,O3=Hu.ReactCurrentOwner,ss=Hu.ReactCurrentBatchConfig,hr=0,ki=null,qn=null,Yi=0,xo=0,Md=cA(0),Ai=0,lg=null,vf=0,Qx=0,T3=0,km=null,$a=null,L3=0,yh=1/0,Au=null,q1=!1,_E=null,zc=null,T0=!1,Oc=null,X1=0,Pm=0,kE=null,i1=-1,a1=0;function Oa(){return hr&6?Ln():i1!==-1?i1:i1=Ln()}function Vc(e){return e.mode&1?hr&2&&Yi!==0?Yi&-Yi:GY.transition!==null?(a1===0&&(a1=y6()),a1):(e=Sr,e!==0||(e=window.event,e=e===void 0?16:S6(e.type)),e):1}function Ds(e,t,r,n){if(50<Pm)throw Pm=0,kE=null,Error(ze(185));$g(e,r,n),(!(hr&2)||e!==ki)&&(e===ki&&(!(hr&2)&&(Qx|=r),Ai===4&&_c(e,Yi)),Ja(e,n),r===1&&hr===0&&!(t.mode&1)&&(yh=Ln()+500,Rx&&AA()))}function Ja(e,t){var r=e.callbackNode;GX(e,t);var n=O1(e,e===ki?Yi:0);if(n===0)r!==null&&fk(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&fk(r),t===1)e.tag===0?VY(iP.bind(null,e)):K6(iP.bind(null,e)),$Y(function(){!(hr&6)&&AA()}),r=null;else{switch(w6(n)){case 1:r=s3;break;case 4:r=g6;break;case 16:r=P1;break;case 536870912:r=v6;break;default:r=P1}r=$M(r,UM.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function UM(e,t){if(i1=-1,a1=0,hr&6)throw Error(ze(327));var r=e.callbackNode;if(Yd()&&e.callbackNode!==r)return null;var n=O1(e,e===ki?Yi:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Y1(e,n);else{t=n;var i=hr;hr|=2;var a=DM();(ki!==e||Yi!==t)&&(Au=null,yh=Ln()+500,af(e,t));do try{hJ();break}catch(s){RM(e,s)}while(!0);w3(),G1.current=a,hr=i,qn!==null?t=0:(ki=null,Yi=0,t=Ai)}if(t!==0){if(t===2&&(i=iE(e),i!==0&&(n=i,t=PE(e,i))),t===1)throw r=lg,af(e,0),_c(e,n),Ja(e,Ln()),r;if(t===6)_c(e,n);else{if(i=e.current.alternate,!(n&30)&&!fJ(i)&&(t=Y1(e,n),t===2&&(a=iE(e),a!==0&&(n=a,t=PE(e,a))),t===1))throw r=lg,af(e,0),_c(e,n),Ja(e,Ln()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(ze(345));case 2:RA(e,$a,Au);break;case 3:if(_c(e,n),(n&130023424)===n&&(t=L3+500-Ln(),10<t)){if(O1(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Oa(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=fE(RA.bind(null,e,$a,Au),t);break}RA(e,$a,Au);break;case 4:if(_c(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-Rs(n);a=1<<o,o=t[o],o>i&&(i=o),n&=~a}if(n=i,n=Ln()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*AJ(n/1960))-n,10<n){e.timeoutHandle=fE(RA.bind(null,e,$a,Au),n);break}RA(e,$a,Au);break;case 5:RA(e,$a,Au);break;default:throw Error(ze(329))}}}return Ja(e,Ln()),e.callbackNode===r?UM.bind(null,e):null}function PE(e,t){var r=km;return e.current.memoizedState.isDehydrated&&(af(e,t).flags|=256),e=Y1(e,t),e!==2&&(t=$a,$a=r,t!==null&&OE(t)),e}function OE(e){$a===null?$a=e:$a.push.apply($a,e)}function fJ(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Qs(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _c(e,t){for(t&=~T3,t&=~Qx,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Rs(t),n=1<<r;e[r]=-1,t&=~n}}function iP(e){if(hr&6)throw Error(ze(327));Yd();var t=O1(e,0);if(!(t&1))return Ja(e,Ln()),null;var r=Y1(e,t);if(e.tag!==0&&r===2){var n=iE(e);n!==0&&(t=n,r=PE(e,n))}if(r===1)throw r=lg,af(e,0),_c(e,t),Ja(e,Ln()),r;if(r===6)throw Error(ze(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,RA(e,$a,Au),Ja(e,Ln()),null}function U3(e,t){var r=hr;hr|=1;try{return e(t)}finally{hr=r,hr===0&&(yh=Ln()+500,Rx&&AA())}}function yf(e){Oc!==null&&Oc.tag===0&&!(hr&6)&&Yd();var t=hr;hr|=1;var r=ss.transition,n=Sr;try{if(ss.transition=null,Sr=1,e)return e()}finally{Sr=n,ss.transition=r,hr=t,!(hr&6)&&AA()}}function R3(){xo=Md.current,en(Md)}function af(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,HY(r)),qn!==null)for(r=qn.return;r!==null;){var n=r;switch(g3(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&D1();break;case 3:gh(),en(Xa),en(ya),S3();break;case 5:E3(n);break;case 4:gh();break;case 13:en(fn);break;case 19:en(fn);break;case 10:x3(n.type._context);break;case 22:case 23:R3()}r=r.return}if(ki=e,qn=e=Gc(e.current,null),Yi=xo=t,Ai=0,lg=null,T3=Qx=vf=0,$a=km=null,GA!==null){for(t=0;t<GA.length;t++)if(r=GA[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}GA=null}return e}function RM(e,t){do{var r=qn;try{if(w3(),t1.current=V1,z1){for(var n=pn.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}z1=!1}if(gf=0,Ii=li=pn=null,Im=!1,ag=0,O3.current=null,r===null||r.return===null){Ai=1,lg=t,qn=null;break}e:{var a=e,o=r.return,s=r,l=t;if(t=Yi,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,A=c.tag;if(!(c.mode&1)&&(A===0||A===11||A===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=Kk(o);if(f!==null){f.flags&=-257,zk(f,o,s,a,t),f.mode&1&&Wk(a,u,t),t=f,l=u;var p=t.updateQueue;if(p===null){var g=new Set;g.add(l),t.updateQueue=g}else p.add(l);break e}else{if(!(t&1)){Wk(a,u,t),D3();break e}l=Error(ze(426))}}else if(on&&s.mode&1){var v=Kk(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),zk(v,o,s,a,t),v3(vh(l,s));break e}}a=l=vh(l,s),Ai!==4&&(Ai=2),km===null?km=[a]:km.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var m=wM(a,l,t);Dk(a,m);break e;case 1:s=l;var y=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(zc===null||!zc.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var b=xM(a,s,t);Dk(a,b);break e}}a=a.return}while(a!==null)}MM(r)}catch(B){t=B,qn===r&&r!==null&&(qn=r=r.return);continue}break}while(!0)}function DM(){var e=G1.current;return G1.current=V1,e===null?V1:e}function D3(){(Ai===0||Ai===3||Ai===2)&&(Ai=4),ki===null||!(vf&268435455)&&!(Qx&268435455)||_c(ki,Yi)}function Y1(e,t){var r=hr;hr|=2;var n=DM();(ki!==e||Yi!==t)&&(Au=null,af(e,t));do try{dJ();break}catch(i){RM(e,i)}while(!0);if(w3(),hr=r,G1.current=n,qn!==null)throw Error(ze(261));return ki=null,Yi=0,Ai}function dJ(){for(;qn!==null;)jM(qn)}function hJ(){for(;qn!==null&&!jX();)jM(qn)}function jM(e){var t=HM(e.alternate,e,xo);e.memoizedProps=e.pendingProps,t===null?MM(e):qn=t,O3.current=null}function MM(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=sJ(r,t),r!==null){r.flags&=32767,qn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ai=6,qn=null;return}}else if(r=oJ(r,t,xo),r!==null){qn=r;return}if(t=t.sibling,t!==null){qn=t;return}qn=t=e}while(t!==null);Ai===0&&(Ai=5)}function RA(e,t,r){var n=Sr,i=ss.transition;try{ss.transition=null,Sr=1,pJ(e,t,r,n)}finally{ss.transition=i,Sr=n}return null}function pJ(e,t,r,n){do Yd();while(Oc!==null);if(hr&6)throw Error(ze(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ze(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(qX(e,a),e===ki&&(qn=ki=null,Yi=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||T0||(T0=!0,$M(P1,function(){return Yd(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=ss.transition,ss.transition=null;var o=Sr;Sr=1;var s=hr;hr|=4,O3.current=null,uJ(e,r),TM(r,e),LY(cE),T1=!!uE,cE=uE=null,e.current=r,cJ(r),MX(),hr=s,Sr=o,ss.transition=a}else e.current=r;if(T0&&(T0=!1,Oc=e,X1=i),a=e.pendingLanes,a===0&&(zc=null),$X(r.stateNode),Ja(e,Ln()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(q1)throw q1=!1,e=_E,_E=null,e;return X1&1&&e.tag!==0&&Yd(),a=e.pendingLanes,a&1?e===kE?Pm++:(Pm=0,kE=e):Pm=0,AA(),null}function Yd(){if(Oc!==null){var e=w6(X1),t=ss.transition,r=Sr;try{if(ss.transition=null,Sr=16>e?16:e,Oc===null)var n=!1;else{if(e=Oc,Oc=null,X1=0,hr&6)throw Error(ze(331));var i=hr;for(hr|=4,ot=e.current;ot!==null;){var a=ot,o=a.child;if(ot.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(ot=u;ot!==null;){var c=ot;switch(c.tag){case 0:case 11:case 15:_m(8,c,a)}var A=c.child;if(A!==null)A.return=c,ot=A;else for(;ot!==null;){c=ot;var d=c.sibling,f=c.return;if(kM(c),c===u){ot=null;break}if(d!==null){d.return=f,ot=d;break}ot=f}}}var p=a.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}ot=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,ot=o;else e:for(;ot!==null;){if(a=ot,a.flags&2048)switch(a.tag){case 0:case 11:case 15:_m(9,a,a.return)}var m=a.sibling;if(m!==null){m.return=a.return,ot=m;break e}ot=a.return}}var y=e.current;for(ot=y;ot!==null;){o=ot;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,ot=w;else e:for(o=y;ot!==null;){if(s=ot,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Mx(9,s)}}catch(B){En(s,s.return,B)}if(s===o){ot=null;break e}var b=s.sibling;if(b!==null){b.return=s.return,ot=b;break e}ot=s.return}}if(hr=i,AA(),Sl&&typeof Sl.onPostCommitFiberRoot=="function")try{Sl.onPostCommitFiberRoot(Px,e)}catch{}n=!0}return n}finally{Sr=r,ss.transition=t}}return!1}function aP(e,t,r){t=vh(r,t),t=wM(e,t,1),e=Kc(e,t,1),t=Oa(),e!==null&&($g(e,1,t),Ja(e,t))}function En(e,t,r){if(e.tag===3)aP(e,e,r);else for(;t!==null;){if(t.tag===3){aP(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(zc===null||!zc.has(n))){e=vh(r,e),e=xM(t,e,1),t=Kc(t,e,1),e=Oa(),t!==null&&($g(t,1,e),Ja(t,e));break}}t=t.return}}function mJ(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Oa(),e.pingedLanes|=e.suspendedLanes&r,ki===e&&(Yi&r)===r&&(Ai===4||Ai===3&&(Yi&130023424)===Yi&&500>Ln()-L3?af(e,0):T3|=r),Ja(e,t)}function QM(e,t){t===0&&(e.mode&1?(t=C0,C0<<=1,!(C0&130023424)&&(C0=4194304)):t=1);var r=Oa();e=_u(e,t),e!==null&&($g(e,t,r),Ja(e,r))}function gJ(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),QM(e,r)}function vJ(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ze(314))}n!==null&&n.delete(t),QM(e,r)}var HM;HM=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Xa.current)za=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return za=!1,aJ(e,t,r);za=!!(e.flags&131072)}else za=!1,on&&t.flags&1048576&&z6(t,Q1,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;n1(e,t),e=t.pendingProps;var i=hh(t,ya.current);Xd(t,r),i=F3(null,t,n,e,i,r);var a=I3();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ya(n)?(a=!0,j1(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,B3(t),i.updater=jx,t.stateNode=i,i._reactInternals=t,yE(t,n,e,r),t=bE(null,t,n,!0,a,r)):(t.tag=0,on&&a&&m3(t),Ia(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(n1(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=wJ(n),e=Ns(n,e),i){case 0:t=xE(null,t,n,e,r);break e;case 1:t=qk(null,t,n,e,r);break e;case 11:t=Vk(null,t,n,e,r);break e;case 14:t=Gk(null,t,n,Ns(n.type,e),r);break e}throw Error(ze(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ns(n,i),xE(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ns(n,i),qk(e,t,n,i,r);case 3:e:{if(EM(t),e===null)throw Error(ze(387));n=t.pendingProps,a=t.memoizedState,i=a.element,J6(e,t),W1(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=vh(Error(ze(423)),t),t=Xk(e,t,n,r,i);break e}else if(n!==i){i=vh(Error(ze(424)),t),t=Xk(e,t,n,r,i);break e}else for(Eo=Wc(t.stateNode.containerInfo.firstChild),ko=t,on=!0,Is=null,r=X6(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ph(),n===i){t=ku(e,t,r);break e}Ia(e,t,n,r)}t=t.child}return t;case 5:return Z6(t),e===null&&mE(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,AE(n,i)?o=null:a!==null&&AE(n,a)&&(t.flags|=32),CM(e,t),Ia(e,t,o,r),t.child;case 6:return e===null&&mE(t),null;case 13:return SM(e,t,r);case 4:return C3(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=mh(t,null,n,r):Ia(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ns(n,i),Vk(e,t,n,i,r);case 7:return Ia(e,t,t.pendingProps,r),t.child;case 8:return Ia(e,t,t.pendingProps.children,r),t.child;case 12:return Ia(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Wr(H1,n._currentValue),n._currentValue=o,a!==null)if(Qs(a.value,o)){if(a.children===i.children&&!Xa.current){t=ku(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=Bu(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),gE(a.return,r,t),s.lanes|=r;break}l=l.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(ze(341));o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),gE(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Ia(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Xd(t,r),i=ls(i),n=n(i),t.flags|=1,Ia(e,t,n,r),t.child;case 14:return n=t.type,i=Ns(n,t.pendingProps),i=Ns(n.type,i),Gk(e,t,n,i,r);case 15:return bM(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Ns(n,i),n1(e,t),t.tag=1,Ya(n)?(e=!0,j1(t)):e=!1,Xd(t,r),yM(t,n,i),yE(t,n,i,r),bE(null,t,n,!0,e,r);case 19:return NM(e,t,r);case 22:return BM(e,t,r)}throw Error(ze(156,t.tag))};function $M(e,t){return m6(e,t)}function yJ(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rs(e,t,r,n){return new yJ(e,t,r,n)}function j3(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wJ(e){if(typeof e=="function")return j3(e)?1:0;if(e!=null){if(e=e.$$typeof,e===i3)return 11;if(e===a3)return 14}return 2}function Gc(e,t){var r=e.alternate;return r===null?(r=rs(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function o1(e,t,r,n,i,a){var o=2;if(n=e,typeof e=="function")j3(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case _d:return of(r.children,i,a,t);case n3:o=8,i|=8;break;case $5:return e=rs(12,r,t,i|2),e.elementType=$5,e.lanes=a,e;case W5:return e=rs(13,r,t,i),e.elementType=W5,e.lanes=a,e;case K5:return e=rs(19,r,t,i),e.elementType=K5,e.lanes=a,e;case Zj:return Hx(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Yj:o=10;break e;case Jj:o=9;break e;case i3:o=11;break e;case a3:o=14;break e;case Cc:o=16,n=null;break e}throw Error(ze(130,e==null?e:typeof e,""))}return t=rs(o,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function of(e,t,r,n){return e=rs(7,e,n,t),e.lanes=r,e}function Hx(e,t,r,n){return e=rs(22,e,n,t),e.elementType=Zj,e.lanes=r,e.stateNode={isHidden:!1},e}function MB(e,t,r){return e=rs(6,e,null,t),e.lanes=r,e}function QB(e,t,r){return t=rs(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function xJ(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xB(0),this.expirationTimes=xB(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xB(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function M3(e,t,r,n,i,a,o,s,l){return e=new xJ(e,t,r,s,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=rs(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},B3(a),e}function bJ(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Id,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function WM(e){if(!e)return nA;e=e._reactInternals;e:{if(Tf(e)!==e||e.tag!==1)throw Error(ze(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ya(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ze(171))}if(e.tag===1){var r=e.type;if(Ya(r))return W6(e,r,t)}return t}function KM(e,t,r,n,i,a,o,s,l){return e=M3(r,n,!0,e,i,a,o,s,l),e.context=WM(null),r=e.current,n=Oa(),i=Vc(r),a=Bu(n,i),a.callback=t??null,Kc(r,a,i),e.current.lanes=i,$g(e,i,n),Ja(e,n),e}function $x(e,t,r,n){var i=t.current,a=Oa(),o=Vc(i);return r=WM(r),t.context===null?t.context=r:t.pendingContext=r,t=Bu(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Kc(i,t,o),e!==null&&(Ds(e,i,o,a),e1(e,i,o)),o}function J1(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function oP(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Q3(e,t){oP(e,t),(e=e.alternate)&&oP(e,t)}function BJ(){return null}var zM=typeof reportError=="function"?reportError:function(e){console.error(e)};function H3(e){this._internalRoot=e}Wx.prototype.render=H3.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ze(409));$x(e,t,null,null)};Wx.prototype.unmount=H3.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yf(function(){$x(null,e,null,null)}),t[Iu]=null}};function Wx(e){this._internalRoot=e}Wx.prototype.unstable_scheduleHydration=function(e){if(e){var t=B6();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ic.length&&t!==0&&t<Ic[r].priority;r++);Ic.splice(r,0,e),r===0&&E6(e)}};function $3(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Kx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function sP(){}function CJ(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=J1(o);a.call(u)}}var o=KM(t,n,e,0,null,!1,!1,"",sP);return e._reactRootContainer=o,e[Iu]=o.current,eg(e.nodeType===8?e.parentNode:e),yf(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var u=J1(l);s.call(u)}}var l=M3(e,0,!1,null,null,!1,!1,"",sP);return e._reactRootContainer=l,e[Iu]=l.current,eg(e.nodeType===8?e.parentNode:e),yf(function(){$x(t,l,r,n)}),l}function zx(e,t,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=J1(o);s.call(l)}}$x(t,o,e,i)}else o=CJ(r,t,e,i,n);return J1(o)}x6=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=dm(t.pendingLanes);r!==0&&(l3(t,r|1),Ja(t,Ln()),!(hr&6)&&(yh=Ln()+500,AA()))}break;case 13:yf(function(){var n=_u(e,1);if(n!==null){var i=Oa();Ds(n,e,1,i)}}),Q3(e,1)}};u3=function(e){if(e.tag===13){var t=_u(e,134217728);if(t!==null){var r=Oa();Ds(t,e,134217728,r)}Q3(e,134217728)}};b6=function(e){if(e.tag===13){var t=Vc(e),r=_u(e,t);if(r!==null){var n=Oa();Ds(r,e,t,n)}Q3(e,t)}};B6=function(){return Sr};C6=function(e,t){var r=Sr;try{return Sr=e,t()}finally{Sr=r}};tE=function(e,t,r){switch(t){case"input":if(G5(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Ux(n);if(!i)throw Error(ze(90));t6(n),G5(n,i)}}}break;case"textarea":n6(e,r);break;case"select":t=r.value,t!=null&&zd(e,!!r.multiple,t,!1)}};c6=U3;A6=yf;var EJ={usingClientEntryPoint:!1,Events:[Kg,Td,Ux,l6,u6,U3]},$p={findFiberByHostInstance:VA,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SJ={bundleType:$p.bundleType,version:$p.version,rendererPackageName:$p.rendererPackageName,rendererConfig:$p.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Hu.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=h6(e),e===null?null:e.stateNode},findFiberByHostInstance:$p.findFiberByHostInstance||BJ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var L0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!L0.isDisabled&&L0.supportsFiber)try{Px=L0.inject(SJ),Sl=L0}catch{}}Ro.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EJ;Ro.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$3(t))throw Error(ze(200));return bJ(e,t,null,r)};Ro.createRoot=function(e,t){if(!$3(e))throw Error(ze(299));var r=!1,n="",i=zM;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=M3(e,1,!1,null,null,r,!1,n,i),e[Iu]=t.current,eg(e.nodeType===8?e.parentNode:e),new H3(t)};Ro.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ze(188)):(e=Object.keys(e).join(","),Error(ze(268,e)));return e=h6(t),e=e===null?null:e.stateNode,e};Ro.flushSync=function(e){return yf(e)};Ro.hydrate=function(e,t,r){if(!Kx(t))throw Error(ze(200));return zx(null,e,t,!0,r)};Ro.hydrateRoot=function(e,t,r){if(!$3(e))throw Error(ze(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=zM;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=KM(t,null,e,1,r??null,i,!1,a,o),e[Iu]=t.current,eg(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Wx(t)};Ro.render=function(e,t,r){if(!Kx(t))throw Error(ze(200));return zx(null,e,t,!1,r)};Ro.unmountComponentAtNode=function(e){if(!Kx(e))throw Error(ze(40));return e._reactRootContainer?(yf(function(){zx(null,null,e,!1,function(){e._reactRootContainer=null,e[Iu]=null})}),!0):!1};Ro.unstable_batchedUpdates=U3;Ro.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Kx(r))throw Error(ze(200));if(e==null||e._reactInternals===void 0)throw Error(ze(38));return zx(e,t,r,!1,n)};Ro.version="18.3.1-next-f1338f8080-20240426";function VM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(VM)}catch(e){console.error(e)}}VM(),Vj.exports=Ro;var Vx=Vj.exports,lP=Vx;Q5.createRoot=lP.createRoot,Q5.hydrateRoot=lP.hydrateRoot;/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var uP="popstate";function NJ(e={}){function t(n,i){let{pathname:a,search:o,hash:s}=n.location;return TE("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:ug(i)}return IJ(t,r,null,e)}function ln(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function cs(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function FJ(){return Math.random().toString(36).substring(2,10)}function cP(e,t){return{usr:e.state,key:e.key,idx:t}}function TE(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Mh(t):t,state:r,key:t&&t.key||n||FJ()}}function ug({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Mh(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function IJ(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,s="POP",l=null,u=c();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function c(){return(o.state||{idx:null}).idx}function A(){s="POP";let v=c(),m=v==null?null:v-u;u=v,l&&l({action:s,location:g.location,delta:m})}function d(v,m){s="PUSH";let y=TE(g.location,v,m);u=c()+1;let w=cP(y,u),b=g.createHref(y);try{o.pushState(w,"",b)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;i.location.assign(b)}a&&l&&l({action:s,location:g.location,delta:1})}function f(v,m){s="REPLACE";let y=TE(g.location,v,m);u=c();let w=cP(y,u),b=g.createHref(y);o.replaceState(w,"",b),a&&l&&l({action:s,location:g.location,delta:0})}function p(v){return _J(v)}let g={get action(){return s},get location(){return e(i,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(uP,A),l=v,()=>{i.removeEventListener(uP,A),l=null}},createHref(v){return t(i,v)},createURL:p,encodeLocation(v){let m=p(v);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:d,replace:f,go(v){return o.go(v)}};return g}function _J(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),ln(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:ug(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function GM(e,t,r="/"){return kJ(e,t,r,!1)}function kJ(e,t,r,n){let i=typeof t=="string"?Mh(t):t,a=Pu(i.pathname||"/",r);if(a==null)return null;let o=qM(e);PJ(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let u=$J(a);s=QJ(o[l],u,n)}return s}function qM(e,t=[],r=[],n="",i=!1){let a=(o,s,l=i,u)=>{let c={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(n)&&l)return;ln(c.relativePath.startsWith(n),`Absolute route path "${c.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(n.length)}let A=Cu([n,c.relativePath]),d=r.concat(c);o.children&&o.children.length>0&&(ln(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${A}".`),qM(o.children,t,d,A,l)),!(o.path==null&&!o.index)&&t.push({path:A,score:jJ(A,o.index),routesMeta:d})};return e.forEach((o,s)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))a(o,s);else for(let u of XM(o.path))a(o,s,!0,u)}),t}function XM(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=XM(n.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function PJ(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:MJ(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var OJ=/^:[\w-]+$/,TJ=3,LJ=2,UJ=1,RJ=10,DJ=-2,AP=e=>e==="*";function jJ(e,t){let r=e.split("/"),n=r.length;return r.some(AP)&&(n+=DJ),t&&(n+=LJ),r.filter(i=>!AP(i)).reduce((i,a)=>i+(OJ.test(a)?TJ:a===""?UJ:RJ),n)}function MJ(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function QJ(e,t,r=!1){let{routesMeta:n}=e,i={},a="/",o=[];for(let s=0;s<n.length;++s){let l=n[s],u=s===n.length-1,c=a==="/"?t:t.slice(a.length)||"/",A=Z1({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),d=l.route;if(!A&&u&&r&&!n[n.length-1].route.index&&(A=Z1({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!A)return null;Object.assign(i,A.params),o.push({params:i,pathname:Cu([a,A.pathname]),pathnameBase:GJ(Cu([a,A.pathnameBase])),route:d}),A.pathnameBase!=="/"&&(a=Cu([a,A.pathnameBase]))}return o}function Z1(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=HJ(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:n.reduce((u,{paramName:c,isOptional:A},d)=>{if(c==="*"){let p=s[d]||"";o=a.slice(0,a.length-p.length).replace(/(.)\/+$/,"$1")}const f=s[d];return A&&!f?u[c]=void 0:u[c]=(f||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function HJ(e,t=!1,r=!0){cs(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(n.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function $J(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return cs(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Pu(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var WJ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,KJ=e=>WJ.test(e);function zJ(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Mh(e):e,a;if(r)if(KJ(r))a=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),cs(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${r}`)}r.startsWith("/")?a=fP(r.substring(1),"/"):a=fP(r,t)}else a=t;return{pathname:a,search:qJ(n),hash:XJ(i)}}function fP(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function HB(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function VJ(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function W3(e){let t=VJ(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function K3(e,t,r,n=!1){let i;typeof e=="string"?i=Mh(e):(i={...e},ln(!i.pathname||!i.pathname.includes("?"),HB("?","pathname","search",i)),ln(!i.pathname||!i.pathname.includes("#"),HB("#","pathname","hash",i)),ln(!i.search||!i.search.includes("#"),HB("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=r;else{let A=t.length-1;if(!n&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),A-=1;i.pathname=d.join("/")}s=A>=0?t[A]:"/"}let l=zJ(i,s),u=o&&o!=="/"&&o.endsWith("/"),c=(a||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var Cu=e=>e.join("/").replace(/\/\/+/g,"/"),GJ=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),qJ=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,XJ=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function YJ(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function JJ(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var YM=["POST","PUT","PATCH","DELETE"];new Set(YM);var ZJ=["GET",...YM];new Set(ZJ);var Qh=E.createContext(null);Qh.displayName="DataRouter";var Gx=E.createContext(null);Gx.displayName="DataRouterState";E.createContext(!1);var JM=E.createContext({isTransitioning:!1});JM.displayName="ViewTransition";var eZ=E.createContext(new Map);eZ.displayName="Fetchers";var tZ=E.createContext(null);tZ.displayName="Await";var hs=E.createContext(null);hs.displayName="Navigation";var Vg=E.createContext(null);Vg.displayName="Location";var Vs=E.createContext({outlet:null,matches:[],isDataRoute:!1});Vs.displayName="Route";var z3=E.createContext(null);z3.displayName="RouteError";function rZ(e,{relative:t}={}){ln(Hh(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=E.useContext(hs),{hash:i,pathname:a,search:o}=Gg(e,{relative:t}),s=a;return r!=="/"&&(s=a==="/"?r:Cu([r,a])),n.createHref({pathname:s,search:o,hash:i})}function Hh(){return E.useContext(Vg)!=null}function io(){return ln(Hh(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(Vg).location}var ZM="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function eQ(e){E.useContext(hs).static||E.useLayoutEffect(e)}function jo(){let{isDataRoute:e}=E.useContext(Vs);return e?pZ():nZ()}function nZ(){ln(Hh(),"useNavigate() may be used only in the context of a <Router> component.");let e=E.useContext(Qh),{basename:t,navigator:r}=E.useContext(hs),{matches:n}=E.useContext(Vs),{pathname:i}=io(),a=JSON.stringify(W3(n)),o=E.useRef(!1);return eQ(()=>{o.current=!0}),E.useCallback((l,u={})=>{if(cs(o.current,ZM),!o.current)return;if(typeof l=="number"){r.go(l);return}let c=K3(l,JSON.parse(a),i,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:Cu([t,c.pathname])),(u.replace?r.replace:r.push)(c,u.state,u)},[t,r,a,i,e])}E.createContext(null);function $h(){let{matches:e}=E.useContext(Vs),t=e[e.length-1];return t?t.params:{}}function Gg(e,{relative:t}={}){let{matches:r}=E.useContext(Vs),{pathname:n}=io(),i=JSON.stringify(W3(r));return E.useMemo(()=>K3(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function iZ(e,t){return tQ(e,t)}function tQ(e,t,r,n,i){var y;ln(Hh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=E.useContext(hs),{matches:o}=E.useContext(Vs),s=o[o.length-1],l=s?s.params:{},u=s?s.pathname:"/",c=s?s.pathnameBase:"/",A=s&&s.route;{let w=A&&A.path||"";rQ(u,!A||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let d=io(),f;if(t){let w=typeof t=="string"?Mh(t):t;ln(c==="/"||((y=w.pathname)==null?void 0:y.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${w.pathname}" was given in the \`location\` prop.`),f=w}else f=d;let p=f.pathname||"/",g=p;if(c!=="/"){let w=c.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(w.length).join("/")}let v=GM(e,{pathname:g});cs(A||v!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),cs(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let m=uZ(v&&v.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:Cu([c,a.encodeLocation?a.encodeLocation(w.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Cu([c,a.encodeLocation?a.encodeLocation(w.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathnameBase])})),o,r,n,i);return t&&m?E.createElement(Vg.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},m):m}function aZ(){let e=hZ(),t=YJ(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:a},"ErrorBoundary")," or"," ",E.createElement("code",{style:a},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),r?E.createElement("pre",{style:i},r):null,o)}var oZ=E.createElement(aZ,null),sZ=class extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?E.createElement(Vs.Provider,{value:this.props.routeContext},E.createElement(z3.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function lZ({routeContext:e,match:t,children:r}){let n=E.useContext(Qh);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),E.createElement(Vs.Provider,{value:e},r)}function uZ(e,t=[],r=null,n=null,i=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,o=r==null?void 0:r.errors;if(o!=null){let c=a.findIndex(A=>A.route.id&&(o==null?void 0:o[A.route.id])!==void 0);ln(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,c+1))}let s=!1,l=-1;if(r)for(let c=0;c<a.length;c++){let A=a[c];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(l=c),A.route.id){let{loaderData:d,errors:f}=r,p=A.route.loader&&!d.hasOwnProperty(A.route.id)&&(!f||f[A.route.id]===void 0);if(A.route.lazy||p){s=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}let u=r&&n?(c,A)=>{var d,f;n(c,{location:r.location,params:((f=(d=r.matches)==null?void 0:d[0])==null?void 0:f.params)??{},unstable_pattern:JJ(r.matches),errorInfo:A})}:void 0;return a.reduceRight((c,A,d)=>{let f,p=!1,g=null,v=null;r&&(f=o&&A.route.id?o[A.route.id]:void 0,g=A.route.errorElement||oZ,s&&(l<0&&d===0?(rQ("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,v=null):l===d&&(p=!0,v=A.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,d+1)),y=()=>{let w;return f?w=g:p?w=v:A.route.Component?w=E.createElement(A.route.Component,null):A.route.element?w=A.route.element:w=c,E.createElement(lZ,{match:A,routeContext:{outlet:c,matches:m,isDataRoute:r!=null},children:w})};return r&&(A.route.ErrorBoundary||A.route.errorElement||d===0)?E.createElement(sZ,{location:r.location,revalidation:r.revalidation,component:g,error:f,children:y(),routeContext:{outlet:null,matches:m,isDataRoute:!0},onError:u}):y()},null)}function V3(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cZ(e){let t=E.useContext(Qh);return ln(t,V3(e)),t}function AZ(e){let t=E.useContext(Gx);return ln(t,V3(e)),t}function fZ(e){let t=E.useContext(Vs);return ln(t,V3(e)),t}function G3(e){let t=fZ(e),r=t.matches[t.matches.length-1];return ln(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function dZ(){return G3("useRouteId")}function hZ(){var n;let e=E.useContext(z3),t=AZ("useRouteError"),r=G3("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function pZ(){let{router:e}=cZ("useNavigate"),t=G3("useNavigate"),r=E.useRef(!1);return eQ(()=>{r.current=!0}),E.useCallback(async(i,a={})=>{cs(r.current,ZM),r.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var dP={};function rQ(e,t,r){!t&&!dP[e]&&(dP[e]=!0,cs(!1,r))}E.memo(mZ);function mZ({routes:e,future:t,state:r,unstable_onError:n}){return tQ(e,void 0,r,n,t)}function hP({to:e,replace:t,state:r,relative:n}){ln(Hh(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=E.useContext(hs);cs(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=E.useContext(Vs),{pathname:o}=io(),s=jo(),l=K3(e,W3(a),o,n==="path"),u=JSON.stringify(l);return E.useEffect(()=>{s(JSON.parse(u),{replace:t,state:r,relative:n})},[s,u,n,t,r]),null}function yo(e){ln(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function gZ({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:a=!1,unstable_useTransitions:o}){ln(!Hh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),l=E.useMemo(()=>({basename:s,navigator:i,static:a,unstable_useTransitions:o,future:{}}),[s,i,a,o]);typeof r=="string"&&(r=Mh(r));let{pathname:u="/",search:c="",hash:A="",state:d=null,key:f="default"}=r,p=E.useMemo(()=>{let g=Pu(u,s);return g==null?null:{location:{pathname:g,search:c,hash:A,state:d,key:f},navigationType:n}},[s,u,c,A,d,f,n]);return cs(p!=null,`<Router basename="${s}"> is not able to match the URL "${u}${c}${A}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:E.createElement(hs.Provider,{value:l},E.createElement(Vg.Provider,{children:t,value:p}))}function vZ({children:e,location:t}){return iZ(LE(e),t)}function LE(e,t=[]){let r=[];return E.Children.forEach(e,(n,i)=>{if(!E.isValidElement(n))return;let a=[...t,i];if(n.type===E.Fragment){r.push.apply(r,LE(n.props.children,a));return}ln(n.type===yo,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ln(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=LE(n.props.children,a)),r.push(o)}),r}var s1="get",l1="application/x-www-form-urlencoded";function qx(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function yZ(e){return qx(e)&&e.tagName.toLowerCase()==="button"}function wZ(e){return qx(e)&&e.tagName.toLowerCase()==="form"}function xZ(e){return qx(e)&&e.tagName.toLowerCase()==="input"}function bZ(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function BZ(e,t){return e.button===0&&(!t||t==="_self")&&!bZ(e)}var U0=null;function CZ(){if(U0===null)try{new FormData(document.createElement("form"),0),U0=!1}catch{U0=!0}return U0}var EZ=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $B(e){return e!=null&&!EZ.has(e)?(cs(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${l1}"`),null):e}function SZ(e,t){let r,n,i,a,o;if(wZ(e)){let s=e.getAttribute("action");n=s?Pu(s,t):null,r=e.getAttribute("method")||s1,i=$B(e.getAttribute("enctype"))||l1,a=new FormData(e)}else if(yZ(e)||xZ(e)&&(e.type==="submit"||e.type==="image")){let s=e.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||s.getAttribute("action");if(n=l?Pu(l,t):null,r=e.getAttribute("formmethod")||s.getAttribute("method")||s1,i=$B(e.getAttribute("formenctype"))||$B(s.getAttribute("enctype"))||l1,a=new FormData(s,e),!CZ()){let{name:u,type:c,value:A}=e;if(c==="image"){let d=u?`${u}.`:"";a.append(`${d}x`,"0"),a.append(`${d}y`,"0")}else u&&a.append(u,A)}}else{if(qx(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=s1,n=null,i=l1,o=e}return a&&i==="text/plain"&&(o=a,a=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function q3(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function NZ(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&Pu(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function FZ(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function IZ(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function _Z(e,t,r){let n=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let o=await FZ(a,r);return o.links?o.links():[]}return[]}));return TZ(n.flat(1).filter(IZ).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function pP(e,t,r,n,i,a){let o=(l,u)=>r[u]?l.route.id!==r[u].route.id:!0,s=(l,u)=>{var c;return r[u].pathname!==l.pathname||((c=r[u].route.path)==null?void 0:c.endsWith("*"))&&r[u].params["*"]!==l.params["*"]};return a==="assets"?t.filter((l,u)=>o(l,u)||s(l,u)):a==="data"?t.filter((l,u)=>{var A;let c=n.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(o(l,u)||s(l,u))return!0;if(l.route.shouldRevalidate){let d=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((A=r[0])==null?void 0:A.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function kZ(e,t,{includeHydrateFallback:r}={}){return PZ(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function PZ(e){return[...new Set(e)]}function OZ(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function TZ(e,t){let r=new Set;return new Set(t),e.reduce((n,i)=>{let a=JSON.stringify(OZ(i));return r.has(a)||(r.add(a),n.push({key:a,link:i})),n},[])}function nQ(){let e=E.useContext(Qh);return q3(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function LZ(){let e=E.useContext(Gx);return q3(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var X3=E.createContext(void 0);X3.displayName="FrameworkContext";function iQ(){let e=E.useContext(X3);return q3(e,"You must render this element inside a <HydratedRouter> element"),e}function UZ(e,t){let r=E.useContext(X3),[n,i]=E.useState(!1),[a,o]=E.useState(!1),{onFocus:s,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:A}=t,d=E.useRef(null);E.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let g=m=>{m.forEach(y=>{o(y.isIntersecting)})},v=new IntersectionObserver(g,{threshold:.5});return d.current&&v.observe(d.current),()=>{v.disconnect()}}},[e]),E.useEffect(()=>{if(n){let g=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(g)}}},[n]);let f=()=>{i(!0)},p=()=>{i(!1),o(!1)};return r?e!=="intent"?[a,d,{}]:[a,d,{onFocus:Wp(s,f),onBlur:Wp(l,p),onMouseEnter:Wp(u,f),onMouseLeave:Wp(c,p),onTouchStart:Wp(A,f)}]:[!1,d,{}]}function Wp(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function RZ({page:e,...t}){let{router:r}=nQ(),n=E.useMemo(()=>GM(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?E.createElement(jZ,{page:e,matches:n,...t}):null}function DZ(e){let{manifest:t,routeModules:r}=iQ(),[n,i]=E.useState([]);return E.useEffect(()=>{let a=!1;return _Z(e,t,r).then(o=>{a||i(o)}),()=>{a=!0}},[e,t,r]),n}function jZ({page:e,matches:t,...r}){let n=io(),{manifest:i,routeModules:a}=iQ(),{basename:o}=nQ(),{loaderData:s,matches:l}=LZ(),u=E.useMemo(()=>pP(e,t,l,i,n,"data"),[e,t,l,i,n]),c=E.useMemo(()=>pP(e,t,l,i,n,"assets"),[e,t,l,i,n]),A=E.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let p=new Set,g=!1;if(t.forEach(m=>{var w;let y=i.routes[m.route.id];!y||!y.hasLoader||(!u.some(b=>b.route.id===m.route.id)&&m.route.id in s&&((w=a[m.route.id])!=null&&w.shouldRevalidate)||y.hasClientLoader?g=!0:p.add(m.route.id))}),p.size===0)return[];let v=NZ(e,o,"data");return g&&p.size>0&&v.searchParams.set("_routes",t.filter(m=>p.has(m.route.id)).map(m=>m.route.id).join(",")),[v.pathname+v.search]},[o,s,n,i,u,t,e,a]),d=E.useMemo(()=>kZ(c,i),[c,i]),f=DZ(c);return E.createElement(E.Fragment,null,A.map(p=>E.createElement("link",{key:p,rel:"prefetch",as:"fetch",href:p,...r})),d.map(p=>E.createElement("link",{key:p,rel:"modulepreload",href:p,...r})),f.map(({key:p,link:g})=>E.createElement("link",{key:p,nonce:r.nonce,...g})))}function MZ(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var aQ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{aQ&&(window.__reactRouterVersion="7.10.1")}catch{}function QZ({basename:e,children:t,unstable_useTransitions:r,window:n}){let i=E.useRef();i.current==null&&(i.current=NJ({window:n,v5Compat:!0}));let a=i.current,[o,s]=E.useState({action:a.action,location:a.location}),l=E.useCallback(u=>{r===!1?s(u):E.startTransition(()=>s(u))},[r]);return E.useLayoutEffect(()=>a.listen(l),[a,l]),E.createElement(gZ,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,unstable_useTransitions:r===!0})}var oQ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sQ=E.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:a,replace:o,state:s,target:l,to:u,preventScrollReset:c,viewTransition:A,...d},f){let{basename:p,unstable_useTransitions:g}=E.useContext(hs),v=typeof u=="string"&&oQ.test(u),m,y=!1;if(typeof u=="string"&&v&&(m=u,aQ))try{let O=new URL(window.location.href),F=u.startsWith("//")?new URL(O.protocol+u):new URL(u),N=Pu(F.pathname,p);F.origin===O.origin&&N!=null?u=N+F.search+F.hash:y=!0}catch{cs(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=rZ(u,{relative:i}),[b,B,S]=UZ(n,d),P=KZ(u,{replace:o,state:s,target:l,preventScrollReset:c,relative:i,viewTransition:A,unstable_useTransitions:g});function k(O){t&&t(O),O.defaultPrevented||P(O)}let I=E.createElement("a",{...d,...S,href:m||w,onClick:y||a?t:k,ref:MZ(f,B),target:l,"data-discover":!v&&r==="render"?"true":void 0});return b&&!v?E.createElement(E.Fragment,null,I,E.createElement(RZ,{page:w})):I});sQ.displayName="Link";var HZ=E.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:a,to:o,viewTransition:s,children:l,...u},c){let A=Gg(o,{relative:u.relative}),d=io(),f=E.useContext(Gx),{navigator:p,basename:g}=E.useContext(hs),v=f!=null&&XZ(A)&&s===!0,m=p.encodeLocation?p.encodeLocation(A).pathname:A.pathname,y=d.pathname,w=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;r||(y=y.toLowerCase(),w=w?w.toLowerCase():null,m=m.toLowerCase()),w&&g&&(w=Pu(w,g)||w);const b=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let B=y===m||!i&&y.startsWith(m)&&y.charAt(b)==="/",S=w!=null&&(w===m||!i&&w.startsWith(m)&&w.charAt(m.length)==="/"),P={isActive:B,isPending:S,isTransitioning:v},k=B?t:void 0,I;typeof n=="function"?I=n(P):I=[n,B?"active":null,S?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let O=typeof a=="function"?a(P):a;return E.createElement(sQ,{...u,"aria-current":k,className:I,ref:c,style:O,to:o,viewTransition:s},typeof l=="function"?l(P):l)});HZ.displayName="NavLink";var $Z=E.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:a,method:o=s1,action:s,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:A,...d},f)=>{let{unstable_useTransitions:p}=E.useContext(hs),g=GZ(),v=qZ(s,{relative:u}),m=o.toLowerCase()==="get"?"get":"post",y=typeof s=="string"&&oQ.test(s),w=b=>{if(l&&l(b),b.defaultPrevented)return;b.preventDefault();let B=b.nativeEvent.submitter,S=(B==null?void 0:B.getAttribute("formmethod"))||o,P=()=>g(B||b.currentTarget,{fetcherKey:t,method:S,navigate:r,replace:i,state:a,relative:u,preventScrollReset:c,viewTransition:A});p&&r!==!1?E.startTransition(()=>P()):P()};return E.createElement("form",{ref:f,method:m,action:v,onSubmit:n?l:w,...d,"data-discover":!y&&e==="render"?"true":void 0})});$Z.displayName="Form";function WZ(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lQ(e){let t=E.useContext(Qh);return ln(t,WZ(e)),t}function KZ(e,{target:t,replace:r,state:n,preventScrollReset:i,relative:a,viewTransition:o,unstable_useTransitions:s}={}){let l=jo(),u=io(),c=Gg(e,{relative:a});return E.useCallback(A=>{if(BZ(A,t)){A.preventDefault();let d=r!==void 0?r:ug(u)===ug(c),f=()=>l(e,{replace:d,state:n,preventScrollReset:i,relative:a,viewTransition:o});s?E.startTransition(()=>f()):f()}},[u,l,c,r,n,t,e,i,a,o,s])}var zZ=0,VZ=()=>`__${String(++zZ)}__`;function GZ(){let{router:e}=lQ("useSubmit"),{basename:t}=E.useContext(hs),r=dZ(),n=e.fetch,i=e.navigate;return E.useCallback(async(a,o={})=>{let{action:s,method:l,encType:u,formData:c,body:A}=SZ(a,t);if(o.navigate===!1){let d=o.fetcherKey||VZ();await n(d,r,o.action||s,{preventScrollReset:o.preventScrollReset,formData:c,body:A,formMethod:o.method||l,formEncType:o.encType||u,flushSync:o.flushSync})}else await i(o.action||s,{preventScrollReset:o.preventScrollReset,formData:c,body:A,formMethod:o.method||l,formEncType:o.encType||u,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,i,t,r])}function qZ(e,{relative:t}={}){let{basename:r}=E.useContext(hs),n=E.useContext(Vs);ln(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...Gg(e||".",{relative:t})},o=io();if(e==null){a.search=o.search;let s=new URLSearchParams(a.search),l=s.getAll("index");if(l.some(c=>c==="")){s.delete("index"),l.filter(A=>A).forEach(A=>s.append("index",A));let c=s.toString();a.search=c?`?${c}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:Cu([r,a.pathname])),ug(a)}function XZ(e,{relative:t}={}){let r=E.useContext(JM);ln(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=lQ("useViewTransitionState"),i=Gg(e,{relative:t});if(!r.isTransitioning)return!1;let a=Pu(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Pu(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Z1(i.pathname,o)!=null||Z1(i.pathname,a)!=null}function uQ(e,t){return function(){return e.apply(t,arguments)}}const{toString:YZ}=Object.prototype,{getPrototypeOf:Y3}=Object,{iterator:Xx,toStringTag:cQ}=Symbol,Yx=(e=>t=>{const r=YZ.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Gs=e=>(e=e.toLowerCase(),t=>Yx(t)===e),Jx=e=>t=>typeof t===e,{isArray:Wh}=Array,wh=Jx("undefined");function qg(e){return e!==null&&!wh(e)&&e.constructor!==null&&!wh(e.constructor)&&Za(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const AQ=Gs("ArrayBuffer");function JZ(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&AQ(e.buffer),t}const ZZ=Jx("string"),Za=Jx("function"),fQ=Jx("number"),Xg=e=>e!==null&&typeof e=="object",eee=e=>e===!0||e===!1,u1=e=>{if(Yx(e)!=="object")return!1;const t=Y3(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(cQ in e)&&!(Xx in e)},tee=e=>{if(!Xg(e)||qg(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},ree=Gs("Date"),nee=Gs("File"),iee=Gs("Blob"),aee=Gs("FileList"),oee=e=>Xg(e)&&Za(e.pipe),see=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Za(e.append)&&((t=Yx(e))==="formdata"||t==="object"&&Za(e.toString)&&e.toString()==="[object FormData]"))},lee=Gs("URLSearchParams"),[uee,cee,Aee,fee]=["ReadableStream","Request","Response","Headers"].map(Gs),dee=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Yg(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),Wh(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{if(qg(e))return;const a=r?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let s;for(n=0;n<o;n++)s=a[n],t.call(null,e[s],s,e)}}function dQ(e,t){if(qg(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,i;for(;n-- >0;)if(i=r[n],t===i.toLowerCase())return i;return null}const XA=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,hQ=e=>!wh(e)&&e!==XA;function UE(){const{caseless:e,skipUndefined:t}=hQ(this)&&this||{},r={},n=(i,a)=>{const o=e&&dQ(r,a)||a;u1(r[o])&&u1(i)?r[o]=UE(r[o],i):u1(i)?r[o]=UE({},i):Wh(i)?r[o]=i.slice():(!t||!wh(i))&&(r[o]=i)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&Yg(arguments[i],n);return r}const hee=(e,t,r,{allOwnKeys:n}={})=>(Yg(t,(i,a)=>{r&&Za(i)?e[a]=uQ(i,r):e[a]=i},{allOwnKeys:n}),e),pee=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),mee=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},gee=(e,t,r,n)=>{let i,a,o;const s={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)o=i[a],(!n||n(o,e,t))&&!s[o]&&(t[o]=e[o],s[o]=!0);e=r!==!1&&Y3(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},vee=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},yee=e=>{if(!e)return null;if(Wh(e))return e;let t=e.length;if(!fQ(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},wee=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Y3(Uint8Array)),xee=(e,t)=>{const n=(e&&e[Xx]).call(e);let i;for(;(i=n.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},bee=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},Bee=Gs("HTMLFormElement"),Cee=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),mP=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Eee=Gs("RegExp"),pQ=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Yg(r,(i,a)=>{let o;(o=t(i,a,e))!==!1&&(n[a]=o||i)}),Object.defineProperties(e,n)},See=e=>{pQ(e,(t,r)=>{if(Za(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Za(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Nee=(e,t)=>{const r={},n=i=>{i.forEach(a=>{r[a]=!0})};return Wh(e)?n(e):n(String(e).split(t)),r},Fee=()=>{},Iee=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function _ee(e){return!!(e&&Za(e.append)&&e[cQ]==="FormData"&&e[Xx])}const kee=e=>{const t=new Array(10),r=(n,i)=>{if(Xg(n)){if(t.indexOf(n)>=0)return;if(qg(n))return n;if(!("toJSON"in n)){t[i]=n;const a=Wh(n)?[]:{};return Yg(n,(o,s)=>{const l=r(o,i+1);!wh(l)&&(a[s]=l)}),t[i]=void 0,a}}return n};return r(e,0)},Pee=Gs("AsyncFunction"),Oee=e=>e&&(Xg(e)||Za(e))&&Za(e.then)&&Za(e.catch),mQ=((e,t)=>e?setImmediate:t?((r,n)=>(XA.addEventListener("message",({source:i,data:a})=>{i===XA&&a===r&&n.length&&n.shift()()},!1),i=>{n.push(i),XA.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Za(XA.postMessage)),Tee=typeof queueMicrotask<"u"?queueMicrotask.bind(XA):typeof process<"u"&&process.nextTick||mQ,Lee=e=>e!=null&&Za(e[Xx]),Fe={isArray:Wh,isArrayBuffer:AQ,isBuffer:qg,isFormData:see,isArrayBufferView:JZ,isString:ZZ,isNumber:fQ,isBoolean:eee,isObject:Xg,isPlainObject:u1,isEmptyObject:tee,isReadableStream:uee,isRequest:cee,isResponse:Aee,isHeaders:fee,isUndefined:wh,isDate:ree,isFile:nee,isBlob:iee,isRegExp:Eee,isFunction:Za,isStream:oee,isURLSearchParams:lee,isTypedArray:wee,isFileList:aee,forEach:Yg,merge:UE,extend:hee,trim:dee,stripBOM:pee,inherits:mee,toFlatObject:gee,kindOf:Yx,kindOfTest:Gs,endsWith:vee,toArray:yee,forEachEntry:xee,matchAll:bee,isHTMLForm:Bee,hasOwnProperty:mP,hasOwnProp:mP,reduceDescriptors:pQ,freezeMethods:See,toObjectSet:Nee,toCamelCase:Cee,noop:Fee,toFiniteNumber:Iee,findKey:dQ,global:XA,isContextDefined:hQ,isSpecCompliantForm:_ee,toJSONObject:kee,isAsyncFn:Pee,isThenable:Oee,setImmediate:mQ,asap:Tee,isIterable:Lee};function qt(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}Fe.inherits(qt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Fe.toJSONObject(this.config),code:this.code,status:this.status}}});const gQ=qt.prototype,vQ={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{vQ[e]={value:e}});Object.defineProperties(qt,vQ);Object.defineProperty(gQ,"isAxiosError",{value:!0});qt.from=(e,t,r,n,i,a)=>{const o=Object.create(gQ);Fe.toFlatObject(e,o,function(c){return c!==Error.prototype},u=>u!=="isAxiosError");const s=e&&e.message?e.message:"Error",l=t==null&&e?e.code:t;return qt.call(o,s,l,r,n,i),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",a&&Object.assign(o,a),o};const Uee=null;function RE(e){return Fe.isPlainObject(e)||Fe.isArray(e)}function yQ(e){return Fe.endsWith(e,"[]")?e.slice(0,-2):e}function gP(e,t,r){return e?e.concat(t).map(function(i,a){return i=yQ(i),!r&&a?"["+i+"]":i}).join(r?".":""):t}function Ree(e){return Fe.isArray(e)&&!e.some(RE)}const Dee=Fe.toFlatObject(Fe,{},null,function(t){return/^is[A-Z]/.test(t)});function Zx(e,t,r){if(!Fe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=Fe.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,v){return!Fe.isUndefined(v[g])});const n=r.metaTokens,i=r.visitor||c,a=r.dots,o=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&Fe.isSpecCompliantForm(t);if(!Fe.isFunction(i))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(Fe.isDate(p))return p.toISOString();if(Fe.isBoolean(p))return p.toString();if(!l&&Fe.isBlob(p))throw new qt("Blob is not supported. Use a Buffer instead.");return Fe.isArrayBuffer(p)||Fe.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function c(p,g,v){let m=p;if(p&&!v&&typeof p=="object"){if(Fe.endsWith(g,"{}"))g=n?g:g.slice(0,-2),p=JSON.stringify(p);else if(Fe.isArray(p)&&Ree(p)||(Fe.isFileList(p)||Fe.endsWith(g,"[]"))&&(m=Fe.toArray(p)))return g=yQ(g),m.forEach(function(w,b){!(Fe.isUndefined(w)||w===null)&&t.append(o===!0?gP([g],b,a):o===null?g:g+"[]",u(w))}),!1}return RE(p)?!0:(t.append(gP(v,g,a),u(p)),!1)}const A=[],d=Object.assign(Dee,{defaultVisitor:c,convertValue:u,isVisitable:RE});function f(p,g){if(!Fe.isUndefined(p)){if(A.indexOf(p)!==-1)throw Error("Circular reference detected in "+g.join("."));A.push(p),Fe.forEach(p,function(m,y){(!(Fe.isUndefined(m)||m===null)&&i.call(t,m,Fe.isString(y)?y.trim():y,g,d))===!0&&f(m,g?g.concat(y):[y])}),A.pop()}}if(!Fe.isObject(e))throw new TypeError("data must be an object");return f(e),t}function vP(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function J3(e,t){this._pairs=[],e&&Zx(e,this,t)}const wQ=J3.prototype;wQ.append=function(t,r){this._pairs.push([t,r])};wQ.toString=function(t){const r=t?function(n){return t.call(this,n,vP)}:vP;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function jee(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function xQ(e,t,r){if(!t)return e;const n=r&&r.encode||jee;Fe.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let a;if(i?a=i(t,r):a=Fe.isURLSearchParams(t)?t.toString():new J3(t,r).toString(n),a){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class yP{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Fe.forEach(this.handlers,function(n){n!==null&&t(n)})}}const bQ={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Mee=typeof URLSearchParams<"u"?URLSearchParams:J3,Qee=typeof FormData<"u"?FormData:null,Hee=typeof Blob<"u"?Blob:null,$ee={isBrowser:!0,classes:{URLSearchParams:Mee,FormData:Qee,Blob:Hee},protocols:["http","https","file","blob","url","data"]},Z3=typeof window<"u"&&typeof document<"u",DE=typeof navigator=="object"&&navigator||void 0,Wee=Z3&&(!DE||["ReactNative","NativeScript","NS"].indexOf(DE.product)<0),Kee=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",zee=Z3&&window.location.href||"http://localhost",Vee=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Z3,hasStandardBrowserEnv:Wee,hasStandardBrowserWebWorkerEnv:Kee,navigator:DE,origin:zee},Symbol.toStringTag,{value:"Module"})),pa={...Vee,...$ee};function Gee(e,t){return Zx(e,new pa.classes.URLSearchParams,{visitor:function(r,n,i,a){return pa.isNode&&Fe.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function qee(e){return Fe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Xee(e){const t={},r=Object.keys(e);let n;const i=r.length;let a;for(n=0;n<i;n++)a=r[n],t[a]=e[a];return t}function BQ(e){function t(r,n,i,a){let o=r[a++];if(o==="__proto__")return!0;const s=Number.isFinite(+o),l=a>=r.length;return o=!o&&Fe.isArray(i)?i.length:o,l?(Fe.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!s):((!i[o]||!Fe.isObject(i[o]))&&(i[o]=[]),t(r,n,i[o],a)&&Fe.isArray(i[o])&&(i[o]=Xee(i[o])),!s)}if(Fe.isFormData(e)&&Fe.isFunction(e.entries)){const r={};return Fe.forEachEntry(e,(n,i)=>{t(qee(n),i,r,0)}),r}return null}function Yee(e,t,r){if(Fe.isString(e))try{return(t||JSON.parse)(e),Fe.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Jg={transitional:bQ,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,a=Fe.isObject(t);if(a&&Fe.isHTMLForm(t)&&(t=new FormData(t)),Fe.isFormData(t))return i?JSON.stringify(BQ(t)):t;if(Fe.isArrayBuffer(t)||Fe.isBuffer(t)||Fe.isStream(t)||Fe.isFile(t)||Fe.isBlob(t)||Fe.isReadableStream(t))return t;if(Fe.isArrayBufferView(t))return t.buffer;if(Fe.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let s;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Gee(t,this.formSerializer).toString();if((s=Fe.isFileList(t))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Zx(s?{"files[]":t}:t,l&&new l,this.formSerializer)}}return a||i?(r.setContentType("application/json",!1),Yee(t)):t}],transformResponse:[function(t){const r=this.transitional||Jg.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(Fe.isResponse(t)||Fe.isReadableStream(t))return t;if(t&&Fe.isString(t)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(s){if(o)throw s.name==="SyntaxError"?qt.from(s,qt.ERR_BAD_RESPONSE,this,null,this.response):s}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:pa.classes.FormData,Blob:pa.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Fe.forEach(["delete","get","head","post","put","patch"],e=>{Jg.headers[e]={}});const Jee=Fe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Zee=e=>{const t={};let r,n,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||t[r]&&Jee[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},wP=Symbol("internals");function Kp(e){return e&&String(e).trim().toLowerCase()}function c1(e){return e===!1||e==null?e:Fe.isArray(e)?e.map(c1):String(e)}function ete(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const tte=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function WB(e,t,r,n,i){if(Fe.isFunction(n))return n.call(this,t,r);if(i&&(t=r),!!Fe.isString(t)){if(Fe.isString(n))return t.indexOf(n)!==-1;if(Fe.isRegExp(n))return n.test(t)}}function rte(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function nte(e,t){const r=Fe.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(i,a,o){return this[n].call(this,t,i,a,o)},configurable:!0})})}let eo=class{constructor(t){t&&this.set(t)}set(t,r,n){const i=this;function a(s,l,u){const c=Kp(l);if(!c)throw new Error("header name must be a non-empty string");const A=Fe.findKey(i,c);(!A||i[A]===void 0||u===!0||u===void 0&&i[A]!==!1)&&(i[A||l]=c1(s))}const o=(s,l)=>Fe.forEach(s,(u,c)=>a(u,c,l));if(Fe.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(Fe.isString(t)&&(t=t.trim())&&!tte(t))o(Zee(t),r);else if(Fe.isObject(t)&&Fe.isIterable(t)){let s={},l,u;for(const c of t){if(!Fe.isArray(c))throw TypeError("Object iterator must return a key-value pair");s[u=c[0]]=(l=s[u])?Fe.isArray(l)?[...l,c[1]]:[l,c[1]]:c[1]}o(s,r)}else t!=null&&a(r,t,n);return this}get(t,r){if(t=Kp(t),t){const n=Fe.findKey(this,t);if(n){const i=this[n];if(!r)return i;if(r===!0)return ete(i);if(Fe.isFunction(r))return r.call(this,i,n);if(Fe.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Kp(t),t){const n=Fe.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||WB(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let i=!1;function a(o){if(o=Kp(o),o){const s=Fe.findKey(n,o);s&&(!r||WB(n,n[s],s,r))&&(delete n[s],i=!0)}}return Fe.isArray(t)?t.forEach(a):a(t),i}clear(t){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const a=r[n];(!t||WB(this,this[a],a,t,!0))&&(delete this[a],i=!0)}return i}normalize(t){const r=this,n={};return Fe.forEach(this,(i,a)=>{const o=Fe.findKey(n,a);if(o){r[o]=c1(i),delete r[a];return}const s=t?rte(a):String(a).trim();s!==a&&delete r[a],r[s]=c1(i),n[s]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return Fe.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=t&&Fe.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[wP]=this[wP]={accessors:{}}).accessors,i=this.prototype;function a(o){const s=Kp(o);n[s]||(nte(i,o),n[s]=!0)}return Fe.isArray(t)?t.forEach(a):a(t),this}};eo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Fe.reduceDescriptors(eo.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});Fe.freezeMethods(eo);function KB(e,t){const r=this||Jg,n=t||r,i=eo.from(n.headers);let a=n.data;return Fe.forEach(e,function(s){a=s.call(r,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function CQ(e){return!!(e&&e.__CANCEL__)}function Kh(e,t,r){qt.call(this,e??"canceled",qt.ERR_CANCELED,t,r),this.name="CanceledError"}Fe.inherits(Kh,qt,{__CANCEL__:!0});function EQ(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new qt("Request failed with status code "+r.status,[qt.ERR_BAD_REQUEST,qt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function ite(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function ate(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i=0,a=0,o;return t=t!==void 0?t:1e3,function(l){const u=Date.now(),c=n[a];o||(o=u),r[i]=l,n[i]=u;let A=a,d=0;for(;A!==i;)d+=r[A++],A=A%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),u-o<t)return;const f=c&&u-c;return f?Math.round(d*1e3/f):void 0}}function ote(e,t){let r=0,n=1e3/t,i,a;const o=(u,c=Date.now())=>{r=c,i=null,a&&(clearTimeout(a),a=null),e(...u)};return[(...u)=>{const c=Date.now(),A=c-r;A>=n?o(u,c):(i=u,a||(a=setTimeout(()=>{a=null,o(i)},n-A)))},()=>i&&o(i)]}const ew=(e,t,r=3)=>{let n=0;const i=ate(50,250);return ote(a=>{const o=a.loaded,s=a.lengthComputable?a.total:void 0,l=o-n,u=i(l),c=o<=s;n=o;const A={loaded:o,total:s,progress:s?o/s:void 0,bytes:l,rate:u||void 0,estimated:u&&s&&c?(s-o)/u:void 0,event:a,lengthComputable:s!=null,[t?"download":"upload"]:!0};e(A)},r)},xP=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},bP=e=>(...t)=>Fe.asap(()=>e(...t)),ste=pa.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,pa.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(pa.origin),pa.navigator&&/(msie|trident)/i.test(pa.navigator.userAgent)):()=>!0,lte=pa.hasStandardBrowserEnv?{write(e,t,r,n,i,a,o){if(typeof document>"u")return;const s=[`${e}=${encodeURIComponent(t)}`];Fe.isNumber(r)&&s.push(`expires=${new Date(r).toUTCString()}`),Fe.isString(n)&&s.push(`path=${n}`),Fe.isString(i)&&s.push(`domain=${i}`),a===!0&&s.push("secure"),Fe.isString(o)&&s.push(`SameSite=${o}`),document.cookie=s.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function ute(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function cte(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function SQ(e,t,r){let n=!ute(t);return e&&(n||r==!1)?cte(e,t):t}const BP=e=>e instanceof eo?{...e}:e;function wf(e,t){t=t||{};const r={};function n(u,c,A,d){return Fe.isPlainObject(u)&&Fe.isPlainObject(c)?Fe.merge.call({caseless:d},u,c):Fe.isPlainObject(c)?Fe.merge({},c):Fe.isArray(c)?c.slice():c}function i(u,c,A,d){if(Fe.isUndefined(c)){if(!Fe.isUndefined(u))return n(void 0,u,A,d)}else return n(u,c,A,d)}function a(u,c){if(!Fe.isUndefined(c))return n(void 0,c)}function o(u,c){if(Fe.isUndefined(c)){if(!Fe.isUndefined(u))return n(void 0,u)}else return n(void 0,c)}function s(u,c,A){if(A in t)return n(u,c);if(A in e)return n(void 0,u)}const l={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(u,c,A)=>i(BP(u),BP(c),A,!0)};return Fe.forEach(Object.keys({...e,...t}),function(c){const A=l[c]||i,d=A(e[c],t[c],c);Fe.isUndefined(d)&&A!==s||(r[c]=d)}),r}const NQ=e=>{const t=wf({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:s}=t;if(t.headers=o=eo.from(o),t.url=xQ(SQ(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),s&&o.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):""))),Fe.isFormData(r)){if(pa.hasStandardBrowserEnv||pa.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Fe.isFunction(r.getHeaders)){const l=r.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([c,A])=>{u.includes(c.toLowerCase())&&o.set(c,A)})}}if(pa.hasStandardBrowserEnv&&(n&&Fe.isFunction(n)&&(n=n(t)),n||n!==!1&&ste(t.url))){const l=i&&a&&lte.read(a);l&&o.set(i,l)}return t},Ate=typeof XMLHttpRequest<"u",fte=Ate&&function(e){return new Promise(function(r,n){const i=NQ(e);let a=i.data;const o=eo.from(i.headers).normalize();let{responseType:s,onUploadProgress:l,onDownloadProgress:u}=i,c,A,d,f,p;function g(){f&&f(),p&&p(),i.cancelToken&&i.cancelToken.unsubscribe(c),i.signal&&i.signal.removeEventListener("abort",c)}let v=new XMLHttpRequest;v.open(i.method.toUpperCase(),i.url,!0),v.timeout=i.timeout;function m(){if(!v)return;const w=eo.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),B={data:!s||s==="text"||s==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:w,config:e,request:v};EQ(function(P){r(P),g()},function(P){n(P),g()},B),v=null}"onloadend"in v?v.onloadend=m:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(m)},v.onabort=function(){v&&(n(new qt("Request aborted",qt.ECONNABORTED,e,v)),v=null)},v.onerror=function(b){const B=b&&b.message?b.message:"Network Error",S=new qt(B,qt.ERR_NETWORK,e,v);S.event=b||null,n(S),v=null},v.ontimeout=function(){let b=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const B=i.transitional||bQ;i.timeoutErrorMessage&&(b=i.timeoutErrorMessage),n(new qt(b,B.clarifyTimeoutError?qt.ETIMEDOUT:qt.ECONNABORTED,e,v)),v=null},a===void 0&&o.setContentType(null),"setRequestHeader"in v&&Fe.forEach(o.toJSON(),function(b,B){v.setRequestHeader(B,b)}),Fe.isUndefined(i.withCredentials)||(v.withCredentials=!!i.withCredentials),s&&s!=="json"&&(v.responseType=i.responseType),u&&([d,p]=ew(u,!0),v.addEventListener("progress",d)),l&&v.upload&&([A,f]=ew(l),v.upload.addEventListener("progress",A),v.upload.addEventListener("loadend",f)),(i.cancelToken||i.signal)&&(c=w=>{v&&(n(!w||w.type?new Kh(null,e,v):w),v.abort(),v=null)},i.cancelToken&&i.cancelToken.subscribe(c),i.signal&&(i.signal.aborted?c():i.signal.addEventListener("abort",c)));const y=ite(i.url);if(y&&pa.protocols.indexOf(y)===-1){n(new qt("Unsupported protocol "+y+":",qt.ERR_BAD_REQUEST,e));return}v.send(a||null)})},dte=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,i;const a=function(u){if(!i){i=!0,s();const c=u instanceof Error?u:this.reason;n.abort(c instanceof qt?c:new Kh(c instanceof Error?c.message:c))}};let o=t&&setTimeout(()=>{o=null,a(new qt(`timeout ${t} of ms exceeded`,qt.ETIMEDOUT))},t);const s=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),e=null)};e.forEach(u=>u.addEventListener("abort",a));const{signal:l}=n;return l.unsubscribe=()=>Fe.asap(s),l}},hte=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,i;for(;n<r;)i=n+t,yield e.slice(n,i),n=i},pte=async function*(e,t){for await(const r of mte(e))yield*hte(r,t)},mte=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},CP=(e,t,r,n)=>{const i=pte(e,t);let a=0,o,s=l=>{o||(o=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:u,value:c}=await i.next();if(u){s(),l.close();return}let A=c.byteLength;if(r){let d=a+=A;r(d)}l.enqueue(new Uint8Array(c))}catch(u){throw s(u),u}},cancel(l){return s(l),i.return()}},{highWaterMark:2})},EP=64*1024,{isFunction:R0}=Fe,gte=(({Request:e,Response:t})=>({Request:e,Response:t}))(Fe.global),{ReadableStream:SP,TextEncoder:NP}=Fe.global,FP=(e,...t)=>{try{return!!e(...t)}catch{return!1}},vte=e=>{e=Fe.merge.call({skipUndefined:!0},gte,e);const{fetch:t,Request:r,Response:n}=e,i=t?R0(t):typeof fetch=="function",a=R0(r),o=R0(n);if(!i)return!1;const s=i&&R0(SP),l=i&&(typeof NP=="function"?(p=>g=>p.encode(g))(new NP):async p=>new Uint8Array(await new r(p).arrayBuffer())),u=a&&s&&FP(()=>{let p=!1;const g=new r(pa.origin,{body:new SP,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!g}),c=o&&s&&FP(()=>Fe.isReadableStream(new n("").body)),A={stream:c&&(p=>p.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!A[p]&&(A[p]=(g,v)=>{let m=g&&g[p];if(m)return m.call(g);throw new qt(`Response type '${p}' is not supported`,qt.ERR_NOT_SUPPORT,v)})});const d=async p=>{if(p==null)return 0;if(Fe.isBlob(p))return p.size;if(Fe.isSpecCompliantForm(p))return(await new r(pa.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(Fe.isArrayBufferView(p)||Fe.isArrayBuffer(p))return p.byteLength;if(Fe.isURLSearchParams(p)&&(p=p+""),Fe.isString(p))return(await l(p)).byteLength},f=async(p,g)=>{const v=Fe.toFiniteNumber(p.getContentLength());return v??d(g)};return async p=>{let{url:g,method:v,data:m,signal:y,cancelToken:w,timeout:b,onDownloadProgress:B,onUploadProgress:S,responseType:P,headers:k,withCredentials:I="same-origin",fetchOptions:O}=NQ(p),F=t||fetch;P=P?(P+"").toLowerCase():"text";let N=dte([y,w&&w.toAbortSignal()],b),U=null;const M=N&&N.unsubscribe&&(()=>{N.unsubscribe()});let V;try{if(S&&u&&v!=="get"&&v!=="head"&&(V=await f(k,m))!==0){let ee=new r(g,{method:"POST",body:m,duplex:"half"}),L;if(Fe.isFormData(m)&&(L=ee.headers.get("content-type"))&&k.setContentType(L),ee.body){const[j,z]=xP(V,ew(bP(S)));m=CP(ee.body,EP,j,z)}}Fe.isString(I)||(I=I?"include":"omit");const Q=a&&"credentials"in r.prototype,W={...O,signal:N,method:v.toUpperCase(),headers:k.normalize().toJSON(),body:m,duplex:"half",credentials:Q?I:void 0};U=a&&new r(g,W);let D=await(a?F(U,O):F(g,W));const K=c&&(P==="stream"||P==="response");if(c&&(B||K&&M)){const ee={};["status","statusText","headers"].forEach(X=>{ee[X]=D[X]});const L=Fe.toFiniteNumber(D.headers.get("content-length")),[j,z]=B&&xP(L,ew(bP(B),!0))||[];D=new n(CP(D.body,EP,j,()=>{z&&z(),M&&M()}),ee)}P=P||"text";let ie=await A[Fe.findKey(A,P)||"text"](D,p);return!K&&M&&M(),await new Promise((ee,L)=>{EQ(ee,L,{data:ie,headers:eo.from(D.headers),status:D.status,statusText:D.statusText,config:p,request:U})})}catch(Q){throw M&&M(),Q&&Q.name==="TypeError"&&/Load failed|fetch/i.test(Q.message)?Object.assign(new qt("Network Error",qt.ERR_NETWORK,p,U),{cause:Q.cause||Q}):qt.from(Q,Q&&Q.code,p,U)}}},yte=new Map,FQ=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:i}=t,a=[n,i,r];let o=a.length,s=o,l,u,c=yte;for(;s--;)l=a[s],u=c.get(l),u===void 0&&c.set(l,u=s?new Map:vte(t)),c=u;return u};FQ();const eN={http:Uee,xhr:fte,fetch:{get:FQ}};Fe.forEach(eN,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const IP=e=>`- ${e}`,wte=e=>Fe.isFunction(e)||e===null||e===!1;function xte(e,t){e=Fe.isArray(e)?e:[e];const{length:r}=e;let n,i;const a={};for(let o=0;o<r;o++){n=e[o];let s;if(i=n,!wte(n)&&(i=eN[(s=String(n)).toLowerCase()],i===void 0))throw new qt(`Unknown adapter '${s}'`);if(i&&(Fe.isFunction(i)||(i=i.get(t))))break;a[s||"#"+o]=i}if(!i){const o=Object.entries(a).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let s=r?o.length>1?`since :
`+o.map(IP).join(`
`):" "+IP(o[0]):"as no adapter specified";throw new qt("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return i}const IQ={getAdapter:xte,adapters:eN};function zB(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Kh(null,e)}function _P(e){return zB(e),e.headers=eo.from(e.headers),e.data=KB.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),IQ.getAdapter(e.adapter||Jg.adapter,e)(e).then(function(n){return zB(e),n.data=KB.call(e,e.transformResponse,n),n.headers=eo.from(n.headers),n},function(n){return CQ(n)||(zB(e),n&&n.response&&(n.response.data=KB.call(e,e.transformResponse,n.response),n.response.headers=eo.from(n.response.headers))),Promise.reject(n)})}const _Q="1.13.2",e2={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{e2[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const kP={};e2.transitional=function(t,r,n){function i(a,o){return"[Axios v"+_Q+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return(a,o,s)=>{if(t===!1)throw new qt(i(o," has been removed"+(r?" in "+r:"")),qt.ERR_DEPRECATED);return r&&!kP[o]&&(kP[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,o,s):!0}};e2.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function bte(e,t,r){if(typeof e!="object")throw new qt("options must be an object",qt.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const a=n[i],o=t[a];if(o){const s=e[a],l=s===void 0||o(s,a,e);if(l!==!0)throw new qt("option "+a+" must be "+l,qt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new qt("Unknown option "+a,qt.ERR_BAD_OPTION)}}const A1={assertOptions:bte,validators:e2},ul=A1.validators;let sf=class{constructor(t){this.defaults=t||{},this.interceptors={request:new yP,response:new yP}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=wf(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:a}=r;n!==void 0&&A1.assertOptions(n,{silentJSONParsing:ul.transitional(ul.boolean),forcedJSONParsing:ul.transitional(ul.boolean),clarifyTimeoutError:ul.transitional(ul.boolean)},!1),i!=null&&(Fe.isFunction(i)?r.paramsSerializer={serialize:i}:A1.assertOptions(i,{encode:ul.function,serialize:ul.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),A1.assertOptions(r,{baseUrl:ul.spelling("baseURL"),withXsrfToken:ul.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=a&&Fe.merge(a.common,a[r.method]);a&&Fe.forEach(["delete","get","head","post","put","patch","common"],p=>{delete a[p]}),r.headers=eo.concat(o,a);const s=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(l=l&&g.synchronous,s.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let c,A=0,d;if(!l){const p=[_P.bind(this),void 0];for(p.unshift(...s),p.push(...u),d=p.length,c=Promise.resolve(r);A<d;)c=c.then(p[A++],p[A++]);return c}d=s.length;let f=r;for(;A<d;){const p=s[A++],g=s[A++];try{f=p(f)}catch(v){g.call(this,v);break}}try{c=_P.call(this,f)}catch(p){return Promise.reject(p)}for(A=0,d=u.length;A<d;)c=c.then(u[A++],u[A++]);return c}getUri(t){t=wf(this.defaults,t);const r=SQ(t.baseURL,t.url,t.allowAbsoluteUrls);return xQ(r,t.params,t.paramsSerializer)}};Fe.forEach(["delete","get","head","options"],function(t){sf.prototype[t]=function(r,n){return this.request(wf(n||{},{method:t,url:r,data:(n||{}).data}))}});Fe.forEach(["post","put","patch"],function(t){function r(n){return function(a,o,s){return this.request(wf(s||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}sf.prototype[t]=r(),sf.prototype[t+"Form"]=r(!0)});let Bte=class kQ{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(i=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](i);n._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(s=>{n.subscribe(s),a=s}).then(i);return o.cancel=function(){n.unsubscribe(a)},o},t(function(a,o,s){n.reason||(n.reason=new Kh(a,o,s),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new kQ(function(i){t=i}),cancel:t}}};function Cte(e){return function(r){return e.apply(null,r)}}function Ete(e){return Fe.isObject(e)&&e.isAxiosError===!0}const jE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(jE).forEach(([e,t])=>{jE[t]=e});function PQ(e){const t=new sf(e),r=uQ(sf.prototype.request,t);return Fe.extend(r,sf.prototype,t,{allOwnKeys:!0}),Fe.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return PQ(wf(e,i))},r}const Sn=PQ(Jg);Sn.Axios=sf;Sn.CanceledError=Kh;Sn.CancelToken=Bte;Sn.isCancel=CQ;Sn.VERSION=_Q;Sn.toFormData=Zx;Sn.AxiosError=qt;Sn.Cancel=Sn.CanceledError;Sn.all=function(t){return Promise.all(t)};Sn.spread=Cte;Sn.isAxiosError=Ete;Sn.mergeConfig=wf;Sn.AxiosHeaders=eo;Sn.formToJSON=e=>BQ(Fe.isHTMLForm(e)?new FormData(e):e);Sn.getAdapter=IQ.getAdapter;Sn.HttpStatusCode=jE;Sn.default=Sn;const{Axios:iOe,AxiosError:aOe,CanceledError:oOe,isCancel:sOe,CancelToken:lOe,VERSION:uOe,all:cOe,Cancel:AOe,isAxiosError:fOe,spread:dOe,toFormData:hOe,AxiosHeaders:pOe,HttpStatusCode:mOe,formToJSON:gOe,getAdapter:vOe,mergeConfig:yOe}=Sn,OQ=(e,t)=>{t&&window.dispatchEvent(new CustomEvent("app:toast",{detail:{type:e,message:t}}))},Ts=e=>{OQ("error",e)},Lo=e=>{OQ("success",e)},Ste="http://localhost:8080",or=Sn.create({baseURL:Ste,headers:{"Content-Type":"application/json"}}),PP=localStorage.getItem("token");PP&&(or.defaults.headers.common.Authorization=`Bearer ${PP}`);const TQ=async(e,t=0)=>{try{return await e()}catch(r){if(t<=0)throw r;return TQ(e,t-1)}},Zi=(e,t)=>{var n,i,a,o;const r=((i=(n=e==null?void 0:e.response)==null?void 0:n.data)==null?void 0:i.message)||((o=(a=e==null?void 0:e.response)==null?void 0:a.data)==null?void 0:o.error)||(e==null?void 0:e.message)||t;return Ts(r),{success:!1,error:r}};or.interceptors.response.use(e=>e,e=>{if(e.response&&e.response.status===401){localStorage.removeItem("token"),delete or.defaults.headers.common.Authorization,Ts("Session expired. Please log in again.");const t=window.location.pathname;t!=="/login"&&!t.includes("login")&&window.location.reload()}return Promise.reject(e)});const f1=async(e,t="professional")=>{try{const r={...e,templateType:t},n=await or.post("/api/profiles",r);return console.log("API response:",n),console.log("API response data:",n.data),{success:!0,data:n.data.data||n.data}}catch(r){return console.error("API error:",r),Zi(r,"Failed to submit profile")}},tN=async()=>{var e;try{const t=await TQ(()=>or.get("/api/templates/all"),1);return console.log("Templates API response:",t.data),t.data&&t.data.data?t.data.data:Array.isArray(t.data)?t.data:[]}catch(t){throw console.error("Failed to fetch templates:",t),console.error("Error details:",(e=t.response)==null?void 0:e.data),Zi(t,"Failed to fetch templates"),t}},LQ=async e=>{var t,r,n;try{if(!e||e.trim().length===0)return{success:!1,error:"Profile text is required"};const i=await or.post("/api/ai-enhance",{profile:e}),a=((r=(t=i.data)==null?void 0:t.data)==null?void 0:r.enhancedProfile)||((n=i.data)==null?void 0:n.enhancedProfile);return a?{success:!0,data:a}:{success:!1,error:"No enhanced profile returned from server"}}catch(i){return console.error("API error:",i),Zi(i,"Failed to enhance profile with AI")}},UQ=async e=>{var t;try{const r=await or.post("/api/generate-questions",{userProfile:e});return{success:!0,data:((t=r.data)==null?void 0:t.data)||r.data}}catch(r){return console.error("Error generating questions:",r),Zi(r,"Failed to generate questions")}},RQ=async(e,t)=>{var r;try{const n=await or.post("/api/chat",{userMessage:e,conversationState:t});return{success:!0,data:((r=n.data)==null?void 0:r.data)||n.data}}catch(n){return console.error("Error sending chat message:",n),Zi(n,"Failed to send message")}},DQ=async(e,t)=>{var r;try{const n=await or.post("/api/evaluate",{userProfile:e,answers:t});return{success:!0,data:((r=n.data)==null?void 0:r.data)||n.data}}catch(n){return console.error("Error evaluating interests:",n),Zi(n,"Failed to evaluate interests")}},jQ=async(e,t,r)=>{try{return{success:!0,data:(await or.post("/api/auth/register",{email:e,password:t,name:r})).data.data}}catch(n){return Zi(n,"Registration failed")}},MQ=async(e,t)=>{try{return{success:!0,data:(await or.post("/api/auth/login",{email:e,password:t})).data.data}}catch(r){return Zi(r,"Login failed")}},rN=async e=>{var t;try{if(!e)return Zi(new Error("Profile ID is required"),"Profile ID is required");const r=await or.post(`/api/profiles/${e}/save-json`);return Lo("Profile saved successfully."),{success:!0,data:((t=r.data)==null?void 0:t.data)||r.data}}catch(r){return console.error("API error:",r),Zi(r,"Failed to save profile as JSON")}},QQ=async(e={})=>{var t;try{const r=await or.post("/api/profile/regenerate",e);return{success:!0,data:((t=r.data)==null?void 0:t.data)||r.data}}catch(r){return console.error("API error:",r),Zi(r,"Failed to regenerate profile")}},ME=async()=>{var e,t;try{const r=await or.get("/api/profiles/my-profile");return{success:!0,data:((e=r.data)==null?void 0:e.data)||r.data}}catch(r){return console.error("API error:",r),((t=r.response)==null?void 0:t.status)===404?(Ts("No saved profile found"),{success:!1,error:"No saved profile found"}):Zi(r,"Failed to retrieve saved profile")}},cg=async()=>{var e,t;try{const r=await or.get("/api/profiles/my-profiles");return{success:!0,data:((e=r.data)==null?void 0:e.data)||r.data||[]}}catch(r){return console.error("API error:",r),((t=r.response)==null?void 0:t.status)===404?{success:!0,data:[]}:Zi(r,"Failed to retrieve saved profiles")}},HQ=async e=>{var t;try{const r=await or.post("/api/profiles/enhance-with-report",e);return Lo("Profile enhanced successfully with report insights"),{success:!0,data:((t=r.data)==null?void 0:t.data)||r.data}}catch(r){return console.error("Enhance profile error:",r),Zi(r,"Failed to enhance profile with report data")}},$Q=async e=>{var t;try{const r=await or.post("/api/profiles/enhance-paragraph-with-report",e);return Lo("Paragraph enhanced successfully with report insights"),{success:!0,data:((t=r.data)==null?void 0:t.data)||r.data}}catch(r){return console.error("Enhance paragraph error:",r),Zi(r,"Failed to enhance paragraph with report data")}},WQ=async e=>{var t;try{if(!e)return{success:!1,error:"Resume file is required"};const r=new FormData;r.append("file",e);const n=await or.post("/api/profiles/parse-resume",r,{headers:{"Content-Type":"multipart/form-data"}});return Lo("Resume parsed successfully"),{success:!0,data:((t=n.data)==null?void 0:t.data)||n.data}}catch(r){return console.error("API error:",r),Zi(r,"Failed to parse resume")}},KQ=async e=>{var t;try{if(!e)return{success:!1,error:"Profile PDF file is required"};const r=new FormData;r.append("file",e);const n=await or.post("/api/profiles/parse-profile-pdf",r,{headers:{"Content-Type":"multipart/form-data"}});return Lo("Profile PDF parsed successfully"),{success:!0,data:((t=n.data)==null?void 0:t.data)||n.data}}catch(r){return console.error("API error:",r),Zi(r,"Failed to parse profile PDF")}},Nte=Object.freeze(Object.defineProperty({__proto__:null,default:or,enhanceProfileWithAI:LQ,enhanceProfileWithReport:HQ,enhanceUploadedParagraphWithReport:$Q,evaluateInterests:DQ,fetchTemplates:tN,generateQuestions:UQ,getAllMyProfiles:cg,getMyProfile:ME,login:MQ,parseProfilePdf:KQ,parseResume:WQ,regenerateProfile:QQ,register:jQ,saveProfileAsJson:rN,sendChatMessage:RQ,submitProfile:f1},Symbol.toStringTag,{value:"Module"})),zQ=E.createContext(null),t2=()=>{const e=E.useContext(zQ);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},VQ=({children:e})=>{const[t,r]=E.useState(null),[n,i]=E.useState(localStorage.getItem("token")),[a,o]=E.useState(!0);E.useEffect(()=>{n?(or.defaults.headers.common.Authorization=`Bearer ${n}`,s()):(delete or.defaults.headers.common.Authorization,o(!1))},[]);const s=async()=>{const A=localStorage.getItem("token");if(!A){o(!1);return}try{or.defaults.headers.common.Authorization=`Bearer ${A}`;const d=await or.get("/api/auth/me");d.data&&d.data.data&&(r(d.data.data),i(A))}catch{u()}finally{o(!1)}},l=async(A,d)=>{try{if(i(A),localStorage.setItem("token",A),or.defaults.headers.common.Authorization=`Bearer ${A}`,d)r(d);else try{const f=await or.get("/api/auth/me");f.data&&f.data.data&&r(f.data.data)}catch(f){console.error("Failed to fetch user data:",f)}}catch(f){throw console.error("Login error:",f),f}},u=()=>{i(null),r(null),localStorage.removeItem("token"),delete or.defaults.headers.common.Authorization},c=()=>!!n&&!!t;return h.jsx(zQ.Provider,{value:{user:t,token:n,login:l,logout:u,isAuthenticated:c,loading:a},children:e})};var GQ={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},OP=bu.createContext&&bu.createContext(GQ),qc=function(){return qc=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},qc.apply(this,arguments)},Fte=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function qQ(e){return e&&e.map(function(t,r){return bu.createElement(t.tag,qc({key:r},t.attr),qQ(t.child))})}function ao(e){return function(t){return bu.createElement(Ite,qc({attr:qc({},e.attr)},t),qQ(e.child))}}function Ite(e){var t=function(r){var n=e.attr,i=e.size,a=e.title,o=Fte(e,["attr","size","title"]),s=i||r.size||"1em",l;return r.className&&(l=r.className),e.className&&(l=(l?l+" ":"")+e.className),bu.createElement("svg",qc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:l,style:qc(qc({color:e.color||r.color},r.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),a&&bu.createElement("title",null,a),e.children)};return OP!==void 0?bu.createElement(OP.Consumer,null,function(r){return t(r)}):t(GQ)}function _te(e){return ao({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M208 0c-29.9 0-54.7 20.5-61.8 48.2-.8 0-1.4-.2-2.2-.2-35.3 0-64 28.7-64 64 0 4.8.6 9.5 1.7 14C52.5 138 32 166.6 32 200c0 12.6 3.2 24.3 8.3 34.9C16.3 248.7 0 274.3 0 304c0 33.3 20.4 61.9 49.4 73.9-.9 4.6-1.4 9.3-1.4 14.1 0 39.8 32.2 72 72 72 4.1 0 8.1-.5 12-1.2 9.6 28.5 36.2 49.2 68 49.2 39.8 0 72-32.2 72-72V64c0-35.3-28.7-64-64-64zm368 304c0-29.7-16.3-55.3-40.3-69.1 5.2-10.6 8.3-22.3 8.3-34.9 0-33.4-20.5-62-49.7-74 1-4.5 1.7-9.2 1.7-14 0-35.3-28.7-64-64-64-.8 0-1.5.2-2.2.2C422.7 20.5 397.9 0 368 0c-35.3 0-64 28.6-64 64v376c0 39.8 32.2 72 72 72 31.8 0 58.4-20.7 68-49.2 3.9.7 7.9 1.2 12 1.2 39.8 0 72-32.2 72-72 0-4.8-.5-9.5-1.4-14.1 29-12 49.4-40.6 49.4-73.9z"}}]})(e)}function kte(e){return ao({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"}}]})(e)}function Pte(e){return ao({attr:{viewBox:"0 0 544 512"},child:[{tag:"path",attr:{d:"M527.79 288H290.5l158.03 158.03c6.04 6.04 15.98 6.53 22.19.68 38.7-36.46 65.32-85.61 73.13-140.86 1.34-9.46-6.51-17.85-16.06-17.85zm-15.83-64.8C503.72 103.74 408.26 8.28 288.8.04 279.68-.59 272 7.1 272 16.24V240h223.77c9.14 0 16.82-7.68 16.19-16.8zM224 288V50.71c0-9.55-8.39-17.4-17.84-16.06C86.99 51.49-4.1 155.6.14 280.37 4.5 408.51 114.83 513.59 243.03 511.98c50.4-.63 96.97-16.87 135.26-44.03 7.9-5.6 8.42-17.23 1.57-24.08L224 288z"}}]})(e)}function XQ(e){return ao({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"}}]})(e)}function Ote(e){return ao({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"}}]})(e)}function Tte(e){return ao({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M225.38 233.37c-12.5 12.5-12.5 32.76 0 45.25 12.49 12.5 32.76 12.5 45.25 0 12.5-12.5 12.5-32.76 0-45.25-12.5-12.49-32.76-12.49-45.25 0zM248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm126.14 148.05L308.17 300.4a31.938 31.938 0 0 1-15.77 15.77l-144.34 65.97c-16.65 7.61-33.81-9.55-26.2-26.2l65.98-144.35a31.938 31.938 0 0 1 15.77-15.77l144.34-65.97c16.65-7.6 33.8 9.55 26.19 26.2z"}}]})(e)}function Lte(e){return ao({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 448c0 17.7 14.3 32 32 32h160V320H32v128zm256 32h160c17.7 0 32-14.3 32-32V320H288v160zm192-320h-42.1c6.2-12.1 10.1-25.5 10.1-40 0-48.5-39.5-88-88-88-41.6 0-68.5 21.3-103 68.3-34.5-47-61.4-68.3-103-68.3-48.5 0-88 39.5-88 88 0 14.5 3.8 27.9 10.1 40H32c-17.7 0-32 14.3-32 32v80c0 8.8 7.2 16 16 16h480c8.8 0 16-7.2 16-16v-80c0-17.7-14.3-32-32-32zm-326.1 0c-22.1 0-40-17.9-40-40s17.9-40 40-40c19.9 0 34.6 3.3 86.1 80h-86.1zm206.1 0h-86.1c51.4-76.5 65.7-80 86.1-80 22.1 0 40 17.9 40 40s-17.9 40-40 40z"}}]})(e)}function Ute(e){return ao({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"}}]})(e)}function Rte(e){return ao({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"}}]})(e)}function YQ(e){return ao({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"}}]})(e)}function Dte(e){return ao({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"}}]})(e)}function jte(e){return ao({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"}}]})(e)}function Mte(e){return ao({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"}}]})(e)}function Qte(e){return ao({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4zm323-128.4l-27.8-28.1c-4.6-4.7-12.1-4.7-16.8-.1l-104.8 104-45.5-45.8c-4.6-4.7-12.1-4.7-16.8-.1l-28.1 27.9c-4.7 4.6-4.7 12.1-.1 16.8l81.7 82.3c4.6 4.7 12.1 4.7 16.8.1l141.3-140.2c4.6-4.7 4.7-12.2.1-16.8z"}}]})(e)}const Hte=[{icon:Qte,label:"AI Based Profiling"},{icon:Pte,label:"Interest Analysis"},{icon:YQ,label:"Psychometric Test"}],$te=[{icon:_te,title:"Comprehensive Profiling",description:"Create detailed professional profiles with AI assistance. Build your complete career portfolio including skills, experience, and achievements for resumes and career planning.",items:["AI-powered profile builder","Multiple template options","Cover letter generation","Instant profile creation"]},{icon:Ute,title:"Interest Evaluation with Chatbot",description:"Engage with our intelligent chatbot to discover your genuine interests and passions. Get personalized guidance through interactive conversations about your career preferences.",items:["Interactive AI chatbot","Career interest discovery","Personalized recommendations","Real-time guidance"]},{icon:Tte,title:"Psychometric Assessment",description:"Take a comprehensive 120-question psychometric test that evaluates your aptitude, personality traits, and domain knowledge with AI-generated personalized insights.",items:["3-section comprehensive test","Aptitude & behavioral analysis","AI-generated detailed report","Career path recommendations"]}],Wte=[{step:"1",title:"Register",description:"Create your free account and provide basic information about your educational background."},{step:"2",title:"Assessment",description:"Complete our comprehensive questionnaire covering personality, interests, and preferences."},{step:"3",title:"Analysis",description:"Our system analyzes your responses using proven psychological frameworks and career models."},{step:"4",title:"Report",description:"Receive your detailed profile report with career recommendations and development suggestions."}],Kte=[{icon:Lte,title:"Completely Free",description:"No hidden costs or charges. Get comprehensive profiling insights at no cost to help you start your career journey."},{icon:kte,title:"Quick & Easy",description:"Complete the assessment in just 30-45 minutes and get instant results with detailed explanations."},{icon:jte,title:"Scientifically Backed",description:"Based on established psychological theories and validated assessment frameworks used by professionals."},{icon:XQ,title:"Actionable Insights",description:"Get specific recommendations for career paths, skill development, and next steps in your professional journey."}],zte=[{question:"How long does the profiling assessment take?",answer:"The profiling assessment typically takes 30-45 minutes to complete. You can save your progress and return to finish it later if needed."},{question:"Is the profiling really free?",answer:"Yes, our profiling service is completely free with no hidden charges. You'll receive a comprehensive report at no cost."},{question:"How accurate are the career recommendations?",answer:"Our recommendations are based on scientifically validated assessment tools and extensive career data. While highly accurate, they should be considered as guidance alongside your own research and exploration."},{question:"Can I retake the assessment?",answer:"Yes, you can retake the assessment after 30 days. This allows you to see how your interests and preferences may evolve over time."},{question:"What's the difference between basic and AI-based profiling?",answer:"Profiling provides fundamental insights into personality and interests. AI-based profiling offers more detailed analysis, predictive insights, and personalized recommendations using advanced algorithms."}],Vte=({onStartProfiling:e,onViewSaved:t,onPsychometricTest:r,onViewSavedReports:n})=>{const{isAuthenticated:i}=t2(),[a,o]=E.useState(!1),[s,l]=E.useState(null),u=E.useCallback(A=>{l(d=>d===A?null:A)},[]),c=()=>{e&&e()};return h.jsx("div",{className:"min-h-screen bg-gray-50 text-gray-900",children:h.jsxs("main",{className:"overflow-x-hidden",children:[h.jsxs("section",{className:"relative overflow-hidden bg-gradient-to-br from-[#151B54] via-[#1e2a7d] to-[#2d3e99] text-white",children:[h.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top_right,_rgba(255,255,255,0.25),_transparent_60%)]"}),h.jsx("div",{className:"relative mx-auto max-w-6xl px-4 sm:px-6 py-12 sm:py-16 md:py-20",children:h.jsxs("div",{className:"max-w-3xl",children:[h.jsx("p",{className:"mb-4 inline-flex rounded-full bg-white/10 px-3 sm:px-4 py-1 text-xs sm:text-sm font-semibold tracking-wide uppercase",children:"Profiling"}),h.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold leading-tight",children:"Profiling"}),h.jsx("p",{className:"mt-4 sm:mt-6 text-base sm:text-lg text-blue-100",children:"Discover your strengths, interests, and career potential with our comprehensive profiling assessment. Get insights into your personality and career preferences."}),h.jsx("div",{className:"mt-6 sm:mt-8 grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4",children:Hte.map(A=>{const d=A.icon;return h.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 rounded-2xl bg-white/10 p-3 sm:p-4 backdrop-blur",children:[h.jsx(d,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white flex-shrink-0"}),h.jsx("span",{className:"text-xs sm:text-sm font-semibold",children:A.label})]},A.label)})}),h.jsxs("div",{className:"mt-8 sm:mt-10 flex flex-col sm:flex-row flex-wrap items-stretch sm:items-center gap-3 sm:gap-4",children:[h.jsxs("button",{type:"button",onClick:c,className:"w-full sm:w-auto inline-flex items-center justify-center gap-2 rounded-full bg-white px-5 sm:px-6 py-2.5 sm:py-3 text-sm font-semibold text-[#151B54] shadow-lg transition hover:bg-gray-100",children:[h.jsx(Dte,{className:"h-4 w-4"}),"Start Profiling"]}),i()&&t&&h.jsx("button",{type:"button",onClick:t,className:"w-full sm:w-auto inline-flex items-center justify-center gap-2 rounded-full border border-white/60 px-5 sm:px-6 py-2.5 sm:py-3 text-sm font-semibold text-white transition hover:bg-white/10",children:" View Saved Profile"}),h.jsxs("button",{type:"button",onClick:r,className:"w-full sm:w-auto inline-flex items-center justify-center gap-2 rounded-full border border-white/60 px-5 sm:px-6 py-2.5 sm:py-3 text-sm font-semibold text-white transition hover:bg-white/10",children:[h.jsx(YQ,{className:"h-4 w-4"}),"Psychometric Test"]}),i()&&n&&h.jsx("button",{type:"button",onClick:n,className:"w-full sm:w-auto inline-flex items-center justify-center gap-2 rounded-full border border-white/60 px-5 sm:px-6 py-2.5 sm:py-3 text-sm font-semibold text-white transition hover:bg-white/10",children:" View Saved Reports"}),h.jsxs("a",{href:"#how-it-works",className:"w-full sm:w-auto inline-flex items-center justify-center gap-2 rounded-full border border-white/60 px-5 sm:px-6 py-2.5 sm:py-3 text-sm font-semibold text-white transition hover:bg-white/10",children:[h.jsx(Rte,{className:"h-4 w-4"}),"How it works"]})]})]})})]}),h.jsxs("section",{className:"mx-auto max-w-6xl px-4 sm:px-6 py-12 sm:py-16",children:[h.jsxs("div",{className:"mb-8 sm:mb-12 text-center",children:[h.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"What's Included"}),h.jsx("p",{className:"mt-2 sm:mt-3 text-sm sm:text-base text-gray-600",children:"Complete suite of tools to discover and develop your career potential"})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:$te.map(A=>{const d=A.icon;return h.jsxs("div",{className:"rounded-2xl sm:rounded-3xl border border-emerald-100 bg-white p-6 sm:p-8 shadow-sm",children:[h.jsx("div",{className:"mb-4 sm:mb-6 inline-flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-full bg-emerald-50 text-emerald-600",children:h.jsx(d,{className:"h-5 w-5 sm:h-6 sm:w-6"})}),h.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:A.title}),h.jsx("p",{className:"mt-2 sm:mt-3 text-xs sm:text-sm text-gray-600",children:A.description}),h.jsx("ul",{className:"mt-4 sm:mt-6 space-y-2 text-xs sm:text-sm text-gray-700",children:A.items.map(f=>h.jsxs("li",{className:"flex items-start gap-2",children:[h.jsx(XQ,{className:"mt-0.5 sm:mt-1 h-3 w-3 sm:h-4 sm:w-4 text-emerald-500 flex-shrink-0"}),h.jsx("span",{children:f})]},f))})]},A.title)})})]}),h.jsx("section",{className:"bg-white py-12 sm:py-16",id:"how-it-works",children:h.jsxs("div",{className:"mx-auto max-w-6xl px-4 sm:px-6",children:[h.jsxs("div",{className:"mb-8 sm:mb-12 text-center",children:[h.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"How It Works"}),h.jsx("p",{className:"mt-2 sm:mt-3 text-sm sm:text-base text-gray-600",children:"Simple 4-step process to complete your profiling"})]}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8",children:Wte.map(A=>h.jsxs("div",{className:"relative rounded-2xl sm:rounded-3xl border border-emerald-100 bg-gradient-to-br from-white to-emerald-50 p-6 sm:p-8",children:[h.jsx("div",{className:"mb-4 sm:mb-6 flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-full bg-emerald-600 text-base sm:text-lg font-semibold text-white",children:A.step}),h.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:A.title}),h.jsx("p",{className:"mt-2 sm:mt-3 text-xs sm:text-sm text-gray-600",children:A.description})]},A.title))})]})}),h.jsxs("section",{className:"mx-auto max-w-6xl px-4 sm:px-6 py-12 sm:py-16",children:[h.jsxs("div",{className:"mb-8 sm:mb-12 text-center",children:[h.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Why Choose Profiling?"}),h.jsx("p",{className:"mt-2 sm:mt-3 text-sm sm:text-base text-gray-600",children:"Understand the advantages of our profiling service"})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 sm:gap-8",children:Kte.map(A=>{const d=A.icon;return h.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 rounded-2xl sm:rounded-3xl border border-emerald-100 bg-white p-5 sm:p-6 shadow-sm",children:[h.jsx("div",{className:"flex-shrink-0 flex h-12 w-12 items-center justify-center rounded-full bg-emerald-50 text-emerald-600",children:h.jsx(d,{className:"h-6 w-6"})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h4",{className:"text-base sm:text-lg font-semibold text-gray-900",children:A.title}),h.jsx("p",{className:"mt-2 text-xs sm:text-sm text-gray-600",children:A.description})]})]},A.title)})})]}),h.jsx("section",{className:"bg-white py-12 sm:py-16",children:h.jsxs("div",{className:"mx-auto max-w-6xl px-4 sm:px-6",children:[h.jsxs("div",{className:"mb-8 sm:mb-12 text-center",children:[h.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Frequently Asked Questions"}),h.jsx("p",{className:"mt-2 sm:mt-3 text-sm sm:text-base text-gray-600",children:"Find answers to common questions about our profiling service"})]}),h.jsx("div",{className:"mx-auto max-w-3xl space-y-3 sm:space-y-4",children:zte.map((A,d)=>h.jsxs("div",{className:"overflow-hidden rounded-xl sm:rounded-2xl border border-emerald-100 bg-white transition",children:[h.jsx("button",{type:"button",onClick:()=>u(d),className:"w-full px-4 sm:px-6 py-3 sm:py-4 text-left transition hover:bg-emerald-50",children:h.jsxs("div",{className:"flex items-center justify-between gap-3 sm:gap-4",children:[h.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-900 pr-2",children:A.question}),h.jsx(Ote,{className:`h-4 w-4 sm:h-5 sm:w-5 text-emerald-500 transition flex-shrink-0 ${s===d?"rotate-180":""}`})]})}),s===d&&h.jsx("div",{className:"border-t border-emerald-100 bg-emerald-50 px-4 sm:px-6 py-3 sm:py-4",children:h.jsx("p",{className:"text-xs sm:text-sm text-gray-700",children:A.answer})})]},A.question))})]})})]})})},TP=({onStart:e,onViewSaved:t,onNavigateToStart:r,onPsychometricTest:n,onViewSavedReports:i})=>{const a=()=>{e&&e()};return h.jsx(Vte,{onStartProfiling:a,onViewSaved:t,onPsychometricTest:n,onViewSavedReports:i})},Gte="http://localhost:8080",qte=({initialError:e})=>{const{login:t}=t2(),[r,n]=E.useState(!0),[i,a]=E.useState(""),[o,s]=E.useState(""),[l,u]=E.useState(""),[c,A]=E.useState(e||""),[d,f]=E.useState(!1);E.useEffect(()=>{e&&A(e)},[e]);const p=async v=>{var m,y;v.preventDefault(),A(""),f(!0);try{let w;if(r?w=await MQ(i,o):w=await jQ(i,o,l),w.success&&w.data){const{token:b,userId:B,email:S,name:P,role:k}=w.data;await t(b,{id:B,email:S,name:P,role:k}),window.location.href="/"}else A(w.error||"Authentication failed")}catch(w){A(((y=(m=w.response)==null?void 0:m.data)==null?void 0:y.message)||w.message||"Authentication failed")}finally{f(!1)}},g=()=>{window.location.href=`${Gte}/oauth2/authorization/google`};return h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"max-w-md w-full space-y-8",children:[h.jsx("div",{children:h.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:r?"Sign in to your account":"Create your account"})}),h.jsxs("div",{className:"mt-8 space-y-6",children:[h.jsx("div",{children:h.jsxs("button",{onClick:g,className:"w-full flex justify-center items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[h.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[h.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),h.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),h.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),h.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign in with Google"]})}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-0 flex items-center",children:h.jsx("div",{className:"w-full border-t border-gray-300"})}),h.jsx("div",{className:"relative flex justify-center text-sm",children:h.jsx("span",{className:"px-2 bg-gray-50 text-gray-500",children:"Or continue with email"})})]}),h.jsxs("form",{className:"mt-8 space-y-6",onSubmit:p,children:[!r&&h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Name ",h.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),h.jsx("input",{id:"name",name:"name",type:"text",required:!r,className:"appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Full name",value:l,onChange:v=>u(v.target.value)})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:["Email address ",h.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),h.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:i,onChange:v=>a(v.target.value)})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:["Password ",h.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),h.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Password",value:o,onChange:v=>s(v.target.value)})]}),c&&h.jsx("div",{className:"text-red-600 text-sm text-center",children:c}),h.jsx("div",{children:h.jsx("button",{type:"submit",disabled:d,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:d?"Processing...":r?"Sign in":"Sign up"})}),h.jsx("div",{className:"text-center",children:h.jsx("button",{type:"button",onClick:()=>{n(!r),A("")},className:"text-sm text-blue-600 hover:text-blue-500",children:r?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})]})]})})},Xte=({onSuccess:e,onBack:t,initialData:r})=>{var W;const[n,i]=E.useState({name:"",email:"",phone:"",dob:"",linkedin:"",institute:"",currentDegree:"",branch:"",yearOfStudy:"",certifications:"",achievements:"",technicalSkills:"",softSkills:"",interests:"",hobbies:"",hasInternship:!1,internshipDetails:"",hasExperience:!1,experienceDetails:"",workExperience:"",schoolType:"",experienceLevel:"",studentStatus:"",companyName:"",designation:"",yearsOfExperience:"",yearOfJoining:""}),[a,o]=E.useState(0),[s,l]=E.useState(""),[u,c]=E.useState(!1),[A,d]=E.useState(!1),f=E.useRef(null);E.useEffect(()=>{r&&i(D=>({...D,name:r.name||"",email:r.email||"",phone:r.phone||"",dob:r.dob||"",linkedin:r.linkedin||"",institute:r.institute||"",currentDegree:r.currentDegree||"",branch:r.branch||"",yearOfStudy:r.yearOfStudy||"",certifications:r.certifications||"",achievements:r.achievements||"",technicalSkills:r.technicalSkills||"",softSkills:r.softSkills||"",interests:r.interests||"",hobbies:r.hobbies||"",hasInternship:r.hasInternship||!1,internshipDetails:r.internshipDetails||"",hasExperience:r.hasExperience||!1,experienceDetails:r.experienceDetails||"",workExperience:r.workExperience||"",schoolType:r.schoolType||"",experienceLevel:r.experienceLevel||"",studentStatus:r.studentStatus||"",companyName:r.companyName||"",designation:r.designation||"",yearsOfExperience:r.yearsOfExperience||"",yearOfJoining:r.yearOfJoining||""}))},[r]);const p=[{id:"basics",type:"form",title:"Lets personalize your experience",subtitle:"Share the essentials so we can tailor the templates for you.",fields:[{name:"name",label:"Full Name",type:"text",required:!0},{name:"email",label:"Email Address",type:"email",required:!0},{name:"phone",label:"Phone Number",type:"tel",required:!1,placeholder:"e.g., (123) 456-7890"},{name:"dob",label:"Date of Birth",type:"date",required:!0},{name:"linkedin",label:"LinkedIn",type:"url",required:!1,placeholder:"https://linkedin.com/in/you"}]},{id:"education",type:"education",title:"Education snapshot",subtitle:"Answer one question at a time  each response unlocks the next.",question:{label:"What kind of school is it?",field:"schoolType",options:[{label:"High School",value:"high-school"},{label:"Trade School",value:"trade-school"},{label:"College",value:"college"},{label:"Graduate School",value:"graduate-school"}]},followUp:{label:"What did you study?",fields:[{name:"currentDegree",label:"Degree",required:!0},{name:"branch",label:"Field of Study",required:!0},{name:"institute",label:"Institute / University",required:!0},{name:"yearOfStudy",label:"Year of Study",required:!0}]}},{id:"experience",type:"experience",title:"Experience level",subtitle:"Tell us how far along you are  well adapt the prompts accordingly.",question:{label:"How long have you been working?",field:"experienceLevel",options:[{label:"No Experience",value:"none"},{label:"Less than 3 Years",value:"lt3"},{label:"3-5 Years",value:"3-5"},{label:"5-10 Years",value:"5-10"},{label:"10+ Years",value:"10+"}]},followUp:{label:"Are you a student?",field:"studentStatus",options:[{label:"Yes",value:"yes"},{label:"No",value:"no"},{label:"Recent Graduate",value:"recent"}],autoAdvance:!0}},{id:"skills",type:"form",title:"Skills & highlights",subtitle:"List what makes you stand out.",fields:[{name:"certifications",label:"Certifications",type:"textarea",required:!1,rows:2},{name:"achievements",label:"Achievements",type:"textarea",required:!1,rows:2},{name:"technicalSkills",label:"Technical Skills",type:"textarea",required:!0,rows:3,placeholder:"e.g., React, SQL, Canva"},{name:"softSkills",label:"Soft Skills",type:"textarea",required:!0,rows:3,placeholder:"e.g., Leadership, Communication"},{name:"interests",label:"Interests",type:"textarea",required:!0,rows:3,placeholder:"e.g., Product design, Data storytelling"},{name:"hobbies",label:"Hobbies",type:"textarea",required:!0,rows:3,placeholder:"e.g., Photography, Learning new languages"}]},{id:"work",type:"internships",title:"Internships & experience",subtitle:"Toggle what applies to you so we can request the right details."}],g=p.length,v=a===g-1,m=Math.round((a+1)/g*100),y=D=>{const{name:K,value:ie,type:ee,checked:L}=D.target;i(j=>{const z={...j,[K]:ee==="checkbox"?L:ie};return K==="hasInternship"&&!L&&(z.internshipDetails=""),K==="hasExperience"&&!L&&(z.experienceDetails=""),z}),l("")},w=(D,K,ie={})=>{i(ee=>{const L={...ee,[D]:K};return l(""),D==="experienceLevel"&&K==="none"&&(L.companyName="",L.designation="",L.yearsOfExperience="",L.yearOfJoining="",L.workExperience=""),ie.autoAdvance&&setTimeout(()=>{B(L)},350),L})},b=(D=n,K=a)=>{const ie=p[K];if(!ie)return{valid:!0};if(ie.type==="form"){for(const ee of ie.fields)if(ee.required&&!String(D[ee.name]||"").trim())return{valid:!1,message:`${ee.label} is required.`};return{valid:!0}}if(ie.type==="education"){if(!D.schoolType)return{valid:!1,message:"Please choose the type of school."};for(const ee of ie.followUp.fields)if(ee.required&&!String(D[ee.name]||"").trim())return{valid:!1,message:`${ee.label} is required.`};return{valid:!0}}if(ie.type==="experience"){if(!D.experienceLevel)return{valid:!1,message:"Select your experience level to continue."};if(D.experienceLevel==="none"&&!D.studentStatus)return{valid:!1,message:"Let us know if you are a student."};if(D.experienceLevel&&D.experienceLevel!=="none"){if(!String(D.companyName||"").trim())return{valid:!1,message:"Company name is required."};if(!String(D.designation||"").trim())return{valid:!1,message:"Designation is required."};if(!String(D.yearsOfExperience||"").trim())return{valid:!1,message:"Years of experience is required."};if(!String(D.yearOfJoining||"").trim())return{valid:!1,message:"Year of joining is required."};if(!String(D.workExperience||"").trim())return{valid:!1,message:"Please mention where you have worked or your work experience."}}return{valid:!0}}return ie.type==="internships"?D.hasInternship&&!String(D.internshipDetails||"").trim()?{valid:!1,message:"Share your internship details."}:D.hasExperience&&!String(D.experienceDetails||"").trim()?{valid:!1,message:"Share your professional experience highlights."}:{valid:!0}:{valid:!0}},B=D=>{const K=D||n,{valid:ie,message:ee}=b(K);if(!ie){l(ee||"Please complete this step.");return}l(""),o(L=>Math.min(L+1,g-1))},S=()=>{l(""),o(D=>Math.max(D-1,0))},P=async D=>{D.preventDefault();const{valid:K,message:ie}=b();if(!K){l(ie||"Please complete this step.");return}l("");try{c(!0);const ee={...n};(!ee.certifications||!ee.certifications.trim())&&(ee.certifications=""),(!ee.achievements||!ee.achievements.trim())&&(ee.achievements=""),e(ee)}finally{c(!1)}},k=()=>{var D;(D=f.current)==null||D.click()},I=async D=>{var ee;const K=(ee=D.target.files)==null?void 0:ee[0];if(!K)return;if(!["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(K.type)&&!K.name.endsWith(".pdf")&&!K.name.endsWith(".docx")){Ts("Please upload a PDF or DOCX file");return}if(K.size>10*1024*1024){Ts("File size must be less than 10MB");return}try{d(!0);const L=await WQ(K);L.success&&L.data&&(i(j=>({...j,name:L.data.name||j.name,email:L.data.email||j.email,phone:L.data.phone||j.phone,linkedin:L.data.linkedin||j.linkedin,institute:L.data.institute||j.institute,currentDegree:L.data.currentDegree||j.currentDegree,branch:L.data.branch||j.branch,yearOfStudy:L.data.yearOfStudy||j.yearOfStudy,technicalSkills:L.data.technicalSkills||j.technicalSkills,softSkills:L.data.softSkills||j.softSkills,certifications:L.data.certifications||j.certifications,achievements:L.data.achievements||j.achievements,interests:L.data.interests||j.interests,hobbies:L.data.hobbies||j.hobbies,workExperience:L.data.workExperience||j.workExperience,companyName:L.data.companyName||j.companyName,designation:L.data.designation||j.designation,yearsOfExperience:L.data.yearsOfExperience||j.yearsOfExperience,internshipDetails:L.data.internshipDetails||j.internshipDetails})),Lo("Resume data filled successfully! Please review and complete any missing fields."))}catch(L){console.error("Error parsing resume:",L),Ts("Failed to parse resume. Please try again.")}finally{d(!1),f.current&&(f.current.value="")}},O=D=>{const K="w-full rounded-2xl border border-slate-200 px-4 py-3 text-base focus:outline-none focus:ring-2 focus:ring-blue-500 transition";return D.type==="textarea"?h.jsx("textarea",{name:D.name,value:n[D.name],onChange:y,rows:D.rows||3,placeholder:D.placeholder,className:K,required:D.required},D.name):h.jsx("input",{type:D.type||"text",name:D.name,value:n[D.name],onChange:y,placeholder:D.placeholder,className:K,required:D.required},D.name)},F=D=>h.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:D.options.map(K=>{const ie=n[D.field]===K.value;return h.jsxs("button",{type:"button",onClick:()=>w(D.field,K.value,{autoAdvance:D.autoAdvance}),className:`rounded-2xl border-2 px-5 py-4 text-left transition-all ${ie?"border-blue-600 bg-blue-50 text-blue-700 shadow-sm":"border-slate-200 hover:border-blue-400 hover:bg-slate-50"}`,children:[h.jsx("div",{className:"text-base font-semibold",children:K.label}),K.description&&h.jsx("p",{className:"mt-1 text-sm text-slate-500",children:K.description})]},K.value)})}),N=D=>h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-3",children:D.question.label}),F(D.question)]}),n.schoolType&&h.jsxs("div",{className:"space-y-4",children:[h.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-3",children:D.followUp.label}),h.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:D.followUp.fields.map(K=>h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsxs("label",{className:"text-sm font-medium text-slate-600",children:[K.label,K.required&&h.jsx("span",{className:"ml-1 text-red-500",children:"*"})]}),O({...K,type:K.type||"text"})]},K.name))})]})]}),U=D=>h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-3",children:D.question.label}),F(D.question)]}),n.experienceLevel&&n.experienceLevel!=="none"&&h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Company Details"}),h.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsxs("label",{className:"text-sm font-medium text-slate-600",children:["Company Name ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"companyName",value:n.companyName,onChange:y,className:"w-full rounded-2xl border border-slate-200 px-4 py-3 text-base focus:outline-none focus:ring-2 focus:ring-blue-500 transition",placeholder:"e.g., Google, Microsoft",required:!0})]}),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsxs("label",{className:"text-sm font-medium text-slate-600",children:["Designation ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"designation",value:n.designation,onChange:y,className:"w-full rounded-2xl border border-slate-200 px-4 py-3 text-base focus:outline-none focus:ring-2 focus:ring-blue-500 transition",placeholder:"e.g., Software Engineer, Product Manager",required:!0})]}),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsxs("label",{className:"text-sm font-medium text-slate-600",children:["Years of Experience ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"yearsOfExperience",value:n.yearsOfExperience,onChange:y,className:"w-full rounded-2xl border border-slate-200 px-4 py-3 text-base focus:outline-none focus:ring-2 focus:ring-blue-500 transition",placeholder:"e.g., 3, 5, 7",required:!0})]}),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsxs("label",{className:"text-sm font-medium text-slate-600",children:["Year of Joining ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",name:"yearOfJoining",value:n.yearOfJoining,onChange:y,className:"w-full rounded-2xl border border-slate-200 px-4 py-3 text-base focus:outline-none focus:ring-2 focus:ring-blue-500 transition",placeholder:"e.g., 2020, 2022",required:!0})]})]})]}),h.jsx("div",{className:"space-y-4",children:h.jsxs("div",{children:[h.jsxs("label",{className:"text-sm font-medium text-slate-600 mb-2 block",children:["Where have you worked? ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("textarea",{name:"workExperience",value:n.workExperience,onChange:y,rows:4,className:"w-full rounded-2xl border border-slate-200 px-4 py-3 text-base focus:outline-none focus:ring-2 focus:ring-blue-500 transition",placeholder:"Please mention the companies/organizations where you have worked, your roles, and key responsibilities...",required:!0})]})})]}),n.experienceLevel&&n.experienceLevel==="none"&&h.jsxs("div",{className:"space-y-4",children:[h.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-3",children:D.followUp.label}),F(D.followUp)]})]}),M=()=>h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{className:"rounded-3xl border border-slate-200 p-5",children:[h.jsxs("label",{className:"flex items-start gap-4",children:[h.jsx("input",{type:"checkbox",name:"hasInternship",checked:n.hasInternship,onChange:y,className:"mt-1 h-5 w-5 rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),h.jsxs("div",{children:[h.jsx("div",{className:"text-lg font-semibold text-slate-900",children:"I have completed an internship"}),h.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Include standout projects, roles or tools you used so we can highlight them perfectly."})]})]}),n.hasInternship&&h.jsx("div",{className:"mt-4",children:h.jsx("textarea",{name:"internshipDetails",value:n.internshipDetails,onChange:y,rows:4,className:"w-full rounded-2xl border border-slate-200 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Share your internship project, responsibilities, tools and wins.",required:!0})})]}),h.jsxs("div",{className:"rounded-3xl border border-slate-200 p-5",children:[h.jsxs("label",{className:"flex items-start gap-4",children:[h.jsx("input",{type:"checkbox",name:"hasExperience",checked:n.hasExperience,onChange:y,className:"mt-1 h-5 w-5 rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),h.jsxs("div",{children:[h.jsx("div",{className:"text-lg font-semibold text-slate-900",children:"I have professional experience"}),h.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Tell us about organisations, roles, and measurable outcomes so templates can spotlight them."})]})]}),n.hasExperience&&h.jsx("div",{className:"mt-4",children:h.jsx("textarea",{name:"experienceDetails",value:n.experienceDetails,onChange:y,rows:4,className:"w-full rounded-2xl border border-slate-200 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Mention role, company, duration, impact, metrics...",required:!0})})]})]}),V=()=>{const D=p[a];return D.type==="education"?N(D):D.type==="experience"?U(D):D.type==="internships"?M():h.jsx("div",{className:"grid gap-5 md:grid-cols-2",children:D.fields.filter(K=>((K.name==="certifications"||K.name==="achievements")&&!K.required&&n[K.name],!0)).map(K=>h.jsxs("div",{className:`flex flex-col gap-2 ${K.fullWidth?"md:col-span-2":""}`,children:[h.jsxs("label",{className:"text-sm font-medium text-slate-600",children:[K.label,K.required&&h.jsx("span",{className:"ml-1 text-red-500",children:"*"})]}),O(K)]},K.name))})},Q=[{label:"Degree",value:n.currentDegree||""},{label:"Field",value:n.branch||""},{label:"Institute",value:n.institute||""},{label:"Experience",value:n.experienceLevel?(W=p[2].question.options.find(D=>D.value===n.experienceLevel))==null?void 0:W.label:""}];return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sky-50 via-white to-indigo-50 px-4 py-10",children:h.jsxs("div",{className:"mx-auto max-w-6xl space-y-6",children:[h.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm uppercase tracking-wide text-blue-600 font-semibold",children:"Profile builder"}),h.jsx("h2",{className:"text-3xl font-bold text-slate-900 mt-1",children:"Craft a profile that feels alive"})]}),t&&h.jsx("button",{type:"button",onClick:t,className:"rounded-full border border-slate-300 px-5 py-2 text-sm font-semibold text-slate-600 hover:border-slate-500 transition",children:" Back"})]}),h.jsxs("div",{className:"overflow-hidden rounded-3xl bg-white shadow-2xl shadow-slate-200/80 lg:grid lg:grid-cols-[minmax(0,1fr)_320px]",children:[h.jsxs("form",{onSubmit:P,className:"p-6 sm:p-10 space-y-8",children:[h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex items-center justify-between text-sm font-semibold text-slate-500",children:[h.jsxs("span",{children:["Step ",a+1," of ",g]}),h.jsxs("span",{children:[m,"% complete"]})]}),h.jsx("div",{className:"h-2 w-full rounded-full bg-slate-100",children:h.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-blue-500 to-indigo-500 transition-all",style:{width:`${m}%`}})})]}),h.jsx("div",{children:h.jsxs("div",{className:"flex items-start justify-between gap-4",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"text-2xl font-semibold text-slate-900",children:p[a].title}),h.jsx("p",{className:"mt-2 text-slate-500",children:p[a].subtitle})]}),a===0&&h.jsxs("div",{className:"flex-shrink-0",children:[h.jsx("input",{ref:f,type:"file",accept:".pdf,.docx",onChange:I,className:"hidden"}),h.jsxs("button",{type:"button",onClick:k,disabled:A,className:"flex items-center gap-2 rounded-2xl bg-blue-600 px-4 py-2.5 text-sm font-semibold text-white shadow-md hover:bg-blue-700 transition disabled:opacity-60 disabled:cursor-not-allowed",title:"Upload your resume to auto-fill the form",children:[h.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),A?"Parsing...":"Fill with Resume"]})]})]})}),V(),s&&h.jsx("p",{className:"rounded-2xl bg-red-50 px-4 py-3 text-sm font-semibold text-red-600",children:s}),h.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 pt-4",children:[h.jsx("button",{type:"button",onClick:a===0?t:S,className:`rounded-2xl border px-6 py-3 font-semibold transition ${a===0&&!t?"cursor-not-allowed border-slate-200 text-slate-300":"border-slate-300 text-slate-600 hover:border-slate-500"}`,disabled:a===0&&!t,children:"Back"}),v?h.jsx("button",{type:"submit",className:"rounded-2xl bg-gradient-to-r from-blue-600 to-indigo-600 px-8 py-3 font-semibold text-white shadow-lg shadow-blue-200 transition hover:opacity-90 disabled:opacity-60",disabled:u,children:u?"Saving...":"Generate my profile"}):h.jsx("button",{type:"button",onClick:()=>B(),className:"rounded-2xl bg-slate-900 px-8 py-3 font-semibold text-white transition hover:bg-slate-800",children:"Continue"})]})]}),h.jsxs("aside",{className:"bg-slate-900 text-white p-8 space-y-8",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm uppercase tracking-widest text-slate-400",children:"Live preview"}),h.jsx("h4",{className:"mt-2 text-2xl font-semibold",children:"Your story takes shape"}),h.jsx("p",{className:"mt-3 text-sm text-slate-300",children:"Each response instantly feeds the AI so we can recommend templates, tones, and layouts aligned with where you are in your journey."})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("p",{className:"text-xs uppercase tracking-wider text-slate-400",children:"Snapshot"}),h.jsx("div",{className:"space-y-3",children:Q.map(D=>h.jsxs("div",{className:"rounded-2xl bg-white/5 px-4 py-3",children:[h.jsx("p",{className:"text-xs text-slate-400",children:D.label}),h.jsx("p",{className:"text-base font-semibold text-white",children:D.value})]},D.label))})]}),h.jsxs("div",{className:"rounded-2xl border border-white/10 p-4",children:[h.jsx("p",{className:"text-sm font-semibold text-white",children:"Tips"}),h.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-4 text-xs text-slate-300",children:[h.jsx("li",{children:"Use bullets or commas for skills  well format them automatically."}),h.jsx("li",{children:"Numbers stand out. Add metrics wherever you can."}),h.jsx("li",{children:"Unsure about something? You can always come back and edit."})]})]})]})]})]})})},Yte=({imageUrl:e,visible:t})=>{if(E.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[t]),!t||!e)return null;const r=e.startsWith("http")?e:`http://localhost:8080${e}`;return Vx.createPortal(h.jsx("div",{className:"hover-preview-backdrop",children:h.jsx("div",{className:"hover-preview-container",children:h.jsx("img",{src:r,alt:"Template preview",className:"hover-preview-image",onError:n=>{n.target.style.display="none"}})})}),document.body)},LP=["professional","bio","story","industry","modern-professional","executive","professional-profile","cover"],Jte=new Set(["formal-letter","portfolio"]),Zte=({onTemplateSelect:e,onCoverLetterSelect:t,onBack:r})=>{const[n,i]=E.useState([]),[a,o]=E.useState(!0),[s,l]=E.useState(null),[u,c]=E.useState(null),[A,d]=E.useState(null),[f,p]=E.useState(!1),g=E.useRef({});E.useEffect(()=>{let m=!0;return(async()=>{var w,b,B,S,P,k;try{const I=await tN();if(!m)return;const F=(Array.isArray(I)?I:(I==null?void 0:I.data)||[]).map(N=>({id:N.id,name:N.name,description:N.description,icon:N.icon,previewImageUrl:N.previewImageUrl||null})).filter(N=>!Jte.has(N.id));i(F)}catch(I){if(!m)return;console.error("Template fetch error:",I);const O=((b=(w=I.response)==null?void 0:w.data)==null?void 0:b.message)||((S=(B=I.response)==null?void 0:B.data)==null?void 0:S.error)||((k=(P=I.response)==null?void 0:P.data)==null?void 0:k.data)||I.message||"Unable to load templates right now. Please try again.";l(O),i([])}finally{m&&o(!1)}})(),()=>{m=!1}},[]),E.useEffect(()=>()=>{Object.values(g.current).forEach(m=>{m&&clearTimeout(m)})},[]);const v=E.useMemo(()=>{const m="";return[...n].sort((w,b)=>{const B=LP.indexOf(w.id),S=LP.indexOf(b.id);return B===-1&&S===-1?w.name.localeCompare(b.name):B===-1?1:S===-1?-1:B-S}).map(w=>({...w,displayName:w.name||w.id,displayDescription:w.description||"Personalized profile template",displayIcon:w.icon||m,previewImageUrl:w.previewImageUrl||null}))},[n]);return h.jsx("div",{className:"template-selection",children:h.jsxs("div",{className:"max-w-6xl mx-auto",children:[h.jsxs("div",{className:"template-selection__header",children:[h.jsx("p",{className:"template-selection__eyebrow",children:"Templates"}),h.jsx("h2",{children:"Choose Your Profile Template"}),h.jsx("p",{children:"Hover for sec to preview templates"})]}),a&&h.jsx("div",{className:"template-selection__status",children:"Loading templates"}),!a&&s&&h.jsx("div",{className:"template-selection__status error",children:s}),v.length===0&&!a&&!s&&h.jsx("div",{className:"template-selection__status",children:"No templates available."}),v.length>0&&h.jsx("div",{className:"template-grid grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:v.map(m=>h.jsxs("button",{type:"button",onClick:y=>{p(!1),d(null),m.id==="cover"?t==null||t():e==null||e(m.id)},className:"glass-card",onMouseEnter:()=>{c(m.id),g.current[m.id]&&(clearTimeout(g.current[m.id]),delete g.current[m.id]),m.previewImageUrl&&(g.current[m.id]=setTimeout(()=>{d(m.previewImageUrl),p(!0)},1e3))},onMouseLeave:()=>{c(null),g.current[m.id]&&(clearTimeout(g.current[m.id]),delete g.current[m.id]),p(!1),d(null)},children:[h.jsx("span",{className:"glass-card__glow","aria-hidden":"true"}),h.jsx("span",{className:"glass-card__icon",children:m.displayIcon}),h.jsxs("div",{className:"glass-card__text",children:[h.jsx("h3",{children:m.displayName}),h.jsx("p",{children:m.displayDescription}),u===m.id&&!f&&m.previewImageUrl&&h.jsx("p",{style:{marginTop:"0.5rem",fontSize:"0.85rem",color:"#fcd34d",fontStyle:"italic"},children:"Hold for 1 second to preview..."})]}),h.jsx("span",{className:"glass-card__cta",children:"View template"})]},m.id))}),h.jsx(Yte,{imageUrl:A,visible:f})]})})},ere=({onSubmit:e,onBack:t})=>{const[r,n]=E.useState({hiringManagerName:"",companyName:"",companyAddress:"",positionTitle:"",relevantExperience:"",keyAchievement:"",strengths:"",closingNote:""}),i=o=>{const{name:s,value:l}=o.target;n(u=>({...u,[s]:l}))},a=o=>{o.preventDefault(),e(r)};return h.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[h.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Cover Letter Details"}),h.jsx("p",{className:"mb-6 text-gray-600",children:"Provide the company-specific information to tailor your cover letter."}),h.jsxs("form",{onSubmit:a,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block mb-1",children:"Hiring Manager's Name"}),h.jsx("input",{type:"text",name:"hiringManagerName",value:r.hiringManagerName,onChange:i,className:"w-full px-3 py-2 border rounded",placeholder:"e.g., Priyanshu Pandey"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block mb-1",children:["Company Name ",h.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),h.jsx("input",{type:"text",name:"companyName",value:r.companyName,onChange:i,required:!0,className:"w-full px-3 py-2 border rounded",placeholder:"e.g., BrightFuture Tech Pvt. Ltd."})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block mb-1",children:["Company Address ",h.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),h.jsx("input",{type:"text",name:"companyAddress",value:r.companyAddress,onChange:i,required:!0,className:"w-full px-3 py-2 border rounded",placeholder:"e.g., Tower 5, Electronic City, Banglore"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block mb-1",children:["Position / Job Title ",h.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),h.jsx("input",{type:"text",name:"positionTitle",value:r.positionTitle,onChange:i,required:!0,className:"w-full px-3 py-2 border rounded",placeholder:"e.g.,Junior Developer "})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block mb-1",children:"Relevant Experience or Motivation"}),h.jsx("textarea",{name:"relevantExperience",value:r.relevantExperience,onChange:i,rows:"3",className:"w-full px-3 py-2 border rounded",placeholder:"Briefly describe why you are interested in this role"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block mb-1",children:"Key Achievement to Highlight"}),h.jsx("textarea",{name:"keyAchievement",value:r.keyAchievement,onChange:i,rows:"3",className:"w-full px-3 py-2 border rounded",placeholder:"Share one accomplishment that showcases your impact"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block mb-1",children:"Strengths & Soft Skills"}),h.jsx("textarea",{name:"strengths",value:r.strengths,onChange:i,rows:"3",className:"w-full px-3 py-2 border rounded",placeholder:"Mention qualities that make you a great teammate"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block mb-1",children:"Closing Note (Optional)"}),h.jsx("textarea",{name:"closingNote",value:r.closingNote,onChange:i,rows:"2",className:"w-full px-3 py-2 border rounded",placeholder:"Add any final message you want to convey"})]}),h.jsx("div",{className:"flex items-center justify-end gap-4",children:h.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Generate Cover Letter"})})]})]})},JQ=({onSubmit:e,onBack:t,profileData:r,templateLabel:n="selected template"})=>{const[i,a]=E.useState(null),[o,s]=E.useState(null),[l,u]=E.useState(null),c=d=>{const f=d.target.files[0];if(!f)return;if(!f.type.startsWith("image/")){u("Please select a valid image file");return}if(f.size>5*1024*1024){u("Image size should be less than 5MB");return}u(null),a(f);const p=new FileReader;p.onloadend=()=>{s(p.result)},p.readAsDataURL(f)},A=d=>{if(d.preventDefault(),!i){u("Please select an image");return}const f=new FileReader;f.onloadend=()=>{const p=f.result;e({...r,profileImage:p})},f.readAsDataURL(i)};return h.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[h.jsxs("h2",{className:"text-2xl font-bold mb-2",children:["Upload Photo for ",n]}),h.jsxs("p",{className:"mb-6 text-gray-600",children:["Add a clear headshot to personalize your ",n.toLowerCase(),"."]}),h.jsxs("form",{onSubmit:A,className:"space-y-6",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block mb-2 text-sm font-medium",children:["Profile Photo ",h.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),h.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-blue-500 transition-colors",children:[h.jsx("input",{type:"file",accept:"image/*",onChange:c,className:"hidden",id:"image-upload"}),h.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer flex flex-col items-center",children:[o?h.jsx("div",{className:"mb-4",children:h.jsx("img",{src:o,alt:"Preview",className:"max-w-xs max-h-64 rounded-lg shadow-md mx-auto"})}):h.jsx("div",{className:"mb-4",children:h.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:h.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),h.jsx("span",{className:"text-blue-600 hover:text-blue-700 font-medium",children:o?"Change Image":"Click to upload or drag and drop"}),h.jsx("span",{className:"text-sm text-gray-500 mt-2",children:"PNG, JPG, GIF up to 5MB"})]})]}),l&&h.jsx("p",{className:"mt-2 text-sm text-red-600",children:l})]}),h.jsxs("div",{className:"flex items-center justify-between gap-4",children:[h.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded border border-gray-300 text-gray-700 hover:bg-gray-100",children:"Back"}),h.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed",disabled:!i,children:"Continue"})]})]})]})},tre="modulepreload",rre=function(e){return"/"+e},UP={},Om=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=rre(l),l in UP)return;UP[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const A=document.createElement("link");if(A.rel=u?"stylesheet":tre,u||(A.as="script"),A.crossOrigin="",A.href=l,s&&A.setAttribute("nonce",s),document.head.appendChild(A),u)return new Promise((d,f)=>{A.addEventListener("load",d),A.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return t().catch(a)})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var QE=function(e,t){return QE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},QE(e,t)};function qs(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");QE(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var HE=function(){return HE=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},HE.apply(this,arguments)};function Fa(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(c){try{u(n.next(c))}catch(A){o(A)}}function l(c){try{u(n.throw(c))}catch(A){o(A)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((n=n.apply(e,[])).next())})}function la(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(c){u=[6,c],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function D0(e,t,r){if(arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||t)}var Ou=function(){function e(t,r,n,i){this.left=t,this.top=r,this.width=n,this.height=i}return e.prototype.add=function(t,r,n,i){return new e(this.left+t,this.top+r,this.width+n,this.height+i)},e.fromClientRect=function(t,r){return new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height)},e.fromDOMRectList=function(t,r){var n=Array.from(r).find(function(i){return i.width!==0});return n?new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),r2=function(e,t){return Ou.fromClientRect(e,t.getBoundingClientRect())},nre=function(e){var t=e.body,r=e.documentElement;if(!t||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(t.scrollWidth,r.scrollWidth),Math.max(t.offsetWidth,r.offsetWidth),Math.max(t.clientWidth,r.clientWidth)),i=Math.max(Math.max(t.scrollHeight,r.scrollHeight),Math.max(t.offsetHeight,r.offsetHeight),Math.max(t.clientHeight,r.clientHeight));return new Ou(0,0,n,i)},n2=function(e){for(var t=[],r=0,n=e.length;r<n;){var i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var a=e.charCodeAt(r++);(a&64512)===56320?t.push(((i&1023)<<10)+(a&1023)+65536):(t.push(i),r--)}else t.push(i)}return t},On=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],i=-1,a="";++i<r;){var o=e[i];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(i+1===r||n.length>16384)&&(a+=String.fromCharCode.apply(String,n),n.length=0)}return a},RP="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ire=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var j0=0;j0<RP.length;j0++)ire[RP.charCodeAt(j0)]=j0;var DP="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pm=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var M0=0;M0<DP.length;M0++)pm[DP.charCodeAt(M0)]=M0;var are=function(e){var t=e.length*.75,r=e.length,n,i=0,a,o,s,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),c=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<r;n+=4)a=pm[e.charCodeAt(n)],o=pm[e.charCodeAt(n+1)],s=pm[e.charCodeAt(n+2)],l=pm[e.charCodeAt(n+3)],c[i++]=a<<2|o>>4,c[i++]=(o&15)<<4|s>>2,c[i++]=(s&3)<<6|l&63;return u},ore=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},sre=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},lf=5,nN=11,VB=2,lre=nN-lf,ZQ=65536>>lf,ure=1<<lf,GB=ure-1,cre=1024>>lf,Are=ZQ+cre,fre=Are,dre=32,hre=fre+dre,pre=65536>>nN,mre=1<<lre,gre=mre-1,jP=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},vre=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},yre=function(e,t){var r=are(e),n=Array.isArray(r)?sre(r):new Uint32Array(r),i=Array.isArray(r)?ore(r):new Uint16Array(r),a=24,o=jP(i,a/2,n[4]/2),s=n[5]===2?jP(i,(a+n[4])/2):vre(n,Math.ceil((a+n[4])/4));return new wre(n[0],n[1],n[2],n[3],o,s)},wre=function(){function e(t,r,n,i,a,o){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=a,this.data=o}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>lf],r=(r<<VB)+(t&GB),this.data[r];if(t<=65535)return r=this.index[ZQ+(t-55296>>lf)],r=(r<<VB)+(t&GB),this.data[r];if(t<this.highStart)return r=hre-pre+(t>>nN),r=this.index[r],r+=t>>lf&gre,r=this.index[r],r=(r<<VB)+(t&GB),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),MP="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xre=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Q0=0;Q0<MP.length;Q0++)xre[MP.charCodeAt(Q0)]=Q0;var bre="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",QP=50,Bre=1,e8=2,t8=3,Cre=4,Ere=5,HP=7,r8=8,$P=9,Tc=10,$E=11,WP=12,WE=13,Sre=14,mm=15,KE=16,H0=17,zp=18,Nre=19,KP=20,zE=21,Vp=22,qB=23,id=24,wo=25,gm=26,vm=27,ad=28,Fre=29,WA=30,Ire=31,$0=32,W0=33,VE=34,GE=35,qE=36,Ag=37,XE=38,d1=39,h1=40,XB=41,n8=42,_re=43,kre=[9001,65288],i8="!",ar="",K0="",YE=yre(bre),au=[WA,qE],JE=[Bre,e8,t8,Ere],a8=[Tc,r8],zP=[vm,gm],Pre=JE.concat(a8),VP=[XE,d1,h1,VE,GE],Ore=[mm,WE],Tre=function(e,t){t===void 0&&(t="strict");var r=[],n=[],i=[];return e.forEach(function(a,o){var s=YE.get(a);if(s>QP?(i.push(!0),s-=QP):i.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(a)!==-1)return n.push(o),r.push(KE);if(s===Cre||s===$E){if(o===0)return n.push(o),r.push(WA);var l=r[o-1];return Pre.indexOf(l)===-1?(n.push(n[o-1]),r.push(l)):(n.push(o),r.push(WA))}if(n.push(o),s===Ire)return r.push(t==="strict"?zE:Ag);if(s===n8||s===Fre)return r.push(WA);if(s===_re)return a>=131072&&a<=196605||a>=196608&&a<=262141?r.push(Ag):r.push(WA);r.push(s)}),[n,r,i]},YB=function(e,t,r,n){var i=n[r];if(Array.isArray(e)?e.indexOf(i)!==-1:e===i)for(var a=r;a<=n.length;){a++;var o=n[a];if(o===t)return!0;if(o!==Tc)break}if(i===Tc)for(var a=r;a>0;){a--;var s=n[a];if(Array.isArray(e)?e.indexOf(s)!==-1:e===s)for(var l=r;l<=n.length;){l++;var o=n[l];if(o===t)return!0;if(o!==Tc)break}if(s!==Tc)break}return!1},GP=function(e,t){for(var r=e;r>=0;){var n=t[r];if(n===Tc)r--;else return n}return 0},Lre=function(e,t,r,n,i){if(r[n]===0)return ar;var a=n-1;if(Array.isArray(i)&&i[a]===!0)return ar;var o=a-1,s=a+1,l=t[a],u=o>=0?t[o]:0,c=t[s];if(l===e8&&c===t8)return ar;if(JE.indexOf(l)!==-1)return i8;if(JE.indexOf(c)!==-1||a8.indexOf(c)!==-1)return ar;if(GP(a,t)===r8)return K0;if(YE.get(e[a])===$E||(l===$0||l===W0)&&YE.get(e[s])===$E||l===HP||c===HP||l===$P||[Tc,WE,mm].indexOf(l)===-1&&c===$P||[H0,zp,Nre,id,ad].indexOf(c)!==-1||GP(a,t)===Vp||YB(qB,Vp,a,t)||YB([H0,zp],zE,a,t)||YB(WP,WP,a,t))return ar;if(l===Tc)return K0;if(l===qB||c===qB)return ar;if(c===KE||l===KE)return K0;if([WE,mm,zE].indexOf(c)!==-1||l===Sre||u===qE&&Ore.indexOf(l)!==-1||l===ad&&c===qE||c===KP||au.indexOf(c)!==-1&&l===wo||au.indexOf(l)!==-1&&c===wo||l===vm&&[Ag,$0,W0].indexOf(c)!==-1||[Ag,$0,W0].indexOf(l)!==-1&&c===gm||au.indexOf(l)!==-1&&zP.indexOf(c)!==-1||zP.indexOf(l)!==-1&&au.indexOf(c)!==-1||[vm,gm].indexOf(l)!==-1&&(c===wo||[Vp,mm].indexOf(c)!==-1&&t[s+1]===wo)||[Vp,mm].indexOf(l)!==-1&&c===wo||l===wo&&[wo,ad,id].indexOf(c)!==-1)return ar;if([wo,ad,id,H0,zp].indexOf(c)!==-1)for(var A=a;A>=0;){var d=t[A];if(d===wo)return ar;if([ad,id].indexOf(d)!==-1)A--;else break}if([vm,gm].indexOf(c)!==-1)for(var A=[H0,zp].indexOf(l)!==-1?o:a;A>=0;){var d=t[A];if(d===wo)return ar;if([ad,id].indexOf(d)!==-1)A--;else break}if(XE===l&&[XE,d1,VE,GE].indexOf(c)!==-1||[d1,VE].indexOf(l)!==-1&&[d1,h1].indexOf(c)!==-1||[h1,GE].indexOf(l)!==-1&&c===h1||VP.indexOf(l)!==-1&&[KP,gm].indexOf(c)!==-1||VP.indexOf(c)!==-1&&l===vm||au.indexOf(l)!==-1&&au.indexOf(c)!==-1||l===id&&au.indexOf(c)!==-1||au.concat(wo).indexOf(l)!==-1&&c===Vp&&kre.indexOf(e[s])===-1||au.concat(wo).indexOf(c)!==-1&&l===zp)return ar;if(l===XB&&c===XB){for(var f=r[a],p=1;f>0&&(f--,t[f]===XB);)p++;if(p%2!==0)return ar}return l===$0&&c===W0?ar:K0},Ure=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var r=Tre(e,t.lineBreak),n=r[0],i=r[1],a=r[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(i=i.map(function(s){return[wo,WA,n8].indexOf(s)!==-1?Ag:s}));var o=t.wordBreak==="keep-all"?a.map(function(s,l){return s&&e[l]>=19968&&e[l]<=40959}):void 0;return[n,i,o]},Rre=function(){function e(t,r,n,i){this.codePoints=t,this.required=r===i8,this.start=n,this.end=i}return e.prototype.slice=function(){return On.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),Dre=function(e,t){var r=n2(e),n=Ure(r,t),i=n[0],a=n[1],o=n[2],s=r.length,l=0,u=0;return{next:function(){if(u>=s)return{done:!0,value:null};for(var c=ar;u<s&&(c=Lre(r,a,i,++u,o))===ar;);if(c!==ar||u===s){var A=new Rre(r,c,l,u);return l=u,{value:A,done:!1}}return{done:!0,value:null}}}},jre=1,Mre=2,Zg=4,qP=8,tw=10,XP=47,Tm=92,Qre=9,Hre=32,z0=34,Gp=61,$re=35,Wre=36,Kre=37,V0=39,G0=40,qp=41,zre=95,Qa=45,Vre=33,Gre=60,qre=62,Xre=64,Yre=91,Jre=93,Zre=61,ene=123,q0=63,tne=125,YP=124,rne=126,nne=128,JP=65533,JB=42,YA=43,ine=44,ane=58,one=59,fg=46,sne=0,lne=8,une=11,cne=14,Ane=31,fne=127,cl=-1,o8=48,s8=97,l8=101,dne=102,hne=117,pne=122,u8=65,c8=69,A8=70,mne=85,gne=90,Aa=function(e){return e>=o8&&e<=57},vne=function(e){return e>=55296&&e<=57343},od=function(e){return Aa(e)||e>=u8&&e<=A8||e>=s8&&e<=dne},yne=function(e){return e>=s8&&e<=pne},wne=function(e){return e>=u8&&e<=gne},xne=function(e){return yne(e)||wne(e)},bne=function(e){return e>=nne},X0=function(e){return e===tw||e===Qre||e===Hre},rw=function(e){return xne(e)||bne(e)||e===zre},ZP=function(e){return rw(e)||Aa(e)||e===Qa},Bne=function(e){return e>=sne&&e<=lne||e===une||e>=cne&&e<=Ane||e===fne},Sc=function(e,t){return e!==Tm?!1:t!==tw},Y0=function(e,t,r){return e===Qa?rw(t)||Sc(t,r):rw(e)?!0:!!(e===Tm&&Sc(e,t))},ZB=function(e,t,r){return e===YA||e===Qa?Aa(t)?!0:t===fg&&Aa(r):Aa(e===fg?t:e)},Cne=function(e){var t=0,r=1;(e[t]===YA||e[t]===Qa)&&(e[t]===Qa&&(r=-1),t++);for(var n=[];Aa(e[t]);)n.push(e[t++]);var i=n.length?parseInt(On.apply(void 0,n),10):0;e[t]===fg&&t++;for(var a=[];Aa(e[t]);)a.push(e[t++]);var o=a.length,s=o?parseInt(On.apply(void 0,a),10):0;(e[t]===c8||e[t]===l8)&&t++;var l=1;(e[t]===YA||e[t]===Qa)&&(e[t]===Qa&&(l=-1),t++);for(var u=[];Aa(e[t]);)u.push(e[t++]);var c=u.length?parseInt(On.apply(void 0,u),10):0;return r*(i+s*Math.pow(10,-o))*Math.pow(10,l*c)},Ene={type:2},Sne={type:3},Nne={type:4},Fne={type:13},Ine={type:8},_ne={type:21},kne={type:9},Pne={type:10},One={type:11},Tne={type:12},Lne={type:14},J0={type:23},Une={type:1},Rne={type:25},Dne={type:24},jne={type:26},Mne={type:27},Qne={type:28},Hne={type:29},$ne={type:31},ZE={type:32},f8=function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(n2(t))},e.prototype.read=function(){for(var t=[],r=this.consumeToken();r!==ZE;)t.push(r),r=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case z0:return this.consumeStringToken(z0);case $re:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(ZP(r)||Sc(n,i)){var a=Y0(r,n,i)?Mre:jre,o=this.consumeName();return{type:5,value:o,flags:a}}break;case Wre:if(this.peekCodePoint(0)===Gp)return this.consumeCodePoint(),Fne;break;case V0:return this.consumeStringToken(V0);case G0:return Ene;case qp:return Sne;case JB:if(this.peekCodePoint(0)===Gp)return this.consumeCodePoint(),Lne;break;case YA:if(ZB(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case ine:return Nne;case Qa:var s=t,l=this.peekCodePoint(0),u=this.peekCodePoint(1);if(ZB(s,l,u))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(Y0(s,l,u))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(l===Qa&&u===qre)return this.consumeCodePoint(),this.consumeCodePoint(),Dne;break;case fg:if(ZB(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case XP:if(this.peekCodePoint(0)===JB)for(this.consumeCodePoint();;){var c=this.consumeCodePoint();if(c===JB&&(c=this.consumeCodePoint(),c===XP))return this.consumeToken();if(c===cl)return this.consumeToken()}break;case ane:return jne;case one:return Mne;case Gre:if(this.peekCodePoint(0)===Vre&&this.peekCodePoint(1)===Qa&&this.peekCodePoint(2)===Qa)return this.consumeCodePoint(),this.consumeCodePoint(),Rne;break;case Xre:var A=this.peekCodePoint(0),d=this.peekCodePoint(1),f=this.peekCodePoint(2);if(Y0(A,d,f)){var o=this.consumeName();return{type:7,value:o}}break;case Yre:return Qne;case Tm:if(Sc(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case Jre:return Hne;case Zre:if(this.peekCodePoint(0)===Gp)return this.consumeCodePoint(),Ine;break;case ene:return One;case tne:return Tne;case hne:case mne:var p=this.peekCodePoint(0),g=this.peekCodePoint(1);return p===YA&&(od(g)||g===q0)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case YP:if(this.peekCodePoint(0)===Gp)return this.consumeCodePoint(),kne;if(this.peekCodePoint(0)===YP)return this.consumeCodePoint(),_ne;break;case rne:if(this.peekCodePoint(0)===Gp)return this.consumeCodePoint(),Pne;break;case cl:return ZE}return X0(t)?(this.consumeWhiteSpace(),$ne):Aa(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):rw(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:On(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],r=this.consumeCodePoint();od(r)&&t.length<6;)t.push(r),r=this.consumeCodePoint();for(var n=!1;r===q0&&t.length<6;)t.push(r),r=this.consumeCodePoint(),n=!0;if(n){var i=parseInt(On.apply(void 0,t.map(function(l){return l===q0?o8:l})),16),a=parseInt(On.apply(void 0,t.map(function(l){return l===q0?A8:l})),16);return{type:30,start:i,end:a}}var o=parseInt(On.apply(void 0,t),16);if(this.peekCodePoint(0)===Qa&&od(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var s=[];od(r)&&s.length<6;)s.push(r),r=this.consumeCodePoint();var a=parseInt(On.apply(void 0,s),16);return{type:30,start:o,end:a}}else return{type:30,start:o,end:o}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===G0?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===G0?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===cl)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===V0||r===z0){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===cl||this.peekCodePoint(0)===qp)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),J0)}for(;;){var i=this.consumeCodePoint();if(i===cl||i===qp)return{type:22,value:On.apply(void 0,t)};if(X0(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===cl||this.peekCodePoint(0)===qp?(this.consumeCodePoint(),{type:22,value:On.apply(void 0,t)}):(this.consumeBadUrlRemnants(),J0);if(i===z0||i===V0||i===G0||Bne(i))return this.consumeBadUrlRemnants(),J0;if(i===Tm)if(Sc(i,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),J0;else t.push(i)}},e.prototype.consumeWhiteSpace=function(){for(;X0(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===qp||t===cl)return;Sc(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var r=5e4,n="";t>0;){var i=Math.min(r,t);n+=On.apply(void 0,this._value.splice(0,i)),t-=i}return this._value.shift(),n},e.prototype.consumeStringToken=function(t){var r="",n=0;do{var i=this._value[n];if(i===cl||i===void 0||i===t)return r+=this.consumeStringSlice(n),{type:0,value:r};if(i===tw)return this._value.splice(0,n),Une;if(i===Tm){var a=this._value[n+1];a!==cl&&a!==void 0&&(a===tw?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):Sc(i,a)&&(r+=this.consumeStringSlice(n),r+=On(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},e.prototype.consumeNumber=function(){var t=[],r=Zg,n=this.peekCodePoint(0);for((n===YA||n===Qa)&&t.push(this.consumeCodePoint());Aa(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(n===fg&&Aa(i))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=qP;Aa(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0),i=this.peekCodePoint(1);var a=this.peekCodePoint(2);if((n===c8||n===l8)&&((i===YA||i===Qa)&&Aa(a)||Aa(i)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=qP;Aa(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[Cne(t),r]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),r=t[0],n=t[1],i=this.peekCodePoint(0),a=this.peekCodePoint(1),o=this.peekCodePoint(2);if(Y0(i,a,o)){var s=this.consumeName();return{type:15,number:r,flags:n,unit:s}}return i===Kre?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(od(t)){for(var r=On(t);od(this.peekCodePoint(0))&&r.length<6;)r+=On(this.consumeCodePoint());X0(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||vne(n)||n>1114111?JP:n}return t===cl?JP:t},e.prototype.consumeName=function(){for(var t="";;){var r=this.consumeCodePoint();if(ZP(r))t+=On(r);else if(Sc(r,this.peekCodePoint(0)))t+=On(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),t}},e}(),d8=function(){function e(t){this._tokens=t}return e.create=function(t){var r=new f8;return r.write(t),new e(r.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var r=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var r=this.consumeComponentValue();if(r.type===32)return t;t.push(r),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var r={type:t,values:[]},n=this.consumeToken();;){if(n.type===32||Kne(n,t))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var r={name:t.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?ZE:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e}(),ev=function(e){return e.type===15},zh=function(e){return e.type===17},Ir=function(e){return e.type===20},Wne=function(e){return e.type===0},eS=function(e,t){return Ir(e)&&e.value===t},h8=function(e){return e.type!==31},xh=function(e){return e.type!==31&&e.type!==4},Ul=function(e){var t=[],r=[];return e.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&t.push(r),t},Kne=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},iA=function(e){return e.type===17||e.type===15},Gn=function(e){return e.type===16||iA(e)},p8=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Xi={type:17,number:0,flags:Zg},iN={type:16,number:50,flags:Zg},Lc={type:16,number:100,flags:Zg},ym=function(e,t,r){var n=e[0],i=e[1];return[$r(n,t),$r(typeof i<"u"?i:n,r)]},$r=function(e,t){if(e.type===16)return e.number/100*t;if(ev(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},m8="deg",g8="grad",v8="rad",y8="turn",i2={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case m8:return Math.PI*t.number/180;case g8:return Math.PI/200*t.number;case v8:return t.number;case y8:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},w8=function(e){return e.type===15&&(e.unit===m8||e.unit===g8||e.unit===v8||e.unit===y8)},x8=function(e){var t=e.filter(Ir).map(function(r){return r.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Xi,Xi];case"to top":case"bottom":return ns(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Xi,Lc];case"to right":case"left":return ns(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Lc,Lc];case"to bottom":case"top":return ns(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Lc,Xi];case"to left":case"right":return ns(270)}return 0},ns=function(e){return Math.PI*e/180},Xc={name:"color",parse:function(e,t){if(t.type===18){var r=zne[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return r(e,t.values)}if(t.type===5){if(t.value.length===3){var n=t.value.substring(0,1),i=t.value.substring(1,2),a=t.value.substring(2,3);return Uc(parseInt(n+n,16),parseInt(i+i,16),parseInt(a+a,16),1)}if(t.value.length===4){var n=t.value.substring(0,1),i=t.value.substring(1,2),a=t.value.substring(2,3),o=t.value.substring(3,4);return Uc(parseInt(n+n,16),parseInt(i+i,16),parseInt(a+a,16),parseInt(o+o,16)/255)}if(t.value.length===6){var n=t.value.substring(0,2),i=t.value.substring(2,4),a=t.value.substring(4,6);return Uc(parseInt(n,16),parseInt(i,16),parseInt(a,16),1)}if(t.value.length===8){var n=t.value.substring(0,2),i=t.value.substring(2,4),a=t.value.substring(4,6),o=t.value.substring(6,8);return Uc(parseInt(n,16),parseInt(i,16),parseInt(a,16),parseInt(o,16)/255)}}if(t.type===20){var s=Eu[t.value.toUpperCase()];if(typeof s<"u")return s}return Eu.TRANSPARENT}},Yc=function(e){return(255&e)===0},Ci=function(e){var t=255&e,r=255&e>>8,n=255&e>>16,i=255&e>>24;return t<255?"rgba("+i+","+n+","+r+","+t/255+")":"rgb("+i+","+n+","+r+")"},Uc=function(e,t,r,n){return(e<<24|t<<16|r<<8|Math.round(n*255)<<0)>>>0},eO=function(e,t){if(e.type===17)return e.number;if(e.type===16){var r=t===3?1:255;return t===3?e.number/100*r:Math.round(e.number/100*r)}return 0},tO=function(e,t){var r=t.filter(xh);if(r.length===3){var n=r.map(eO),i=n[0],a=n[1],o=n[2];return Uc(i,a,o,1)}if(r.length===4){var s=r.map(eO),i=s[0],a=s[1],o=s[2],l=s[3];return Uc(i,a,o,l)}return 0};function eC(e,t,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(t-e)*r*6+e:r<1/2?t:r<2/3?(t-e)*6*(2/3-r)+e:e}var rO=function(e,t){var r=t.filter(xh),n=r[0],i=r[1],a=r[2],o=r[3],s=(n.type===17?ns(n.number):i2.parse(e,n))/(Math.PI*2),l=Gn(i)?i.number/100:0,u=Gn(a)?a.number/100:0,c=typeof o<"u"&&Gn(o)?$r(o,1):1;if(l===0)return Uc(u*255,u*255,u*255,1);var A=u<=.5?u*(l+1):u+l-u*l,d=u*2-A,f=eC(d,A,s+1/3),p=eC(d,A,s),g=eC(d,A,s-1/3);return Uc(f*255,p*255,g*255,c)},zne={hsl:rO,hsla:rO,rgb:tO,rgba:tO},Lm=function(e,t){return Xc.parse(e,d8.create(t).parseComponentValue())},Eu={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Vne={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(Ir(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Gne={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},a2=function(e,t){var r=Xc.parse(e,t[0]),n=t[1];return n&&Gn(n)?{color:r,stop:n}:{color:r,stop:null}},nO=function(e,t){var r=e[0],n=e[e.length-1];r.stop===null&&(r.stop=Xi),n.stop===null&&(n.stop=Lc);for(var i=[],a=0,o=0;o<e.length;o++){var s=e[o].stop;if(s!==null){var l=$r(s,t);l>a?i.push(l):i.push(a),a=l}else i.push(null)}for(var u=null,o=0;o<i.length;o++){var c=i[o];if(c===null)u===null&&(u=o);else if(u!==null){for(var A=o-u,d=i[u-1],f=(c-d)/(A+1),p=1;p<=A;p++)i[u+p-1]=f*p;u=null}}return e.map(function(g,v){var m=g.color;return{color:m,stop:Math.max(Math.min(1,i[v]/t),0)}})},qne=function(e,t,r){var n=t/2,i=r/2,a=$r(e[0],t)-n,o=i-$r(e[1],r);return(Math.atan2(o,a)+Math.PI*2)%(Math.PI*2)},Xne=function(e,t,r){var n=typeof e=="number"?e:qne(e,t,r),i=Math.abs(t*Math.sin(n))+Math.abs(r*Math.cos(n)),a=t/2,o=r/2,s=i/2,l=Math.sin(n-Math.PI/2)*s,u=Math.cos(n-Math.PI/2)*s;return[i,a-u,a+u,o-l,o+l]},Ss=function(e,t){return Math.sqrt(e*e+t*t)},iO=function(e,t,r,n,i){var a=[[0,0],[0,t],[e,0],[e,t]];return a.reduce(function(o,s){var l=s[0],u=s[1],c=Ss(r-l,n-u);return(i?c<o.optimumDistance:c>o.optimumDistance)?{optimumCorner:s,optimumDistance:c}:o},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},Yne=function(e,t,r,n,i){var a=0,o=0;switch(e.size){case 0:e.shape===0?a=o=Math.min(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-i)):e.shape===1&&(a=Math.min(Math.abs(t),Math.abs(t-n)),o=Math.min(Math.abs(r),Math.abs(r-i)));break;case 2:if(e.shape===0)a=o=Math.min(Ss(t,r),Ss(t,r-i),Ss(t-n,r),Ss(t-n,r-i));else if(e.shape===1){var s=Math.min(Math.abs(r),Math.abs(r-i))/Math.min(Math.abs(t),Math.abs(t-n)),l=iO(n,i,t,r,!0),u=l[0],c=l[1];a=Ss(u-t,(c-r)/s),o=s*a}break;case 1:e.shape===0?a=o=Math.max(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-i)):e.shape===1&&(a=Math.max(Math.abs(t),Math.abs(t-n)),o=Math.max(Math.abs(r),Math.abs(r-i)));break;case 3:if(e.shape===0)a=o=Math.max(Ss(t,r),Ss(t,r-i),Ss(t-n,r),Ss(t-n,r-i));else if(e.shape===1){var s=Math.max(Math.abs(r),Math.abs(r-i))/Math.max(Math.abs(t),Math.abs(t-n)),A=iO(n,i,t,r,!1),u=A[0],c=A[1];a=Ss(u-t,(c-r)/s),o=s*a}break}return Array.isArray(e.size)&&(a=$r(e.size[0],n),o=e.size.length===2?$r(e.size[1],i):a),[a,o]},Jne=function(e,t){var r=ns(180),n=[];return Ul(t).forEach(function(i,a){if(a===0){var o=i[0];if(o.type===20&&o.value==="to"){r=x8(i);return}else if(w8(o)){r=i2.parse(e,o);return}}var s=a2(e,i);n.push(s)}),{angle:r,stops:n,type:1}},Z0=function(e,t){var r=ns(180),n=[];return Ul(t).forEach(function(i,a){if(a===0){var o=i[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){r=x8(i);return}else if(w8(o)){r=(i2.parse(e,o)+ns(270))%ns(360);return}}var s=a2(e,i);n.push(s)}),{angle:r,stops:n,type:1}},Zne=function(e,t){var r=ns(180),n=[],i=1,a=0,o=3,s=[];return Ul(t).forEach(function(l,u){var c=l[0];if(u===0){if(Ir(c)&&c.value==="linear"){i=1;return}else if(Ir(c)&&c.value==="radial"){i=2;return}}if(c.type===18){if(c.name==="from"){var A=Xc.parse(e,c.values[0]);n.push({stop:Xi,color:A})}else if(c.name==="to"){var A=Xc.parse(e,c.values[0]);n.push({stop:Lc,color:A})}else if(c.name==="color-stop"){var d=c.values.filter(xh);if(d.length===2){var A=Xc.parse(e,d[1]),f=d[0];zh(f)&&n.push({stop:{type:16,number:f.number*100,flags:f.flags},color:A})}}}}),i===1?{angle:(r+ns(180))%ns(360),stops:n,type:i}:{size:o,shape:a,stops:n,position:s,type:i}},b8="closest-side",B8="farthest-side",C8="closest-corner",E8="farthest-corner",S8="circle",N8="ellipse",F8="cover",I8="contain",eie=function(e,t){var r=0,n=3,i=[],a=[];return Ul(t).forEach(function(o,s){var l=!0;if(s===0){var u=!1;l=o.reduce(function(A,d){if(u)if(Ir(d))switch(d.value){case"center":return a.push(iN),A;case"top":case"left":return a.push(Xi),A;case"right":case"bottom":return a.push(Lc),A}else(Gn(d)||iA(d))&&a.push(d);else if(Ir(d))switch(d.value){case S8:return r=0,!1;case N8:return r=1,!1;case"at":return u=!0,!1;case b8:return n=0,!1;case F8:case B8:return n=1,!1;case I8:case C8:return n=2,!1;case E8:return n=3,!1}else if(iA(d)||Gn(d))return Array.isArray(n)||(n=[]),n.push(d),!1;return A},l)}if(l){var c=a2(e,o);i.push(c)}}),{size:n,shape:r,stops:i,position:a,type:2}},ey=function(e,t){var r=0,n=3,i=[],a=[];return Ul(t).forEach(function(o,s){var l=!0;if(s===0?l=o.reduce(function(c,A){if(Ir(A))switch(A.value){case"center":return a.push(iN),!1;case"top":case"left":return a.push(Xi),!1;case"right":case"bottom":return a.push(Lc),!1}else if(Gn(A)||iA(A))return a.push(A),!1;return c},l):s===1&&(l=o.reduce(function(c,A){if(Ir(A))switch(A.value){case S8:return r=0,!1;case N8:return r=1,!1;case I8:case b8:return n=0,!1;case B8:return n=1,!1;case C8:return n=2,!1;case F8:case E8:return n=3,!1}else if(iA(A)||Gn(A))return Array.isArray(n)||(n=[]),n.push(A),!1;return c},l)),l){var u=a2(e,o);i.push(u)}}),{size:n,shape:r,stops:i,position:a,type:2}},tie=function(e){return e.type===1},rie=function(e){return e.type===2},aN={name:"image",parse:function(e,t){if(t.type===22){var r={url:t.value,type:0};return e.cache.addImage(t.value),r}if(t.type===18){var n=_8[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return n(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function nie(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!_8[e.name])}var _8={"linear-gradient":Jne,"-moz-linear-gradient":Z0,"-ms-linear-gradient":Z0,"-o-linear-gradient":Z0,"-webkit-linear-gradient":Z0,"radial-gradient":eie,"-moz-radial-gradient":ey,"-ms-radial-gradient":ey,"-o-radial-gradient":ey,"-webkit-radial-gradient":ey,"-webkit-gradient":Zne},iie={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t.filter(function(n){return xh(n)&&nie(n)}).map(function(n){return aN.parse(e,n)})}},aie={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(Ir(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},oie={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return Ul(t).map(function(r){return r.filter(Gn)}).map(p8)}},sie={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return Ul(t).map(function(r){return r.filter(Ir).map(function(n){return n.value}).join(" ")}).map(lie)}},lie=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Jd;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(Jd||(Jd={}));var uie={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return Ul(t).map(function(r){return r.filter(cie)})}},cie=function(e){return Ir(e)||Gn(e)},o2=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Aie=o2("top"),fie=o2("right"),die=o2("bottom"),hie=o2("left"),s2=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,r){return p8(r.filter(Gn))}}},pie=s2("top-left"),mie=s2("top-right"),gie=s2("bottom-right"),vie=s2("bottom-left"),l2=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},yie=l2("top"),wie=l2("right"),xie=l2("bottom"),bie=l2("left"),u2=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,r){return ev(r)?r.number:0}}},Bie=u2("top"),Cie=u2("right"),Eie=u2("bottom"),Sie=u2("left"),Nie={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Fie={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},Iie={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Ir).reduce(function(r,n){return r|_ie(n.value)},0)}},_ie=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},kie={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Pie={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},nw;(function(e){e.NORMAL="normal",e.STRICT="strict"})(nw||(nw={}));var Oie={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return nw.STRICT;case"normal":default:return nw.NORMAL}}},Tie={name:"line-height",initialValue:"normal",prefix:!1,type:4},aO=function(e,t){return Ir(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:Gn(e)?$r(e,t):t},Lie={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:aN.parse(e,t)}},Uie={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},tS={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},c2=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},Rie=c2("top"),Die=c2("right"),jie=c2("bottom"),Mie=c2("left"),Qie={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Ir).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Hie={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},A2=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},$ie=A2("top"),Wie=A2("right"),Kie=A2("bottom"),zie=A2("left"),Vie={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},Gie={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},qie={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&eS(t[0],"none")?[]:Ul(t).map(function(r){for(var n={color:Eu.TRANSPARENT,offsetX:Xi,offsetY:Xi,blur:Xi},i=0,a=0;a<r.length;a++){var o=r[a];iA(o)?(i===0?n.offsetX=o:i===1?n.offsetY=o:n.blur=o,i++):n.color=Xc.parse(e,o)}return n})}},Xie={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Yie={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var r=eae[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return r(t.values)}return null}},Jie=function(e){var t=e.filter(function(r){return r.type===17}).map(function(r){return r.number});return t.length===6?t:null},Zie=function(e){var t=e.filter(function(l){return l.type===17}).map(function(l){return l.number}),r=t[0],n=t[1];t[2],t[3];var i=t[4],a=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var o=t[12],s=t[13];return t[14],t[15],t.length===16?[r,n,i,a,o,s]:null},eae={matrix:Jie,matrix3d:Zie},oO={type:16,number:50,flags:Zg},tae=[oO,oO],rae={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var r=t.filter(Gn);return r.length!==2?tae:[r[0],r[1]]}},nae={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Um;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(Um||(Um={}));var iae={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return Um.BREAK_ALL;case"keep-all":return Um.KEEP_ALL;case"normal":default:return Um.NORMAL}}},aae={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(zh(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},k8={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},oae={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return zh(t)?t.number:1}},sae={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},lae={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Ir).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},uae={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var r=[],n=[];return t.forEach(function(i){switch(i.type){case 20:case 0:r.push(i.value);break;case 17:r.push(i.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},cae={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Aae={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(zh(t))return t.number;if(Ir(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},fae={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Ir).map(function(r){return r.value})}},dae={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},ci=function(e,t){return(e&t)!==0},hae={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t}},pae={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;for(var n=[],i=t.filter(h8),a=0;a<i.length;a++){var o=i[a],s=i[a+1];if(o.type===20){var l=s&&zh(s)?s.number:1;n.push({counter:o.value,increment:l})}}return n}},mae={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var r=[],n=t.filter(h8),i=0;i<n.length;i++){var a=n[i],o=n[i+1];if(Ir(a)&&a.value!=="none"){var s=o&&zh(o)?o.number:0;r.push({counter:a.value,reset:s})}}return r}},gae={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(ev).map(function(r){return k8.parse(e,r)})}},vae={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;var n=[],i=t.filter(Wne);if(i.length%2!==0)return null;for(var a=0;a<i.length;a+=2){var o=i[a].value,s=i[a+1].value;n.push({open:o,close:s})}return n}},sO=function(e,t,r){if(!e)return"";var n=e[Math.min(t,e.length-1)];return n?r?n.open:n.close:""},yae={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&eS(t[0],"none")?[]:Ul(t).map(function(r){for(var n={color:255,offsetX:Xi,offsetY:Xi,blur:Xi,spread:Xi,inset:!1},i=0,a=0;a<r.length;a++){var o=r[a];eS(o,"inset")?n.inset=!0:iA(o)?(i===0?n.offsetX=o:i===1?n.offsetY=o:i===2?n.blur=o:n.spread=o,i++):n.color=Xc.parse(e,o)}return n})}},wae={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var r=[0,1,2],n=[];return t.filter(Ir).forEach(function(i){switch(i.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(i){n.indexOf(i)===-1&&n.push(i)}),n}},xae={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},bae={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return ev(t)?t.number:0}},Bae=function(){function e(t,r){var n,i;this.animationDuration=rt(t,gae,r.animationDuration),this.backgroundClip=rt(t,Vne,r.backgroundClip),this.backgroundColor=rt(t,Gne,r.backgroundColor),this.backgroundImage=rt(t,iie,r.backgroundImage),this.backgroundOrigin=rt(t,aie,r.backgroundOrigin),this.backgroundPosition=rt(t,oie,r.backgroundPosition),this.backgroundRepeat=rt(t,sie,r.backgroundRepeat),this.backgroundSize=rt(t,uie,r.backgroundSize),this.borderTopColor=rt(t,Aie,r.borderTopColor),this.borderRightColor=rt(t,fie,r.borderRightColor),this.borderBottomColor=rt(t,die,r.borderBottomColor),this.borderLeftColor=rt(t,hie,r.borderLeftColor),this.borderTopLeftRadius=rt(t,pie,r.borderTopLeftRadius),this.borderTopRightRadius=rt(t,mie,r.borderTopRightRadius),this.borderBottomRightRadius=rt(t,gie,r.borderBottomRightRadius),this.borderBottomLeftRadius=rt(t,vie,r.borderBottomLeftRadius),this.borderTopStyle=rt(t,yie,r.borderTopStyle),this.borderRightStyle=rt(t,wie,r.borderRightStyle),this.borderBottomStyle=rt(t,xie,r.borderBottomStyle),this.borderLeftStyle=rt(t,bie,r.borderLeftStyle),this.borderTopWidth=rt(t,Bie,r.borderTopWidth),this.borderRightWidth=rt(t,Cie,r.borderRightWidth),this.borderBottomWidth=rt(t,Eie,r.borderBottomWidth),this.borderLeftWidth=rt(t,Sie,r.borderLeftWidth),this.boxShadow=rt(t,yae,r.boxShadow),this.color=rt(t,Nie,r.color),this.direction=rt(t,Fie,r.direction),this.display=rt(t,Iie,r.display),this.float=rt(t,kie,r.cssFloat),this.fontFamily=rt(t,uae,r.fontFamily),this.fontSize=rt(t,cae,r.fontSize),this.fontStyle=rt(t,dae,r.fontStyle),this.fontVariant=rt(t,fae,r.fontVariant),this.fontWeight=rt(t,Aae,r.fontWeight),this.letterSpacing=rt(t,Pie,r.letterSpacing),this.lineBreak=rt(t,Oie,r.lineBreak),this.lineHeight=rt(t,Tie,r.lineHeight),this.listStyleImage=rt(t,Lie,r.listStyleImage),this.listStylePosition=rt(t,Uie,r.listStylePosition),this.listStyleType=rt(t,tS,r.listStyleType),this.marginTop=rt(t,Rie,r.marginTop),this.marginRight=rt(t,Die,r.marginRight),this.marginBottom=rt(t,jie,r.marginBottom),this.marginLeft=rt(t,Mie,r.marginLeft),this.opacity=rt(t,oae,r.opacity);var a=rt(t,Qie,r.overflow);this.overflowX=a[0],this.overflowY=a[a.length>1?1:0],this.overflowWrap=rt(t,Hie,r.overflowWrap),this.paddingTop=rt(t,$ie,r.paddingTop),this.paddingRight=rt(t,Wie,r.paddingRight),this.paddingBottom=rt(t,Kie,r.paddingBottom),this.paddingLeft=rt(t,zie,r.paddingLeft),this.paintOrder=rt(t,wae,r.paintOrder),this.position=rt(t,Gie,r.position),this.textAlign=rt(t,Vie,r.textAlign),this.textDecorationColor=rt(t,sae,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=rt(t,lae,(i=r.textDecorationLine)!==null&&i!==void 0?i:r.textDecoration),this.textShadow=rt(t,qie,r.textShadow),this.textTransform=rt(t,Xie,r.textTransform),this.transform=rt(t,Yie,r.transform),this.transformOrigin=rt(t,rae,r.transformOrigin),this.visibility=rt(t,nae,r.visibility),this.webkitTextStrokeColor=rt(t,xae,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=rt(t,bae,r.webkitTextStrokeWidth),this.wordBreak=rt(t,iae,r.wordBreak),this.zIndex=rt(t,aae,r.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return Yc(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return ci(this.display,4)||ci(this.display,33554432)||ci(this.display,268435456)||ci(this.display,536870912)||ci(this.display,67108864)||ci(this.display,134217728)},e}(),Cae=function(){function e(t,r){this.content=rt(t,hae,r.content),this.quotes=rt(t,vae,r.quotes)}return e}(),lO=function(){function e(t,r){this.counterIncrement=rt(t,pae,r.counterIncrement),this.counterReset=rt(t,mae,r.counterReset)}return e}(),rt=function(e,t,r){var n=new f8,i=r!==null&&typeof r<"u"?r.toString():t.initialValue;n.write(i);var a=new d8(n.read());switch(t.type){case 2:var o=a.parseComponentValue();return t.parse(e,Ir(o)?o.value:t.initialValue);case 0:return t.parse(e,a.parseComponentValue());case 1:return t.parse(e,a.parseComponentValues());case 4:return a.parseComponentValue();case 3:switch(t.format){case"angle":return i2.parse(e,a.parseComponentValue());case"color":return Xc.parse(e,a.parseComponentValue());case"image":return aN.parse(e,a.parseComponentValue());case"length":var s=a.parseComponentValue();return iA(s)?s:Xi;case"length-percentage":var l=a.parseComponentValue();return Gn(l)?l:Xi;case"time":return k8.parse(e,a.parseComponentValue())}break}},Eae="data-html2canvas-debug",Sae=function(e){var t=e.getAttribute(Eae);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},rS=function(e,t){var r=Sae(e);return r===1||t===r},Rl=function(){function e(t,r){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,rS(r,3))debugger;this.styles=new Bae(t,window.getComputedStyle(r,null)),aS(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=r2(this.context,r),rS(r,4)&&(this.flags|=16)}return e}(),Nae="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",uO="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",wm=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ty=0;ty<uO.length;ty++)wm[uO.charCodeAt(ty)]=ty;var Fae=function(e){var t=e.length*.75,r=e.length,n,i=0,a,o,s,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),c=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<r;n+=4)a=wm[e.charCodeAt(n)],o=wm[e.charCodeAt(n+1)],s=wm[e.charCodeAt(n+2)],l=wm[e.charCodeAt(n+3)],c[i++]=a<<2|o>>4,c[i++]=(o&15)<<4|s>>2,c[i++]=(s&3)<<6|l&63;return u},Iae=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},_ae=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},uf=5,oN=11,tC=2,kae=oN-uf,P8=65536>>uf,Pae=1<<uf,rC=Pae-1,Oae=1024>>uf,Tae=P8+Oae,Lae=Tae,Uae=32,Rae=Lae+Uae,Dae=65536>>oN,jae=1<<kae,Mae=jae-1,cO=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},Qae=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},Hae=function(e,t){var r=Fae(e),n=Array.isArray(r)?_ae(r):new Uint32Array(r),i=Array.isArray(r)?Iae(r):new Uint16Array(r),a=24,o=cO(i,a/2,n[4]/2),s=n[5]===2?cO(i,(a+n[4])/2):Qae(n,Math.ceil((a+n[4])/4));return new $ae(n[0],n[1],n[2],n[3],o,s)},$ae=function(){function e(t,r,n,i,a,o){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=a,this.data=o}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>uf],r=(r<<tC)+(t&rC),this.data[r];if(t<=65535)return r=this.index[P8+(t-55296>>uf)],r=(r<<tC)+(t&rC),this.data[r];if(t<this.highStart)return r=Rae-Dae+(t>>oN),r=this.index[r],r+=t>>uf&Mae,r=this.index[r],r=(r<<tC)+(t&rC),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),AO="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Wae=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ry=0;ry<AO.length;ry++)Wae[AO.charCodeAt(ry)]=ry;var Kae=1,nC=2,iC=3,fO=4,dO=5,zae=7,hO=8,aC=9,oC=10,pO=11,mO=12,gO=13,vO=14,sC=15,Vae=function(e){for(var t=[],r=0,n=e.length;r<n;){var i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var a=e.charCodeAt(r++);(a&64512)===56320?t.push(((i&1023)<<10)+(a&1023)+65536):(t.push(i),r--)}else t.push(i)}return t},Gae=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],i=-1,a="";++i<r;){var o=e[i];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(i+1===r||n.length>16384)&&(a+=String.fromCharCode.apply(String,n),n.length=0)}return a},qae=Hae(Nae),Xo="",lC="",Xae=function(e){return qae.get(e)},Yae=function(e,t,r){var n=r-2,i=t[n],a=t[r-1],o=t[r];if(a===nC&&o===iC)return Xo;if(a===nC||a===iC||a===fO||o===nC||o===iC||o===fO)return lC;if(a===hO&&[hO,aC,pO,mO].indexOf(o)!==-1||(a===pO||a===aC)&&(o===aC||o===oC)||(a===mO||a===oC)&&o===oC||o===gO||o===dO||o===zae||a===Kae)return Xo;if(a===gO&&o===vO){for(;i===dO;)i=t[--n];if(i===vO)return Xo}if(a===sC&&o===sC){for(var s=0;i===sC;)s++,i=t[--n];if(s%2===0)return Xo}return lC},Jae=function(e){var t=Vae(e),r=t.length,n=0,i=0,a=t.map(Xae);return{next:function(){if(n>=r)return{done:!0,value:null};for(var o=Xo;n<r&&(o=Yae(t,a,++n))===Xo;);if(o!==Xo||n===r){var s=Gae.apply(null,t.slice(i,n));return i=n,{value:s,done:!1}}return{done:!0,value:null}}}},Zae=function(e){for(var t=Jae(e),r=[],n;!(n=t.next()).done;)n.value&&r.push(n.value.slice());return r},eoe=function(e){var t=123;if(e.createRange){var r=e.createRange();if(r.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height=t+"px",n.style.display="block",e.body.appendChild(n),r.selectNode(n);var i=r.getBoundingClientRect(),a=Math.round(i.height);if(e.body.removeChild(n),a===t)return!0}}return!1},toe=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var r=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=t.firstChild,i=n2(n.data).map(function(l){return On(l)}),a=0,o={},s=i.every(function(l,u){r.setStart(n,a),r.setEnd(n,a+l.length);var c=r.getBoundingClientRect();a+=l.length;var A=c.x>o.x||c.y>o.y;return o=c,u===0?!0:A});return e.body.removeChild(t),s},roe=function(){return typeof new Image().crossOrigin<"u"},noe=function(){return typeof new XMLHttpRequest().responseType=="string"},ioe=function(e){var t=new Image,r=e.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(t,0,0),r.toDataURL()}catch{return!1}return!0},yO=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},aoe=function(e){var t=e.createElement("canvas"),r=100;t.width=r,t.height=r;var n=t.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var i=new Image,a=t.toDataURL();i.src=a;var o=nS(r,r,0,0,i);return n.fillStyle="red",n.fillRect(0,0,r,r),wO(o).then(function(s){n.drawImage(s,0,0);var l=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var u=e.createElement("div");return u.style.backgroundImage="url("+a+")",u.style.height=r+"px",yO(l)?wO(nS(r,r,0,0,u)):Promise.reject(!1)}).then(function(s){return n.drawImage(s,0,0),yO(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},nS=function(e,t,r,n,i){var a="http://www.w3.org/2000/svg",o=document.createElementNS(a,"svg"),s=document.createElementNS(a,"foreignObject");return o.setAttributeNS(null,"width",e.toString()),o.setAttributeNS(null,"height",t.toString()),s.setAttributeNS(null,"width","100%"),s.setAttributeNS(null,"height","100%"),s.setAttributeNS(null,"x",r.toString()),s.setAttributeNS(null,"y",n.toString()),s.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(s),s.appendChild(i),o},wO=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){return t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},zi={get SUPPORT_RANGE_BOUNDS(){var e=eoe(document);return Object.defineProperty(zi,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=zi.SUPPORT_RANGE_BOUNDS&&toe(document);return Object.defineProperty(zi,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=ioe(document);return Object.defineProperty(zi,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?aoe(document):Promise.resolve(!1);return Object.defineProperty(zi,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=roe();return Object.defineProperty(zi,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=noe();return Object.defineProperty(zi,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(zi,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(zi,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},Rm=function(){function e(t,r){this.text=t,this.bounds=r}return e}(),ooe=function(e,t,r,n){var i=uoe(t,r),a=[],o=0;return i.forEach(function(s){if(r.textDecorationLine.length||s.trim().length>0)if(zi.SUPPORT_RANGE_BOUNDS){var l=xO(n,o,s.length).getClientRects();if(l.length>1){var u=sN(s),c=0;u.forEach(function(d){a.push(new Rm(d,Ou.fromDOMRectList(e,xO(n,c+o,d.length).getClientRects()))),c+=d.length})}else a.push(new Rm(s,Ou.fromDOMRectList(e,l)))}else{var A=n.splitText(s.length);a.push(new Rm(s,soe(e,n))),n=A}else zi.SUPPORT_RANGE_BOUNDS||(n=n.splitText(s.length));o+=s.length}),a},soe=function(e,t){var r=t.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(t.cloneNode(!0));var i=t.parentNode;if(i){i.replaceChild(n,t);var a=r2(e,n);return n.firstChild&&i.replaceChild(n.firstChild,n),a}}return Ou.EMPTY},xO=function(e,t,r){var n=e.ownerDocument;if(!n)throw new Error("Node has no owner document");var i=n.createRange();return i.setStart(e,t),i.setEnd(e,t+r),i},sN=function(e){if(zi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(r){return r.segment})}return Zae(e)},loe=function(e,t){if(zi.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(e)).map(function(n){return n.segment})}return Aoe(e,t)},uoe=function(e,t){return t.letterSpacing!==0?sN(e):loe(e,t)},coe=[32,160,4961,65792,65793,4153,4241],Aoe=function(e,t){for(var r=Dre(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),n=[],i,a=function(){if(i.value){var o=i.value.slice(),s=n2(o),l="";s.forEach(function(u){coe.indexOf(u)===-1?l+=On(u):(l.length&&n.push(l),n.push(On(u)),l="")}),l.length&&n.push(l)}};!(i=r.next()).done;)a();return n},foe=function(){function e(t,r,n){this.text=doe(r.data,n.textTransform),this.textBounds=ooe(t,this.text,n,r)}return e}(),doe=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(hoe,poe);case 2:return e.toUpperCase();default:return e}},hoe=/(^|\s|:|-|\(|\))([a-z])/g,poe=function(e,t,r){return e.length>0?t+r.toUpperCase():e},O8=function(e){qs(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.src=n.currentSrc||n.src,i.intrinsicWidth=n.naturalWidth,i.intrinsicHeight=n.naturalHeight,i.context.cache.addImage(i.src),i}return t}(Rl),T8=function(e){qs(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.canvas=n,i.intrinsicWidth=n.width,i.intrinsicHeight=n.height,i}return t}(Rl),L8=function(e){qs(t,e);function t(r,n){var i=e.call(this,r,n)||this,a=new XMLSerializer,o=r2(r,n);return n.setAttribute("width",o.width+"px"),n.setAttribute("height",o.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(a.serializeToString(n)),i.intrinsicWidth=n.width.baseVal.value,i.intrinsicHeight=n.height.baseVal.value,i.context.cache.addImage(i.svg),i}return t}(Rl),U8=function(e){qs(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.value=n.value,i}return t}(Rl),iS=function(e){qs(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.start=n.start,i.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,i}return t}(Rl),moe=[{type:15,flags:0,unit:"px",number:3}],goe=[{type:16,flags:0,number:50}],voe=function(e){return e.width>e.height?new Ou(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new Ou(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},yoe=function(e){var t=e.type===woe?new Array(e.value.length+1).join(""):e.value;return t.length===0?e.placeholder||"":t},iw="checkbox",aw="radio",woe="password",bO=707406591,lN=function(e){qs(t,e);function t(r,n){var i=e.call(this,r,n)||this;switch(i.type=n.type.toLowerCase(),i.checked=n.checked,i.value=yoe(n),(i.type===iw||i.type===aw)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=voe(i.bounds)),i.type){case iw:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=moe;break;case aw:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=goe;break}return i}return t}(Rl),R8=function(e){qs(t,e);function t(r,n){var i=e.call(this,r,n)||this,a=n.options[n.selectedIndex||0];return i.value=a&&a.text||"",i}return t}(Rl),D8=function(e){qs(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.value=n.value,i}return t}(Rl),j8=function(e){qs(t,e);function t(r,n){var i=e.call(this,r,n)||this;i.src=n.src,i.width=parseInt(n.width,10)||0,i.height=parseInt(n.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){i.tree=Q8(r,n.contentWindow.document.documentElement);var a=n.contentWindow.document.documentElement?Lm(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):Eu.TRANSPARENT,o=n.contentWindow.document.body?Lm(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):Eu.TRANSPARENT;i.backgroundColor=Yc(a)?Yc(o)?i.styles.backgroundColor:o:a}}catch{}return i}return t}(Rl),xoe=["OL","UL","MENU"],p1=function(e,t,r,n){for(var i=t.firstChild,a=void 0;i;i=a)if(a=i.nextSibling,H8(i)&&i.data.trim().length>0)r.textNodes.push(new foe(e,i,r.styles));else if(Qd(i))if(z8(i)&&i.assignedNodes)i.assignedNodes().forEach(function(s){return p1(e,s,r,n)});else{var o=M8(e,i);o.styles.isVisible()&&(boe(i,o,n)?o.flags|=4:Boe(o.styles)&&(o.flags|=2),xoe.indexOf(i.tagName)!==-1&&(o.flags|=8),r.elements.push(o),i.slot,i.shadowRoot?p1(e,i.shadowRoot,o,n):!ow(i)&&!$8(i)&&!sw(i)&&p1(e,i,o,n))}},M8=function(e,t){return oS(t)?new O8(e,t):W8(t)?new T8(e,t):$8(t)?new L8(e,t):Coe(t)?new U8(e,t):Eoe(t)?new iS(e,t):Soe(t)?new lN(e,t):sw(t)?new R8(e,t):ow(t)?new D8(e,t):K8(t)?new j8(e,t):new Rl(e,t)},Q8=function(e,t){var r=M8(e,t);return r.flags|=4,p1(e,t,r,r),r},boe=function(e,t,r){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||uN(e)&&r.styles.isTransparent()},Boe=function(e){return e.isPositioned()||e.isFloating()},H8=function(e){return e.nodeType===Node.TEXT_NODE},Qd=function(e){return e.nodeType===Node.ELEMENT_NODE},aS=function(e){return Qd(e)&&typeof e.style<"u"&&!m1(e)},m1=function(e){return typeof e.className=="object"},Coe=function(e){return e.tagName==="LI"},Eoe=function(e){return e.tagName==="OL"},Soe=function(e){return e.tagName==="INPUT"},Noe=function(e){return e.tagName==="HTML"},$8=function(e){return e.tagName==="svg"},uN=function(e){return e.tagName==="BODY"},W8=function(e){return e.tagName==="CANVAS"},BO=function(e){return e.tagName==="VIDEO"},oS=function(e){return e.tagName==="IMG"},K8=function(e){return e.tagName==="IFRAME"},CO=function(e){return e.tagName==="STYLE"},Foe=function(e){return e.tagName==="SCRIPT"},ow=function(e){return e.tagName==="TEXTAREA"},sw=function(e){return e.tagName==="SELECT"},z8=function(e){return e.tagName==="SLOT"},EO=function(e){return e.tagName.indexOf("-")>0},Ioe=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var r=this.counters[t];return r&&r.length?r[r.length-1]:1},e.prototype.getCounterValues=function(t){var r=this.counters[t];return r||[]},e.prototype.pop=function(t){var r=this;t.forEach(function(n){return r.counters[n].pop()})},e.prototype.parse=function(t){var r=this,n=t.counterIncrement,i=t.counterReset,a=!0;n!==null&&n.forEach(function(s){var l=r.counters[s.counter];l&&s.increment!==0&&(a=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=s.increment)});var o=[];return a&&i.forEach(function(s){var l=r.counters[s.counter];o.push(s.counter),l||(l=r.counters[s.counter]=[]),l.push(s.reset)}),o},e}(),SO={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},NO={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},_oe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},koe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},sd=function(e,t,r,n,i,a){return e<t||e>r?dg(e,i,a.length>0):n.integers.reduce(function(o,s,l){for(;e>=s;)e-=s,o+=n.values[l];return o},"")+a},V8=function(e,t,r,n){var i="";do r||e--,i=n(e)+i,e/=t;while(e*t>=t);return i},kn=function(e,t,r,n,i){var a=r-t+1;return(e<0?"-":"")+(V8(Math.abs(e),a,n,function(o){return On(Math.floor(o%a)+t)})+i)},OA=function(e,t,r){r===void 0&&(r=". ");var n=t.length;return V8(Math.abs(e),n,!1,function(i){return t[Math.floor(i%n)]})+r},wd=1,bc=2,Bc=4,xm=8,ou=function(e,t,r,n,i,a){if(e<-9999||e>9999)return dg(e,4,i.length>0);var o=Math.abs(e),s=i;if(o===0)return t[0]+s;for(var l=0;o>0&&l<=4;l++){var u=o%10;u===0&&ci(a,wd)&&s!==""?s=t[u]+s:u>1||u===1&&l===0||u===1&&l===1&&ci(a,bc)||u===1&&l===1&&ci(a,Bc)&&e>100||u===1&&l>1&&ci(a,xm)?s=t[u]+(l>0?r[l-1]:"")+s:u===1&&l>0&&(s=r[l-1]+s),o=Math.floor(o/10)}return(e<0?n:"")+s},FO="",IO="",_O="",uC="",dg=function(e,t,r){var n=r?". ":"",i=r?"":"",a=r?", ":"",o=r?" ":"";switch(t){case 0:return""+o;case 1:return""+o;case 2:return""+o;case 5:var s=kn(e,48,57,!0,n);return s.length<4?"0"+s:s;case 4:return OA(e,"",i);case 6:return sd(e,1,3999,SO,3,n).toLowerCase();case 7:return sd(e,1,3999,SO,3,n);case 8:return kn(e,945,969,!1,n);case 9:return kn(e,97,122,!1,n);case 10:return kn(e,65,90,!1,n);case 11:return kn(e,1632,1641,!0,n);case 12:case 49:return sd(e,1,9999,NO,3,n);case 35:return sd(e,1,9999,NO,3,n).toLowerCase();case 13:return kn(e,2534,2543,!0,n);case 14:case 30:return kn(e,6112,6121,!0,n);case 15:return OA(e,"",i);case 16:return OA(e,"",i);case 17:case 48:return ou(e,"",FO,"",i,bc|Bc|xm);case 47:return ou(e,"",IO,"",i,wd|bc|Bc|xm);case 42:return ou(e,"",FO,"",i,bc|Bc|xm);case 41:return ou(e,"",IO,"",i,wd|bc|Bc|xm);case 26:return ou(e,"","",_O,i,0);case 25:return ou(e,"","",_O,i,wd|bc|Bc);case 31:return ou(e,"","",uC,a,wd|bc|Bc);case 33:return ou(e,"","",uC,a,0);case 32:return ou(e,"","",uC,a,wd|bc|Bc);case 18:return kn(e,2406,2415,!0,n);case 20:return sd(e,1,19999,koe,3,n);case 21:return kn(e,2790,2799,!0,n);case 22:return kn(e,2662,2671,!0,n);case 22:return sd(e,1,10999,_oe,3,n);case 23:return OA(e,"");case 24:return OA(e,"");case 27:return kn(e,3302,3311,!0,n);case 28:return OA(e,"",i);case 29:return OA(e,"",i);case 34:return kn(e,3792,3801,!0,n);case 37:return kn(e,6160,6169,!0,n);case 38:return kn(e,4160,4169,!0,n);case 39:return kn(e,2918,2927,!0,n);case 40:return kn(e,1776,1785,!0,n);case 43:return kn(e,3046,3055,!0,n);case 44:return kn(e,3174,3183,!0,n);case 45:return kn(e,3664,3673,!0,n);case 46:return kn(e,3872,3881,!0,n);case 3:default:return kn(e,48,57,!0,n)}},G8="data-html2canvas-ignore",kO=function(){function e(t,r,n){if(this.context=t,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new Ioe,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,r){var n=this,i=Poe(t,r);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var a=t.defaultView.pageXOffset,o=t.defaultView.pageYOffset,s=i.contentWindow,l=s.document,u=Loe(i).then(function(){return Fa(n,void 0,void 0,function(){var c,A;return la(this,function(d){switch(d.label){case 0:return this.scrolledElements.forEach(joe),s&&(s.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(s.scrollY!==r.top||s.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(s.scrollX-r.left,s.scrollY-r.top,0,0))),c=this.options.onclone,A=this.clonedReferenceElement,typeof A>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:d.sent(),d.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Toe(l)]:[3,4];case 3:d.sent(),d.label=4;case 4:return typeof c=="function"?[2,Promise.resolve().then(function(){return c(l,A)}).then(function(){return i})]:[2,i]}})})});return l.open(),l.write(Roe(document.doctype)+"<html></html>"),Doe(this.referenceElement.ownerDocument,a,o),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),u},e.prototype.createElementClone=function(t){if(rS(t,2))debugger;if(W8(t))return this.createCanvasClone(t);if(BO(t))return this.createVideoClone(t);if(CO(t))return this.createStyleClone(t);var r=t.cloneNode(!1);return oS(r)&&(oS(t)&&t.currentSrc&&t.currentSrc!==t.src&&(r.src=t.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),EO(r)?this.createCustomElementClone(r):r},e.prototype.createCustomElementClone=function(t){var r=document.createElement("html2canvascustomelement");return cC(t.style,r),r},e.prototype.createStyleClone=function(t){try{var r=t.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(a,o){return o&&typeof o.cssText=="string"?a+o.cssText:a},""),i=t.cloneNode(!1);return i.textContent=n,i}}catch(a){if(this.context.logger.error("Unable to access cssRules property",a),a.name!=="SecurityError")throw a}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var r;if(this.options.inlineImages&&t.ownerDocument){var n=t.ownerDocument.createElement("img");try{return n.src=t.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var i=t.cloneNode(!1);try{i.width=t.width,i.height=t.height;var a=t.getContext("2d"),o=i.getContext("2d");if(o)if(!this.options.allowTaint&&a)o.putImageData(a.getImageData(0,0,t.width,t.height),0,0);else{var s=(r=t.getContext("webgl2"))!==null&&r!==void 0?r:t.getContext("webgl");if(s){var l=s.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}o.drawImage(t,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return i},e.prototype.createVideoClone=function(t){var r=t.ownerDocument.createElement("canvas");r.width=t.offsetWidth,r.height=t.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(t,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var i=t.ownerDocument.createElement("canvas");return i.width=t.offsetWidth,i.height=t.offsetHeight,i},e.prototype.appendChildNode=function(t,r,n){(!Qd(r)||!Foe(r)&&!r.hasAttribute(G8)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!Qd(r)||!CO(r))&&t.appendChild(this.cloneNode(r,n))},e.prototype.cloneChildNodes=function(t,r,n){for(var i=this,a=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;a;a=a.nextSibling)if(Qd(a)&&z8(a)&&typeof a.assignedNodes=="function"){var o=a.assignedNodes();o.length&&o.forEach(function(s){return i.appendChildNode(r,s,n)})}else this.appendChildNode(r,a,n)},e.prototype.cloneNode=function(t,r){if(H8(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var n=t.ownerDocument.defaultView;if(n&&Qd(t)&&(aS(t)||m1(t))){var i=this.createElementClone(t);i.style.transitionProperty="none";var a=n.getComputedStyle(t),o=n.getComputedStyle(t,":before"),s=n.getComputedStyle(t,":after");this.referenceElement===t&&aS(i)&&(this.clonedReferenceElement=i),uN(i)&&Hoe(i);var l=this.counters.parse(new lO(this.context,a)),u=this.resolvePseudoContent(t,i,o,Dm.BEFORE);EO(t)&&(r=!0),BO(t)||this.cloneChildNodes(t,i,r),u&&i.insertBefore(u,i.firstChild);var c=this.resolvePseudoContent(t,i,s,Dm.AFTER);return c&&i.appendChild(c),this.counters.pop(l),(a&&(this.options.copyStyles||m1(t))&&!K8(t)||r)&&cC(a,i),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([i,t.scrollLeft,t.scrollTop]),(ow(t)||sw(t))&&(ow(i)||sw(i))&&(i.value=t.value),i}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,r,n,i){var a=this;if(n){var o=n.content,s=r.ownerDocument;if(!(!s||!o||o==="none"||o==="-moz-alt-content"||n.display==="none")){this.counters.parse(new lO(this.context,n));var l=new Cae(this.context,n),u=s.createElement("html2canvaspseudoelement");cC(n,u),l.content.forEach(function(A){if(A.type===0)u.appendChild(s.createTextNode(A.value));else if(A.type===22){var d=s.createElement("img");d.src=A.value,d.style.opacity="1",u.appendChild(d)}else if(A.type===18){if(A.name==="attr"){var f=A.values.filter(Ir);f.length&&u.appendChild(s.createTextNode(t.getAttribute(f[0].value)||""))}else if(A.name==="counter"){var p=A.values.filter(xh),g=p[0],v=p[1];if(g&&Ir(g)){var m=a.counters.getCounterValue(g.value),y=v&&Ir(v)?tS.parse(a.context,v.value):3;u.appendChild(s.createTextNode(dg(m,y,!1)))}}else if(A.name==="counters"){var w=A.values.filter(xh),g=w[0],b=w[1],v=w[2];if(g&&Ir(g)){var B=a.counters.getCounterValues(g.value),S=v&&Ir(v)?tS.parse(a.context,v.value):3,P=b&&b.type===0?b.value:"",k=B.map(function(F){return dg(F,S,!1)}).join(P);u.appendChild(s.createTextNode(k))}}}else if(A.type===20)switch(A.value){case"open-quote":u.appendChild(s.createTextNode(sO(l.quotes,a.quoteDepth++,!0)));break;case"close-quote":u.appendChild(s.createTextNode(sO(l.quotes,--a.quoteDepth,!1)));break;default:u.appendChild(s.createTextNode(A.value))}}),u.className=sS+" "+lS;var c=i===Dm.BEFORE?" "+sS:" "+lS;return m1(r)?r.className.baseValue+=c:r.className+=c,u}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e}(),Dm;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(Dm||(Dm={}));var Poe=function(e,t){var r=e.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=t.width.toString(),r.height=t.height.toString(),r.scrolling="no",r.setAttribute(G8,"true"),e.body.appendChild(r),r},Ooe=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},Toe=function(e){return Promise.all([].slice.call(e.images,0).map(Ooe))},Loe=function(e){return new Promise(function(t,r){var n=e.contentWindow;if(!n)return r("No window assigned for iframe");var i=n.document;n.onload=e.onload=function(){n.onload=e.onload=null;var a=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(a),t(e))},50)}})},Uoe=["all","d","content"],cC=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e.item(r);Uoe.indexOf(n)===-1&&t.style.setProperty(n,e.getPropertyValue(n))}return t},Roe=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},Doe=function(e,t,r){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||r!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,r)},joe=function(e){var t=e[0],r=e[1],n=e[2];t.scrollLeft=r,t.scrollTop=n},Moe=":before",Qoe=":after",sS="___html2canvas___pseudoelement_before",lS="___html2canvas___pseudoelement_after",PO=`{
    content: "" !important;
    display: none !important;
}`,Hoe=function(e){$oe(e,"."+sS+Moe+PO+`
         .`+lS+Qoe+PO)},$oe=function(e,t){var r=e.ownerDocument;if(r){var n=r.createElement("style");n.textContent=t,e.appendChild(n)}},q8=function(){function e(){}return e.getOrigin=function(t){var r=e._link;return r?(r.href=t,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),Woe=function(){function e(t,r){this.context=t,this._options=r,this._cache={}}return e.prototype.addImage=function(t){var r=Promise.resolve();return this.has(t)||(fC(t)||Goe(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),r},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return Fa(this,void 0,void 0,function(){var r,n,i,a,o=this;return la(this,function(s){switch(s.label){case 0:return r=q8.isSameOrigin(t),n=!AC(t)&&this._options.useCORS===!0&&zi.SUPPORT_CORS_IMAGES&&!r,i=!AC(t)&&!r&&!fC(t)&&typeof this._options.proxy=="string"&&zi.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!AC(t)&&!fC(t)&&!i&&!n?[2]:(a=t,i?[4,this.proxy(a)]:[3,2]);case 1:a=s.sent(),s.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(l,u){var c=new Image;c.onload=function(){return l(c)},c.onerror=u,(qoe(a)||n)&&(c.crossOrigin="anonymous"),c.src=a,c.complete===!0&&setTimeout(function(){return l(c)},500),o._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,s.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var i=t.substring(0,256);return new Promise(function(a,o){var s=zi.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(s==="text")a(l.response);else{var A=new FileReader;A.addEventListener("load",function(){return a(A.result)},!1),A.addEventListener("error",function(d){return o(d)},!1),A.readAsDataURL(l.response)}else o("Failed to proxy resource "+i+" with status code "+l.status)},l.onerror=o;var u=n.indexOf("?")>-1?"&":"?";if(l.open("GET",""+n+u+"url="+encodeURIComponent(t)+"&responseType="+s),s!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=s),r._options.imageTimeout){var c=r._options.imageTimeout;l.timeout=c,l.ontimeout=function(){return o("Timed out ("+c+"ms) proxying "+i)}}l.send()})},e}(),Koe=/^data:image\/svg\+xml/i,zoe=/^data:image\/.*;base64,/i,Voe=/^data:image\/.*/i,Goe=function(e){return zi.SUPPORT_SVG_DRAWING||!Xoe(e)},AC=function(e){return Voe.test(e)},qoe=function(e){return zoe.test(e)},fC=function(e){return e.substr(0,4)==="blob"},Xoe=function(e){return e.substr(-3).toLowerCase()==="svg"||Koe.test(e)},tt=function(){function e(t,r){this.type=0,this.x=t,this.y=r}return e.prototype.add=function(t,r){return new e(this.x+t,this.y+r)},e}(),ld=function(e,t,r){return new tt(e.x+(t.x-e.x)*r,e.y+(t.y-e.y)*r)},ny=function(){function e(t,r,n,i){this.type=1,this.start=t,this.startControl=r,this.endControl=n,this.end=i}return e.prototype.subdivide=function(t,r){var n=ld(this.start,this.startControl,t),i=ld(this.startControl,this.endControl,t),a=ld(this.endControl,this.end,t),o=ld(n,i,t),s=ld(i,a,t),l=ld(o,s,t);return r?new e(this.start,n,o,l):new e(l,s,a,this.end)},e.prototype.add=function(t,r){return new e(this.start.add(t,r),this.startControl.add(t,r),this.endControl.add(t,r),this.end.add(t,r))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),Zo=function(e){return e.type===1},Yoe=function(){function e(t){var r=t.styles,n=t.bounds,i=ym(r.borderTopLeftRadius,n.width,n.height),a=i[0],o=i[1],s=ym(r.borderTopRightRadius,n.width,n.height),l=s[0],u=s[1],c=ym(r.borderBottomRightRadius,n.width,n.height),A=c[0],d=c[1],f=ym(r.borderBottomLeftRadius,n.width,n.height),p=f[0],g=f[1],v=[];v.push((a+l)/n.width),v.push((p+A)/n.width),v.push((o+g)/n.height),v.push((u+d)/n.height);var m=Math.max.apply(Math,v);m>1&&(a/=m,o/=m,l/=m,u/=m,A/=m,d/=m,p/=m,g/=m);var y=n.width-l,w=n.height-d,b=n.width-A,B=n.height-g,S=r.borderTopWidth,P=r.borderRightWidth,k=r.borderBottomWidth,I=r.borderLeftWidth,O=$r(r.paddingTop,t.bounds.width),F=$r(r.paddingRight,t.bounds.width),N=$r(r.paddingBottom,t.bounds.width),U=$r(r.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=a>0||o>0?rn(n.left+I/3,n.top+S/3,a-I/3,o-S/3,wr.TOP_LEFT):new tt(n.left+I/3,n.top+S/3),this.topRightBorderDoubleOuterBox=a>0||o>0?rn(n.left+y,n.top+S/3,l-P/3,u-S/3,wr.TOP_RIGHT):new tt(n.left+n.width-P/3,n.top+S/3),this.bottomRightBorderDoubleOuterBox=A>0||d>0?rn(n.left+b,n.top+w,A-P/3,d-k/3,wr.BOTTOM_RIGHT):new tt(n.left+n.width-P/3,n.top+n.height-k/3),this.bottomLeftBorderDoubleOuterBox=p>0||g>0?rn(n.left+I/3,n.top+B,p-I/3,g-k/3,wr.BOTTOM_LEFT):new tt(n.left+I/3,n.top+n.height-k/3),this.topLeftBorderDoubleInnerBox=a>0||o>0?rn(n.left+I*2/3,n.top+S*2/3,a-I*2/3,o-S*2/3,wr.TOP_LEFT):new tt(n.left+I*2/3,n.top+S*2/3),this.topRightBorderDoubleInnerBox=a>0||o>0?rn(n.left+y,n.top+S*2/3,l-P*2/3,u-S*2/3,wr.TOP_RIGHT):new tt(n.left+n.width-P*2/3,n.top+S*2/3),this.bottomRightBorderDoubleInnerBox=A>0||d>0?rn(n.left+b,n.top+w,A-P*2/3,d-k*2/3,wr.BOTTOM_RIGHT):new tt(n.left+n.width-P*2/3,n.top+n.height-k*2/3),this.bottomLeftBorderDoubleInnerBox=p>0||g>0?rn(n.left+I*2/3,n.top+B,p-I*2/3,g-k*2/3,wr.BOTTOM_LEFT):new tt(n.left+I*2/3,n.top+n.height-k*2/3),this.topLeftBorderStroke=a>0||o>0?rn(n.left+I/2,n.top+S/2,a-I/2,o-S/2,wr.TOP_LEFT):new tt(n.left+I/2,n.top+S/2),this.topRightBorderStroke=a>0||o>0?rn(n.left+y,n.top+S/2,l-P/2,u-S/2,wr.TOP_RIGHT):new tt(n.left+n.width-P/2,n.top+S/2),this.bottomRightBorderStroke=A>0||d>0?rn(n.left+b,n.top+w,A-P/2,d-k/2,wr.BOTTOM_RIGHT):new tt(n.left+n.width-P/2,n.top+n.height-k/2),this.bottomLeftBorderStroke=p>0||g>0?rn(n.left+I/2,n.top+B,p-I/2,g-k/2,wr.BOTTOM_LEFT):new tt(n.left+I/2,n.top+n.height-k/2),this.topLeftBorderBox=a>0||o>0?rn(n.left,n.top,a,o,wr.TOP_LEFT):new tt(n.left,n.top),this.topRightBorderBox=l>0||u>0?rn(n.left+y,n.top,l,u,wr.TOP_RIGHT):new tt(n.left+n.width,n.top),this.bottomRightBorderBox=A>0||d>0?rn(n.left+b,n.top+w,A,d,wr.BOTTOM_RIGHT):new tt(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=p>0||g>0?rn(n.left,n.top+B,p,g,wr.BOTTOM_LEFT):new tt(n.left,n.top+n.height),this.topLeftPaddingBox=a>0||o>0?rn(n.left+I,n.top+S,Math.max(0,a-I),Math.max(0,o-S),wr.TOP_LEFT):new tt(n.left+I,n.top+S),this.topRightPaddingBox=l>0||u>0?rn(n.left+Math.min(y,n.width-P),n.top+S,y>n.width+P?0:Math.max(0,l-P),Math.max(0,u-S),wr.TOP_RIGHT):new tt(n.left+n.width-P,n.top+S),this.bottomRightPaddingBox=A>0||d>0?rn(n.left+Math.min(b,n.width-I),n.top+Math.min(w,n.height-k),Math.max(0,A-P),Math.max(0,d-k),wr.BOTTOM_RIGHT):new tt(n.left+n.width-P,n.top+n.height-k),this.bottomLeftPaddingBox=p>0||g>0?rn(n.left+I,n.top+Math.min(B,n.height-k),Math.max(0,p-I),Math.max(0,g-k),wr.BOTTOM_LEFT):new tt(n.left+I,n.top+n.height-k),this.topLeftContentBox=a>0||o>0?rn(n.left+I+U,n.top+S+O,Math.max(0,a-(I+U)),Math.max(0,o-(S+O)),wr.TOP_LEFT):new tt(n.left+I+U,n.top+S+O),this.topRightContentBox=l>0||u>0?rn(n.left+Math.min(y,n.width+I+U),n.top+S+O,y>n.width+I+U?0:l-I+U,u-(S+O),wr.TOP_RIGHT):new tt(n.left+n.width-(P+F),n.top+S+O),this.bottomRightContentBox=A>0||d>0?rn(n.left+Math.min(b,n.width-(I+U)),n.top+Math.min(w,n.height+S+O),Math.max(0,A-(P+F)),d-(k+N),wr.BOTTOM_RIGHT):new tt(n.left+n.width-(P+F),n.top+n.height-(k+N)),this.bottomLeftContentBox=p>0||g>0?rn(n.left+I+U,n.top+B,Math.max(0,p-(I+U)),g-(k+N),wr.BOTTOM_LEFT):new tt(n.left+I+U,n.top+n.height-(k+N))}return e}(),wr;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(wr||(wr={}));var rn=function(e,t,r,n,i){var a=4*((Math.sqrt(2)-1)/3),o=r*a,s=n*a,l=e+r,u=t+n;switch(i){case wr.TOP_LEFT:return new ny(new tt(e,u),new tt(e,u-s),new tt(l-o,t),new tt(l,t));case wr.TOP_RIGHT:return new ny(new tt(e,t),new tt(e+o,t),new tt(l,u-s),new tt(l,u));case wr.BOTTOM_RIGHT:return new ny(new tt(l,t),new tt(l,t+s),new tt(e+o,u),new tt(e,u));case wr.BOTTOM_LEFT:default:return new ny(new tt(l,u),new tt(l-o,u),new tt(e,t+s),new tt(e,t))}},lw=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},Joe=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},uw=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},Zoe=function(){function e(t,r,n){this.offsetX=t,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return e}(),iy=function(){function e(t,r){this.path=t,this.target=r,this.type=1}return e}(),ese=function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e}(),tse=function(e){return e.type===0},X8=function(e){return e.type===1},rse=function(e){return e.type===2},OO=function(e,t){return e.length===t.length?e.some(function(r,n){return r===t[n]}):!1},nse=function(e,t,r,n,i){return e.map(function(a,o){switch(o){case 0:return a.add(t,r);case 1:return a.add(t+n,r);case 2:return a.add(t+n,r+i);case 3:return a.add(t,r+i)}return a})},Y8=function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),J8=function(){function e(t,r){if(this.container=t,this.parent=r,this.effects=[],this.curves=new Yoe(this.container),this.container.styles.opacity<1&&this.effects.push(new ese(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,a=this.container.styles.transform;this.effects.push(new Zoe(n,i,a))}if(this.container.styles.overflowX!==0){var o=lw(this.curves),s=uw(this.curves);OO(o,s)?this.effects.push(new iy(o,6)):(this.effects.push(new iy(o,2)),this.effects.push(new iy(s,4)))}}return e.prototype.getEffects=function(t){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,i=this.effects.slice(0);n;){var a=n.effects.filter(function(l){return!X8(l)});if(r||n.container.styles.position!==0||!n.parent){if(i.unshift.apply(i,a),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var o=lw(n.curves),s=uw(n.curves);OO(o,s)||i.unshift(new iy(s,6))}}else i.unshift.apply(i,a);n=n.parent}return i.filter(function(l){return ci(l.target,t)})},e}(),uS=function(e,t,r,n){e.container.elements.forEach(function(i){var a=ci(i.flags,4),o=ci(i.flags,2),s=new J8(i,e);ci(i.styles.display,2048)&&n.push(s);var l=ci(i.flags,8)?[]:n;if(a||o){var u=a||i.styles.isPositioned()?r:t,c=new Y8(s);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var A=i.styles.zIndex.order;if(A<0){var d=0;u.negativeZIndex.some(function(p,g){return A>p.element.container.styles.zIndex.order?(d=g,!1):d>0}),u.negativeZIndex.splice(d,0,c)}else if(A>0){var f=0;u.positiveZIndex.some(function(p,g){return A>=p.element.container.styles.zIndex.order?(f=g+1,!1):f>0}),u.positiveZIndex.splice(f,0,c)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(c)}else i.styles.isFloating()?u.nonPositionedFloats.push(c):u.nonPositionedInlineLevel.push(c);uS(s,c,a?c:r,l)}else i.styles.isInlineLevel()?t.inlineLevel.push(s):t.nonInlineLevel.push(s),uS(s,t,r,l);ci(i.flags,8)&&Z8(i,l)})},Z8=function(e,t){for(var r=e instanceof iS?e.start:1,n=e instanceof iS?e.reversed:!1,i=0;i<t.length;i++){var a=t[i];a.container instanceof U8&&typeof a.container.value=="number"&&a.container.value!==0&&(r=a.container.value),a.listValue=dg(r,a.container.styles.listStyleType,!0),r+=n?-1:1}},ise=function(e){var t=new J8(e,null),r=new Y8(t),n=[];return uS(t,r,r,n),Z8(t.container,n),r},TO=function(e,t){switch(t){case 0:return is(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return is(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return is(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return is(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},ase=function(e,t){switch(t){case 0:return is(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return is(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return is(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return is(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},ose=function(e,t){switch(t){case 0:return is(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return is(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return is(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return is(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},sse=function(e,t){switch(t){case 0:return ay(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return ay(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return ay(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return ay(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},ay=function(e,t){var r=[];return Zo(e)?r.push(e.subdivide(.5,!1)):r.push(e),Zo(t)?r.push(t.subdivide(.5,!0)):r.push(t),r},is=function(e,t,r,n){var i=[];return Zo(e)?i.push(e.subdivide(.5,!1)):i.push(e),Zo(r)?i.push(r.subdivide(.5,!0)):i.push(r),Zo(n)?i.push(n.subdivide(.5,!0).reverse()):i.push(n),Zo(t)?i.push(t.subdivide(.5,!1).reverse()):i.push(t),i},eH=function(e){var t=e.bounds,r=e.styles;return t.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},cw=function(e){var t=e.styles,r=e.bounds,n=$r(t.paddingLeft,r.width),i=$r(t.paddingRight,r.width),a=$r(t.paddingTop,r.width),o=$r(t.paddingBottom,r.width);return r.add(n+t.borderLeftWidth,a+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+n+i),-(t.borderTopWidth+t.borderBottomWidth+a+o))},lse=function(e,t){return e===0?t.bounds:e===2?cw(t):eH(t)},use=function(e,t){return e===0?t.bounds:e===2?cw(t):eH(t)},dC=function(e,t,r){var n=lse(xd(e.styles.backgroundOrigin,t),e),i=use(xd(e.styles.backgroundClip,t),e),a=cse(xd(e.styles.backgroundSize,t),r,n),o=a[0],s=a[1],l=ym(xd(e.styles.backgroundPosition,t),n.width-o,n.height-s),u=Ase(xd(e.styles.backgroundRepeat,t),l,a,n,i),c=Math.round(n.left+l[0]),A=Math.round(n.top+l[1]);return[u,c,A,o,s]},ud=function(e){return Ir(e)&&e.value===Jd.AUTO},oy=function(e){return typeof e=="number"},cse=function(e,t,r){var n=t[0],i=t[1],a=t[2],o=e[0],s=e[1];if(!o)return[0,0];if(Gn(o)&&s&&Gn(s))return[$r(o,r.width),$r(s,r.height)];var l=oy(a);if(Ir(o)&&(o.value===Jd.CONTAIN||o.value===Jd.COVER)){if(oy(a)){var u=r.width/r.height;return u<a!=(o.value===Jd.COVER)?[r.width,r.width/a]:[r.height*a,r.height]}return[r.width,r.height]}var c=oy(n),A=oy(i),d=c||A;if(ud(o)&&(!s||ud(s))){if(c&&A)return[n,i];if(!l&&!d)return[r.width,r.height];if(d&&l){var f=c?n:i*a,p=A?i:n/a;return[f,p]}var g=c?n:r.width,v=A?i:r.height;return[g,v]}if(l){var m=0,y=0;return Gn(o)?m=$r(o,r.width):Gn(s)&&(y=$r(s,r.height)),ud(o)?m=y*a:(!s||ud(s))&&(y=m/a),[m,y]}var w=null,b=null;if(Gn(o)?w=$r(o,r.width):s&&Gn(s)&&(b=$r(s,r.height)),w!==null&&(!s||ud(s))&&(b=c&&A?w/n*i:r.height),b!==null&&ud(o)&&(w=c&&A?b/i*n:r.width),w!==null&&b!==null)return[w,b];throw new Error("Unable to calculate background-size for element")},xd=function(e,t){var r=e[t];return typeof r>"u"?e[0]:r},Ase=function(e,t,r,n,i){var a=t[0],o=t[1],s=r[0],l=r[1];switch(e){case 2:return[new tt(Math.round(n.left),Math.round(n.top+o)),new tt(Math.round(n.left+n.width),Math.round(n.top+o)),new tt(Math.round(n.left+n.width),Math.round(l+n.top+o)),new tt(Math.round(n.left),Math.round(l+n.top+o))];case 3:return[new tt(Math.round(n.left+a),Math.round(n.top)),new tt(Math.round(n.left+a+s),Math.round(n.top)),new tt(Math.round(n.left+a+s),Math.round(n.height+n.top)),new tt(Math.round(n.left+a),Math.round(n.height+n.top))];case 1:return[new tt(Math.round(n.left+a),Math.round(n.top+o)),new tt(Math.round(n.left+a+s),Math.round(n.top+o)),new tt(Math.round(n.left+a+s),Math.round(n.top+o+l)),new tt(Math.round(n.left+a),Math.round(n.top+o+l))];default:return[new tt(Math.round(i.left),Math.round(i.top)),new tt(Math.round(i.left+i.width),Math.round(i.top)),new tt(Math.round(i.left+i.width),Math.round(i.height+i.top)),new tt(Math.round(i.left),Math.round(i.height+i.top))]}},fse="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",LO="Hidden Text",dse=function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,r){var n=this._document.createElement("div"),i=this._document.createElement("img"),a=this._document.createElement("span"),o=this._document.body;n.style.visibility="hidden",n.style.fontFamily=t,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",o.appendChild(n),i.src=fse,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",a.style.fontFamily=t,a.style.fontSize=r,a.style.margin="0",a.style.padding="0",a.appendChild(this._document.createTextNode(LO)),n.appendChild(a),n.appendChild(i);var s=i.offsetTop-a.offsetTop+2;n.removeChild(a),n.appendChild(this._document.createTextNode(LO)),n.style.lineHeight="normal",i.style.verticalAlign="super";var l=i.offsetTop-n.offsetTop+2;return o.removeChild(n),{baseline:s,middle:l}},e.prototype.getMetrics=function(t,r){var n=t+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(t,r)),this._data[n]},e}(),tH=function(){function e(t,r){this.context=t,this.options=r}return e}(),hse=1e4,pse=function(e){qs(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i._activeEffects=[],i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),n.canvas||(i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px"),i.fontMetrics=new dse(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),i}return t.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(i){return n.applyEffect(i)})},t.prototype.applyEffect=function(r){this.ctx.save(),rse(r)&&(this.ctx.globalAlpha=r.opacity),tse(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),X8(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(r){return Fa(this,void 0,void 0,function(){var n;return la(this,function(i){switch(i.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(r){return Fa(this,void 0,void 0,function(){return la(this,function(n){switch(n.label){case 0:if(ci(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(r,n,i){var a=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+i);else{var o=sN(r.text);o.reduce(function(s,l){return a.ctx.fillText(l,s,r.bounds.top+i),s+a.ctx.measureText(l).width},r.bounds.left)}},t.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),i=wse(r.fontFamily).join(", "),a=ev(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,a,i].join(" "),i,a]},t.prototype.renderTextNode=function(r,n){return Fa(this,void 0,void 0,function(){var i,a,o,s,l,u,c,A,d=this;return la(this,function(f){return i=this.createFontStyle(n),a=i[0],o=i[1],s=i[2],this.ctx.font=a,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(o,s),u=l.baseline,c=l.middle,A=n.paintOrder,r.textBounds.forEach(function(p){A.forEach(function(g){switch(g){case 0:d.ctx.fillStyle=Ci(n.color),d.renderTextWithLetterSpacing(p,n.letterSpacing,u);var v=n.textShadow;v.length&&p.text.trim().length&&(v.slice(0).reverse().forEach(function(m){d.ctx.shadowColor=Ci(m.color),d.ctx.shadowOffsetX=m.offsetX.number*d.options.scale,d.ctx.shadowOffsetY=m.offsetY.number*d.options.scale,d.ctx.shadowBlur=m.blur.number,d.renderTextWithLetterSpacing(p,n.letterSpacing,u)}),d.ctx.shadowColor="",d.ctx.shadowOffsetX=0,d.ctx.shadowOffsetY=0,d.ctx.shadowBlur=0),n.textDecorationLine.length&&(d.ctx.fillStyle=Ci(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(m){switch(m){case 1:d.ctx.fillRect(p.bounds.left,Math.round(p.bounds.top+u),p.bounds.width,1);break;case 2:d.ctx.fillRect(p.bounds.left,Math.round(p.bounds.top),p.bounds.width,1);break;case 3:d.ctx.fillRect(p.bounds.left,Math.ceil(p.bounds.top+c),p.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&p.text.trim().length&&(d.ctx.strokeStyle=Ci(n.webkitTextStrokeColor),d.ctx.lineWidth=n.webkitTextStrokeWidth,d.ctx.lineJoin=window.chrome?"miter":"round",d.ctx.strokeText(p.text,p.bounds.left,p.bounds.top+u)),d.ctx.strokeStyle="",d.ctx.lineWidth=0,d.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(r,n,i){if(i&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var a=cw(r),o=uw(n);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,r.intrinsicWidth,r.intrinsicHeight,a.left,a.top,a.width,a.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(r){return Fa(this,void 0,void 0,function(){var n,i,a,o,s,l,y,y,u,c,A,d,b,f,p,B,g,v,m,y,w,b,B;return la(this,function(S){switch(S.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,i=r.curves,a=n.styles,o=0,s=n.textNodes,S.label=1;case 1:return o<s.length?(l=s[o],[4,this.renderTextNode(l,a)]):[3,4];case 2:S.sent(),S.label=3;case 3:return o++,[3,1];case 4:if(!(n instanceof O8))return[3,8];S.label=5;case 5:return S.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return y=S.sent(),this.renderReplacedElement(n,i,y),[3,8];case 7:return S.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof T8&&this.renderReplacedElement(n,i,n.canvas),!(n instanceof L8))return[3,12];S.label=9;case 9:return S.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return y=S.sent(),this.renderReplacedElement(n,i,y),[3,12];case 11:return S.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof j8&&n.tree?(u=new t(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,u.render(n.tree)]):[3,14];case 13:c=S.sent(),n.width&&n.height&&this.ctx.drawImage(c,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),S.label=14;case 14:if(n instanceof lN&&(A=Math.min(n.bounds.width,n.bounds.height),n.type===iw?n.checked&&(this.ctx.save(),this.path([new tt(n.bounds.left+A*.39363,n.bounds.top+A*.79),new tt(n.bounds.left+A*.16,n.bounds.top+A*.5549),new tt(n.bounds.left+A*.27347,n.bounds.top+A*.44071),new tt(n.bounds.left+A*.39694,n.bounds.top+A*.5649),new tt(n.bounds.left+A*.72983,n.bounds.top+A*.23),new tt(n.bounds.left+A*.84,n.bounds.top+A*.34085),new tt(n.bounds.left+A*.39363,n.bounds.top+A*.79)]),this.ctx.fillStyle=Ci(bO),this.ctx.fill(),this.ctx.restore()):n.type===aw&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+A/2,n.bounds.top+A/2,A/4,0,Math.PI*2,!0),this.ctx.fillStyle=Ci(bO),this.ctx.fill(),this.ctx.restore())),mse(n)&&n.value.length){switch(d=this.createFontStyle(a),b=d[0],f=d[1],p=this.fontMetrics.getMetrics(b,f).baseline,this.ctx.font=b,this.ctx.fillStyle=Ci(a.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=vse(n.styles.textAlign),B=cw(n),g=0,n.styles.textAlign){case 1:g+=B.width/2;break;case 2:g+=B.width;break}v=B.add(g,0,0,-B.height/2+1),this.ctx.save(),this.path([new tt(B.left,B.top),new tt(B.left+B.width,B.top),new tt(B.left+B.width,B.top+B.height),new tt(B.left,B.top+B.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Rm(n.value,v),a.letterSpacing,p),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!ci(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(m=n.styles.listStyleImage,m.type!==0)return[3,18];y=void 0,w=m.url,S.label=15;case 15:return S.trys.push([15,17,,18]),[4,this.context.cache.match(w)];case 16:return y=S.sent(),this.ctx.drawImage(y,n.bounds.left-(y.width+10),n.bounds.top),[3,18];case 17:return S.sent(),this.context.logger.error("Error loading list-style-image "+w),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(b=this.createFontStyle(a)[0],this.ctx.font=b,this.ctx.fillStyle=Ci(a.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",B=new Ou(n.bounds.left,n.bounds.top+$r(n.styles.paddingTop,n.bounds.width),n.bounds.width,aO(a.lineHeight,a.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Rm(r.listValue,B),a.letterSpacing,aO(a.lineHeight,a.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),S.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(r){return Fa(this,void 0,void 0,function(){var n,i,m,a,o,m,s,l,m,u,c,m,A,d,m,f,p,m,g,v,m;return la(this,function(y){switch(y.label){case 0:if(ci(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:y.sent(),n=0,i=r.negativeZIndex,y.label=2;case 2:return n<i.length?(m=i[n],[4,this.renderStack(m)]):[3,5];case 3:y.sent(),y.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:y.sent(),a=0,o=r.nonInlineLevel,y.label=7;case 7:return a<o.length?(m=o[a],[4,this.renderNode(m)]):[3,10];case 8:y.sent(),y.label=9;case 9:return a++,[3,7];case 10:s=0,l=r.nonPositionedFloats,y.label=11;case 11:return s<l.length?(m=l[s],[4,this.renderStack(m)]):[3,14];case 12:y.sent(),y.label=13;case 13:return s++,[3,11];case 14:u=0,c=r.nonPositionedInlineLevel,y.label=15;case 15:return u<c.length?(m=c[u],[4,this.renderStack(m)]):[3,18];case 16:y.sent(),y.label=17;case 17:return u++,[3,15];case 18:A=0,d=r.inlineLevel,y.label=19;case 19:return A<d.length?(m=d[A],[4,this.renderNode(m)]):[3,22];case 20:y.sent(),y.label=21;case 21:return A++,[3,19];case 22:f=0,p=r.zeroOrAutoZIndexOrTransformedOrOpacity,y.label=23;case 23:return f<p.length?(m=p[f],[4,this.renderStack(m)]):[3,26];case 24:y.sent(),y.label=25;case 25:return f++,[3,23];case 26:g=0,v=r.positiveZIndex,y.label=27;case 27:return g<v.length?(m=v[g],[4,this.renderStack(m)]):[3,30];case 28:y.sent(),y.label=29;case 29:return g++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},t.prototype.formatPath=function(r){var n=this;r.forEach(function(i,a){var o=Zo(i)?i.start:i;a===0?n.ctx.moveTo(o.x,o.y):n.ctx.lineTo(o.x,o.y),Zo(i)&&n.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},t.prototype.renderRepeat=function(r,n,i,a){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(i,a),this.ctx.fill(),this.ctx.translate(-i,-a)},t.prototype.resizeImage=function(r,n,i){var a;if(r.width===n&&r.height===i)return r;var o=(a=this.canvas.ownerDocument)!==null&&a!==void 0?a:document,s=o.createElement("canvas");s.width=Math.max(1,n),s.height=Math.max(1,i);var l=s.getContext("2d");return l.drawImage(r,0,0,r.width,r.height,0,0,n,i),s},t.prototype.renderBackgroundImage=function(r){return Fa(this,void 0,void 0,function(){var n,i,a,o,s,l;return la(this,function(u){switch(u.label){case 0:n=r.styles.backgroundImage.length-1,i=function(c){var A,d,f,O,Q,W,U,M,k,p,O,Q,W,U,M,g,v,m,y,w,b,B,S,P,k,I,O,F,N,U,M,V,Q,W,D,K,ie,ee,L,j,z,X;return la(this,function(ae){switch(ae.label){case 0:if(c.type!==0)return[3,5];A=void 0,d=c.url,ae.label=1;case 1:return ae.trys.push([1,3,,4]),[4,a.context.cache.match(d)];case 2:return A=ae.sent(),[3,4];case 3:return ae.sent(),a.context.logger.error("Error loading background-image "+d),[3,4];case 4:return A&&(f=dC(r,n,[A.width,A.height,A.width/A.height]),O=f[0],Q=f[1],W=f[2],U=f[3],M=f[4],k=a.ctx.createPattern(a.resizeImage(A,U,M),"repeat"),a.renderRepeat(O,k,Q,W)),[3,6];case 5:tie(c)?(p=dC(r,n,[null,null,null]),O=p[0],Q=p[1],W=p[2],U=p[3],M=p[4],g=Xne(c.angle,U,M),v=g[0],m=g[1],y=g[2],w=g[3],b=g[4],B=document.createElement("canvas"),B.width=U,B.height=M,S=B.getContext("2d"),P=S.createLinearGradient(m,w,y,b),nO(c.stops,v).forEach(function(Z){return P.addColorStop(Z.stop,Ci(Z.color))}),S.fillStyle=P,S.fillRect(0,0,U,M),U>0&&M>0&&(k=a.ctx.createPattern(B,"repeat"),a.renderRepeat(O,k,Q,W))):rie(c)&&(I=dC(r,n,[null,null,null]),O=I[0],F=I[1],N=I[2],U=I[3],M=I[4],V=c.position.length===0?[iN]:c.position,Q=$r(V[0],U),W=$r(V[V.length-1],M),D=Yne(c,Q,W,U,M),K=D[0],ie=D[1],K>0&&ie>0&&(ee=a.ctx.createRadialGradient(F+Q,N+W,0,F+Q,N+W,K),nO(c.stops,K*2).forEach(function(Z){return ee.addColorStop(Z.stop,Ci(Z.color))}),a.path(O),a.ctx.fillStyle=ee,K!==ie?(L=r.bounds.left+.5*r.bounds.width,j=r.bounds.top+.5*r.bounds.height,z=ie/K,X=1/z,a.ctx.save(),a.ctx.translate(L,j),a.ctx.transform(1,0,0,z,0,0),a.ctx.translate(-L,-j),a.ctx.fillRect(F,X*(N-j)+j,U,M*X),a.ctx.restore()):a.ctx.fill())),ae.label=6;case 6:return n--,[2]}})},a=this,o=0,s=r.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return o<s.length?(l=s[o],[5,i(l)]):[3,4];case 2:u.sent(),u.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(r,n,i){return Fa(this,void 0,void 0,function(){return la(this,function(a){return this.path(TO(i,n)),this.ctx.fillStyle=Ci(r),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(r,n,i,a){return Fa(this,void 0,void 0,function(){var o,s;return la(this,function(l){switch(l.label){case 0:return n<3?[4,this.renderSolidBorder(r,i,a)]:[3,2];case 1:return l.sent(),[2];case 2:return o=ase(a,i),this.path(o),this.ctx.fillStyle=Ci(r),this.ctx.fill(),s=ose(a,i),this.path(s),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(r){return Fa(this,void 0,void 0,function(){var n,i,a,o,s,l,u,c,A=this;return la(this,function(d){switch(d.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,i=!Yc(n.backgroundColor)||n.backgroundImage.length,a=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],o=gse(xd(n.backgroundClip,0),r.curves),i||n.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),Yc(n.backgroundColor)||(this.ctx.fillStyle=Ci(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:d.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(f){A.ctx.save();var p=lw(r.curves),g=f.inset?0:hse,v=nse(p,-g+(f.inset?1:-1)*f.spread.number,(f.inset?1:-1)*f.spread.number,f.spread.number*(f.inset?-2:2),f.spread.number*(f.inset?-2:2));f.inset?(A.path(p),A.ctx.clip(),A.mask(v)):(A.mask(p),A.ctx.clip(),A.path(v)),A.ctx.shadowOffsetX=f.offsetX.number+g,A.ctx.shadowOffsetY=f.offsetY.number,A.ctx.shadowColor=Ci(f.color),A.ctx.shadowBlur=f.blur.number,A.ctx.fillStyle=f.inset?Ci(f.color):"rgba(0,0,0,1)",A.ctx.fill(),A.ctx.restore()}),d.label=2;case 2:s=0,l=0,u=a,d.label=3;case 3:return l<u.length?(c=u[l],c.style!==0&&!Yc(c.color)&&c.width>0?c.style!==2?[3,5]:[4,this.renderDashedDottedBorder(c.color,c.width,s,r.curves,2)]:[3,11]):[3,13];case 4:return d.sent(),[3,11];case 5:return c.style!==3?[3,7]:[4,this.renderDashedDottedBorder(c.color,c.width,s,r.curves,3)];case 6:return d.sent(),[3,11];case 7:return c.style!==4?[3,9]:[4,this.renderDoubleBorder(c.color,c.width,s,r.curves)];case 8:return d.sent(),[3,11];case 9:return[4,this.renderSolidBorder(c.color,s,r.curves)];case 10:d.sent(),d.label=11;case 11:s++,d.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(r,n,i,a,o){return Fa(this,void 0,void 0,function(){var s,l,u,c,A,d,f,p,g,v,m,y,w,b,B,S,B,S;return la(this,function(P){return this.ctx.save(),s=sse(a,i),l=TO(a,i),o===2&&(this.path(l),this.ctx.clip()),Zo(l[0])?(u=l[0].start.x,c=l[0].start.y):(u=l[0].x,c=l[0].y),Zo(l[1])?(A=l[1].end.x,d=l[1].end.y):(A=l[1].x,d=l[1].y),i===0||i===2?f=Math.abs(u-A):f=Math.abs(c-d),this.ctx.beginPath(),o===3?this.formatPath(s):this.formatPath(l.slice(0,2)),p=n<3?n*3:n*2,g=n<3?n*2:n,o===3&&(p=n,g=n),v=!0,f<=p*2?v=!1:f<=p*2+g?(m=f/(2*p+g),p*=m,g*=m):(y=Math.floor((f+g)/(p+g)),w=(f-y*p)/(y-1),b=(f-(y+1)*p)/y,g=b<=0||Math.abs(g-w)<Math.abs(g-b)?w:b),v&&(o===3?this.ctx.setLineDash([0,p+g]):this.ctx.setLineDash([p,g])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=Ci(r),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(Zo(l[0])&&(B=l[3],S=l[0],this.ctx.beginPath(),this.formatPath([new tt(B.end.x,B.end.y),new tt(S.start.x,S.start.y)]),this.ctx.stroke()),Zo(l[1])&&(B=l[1],S=l[2],this.ctx.beginPath(),this.formatPath([new tt(B.end.x,B.end.y),new tt(S.start.x,S.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(r){return Fa(this,void 0,void 0,function(){var n;return la(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Ci(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=ise(r),[4,this.renderStack(n)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(tH),mse=function(e){return e instanceof D8||e instanceof R8?!0:e instanceof lN&&e.type!==aw&&e.type!==iw},gse=function(e,t){switch(e){case 0:return lw(t);case 2:return Joe(t);case 1:default:return uw(t)}},vse=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},yse=["-apple-system","system-ui"],wse=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return yse.indexOf(t)===-1}):e},xse=function(e){qs(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=n,i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),i}return t.prototype.render=function(r){return Fa(this,void 0,void 0,function(){var n,i;return la(this,function(a){switch(a.label){case 0:return n=nS(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,bse(n)];case 1:return i=a.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Ci(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(tH),bse=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Bse=function(){function e(t){var r=t.id,n=t.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,D0([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,D0([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,D0([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,D0([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e}(),Cse=function(){function e(t,r){var n;this.windowBounds=r,this.instanceName="#"+e.instanceCount++,this.logger=new Bse({id:this.instanceName,enabled:t.logging}),this.cache=(n=t.cache)!==null&&n!==void 0?n:new Woe(this,t)}return e.instanceCount=1,e}(),rH=function(e,t){return t===void 0&&(t={}),Ese(e,t)};typeof window<"u"&&q8.setContext(window);var Ese=function(e,t){return Fa(void 0,void 0,void 0,function(){var r,n,i,a,o,s,l,u,c,A,d,f,p,g,v,m,y,w,b,B,P,S,P,k,I,O,F,N,U,M,V,Q,W,D,K,ie,ee,L,j,z;return la(this,function(X){switch(X.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=e.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return i={allowTaint:(k=t.allowTaint)!==null&&k!==void 0?k:!1,imageTimeout:(I=t.imageTimeout)!==null&&I!==void 0?I:15e3,proxy:t.proxy,useCORS:(O=t.useCORS)!==null&&O!==void 0?O:!1},a=HE({logging:(F=t.logging)!==null&&F!==void 0?F:!0,cache:t.cache},i),o={windowWidth:(N=t.windowWidth)!==null&&N!==void 0?N:n.innerWidth,windowHeight:(U=t.windowHeight)!==null&&U!==void 0?U:n.innerHeight,scrollX:(M=t.scrollX)!==null&&M!==void 0?M:n.pageXOffset,scrollY:(V=t.scrollY)!==null&&V!==void 0?V:n.pageYOffset},s=new Ou(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),l=new Cse(a,s),u=(Q=t.foreignObjectRendering)!==null&&Q!==void 0?Q:!1,c={allowTaint:(W=t.allowTaint)!==null&&W!==void 0?W:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:u,copyStyles:u},l.logger.debug("Starting document clone with size "+s.width+"x"+s.height+" scrolled to "+-s.left+","+-s.top),A=new kO(l,e,c),d=A.clonedReferenceElement,d?[4,A.toIFrame(r,s)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return f=X.sent(),p=uN(d)||Noe(d)?nre(d.ownerDocument):r2(l,d),g=p.width,v=p.height,m=p.left,y=p.top,w=Sse(l,d,t.backgroundColor),b={canvas:t.canvas,backgroundColor:w,scale:(K=(D=t.scale)!==null&&D!==void 0?D:n.devicePixelRatio)!==null&&K!==void 0?K:1,x:((ie=t.x)!==null&&ie!==void 0?ie:0)+m,y:((ee=t.y)!==null&&ee!==void 0?ee:0)+y,width:(L=t.width)!==null&&L!==void 0?L:Math.ceil(g),height:(j=t.height)!==null&&j!==void 0?j:Math.ceil(v)},u?(l.logger.debug("Document cloned, using foreign object rendering"),P=new xse(l,b),[4,P.render(d)]):[3,3];case 2:return B=X.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+m+","+y+" with size "+g+"x"+v+" using computed rendering"),l.logger.debug("Starting DOM parsing"),S=Q8(l,d),w===S.styles.backgroundColor&&(S.styles.backgroundColor=Eu.TRANSPARENT),l.logger.debug("Starting renderer for element at "+b.x+","+b.y+" with size "+b.width+"x"+b.height),P=new pse(l,b),[4,P.render(S)];case 4:B=X.sent(),X.label=5;case 5:return(!((z=t.removeContainer)!==null&&z!==void 0)||z)&&(kO.destroy(f)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,B]}})})},Sse=function(e,t,r){var n=t.ownerDocument,i=n.documentElement?Lm(e,getComputedStyle(n.documentElement).backgroundColor):Eu.TRANSPARENT,a=n.body?Lm(e,getComputedStyle(n.body).backgroundColor):Eu.TRANSPARENT,o=typeof r=="string"?Lm(e,r):r===null?Eu.TRANSPARENT:4294967295;return t===n.documentElement?Yc(i)?Yc(a)?o:a:i:o};const Nse=Object.freeze(Object.defineProperty({__proto__:null,default:rH},Symbol.toStringTag,{value:"Module"}));function Er(e){"@babel/helpers - typeof";return Er=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Er(e)}var Hs=Uint8Array,So=Uint16Array,cN=Int32Array,AN=new Hs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fN=new Hs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),UO=new Hs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),nH=function(e,t){for(var r=new So(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var i=new cN(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i}},iH=nH(AN,2),Fse=iH.b,cS=iH.r;Fse[28]=258,cS[258]=28;var Ise=nH(fN,0),RO=Ise.r,AS=new So(32768);for(var Zr=0;Zr<32768;++Zr){var vc=(Zr&43690)>>1|(Zr&21845)<<1;vc=(vc&52428)>>2|(vc&13107)<<2,vc=(vc&61680)>>4|(vc&3855)<<4,AS[Zr]=((vc&65280)>>8|(vc&255)<<8)>>1}var jm=function(e,t,r){for(var n=e.length,i=0,a=new So(t);i<n;++i)e[i]&&++a[e[i]-1];var o=new So(t);for(i=1;i<t;++i)o[i]=o[i-1]+a[i-1]<<1;var s;if(r){s=new So(1<<t);var l=15-t;for(i=0;i<n;++i)if(e[i])for(var u=i<<4|e[i],c=t-e[i],A=o[e[i]-1]++<<c,d=A|(1<<c)-1;A<=d;++A)s[AS[A]>>l]=u}else for(s=new So(n),i=0;i<n;++i)e[i]&&(s[i]=AS[o[e[i]-1]++]>>15-e[i]);return s},xf=new Hs(288);for(var Zr=0;Zr<144;++Zr)xf[Zr]=8;for(var Zr=144;Zr<256;++Zr)xf[Zr]=9;for(var Zr=256;Zr<280;++Zr)xf[Zr]=7;for(var Zr=280;Zr<288;++Zr)xf[Zr]=8;var Aw=new Hs(32);for(var Zr=0;Zr<32;++Zr)Aw[Zr]=5;var _se=jm(xf,9,0),kse=jm(Aw,5,0),aH=function(e){return(e+7)/8|0},Pse=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Hs(e.subarray(t,r))},su=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Xp=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},hC=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,a=r.slice();if(!i)return{t:sH,l:0};if(i==1){var o=new Hs(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(B,S){return B.f-S.f}),r.push({s:-1,f:25001});var s=r[0],l=r[1],u=0,c=1,A=2;for(r[0]={s:-1,f:s.f+l.f,l:s,r:l};c!=i-1;)s=r[r[u].f<r[A].f?u++:A++],l=r[u!=c&&r[u].f<r[A].f?u++:A++],r[c++]={s:-1,f:s.f+l.f,l:s,r:l};for(var d=a[0].s,n=1;n<i;++n)a[n].s>d&&(d=a[n].s);var f=new So(d+1),p=fS(r[c-1],f,0);if(p>t){var n=0,g=0,v=p-t,m=1<<v;for(a.sort(function(S,P){return f[P.s]-f[S.s]||S.f-P.f});n<i;++n){var y=a[n].s;if(f[y]>t)g+=m-(1<<p-f[y]),f[y]=t;else break}for(g>>=v;g>0;){var w=a[n].s;f[w]<t?g-=1<<t-f[w]++-1:++n}for(;n>=0&&g;--n){var b=a[n].s;f[b]==t&&(--f[b],++g)}p=t}return{t:new Hs(f),l:p}},fS=function(e,t,r){return e.s==-1?Math.max(fS(e.l,t,r+1),fS(e.r,t,r+1)):t[e.s]=r},DO=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new So(++t),n=0,i=e[0],a=1,o=function(l){r[n++]=l},s=1;s<=t;++s)if(e[s]==i&&s!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=e[s]}return{c:r.subarray(0,n),n:t}},Yp=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},oH=function(e,t,r){var n=r.length,i=aH(t+2);e[i]=n&255,e[i+1]=n>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var a=0;a<n;++a)e[i+a+4]=r[a];return(i+4+n)*8},jO=function(e,t,r,n,i,a,o,s,l,u,c){su(t,c++,r),++i[256];for(var A=hC(i,15),d=A.t,f=A.l,p=hC(a,15),g=p.t,v=p.l,m=DO(d),y=m.c,w=m.n,b=DO(g),B=b.c,S=b.n,P=new So(19),k=0;k<y.length;++k)++P[y[k]&31];for(var k=0;k<B.length;++k)++P[B[k]&31];for(var I=hC(P,7),O=I.t,F=I.l,N=19;N>4&&!O[UO[N-1]];--N);var U=u+5<<3,M=Yp(i,xf)+Yp(a,Aw)+o,V=Yp(i,d)+Yp(a,g)+o+14+3*N+Yp(P,O)+2*P[16]+3*P[17]+7*P[18];if(l>=0&&U<=M&&U<=V)return oH(t,c,e.subarray(l,l+u));var Q,W,D,K;if(su(t,c,1+(V<M)),c+=2,V<M){Q=jm(d,f,0),W=d,D=jm(g,v,0),K=g;var ie=jm(O,F,0);su(t,c,w-257),su(t,c+5,S-1),su(t,c+10,N-4),c+=14;for(var k=0;k<N;++k)su(t,c+3*k,O[UO[k]]);c+=3*N;for(var ee=[y,B],L=0;L<2;++L)for(var j=ee[L],k=0;k<j.length;++k){var z=j[k]&31;su(t,c,ie[z]),c+=O[z],z>15&&(su(t,c,j[k]>>5&127),c+=j[k]>>12)}}else Q=_se,W=xf,D=kse,K=Aw;for(var k=0;k<s;++k){var X=n[k];if(X>255){var z=X>>18&31;Xp(t,c,Q[z+257]),c+=W[z+257],z>7&&(su(t,c,X>>23&31),c+=AN[z]);var ae=X&31;Xp(t,c,D[ae]),c+=K[ae],ae>3&&(Xp(t,c,X>>5&8191),c+=fN[ae])}else Xp(t,c,Q[X]),c+=W[X]}return Xp(t,c,Q[256]),c+W[256]},Ose=new cN([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),sH=new Hs(0),Tse=function(e,t,r,n,i,a){var o=a.z||e.length,s=new Hs(n+o+5*(1+Math.ceil(o/7e3))+i),l=s.subarray(n,s.length-i),u=a.l,c=(a.r||0)&7;if(t){c&&(l[0]=a.r>>3);for(var A=Ose[t-1],d=A>>13,f=A&8191,p=(1<<r)-1,g=a.p||new So(32768),v=a.h||new So(p+1),m=Math.ceil(r/3),y=2*m,w=function(De){return(e[De]^e[De+1]<<m^e[De+2]<<y)&p},b=new cN(25e3),B=new So(288),S=new So(32),P=0,k=0,I=a.i||0,O=0,F=a.w||0,N=0;I+2<o;++I){var U=w(I),M=I&32767,V=v[U];if(g[M]=V,v[U]=M,F<=I){var Q=o-I;if((P>7e3||O>24576)&&(Q>423||!u)){c=jO(e,l,0,b,B,S,k,O,N,I-N,c),O=P=k=0,N=I;for(var W=0;W<286;++W)B[W]=0;for(var W=0;W<30;++W)S[W]=0}var D=2,K=0,ie=f,ee=M-V&32767;if(Q>2&&U==w(I-ee))for(var L=Math.min(d,Q)-1,j=Math.min(32767,I),z=Math.min(258,Q);ee<=j&&--ie&&M!=V;){if(e[I+D]==e[I+D-ee]){for(var X=0;X<z&&e[I+X]==e[I+X-ee];++X);if(X>D){if(D=X,K=ee,X>L)break;for(var ae=Math.min(ee,X-2),Z=0,W=0;W<ae;++W){var ce=I-ee+W&32767,ne=g[ce],pe=ce-ne&32767;pe>Z&&(Z=pe,V=ce)}}}M=V,V=g[M],ee+=M-V&32767}if(K){b[O++]=268435456|cS[D]<<18|RO[K];var ye=cS[D]&31,de=RO[K]&31;k+=AN[ye]+fN[de],++B[257+ye],++S[de],F=I+D,++P}else b[O++]=e[I],++B[e[I]]}}for(I=Math.max(I,F);I<o;++I)b[O++]=e[I],++B[e[I]];c=jO(e,l,u,b,B,S,k,O,N,I-N,c),u||(a.r=c&7|l[c/8|0]<<3,c-=7,a.h=v,a.p=g,a.i=I,a.w=F)}else{for(var I=a.w||0;I<o+u;I+=65535){var Ie=I+65535;Ie>=o&&(l[c/8|0]=u,Ie=o),c=oH(l,c+1,e.subarray(I,Ie))}a.i=o}return Pse(s,0,n+aH(c)+i)},lH=function(){var e=1,t=0;return{p:function(r){for(var n=e,i=t,a=r.length|0,o=0;o!=a;){for(var s=Math.min(o+2655,a);o<s;++o)i+=n+=r[o];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}e=n,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},Lse=function(e,t,r,n,i){if(!i&&(i={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),o=new Hs(a.length+e.length);o.set(a),o.set(e,a.length),e=o,i.w=a.length}return Tse(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,i)},uH=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},Use=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=lH();i.p(t.dictionary),uH(e,2,i.d())}};function dS(e,t){t||(t={});var r=lH();r.p(e);var n=Lse(e,t,t.dictionary?6:2,4);return Use(n,t),uH(n,n.length-4,r.d()),n}var Rse=typeof TextDecoder<"u"&&new TextDecoder,Dse=0;try{Rse.decode(sH,{stream:!0}),Dse=1}catch{}function jse(e){if(Array.isArray(e))return e}function Mse(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function MO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Qse(e,t){if(e){if(typeof e=="string")return MO(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?MO(e,t):void 0}}function Hse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QO(e,t){return jse(e)||Mse(e,t)||Qse(e,t)||Hse()}function HO(e,t="utf8"){return new TextDecoder(t).decode(e)}const $se=new TextEncoder;function Wse(e){return $se.encode(e)}const Kse=1024*8,zse=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),pC={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class dN{constructor(t=Kse,r={}){gr(this,"buffer");gr(this,"byteLength");gr(this,"byteOffset");gr(this,"length");gr(this,"offset");gr(this,"lastWrittenByte");gr(this,"littleEndian");gr(this,"_data");gr(this,"_mark");gr(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const i=r.offset?r.offset>>>0:0,a=t.byteLength-i;let o=i;(ArrayBuffer.isView(t)||t instanceof dN)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+i),t=t.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=t,this.length=a,this.byteLength=a,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,a),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=pC[r].BYTES_PER_ELEMENT*t,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+n);if(this.littleEndian===zse&&r!=="uint8"&&r!=="int8"){const s=new Uint8Array(this.buffer.slice(i,i+n));s.reverse();const l=new pC[r](s.buffer);return this.offset+=n,l.reverse(),l}const o=new pC[r](a);return this.offset+=n,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return HO(this.readBytes(t))}decodeText(t=1,r="utf8"){return HO(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(Wse(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Vh(e){let t=e.length;for(;--t>=0;)e[t]=0}const Vse=3,Gse=258,cH=29,qse=256,Xse=qse+1+cH,AH=30,Yse=512,Jse=new Array((Xse+2)*2);Vh(Jse);const Zse=new Array(AH*2);Vh(Zse);const ele=new Array(Yse);Vh(ele);const tle=new Array(Gse-Vse+1);Vh(tle);const rle=new Array(cH);Vh(rle);const nle=new Array(AH);Vh(nle);const ile=(e,t,r,n)=>{let i=e&65535|0,a=e>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do i=i+t[n++]|0,a=a+i|0;while(--o);i%=65521,a%=65521}return i|a<<16|0};var hS=ile;const ale=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},ole=new Uint32Array(ale()),sle=(e,t,r,n)=>{const i=ole,a=n+r;e^=-1;for(let o=n;o<a;o++)e=e>>>8^i[(e^t[o])&255];return e^-1};var Al=sle,pS={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},fH={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const lle=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var ule=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)lle(r,n)&&(e[n]=r[n])}}return e},cle=e=>{let t=0;for(let n=0,i=e.length;n<i;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,i=0,a=e.length;n<a;n++){let o=e[n];r.set(o,i),i+=o.length}return r},dH={assign:ule,flattenChunks:cle};let hH=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{hH=!1}const hg=new Uint8Array(256);for(let e=0;e<256;e++)hg[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;hg[254]=hg[254]=1;var Ale=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,i,a,o=e.length,s=0;for(i=0;i<o;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),s+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(s),a=0,i=0;a<s;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?t[a++]=r:r<2048?(t[a++]=192|r>>>6,t[a++]=128|r&63):r<65536?(t[a++]=224|r>>>12,t[a++]=128|r>>>6&63,t[a++]=128|r&63):(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63,t[a++]=128|r>>>6&63,t[a++]=128|r&63);return t};const fle=(e,t)=>{if(t<65534&&e.subarray&&hH)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var dle=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,i;const a=new Array(r*2);for(i=0,n=0;n<r;){let o=e[n++];if(o<128){a[i++]=o;continue}let s=hg[o];if(s>4){a[i++]=65533,n+=s-1;continue}for(o&=s===2?31:s===3?15:7;s>1&&n<r;)o=o<<6|e[n++]&63,s--;if(s>1){a[i++]=65533;continue}o<65536?a[i++]=o:(o-=65536,a[i++]=55296|o>>10&1023,a[i++]=56320|o&1023)}return fle(a,i)},hle=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+hg[e[r]]>t?r:t},mS={string2buf:Ale,buf2string:dle,utf8border:hle};function ple(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var mle=ple;const sy=16209,gle=16191;var vle=function(t,r){let n,i,a,o,s,l,u,c,A,d,f,p,g,v,m,y,w,b,B,S,P,k,I,O;const F=t.state;n=t.next_in,I=t.input,i=n+(t.avail_in-5),a=t.next_out,O=t.output,o=a-(r-t.avail_out),s=a+(t.avail_out-257),l=F.dmax,u=F.wsize,c=F.whave,A=F.wnext,d=F.window,f=F.hold,p=F.bits,g=F.lencode,v=F.distcode,m=(1<<F.lenbits)-1,y=(1<<F.distbits)-1;e:do{p<15&&(f+=I[n++]<<p,p+=8,f+=I[n++]<<p,p+=8),w=g[f&m];t:for(;;){if(b=w>>>24,f>>>=b,p-=b,b=w>>>16&255,b===0)O[a++]=w&65535;else if(b&16){B=w&65535,b&=15,b&&(p<b&&(f+=I[n++]<<p,p+=8),B+=f&(1<<b)-1,f>>>=b,p-=b),p<15&&(f+=I[n++]<<p,p+=8,f+=I[n++]<<p,p+=8),w=v[f&y];r:for(;;){if(b=w>>>24,f>>>=b,p-=b,b=w>>>16&255,b&16){if(S=w&65535,b&=15,p<b&&(f+=I[n++]<<p,p+=8,p<b&&(f+=I[n++]<<p,p+=8)),S+=f&(1<<b)-1,S>l){t.msg="invalid distance too far back",F.mode=sy;break e}if(f>>>=b,p-=b,b=a-o,S>b){if(b=S-b,b>c&&F.sane){t.msg="invalid distance too far back",F.mode=sy;break e}if(P=0,k=d,A===0){if(P+=u-b,b<B){B-=b;do O[a++]=d[P++];while(--b);P=a-S,k=O}}else if(A<b){if(P+=u+A-b,b-=A,b<B){B-=b;do O[a++]=d[P++];while(--b);if(P=0,A<B){b=A,B-=b;do O[a++]=d[P++];while(--b);P=a-S,k=O}}}else if(P+=A-b,b<B){B-=b;do O[a++]=d[P++];while(--b);P=a-S,k=O}for(;B>2;)O[a++]=k[P++],O[a++]=k[P++],O[a++]=k[P++],B-=3;B&&(O[a++]=k[P++],B>1&&(O[a++]=k[P++]))}else{P=a-S;do O[a++]=O[P++],O[a++]=O[P++],O[a++]=O[P++],B-=3;while(B>2);B&&(O[a++]=O[P++],B>1&&(O[a++]=O[P++]))}}else if(b&64){t.msg="invalid distance code",F.mode=sy;break e}else{w=v[(w&65535)+(f&(1<<b)-1)];continue r}break}}else if(b&64)if(b&32){F.mode=gle;break e}else{t.msg="invalid literal/length code",F.mode=sy;break e}else{w=g[(w&65535)+(f&(1<<b)-1)];continue t}break}}while(n<i&&a<s);B=p>>3,n-=B,p-=B<<3,f&=(1<<p)-1,t.next_in=n,t.next_out=a,t.avail_in=n<i?5+(i-n):5-(n-i),t.avail_out=a<s?257+(s-a):257-(a-s),F.hold=f,F.bits=p};const cd=15,$O=852,WO=592,KO=0,mC=1,zO=2,yle=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),wle=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),xle=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ble=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Ble=(e,t,r,n,i,a,o,s)=>{const l=s.bits;let u=0,c=0,A=0,d=0,f=0,p=0,g=0,v=0,m=0,y=0,w,b,B,S,P,k=null,I;const O=new Uint16Array(cd+1),F=new Uint16Array(cd+1);let N=null,U,M,V;for(u=0;u<=cd;u++)O[u]=0;for(c=0;c<n;c++)O[t[r+c]]++;for(f=l,d=cd;d>=1&&O[d]===0;d--);if(f>d&&(f=d),d===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,s.bits=1,0;for(A=1;A<d&&O[A]===0;A++);for(f<A&&(f=A),v=1,u=1;u<=cd;u++)if(v<<=1,v-=O[u],v<0)return-1;if(v>0&&(e===KO||d!==1))return-1;for(F[1]=0,u=1;u<cd;u++)F[u+1]=F[u]+O[u];for(c=0;c<n;c++)t[r+c]!==0&&(o[F[t[r+c]]++]=c);if(e===KO?(k=N=o,I=20):e===mC?(k=yle,N=wle,I=257):(k=xle,N=ble,I=0),y=0,c=0,u=A,P=a,p=f,g=0,B=-1,m=1<<f,S=m-1,e===mC&&m>$O||e===zO&&m>WO)return 1;for(;;){U=u-g,o[c]+1<I?(M=0,V=o[c]):o[c]>=I?(M=N[o[c]-I],V=k[o[c]-I]):(M=96,V=0),w=1<<u-g,b=1<<p,A=b;do b-=w,i[P+(y>>g)+b]=U<<24|M<<16|V|0;while(b!==0);for(w=1<<u-1;y&w;)w>>=1;if(w!==0?(y&=w-1,y+=w):y=0,c++,--O[u]===0){if(u===d)break;u=t[r+o[c]]}if(u>f&&(y&S)!==B){for(g===0&&(g=f),P+=A,p=u-g,v=1<<p;p+g<d&&(v-=O[p+g],!(v<=0));)p++,v<<=1;if(m+=1<<p,e===mC&&m>$O||e===zO&&m>WO)return 1;B=y&S,i[B]=f<<24|p<<16|P-a|0}}return y!==0&&(i[P+y]=u-g<<24|64<<16|0),s.bits=f,0};var Mm=Ble;const Cle=0,pH=1,mH=2,{Z_FINISH:VO,Z_BLOCK:Ele,Z_TREES:ly,Z_OK:bf,Z_STREAM_END:Sle,Z_NEED_DICT:Nle,Z_STREAM_ERROR:As,Z_DATA_ERROR:gH,Z_MEM_ERROR:vH,Z_BUF_ERROR:Fle,Z_DEFLATED:GO}=fH,f2=16180,qO=16181,XO=16182,YO=16183,JO=16184,ZO=16185,eT=16186,tT=16187,rT=16188,nT=16189,fw=16190,lu=16191,gC=16192,iT=16193,vC=16194,aT=16195,oT=16196,sT=16197,lT=16198,uy=16199,cy=16200,uT=16201,cT=16202,AT=16203,fT=16204,dT=16205,yC=16206,hT=16207,pT=16208,nn=16209,yH=16210,wH=16211,Ile=852,_le=592,kle=15,Ple=kle,mT=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function Ole(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Lf=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<f2||t.mode>wH?1:0},xH=e=>{if(Lf(e))return As;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=f2,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(Ile),t.distcode=t.distdyn=new Int32Array(_le),t.sane=1,t.back=-1,bf},bH=e=>{if(Lf(e))return As;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,xH(e)},BH=(e,t)=>{let r;if(Lf(e))return As;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?As:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,bH(e))},CH=(e,t)=>{if(!e)return As;const r=new Ole;e.state=r,r.strm=e,r.window=null,r.mode=f2;const n=BH(e,t);return n!==bf&&(e.state=null),n},Tle=e=>CH(e,Ple);let gT=!0,wC,xC;const Lle=e=>{if(gT){wC=new Int32Array(512),xC=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Mm(pH,e.lens,0,288,wC,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Mm(mH,e.lens,0,32,xC,0,e.work,{bits:5}),gT=!1}e.lencode=wC,e.lenbits=9,e.distcode=xC,e.distbits=5},EH=(e,t,r,n)=>{let i;const a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(t.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(t.subarray(r-n,r-n+i),a.wnext),n-=i,n?(a.window.set(t.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},Ule=(e,t)=>{let r,n,i,a,o,s,l,u,c,A,d,f,p,g,v=0,m,y,w,b,B,S,P,k;const I=new Uint8Array(4);let O,F;const N=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Lf(e)||!e.output||!e.input&&e.avail_in!==0)return As;r=e.state,r.mode===lu&&(r.mode=gC),o=e.next_out,i=e.output,l=e.avail_out,a=e.next_in,n=e.input,s=e.avail_in,u=r.hold,c=r.bits,A=s,d=l,k=bf;e:for(;;)switch(r.mode){case f2:if(r.wrap===0){r.mode=gC;break}for(;c<16;){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,I[0]=u&255,I[1]=u>>>8&255,r.check=Al(r.check,I,2,0),u=0,c=0,r.mode=qO;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=nn;break}if((u&15)!==GO){e.msg="unknown compression method",r.mode=nn;break}if(u>>>=4,c-=4,P=(u&15)+8,r.wbits===0&&(r.wbits=P),P>15||P>r.wbits){e.msg="invalid window size",r.mode=nn;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=u&512?nT:lu,u=0,c=0;break;case qO:for(;c<16;){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}if(r.flags=u,(r.flags&255)!==GO){e.msg="unknown compression method",r.mode=nn;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=nn;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(I[0]=u&255,I[1]=u>>>8&255,r.check=Al(r.check,I,2,0)),u=0,c=0,r.mode=XO;case XO:for(;c<32;){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(I[0]=u&255,I[1]=u>>>8&255,I[2]=u>>>16&255,I[3]=u>>>24&255,r.check=Al(r.check,I,4,0)),u=0,c=0,r.mode=YO;case YO:for(;c<16;){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(I[0]=u&255,I[1]=u>>>8&255,r.check=Al(r.check,I,2,0)),u=0,c=0,r.mode=JO;case JO:if(r.flags&1024){for(;c<16;){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(I[0]=u&255,I[1]=u>>>8&255,r.check=Al(r.check,I,2,0)),u=0,c=0}else r.head&&(r.head.extra=null);r.mode=ZO;case ZO:if(r.flags&1024&&(f=r.length,f>s&&(f=s),f&&(r.head&&(P=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+f),P)),r.flags&512&&r.wrap&4&&(r.check=Al(r.check,n,f,a)),s-=f,a+=f,r.length-=f),r.length))break e;r.length=0,r.mode=eT;case eT:if(r.flags&2048){if(s===0)break e;f=0;do P=n[a+f++],r.head&&P&&r.length<65536&&(r.head.name+=String.fromCharCode(P));while(P&&f<s);if(r.flags&512&&r.wrap&4&&(r.check=Al(r.check,n,f,a)),s-=f,a+=f,P)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=tT;case tT:if(r.flags&4096){if(s===0)break e;f=0;do P=n[a+f++],r.head&&P&&r.length<65536&&(r.head.comment+=String.fromCharCode(P));while(P&&f<s);if(r.flags&512&&r.wrap&4&&(r.check=Al(r.check,n,f,a)),s-=f,a+=f,P)break e}else r.head&&(r.head.comment=null);r.mode=rT;case rT:if(r.flags&512){for(;c<16;){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}if(r.wrap&4&&u!==(r.check&65535)){e.msg="header crc mismatch",r.mode=nn;break}u=0,c=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=lu;break;case nT:for(;c<32;){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}e.adler=r.check=mT(u),u=0,c=0,r.mode=fw;case fw:if(r.havedict===0)return e.next_out=o,e.avail_out=l,e.next_in=a,e.avail_in=s,r.hold=u,r.bits=c,Nle;e.adler=r.check=1,r.mode=lu;case lu:if(t===Ele||t===ly)break e;case gC:if(r.last){u>>>=c&7,c-=c&7,r.mode=yC;break}for(;c<3;){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}switch(r.last=u&1,u>>>=1,c-=1,u&3){case 0:r.mode=iT;break;case 1:if(Lle(r),r.mode=uy,t===ly){u>>>=2,c-=2;break e}break;case 2:r.mode=oT;break;case 3:e.msg="invalid block type",r.mode=nn}u>>>=2,c-=2;break;case iT:for(u>>>=c&7,c-=c&7;c<32;){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=nn;break}if(r.length=u&65535,u=0,c=0,r.mode=vC,t===ly)break e;case vC:r.mode=aT;case aT:if(f=r.length,f){if(f>s&&(f=s),f>l&&(f=l),f===0)break e;i.set(n.subarray(a,a+f),o),s-=f,a+=f,l-=f,o+=f,r.length-=f;break}r.mode=lu;break;case oT:for(;c<14;){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}if(r.nlen=(u&31)+257,u>>>=5,c-=5,r.ndist=(u&31)+1,u>>>=5,c-=5,r.ncode=(u&15)+4,u>>>=4,c-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=nn;break}r.have=0,r.mode=sT;case sT:for(;r.have<r.ncode;){for(;c<3;){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}r.lens[N[r.have++]]=u&7,u>>>=3,c-=3}for(;r.have<19;)r.lens[N[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,O={bits:r.lenbits},k=Mm(Cle,r.lens,0,19,r.lencode,0,r.work,O),r.lenbits=O.bits,k){e.msg="invalid code lengths set",r.mode=nn;break}r.have=0,r.mode=lT;case lT:for(;r.have<r.nlen+r.ndist;){for(;v=r.lencode[u&(1<<r.lenbits)-1],m=v>>>24,y=v>>>16&255,w=v&65535,!(m<=c);){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}if(w<16)u>>>=m,c-=m,r.lens[r.have++]=w;else{if(w===16){for(F=m+2;c<F;){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}if(u>>>=m,c-=m,r.have===0){e.msg="invalid bit length repeat",r.mode=nn;break}P=r.lens[r.have-1],f=3+(u&3),u>>>=2,c-=2}else if(w===17){for(F=m+3;c<F;){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}u>>>=m,c-=m,P=0,f=3+(u&7),u>>>=3,c-=3}else{for(F=m+7;c<F;){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}u>>>=m,c-=m,P=0,f=11+(u&127),u>>>=7,c-=7}if(r.have+f>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=nn;break}for(;f--;)r.lens[r.have++]=P}}if(r.mode===nn)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=nn;break}if(r.lenbits=9,O={bits:r.lenbits},k=Mm(pH,r.lens,0,r.nlen,r.lencode,0,r.work,O),r.lenbits=O.bits,k){e.msg="invalid literal/lengths set",r.mode=nn;break}if(r.distbits=6,r.distcode=r.distdyn,O={bits:r.distbits},k=Mm(mH,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,O),r.distbits=O.bits,k){e.msg="invalid distances set",r.mode=nn;break}if(r.mode=uy,t===ly)break e;case uy:r.mode=cy;case cy:if(s>=6&&l>=258){e.next_out=o,e.avail_out=l,e.next_in=a,e.avail_in=s,r.hold=u,r.bits=c,vle(e,d),o=e.next_out,i=e.output,l=e.avail_out,a=e.next_in,n=e.input,s=e.avail_in,u=r.hold,c=r.bits,r.mode===lu&&(r.back=-1);break}for(r.back=0;v=r.lencode[u&(1<<r.lenbits)-1],m=v>>>24,y=v>>>16&255,w=v&65535,!(m<=c);){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}if(y&&!(y&240)){for(b=m,B=y,S=w;v=r.lencode[S+((u&(1<<b+B)-1)>>b)],m=v>>>24,y=v>>>16&255,w=v&65535,!(b+m<=c);){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}u>>>=b,c-=b,r.back+=b}if(u>>>=m,c-=m,r.back+=m,r.length=w,y===0){r.mode=dT;break}if(y&32){r.back=-1,r.mode=lu;break}if(y&64){e.msg="invalid literal/length code",r.mode=nn;break}r.extra=y&15,r.mode=uT;case uT:if(r.extra){for(F=r.extra;c<F;){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,c-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=cT;case cT:for(;v=r.distcode[u&(1<<r.distbits)-1],m=v>>>24,y=v>>>16&255,w=v&65535,!(m<=c);){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}if(!(y&240)){for(b=m,B=y,S=w;v=r.distcode[S+((u&(1<<b+B)-1)>>b)],m=v>>>24,y=v>>>16&255,w=v&65535,!(b+m<=c);){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}u>>>=b,c-=b,r.back+=b}if(u>>>=m,c-=m,r.back+=m,y&64){e.msg="invalid distance code",r.mode=nn;break}r.offset=w,r.extra=y&15,r.mode=AT;case AT:if(r.extra){for(F=r.extra;c<F;){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,c-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=nn;break}r.mode=fT;case fT:if(l===0)break e;if(f=d-l,r.offset>f){if(f=r.offset-f,f>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=nn;break}f>r.wnext?(f-=r.wnext,p=r.wsize-f):p=r.wnext-f,f>r.length&&(f=r.length),g=r.window}else g=i,p=o-r.offset,f=r.length;f>l&&(f=l),l-=f,r.length-=f;do i[o++]=g[p++];while(--f);r.length===0&&(r.mode=cy);break;case dT:if(l===0)break e;i[o++]=r.length,l--,r.mode=cy;break;case yC:if(r.wrap){for(;c<32;){if(s===0)break e;s--,u|=n[a++]<<c,c+=8}if(d-=l,e.total_out+=d,r.total+=d,r.wrap&4&&d&&(e.adler=r.check=r.flags?Al(r.check,i,d,o-d):hS(r.check,i,d,o-d)),d=l,r.wrap&4&&(r.flags?u:mT(u))!==r.check){e.msg="incorrect data check",r.mode=nn;break}u=0,c=0}r.mode=hT;case hT:if(r.wrap&&r.flags){for(;c<32;){if(s===0)break e;s--,u+=n[a++]<<c,c+=8}if(r.wrap&4&&u!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=nn;break}u=0,c=0}r.mode=pT;case pT:k=Sle;break e;case nn:k=gH;break e;case yH:return vH;case wH:default:return As}return e.next_out=o,e.avail_out=l,e.next_in=a,e.avail_in=s,r.hold=u,r.bits=c,(r.wsize||d!==e.avail_out&&r.mode<nn&&(r.mode<yC||t!==VO))&&EH(e,e.output,e.next_out,d-e.avail_out),A-=e.avail_in,d-=e.avail_out,e.total_in+=A,e.total_out+=d,r.total+=d,r.wrap&4&&d&&(e.adler=r.check=r.flags?Al(r.check,i,d,e.next_out-d):hS(r.check,i,d,e.next_out-d)),e.data_type=r.bits+(r.last?64:0)+(r.mode===lu?128:0)+(r.mode===uy||r.mode===vC?256:0),(A===0&&d===0||t===VO)&&k===bf&&(k=Fle),k},Rle=e=>{if(Lf(e))return As;let t=e.state;return t.window&&(t.window=null),e.state=null,bf},Dle=(e,t)=>{if(Lf(e))return As;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,bf):As},jle=(e,t)=>{const r=t.length;let n,i,a;return Lf(e)||(n=e.state,n.wrap!==0&&n.mode!==fw)?As:n.mode===fw&&(i=1,i=hS(i,t,r,0),i!==n.check)?gH:(a=EH(e,t,r,r),a?(n.mode=yH,vH):(n.havedict=1,bf))};var Mle=bH,Qle=BH,Hle=xH,$le=Tle,Wle=CH,Kle=Ule,zle=Rle,Vle=Dle,Gle=jle,qle="pako inflate (from Nodeca project)",du={inflateReset:Mle,inflateReset2:Qle,inflateResetKeep:Hle,inflateInit:$le,inflateInit2:Wle,inflate:Kle,inflateEnd:zle,inflateGetHeader:Vle,inflateSetDictionary:Gle,inflateInfo:qle};function Xle(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Yle=Xle;const SH=Object.prototype.toString,{Z_NO_FLUSH:Jle,Z_FINISH:Zle,Z_OK:pg,Z_STREAM_END:bC,Z_NEED_DICT:BC,Z_STREAM_ERROR:eue,Z_DATA_ERROR:vT,Z_MEM_ERROR:tue}=fH;function tv(e){this.options=dH.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new mle,this.strm.avail_out=0;let r=du.inflateInit2(this.strm,t.windowBits);if(r!==pg)throw new Error(pS[r]);if(this.header=new Yle,du.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=mS.string2buf(t.dictionary):SH.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=du.inflateSetDictionary(this.strm,t.dictionary),r!==pg)))throw new Error(pS[r])}tv.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,o,s;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?Zle:Jle,SH.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=du.inflate(r,o),a===BC&&i&&(a=du.inflateSetDictionary(r,i),a===pg?a=du.inflate(r,o):a===vT&&(a=BC));r.avail_in>0&&a===bC&&r.state.wrap>0&&e[r.next_in]!==0;)du.inflateReset(r),a=du.inflate(r,o);switch(a){case eue:case vT:case BC:case tue:return this.onEnd(a),this.ended=!0,!1}if(s=r.avail_out,r.next_out&&(r.avail_out===0||a===bC))if(this.options.to==="string"){let l=mS.utf8border(r.output,r.next_out),u=r.next_out-l,c=mS.buf2string(r.output,l);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(l,l+u),0),this.onData(c)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(a===pg&&s===0)){if(a===bC)return a=du.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};tv.prototype.onData=function(e){this.chunks.push(e)};tv.prototype.onEnd=function(e){e===pg&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=dH.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function rue(e,t){const r=new tv(t);if(r.push(e),r.err)throw r.msg||pS[r.err];return r.result}var nue=tv,iue=rue,aue={Inflate:nue,inflate:iue};const{Inflate:oue,inflate:sue}=aue;var yT=oue,lue=sue;const NH=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;NH[e]=t}const wT=4294967295;function uue(e,t,r){let n=e;for(let i=0;i<r;i++)n=NH[(n^t[i])&255]^n>>>8;return n}function cue(e,t){return(uue(wT,e,t)^wT)>>>0}function xT(e,t,r){const n=e.readUint32(),i=cue(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function FH(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function IH(e,t,r,n){let i=0;for(;i<n;i++)t[i]=e[i];for(;i<r;i++)t[i]=e[i]+t[i-n]&255}function _H(e,t,r,n){let i=0;if(r.length===0)for(;i<n;i++)t[i]=e[i];else for(;i<n;i++)t[i]=e[i]+r[i]&255}function kH(e,t,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+(t[a-i]>>1)&255}else{for(;a<i;a++)t[a]=e[a]+(r[a]>>1)&255;for(;a<n;a++)t[a]=e[a]+(t[a-i]+r[a]>>1)&255}}function PH(e,t,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+t[a-i]&255}else{for(;a<i;a++)t[a]=e[a]+r[a]&255;for(;a<n;a++)t[a]=e[a]+Aue(t[a-i],r[a],r[a-i])&255}}function Aue(e,t,r){const n=e+t-r,i=Math.abs(n-e),a=Math.abs(n-t),o=Math.abs(n-r);return i<=a&&i<=o?e:a<=o?t:r}function fue(e,t,r,n,i,a){switch(e){case 0:FH(t,r,i);break;case 1:IH(t,r,i,a);break;case 2:_H(t,r,n,i);break;case 3:kH(t,r,n,i,a);break;case 4:PH(t,r,n,i,a);break;default:throw new Error(`Unsupported filter: ${e}`)}}const due=new Uint16Array([255]),hue=new Uint8Array(due.buffer),pue=hue[0]===255;function mue(e){const{data:t,width:r,height:n,channels:i,depth:a}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],s=Math.ceil(a/8)*i,l=new Uint8Array(n*r*s);let u=0;for(let c=0;c<7;c++){const A=o[c],d=Math.ceil((r-A.x)/A.xStep),f=Math.ceil((n-A.y)/A.yStep);if(d<=0||f<=0)continue;const p=d*s,g=new Uint8Array(p);for(let v=0;v<f;v++){const m=t[u++],y=t.subarray(u,u+p);u+=p;const w=new Uint8Array(p);fue(m,y,w,g,p,s),g.set(w);for(let b=0;b<d;b++){const B=A.x+b*A.xStep,S=A.y+v*A.yStep;if(!(B>=r||S>=n))for(let P=0;P<s;P++)l[(S*r+B)*s+P]=w[b*s+P]}}}if(a===16){const c=new Uint16Array(l.buffer);if(pue)for(let A=0;A<c.length;A++)c[A]=gue(c[A]);return c}else return l}function gue(e){return(e&255)<<8|e>>8&255}const vue=new Uint16Array([255]),yue=new Uint8Array(vue.buffer),wue=yue[0]===255,xue=new Uint8Array(0);function bT(e){const{data:t,width:r,height:n,channels:i,depth:a}=e,o=Math.ceil(a/8)*i,s=Math.ceil(a/8*i*r),l=new Uint8Array(n*s);let u=xue,c=0,A,d;for(let f=0;f<n;f++){switch(A=t.subarray(c+1,c+1+s),d=l.subarray(f*s,(f+1)*s),t[c]){case 0:FH(A,d,s);break;case 1:IH(A,d,s,o);break;case 2:_H(A,d,u,s);break;case 3:kH(A,d,u,s,o);break;case 4:PH(A,d,u,s,o);break;default:throw new Error(`Unsupported filter: ${t[c]}`)}u=d,c+=s+1}if(a===16){const f=new Uint16Array(l.buffer);if(wue)for(let p=0;p<f.length;p++)f[p]=bue(f[p]);return f}else return l}function bue(e){return(e&255)<<8|e>>8&255}const g1=Uint8Array.of(137,80,78,71,13,10,26,10);function BT(e){if(!Bue(e.readBytes(g1.length)))throw new Error("wrong PNG signature")}function Bue(e){if(e.length<g1.length)return!1;for(let t=0;t<g1.length;t++)if(e[t]!==g1[t])return!1;return!0}const Cue="tEXt",Eue=0,OH=new TextDecoder("latin1");function Sue(e){if(Fue(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const Nue=/^[\u0000-\u00FF]*$/;function Fue(e){if(!Nue.test(e))throw new Error("invalid latin1 text")}function Iue(e,t,r){const n=TH(t);e[n]=_ue(t,r-n.length-1)}function TH(e){for(e.mark();e.readByte()!==Eue;);const t=e.offset;e.reset();const r=OH.decode(e.readBytes(t-e.offset-1));return e.skip(1),Sue(r),r}function _ue(e,t){return OH.decode(e.readBytes(t))}const vo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},CC={UNKNOWN:-1,DEFLATE:0},CT={UNKNOWN:-1,ADAPTIVE:0},EC={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Ay={NONE:0,BACKGROUND:1,PREVIOUS:2},SC={SOURCE:0,OVER:1};class kue extends dN{constructor(r,n={}){super(r);gr(this,"_checkCrc");gr(this,"_inflator");gr(this,"_png");gr(this,"_apng");gr(this,"_end");gr(this,"_hasPalette");gr(this,"_palette");gr(this,"_hasTransparency");gr(this,"_transparency");gr(this,"_compressionMethod");gr(this,"_filterMethod");gr(this,"_interlaceMethod");gr(this,"_colorType");gr(this,"_isAnimated");gr(this,"_numberOfFrames");gr(this,"_numberOfPlays");gr(this,"_frames");gr(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new yT,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=CC.UNKNOWN,this._filterMethod=CT.UNKNOWN,this._interlaceMethod=EC.UNKNOWN,this._colorType=vo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(BT(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(BT(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case Cue:Iue(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?xT(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?xT(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=Pue(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case vo.GREYSCALE:i=1;break;case vo.TRUECOLOUR:i=3;break;case vo.INDEXED_COLOUR:i=1;break;case vo.GREYSCALE_ALPHA:i=2;break;case vo.TRUECOLOUR_ALPHA:i=4;break;case vo.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==CC.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<n;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case vo.GREYSCALE:case vo.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case vo.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case vo.UNKNOWN:case vo.GREYSCALE_ALPHA:case vo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=TH(this),i=this.readUint8();if(i!==CC.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:lue(a)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=bT({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const a=this._apng.frames.at(r-1);this.disposeFrame(i,a,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case Ay.NONE:break;case Ay.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){const s=(a*r.width+o)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[s+l]=0}break;case Ay.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,a=(o,s)=>{const l=((o+n.yOffset)*this._png.width+n.xOffset+s)*this._png.channels,u=(o*n.width+s)*this._png.channels;return{index:l,frameIndex:u}};switch(n.blendOp){case SC.SOURCE:for(let o=0;o<n.height;o++)for(let s=0;s<n.width;s++){const{index:l,frameIndex:u}=a(o,s);for(let c=0;c<this._png.channels;c++)r.data[l+c]=n.data[u+c]}break;case SC.OVER:for(let o=0;o<n.height;o++)for(let s=0;s<n.width;s++){const{index:l,frameIndex:u}=a(o,s);for(let c=0;c<this._png.channels;c++){const A=n.data[u+this._png.channels-1]/i,d=c%(this._png.channels-1)===0?1:n.data[u+c],f=Math.floor(A*d+(1-A)*r.data[l+c]);r.data[l+c]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==CT.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===EC.NO_INTERLACE)this._png.data=bT({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===EC.ADAM7)this._png.data=mue({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Ay.NONE,blendOp:SC.SOURCE,data:r}),this._inflator=new yT,this._writingDataChunks=!1}}function Pue(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var ET;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(ET||(ET={}));function Oue(e,t){return new kue(e,t).decode()}var Dt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function NC(){Dt.console&&typeof Dt.console.log=="function"&&Dt.console.log.apply(Dt.console,arguments)}var Tr={log:NC,warn:function(e){Dt.console&&(typeof Dt.console.warn=="function"?Dt.console.warn.apply(Dt.console,arguments):NC.call(null,arguments))},error:function(e){Dt.console&&(typeof Dt.console.error=="function"?Dt.console.error.apply(Dt.console,arguments):NC(e))}};function FC(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){DA(n.response,t,r)},n.onerror=function(){Tr.error("could not download file")},n.send()}function ST(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function fy(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var DA=Dt.saveAs||((typeof window>"u"?"undefined":Er(window))!=="object"||window!==Dt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=Dt.URL||Dt.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?ST(i.href)?FC(e,t,r):fy(i,i.target="_blank"):fy(i)):(i.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){fy(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(ST(e))FC(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){fy(n)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:Er(a)!=="object"&&(Tr.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return FC(e,t,r);var i=e.type==="application/octet-stream",a=/constructor/i.test(Dt.HTMLElement)||Dt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&(typeof FileReader>"u"?"undefined":Er(FileReader))==="object"){var s=new FileReader;s.onloadend=function(){var c=s.result;c=o?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=c:location=c,n=null},s.readAsDataURL(e)}else{var l=Dt.URL||Dt.webkitURL,u=l.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function LH(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(s){return[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(s){return[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(s){return[parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,o=i.exec(e);o&&(t=a(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var s=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return s.length==1&&(s="0"+s),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+s+l+u}}var v1=Dt.atob.bind(Dt),NT=Dt.btoa.bind(Dt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function IC(e,t){var r=e[0],n=e[1],i=e[2],a=e[3];r=ia(r,n,i,a,t[0],7,-680876936),a=ia(a,r,n,i,t[1],12,-389564586),i=ia(i,a,r,n,t[2],17,606105819),n=ia(n,i,a,r,t[3],22,-1044525330),r=ia(r,n,i,a,t[4],7,-176418897),a=ia(a,r,n,i,t[5],12,1200080426),i=ia(i,a,r,n,t[6],17,-1473231341),n=ia(n,i,a,r,t[7],22,-45705983),r=ia(r,n,i,a,t[8],7,1770035416),a=ia(a,r,n,i,t[9],12,-1958414417),i=ia(i,a,r,n,t[10],17,-42063),n=ia(n,i,a,r,t[11],22,-1990404162),r=ia(r,n,i,a,t[12],7,1804603682),a=ia(a,r,n,i,t[13],12,-40341101),i=ia(i,a,r,n,t[14],17,-1502002290),r=aa(r,n=ia(n,i,a,r,t[15],22,1236535329),i,a,t[1],5,-165796510),a=aa(a,r,n,i,t[6],9,-1069501632),i=aa(i,a,r,n,t[11],14,643717713),n=aa(n,i,a,r,t[0],20,-373897302),r=aa(r,n,i,a,t[5],5,-701558691),a=aa(a,r,n,i,t[10],9,38016083),i=aa(i,a,r,n,t[15],14,-660478335),n=aa(n,i,a,r,t[4],20,-405537848),r=aa(r,n,i,a,t[9],5,568446438),a=aa(a,r,n,i,t[14],9,-1019803690),i=aa(i,a,r,n,t[3],14,-187363961),n=aa(n,i,a,r,t[8],20,1163531501),r=aa(r,n,i,a,t[13],5,-1444681467),a=aa(a,r,n,i,t[2],9,-51403784),i=aa(i,a,r,n,t[7],14,1735328473),r=oa(r,n=aa(n,i,a,r,t[12],20,-1926607734),i,a,t[5],4,-378558),a=oa(a,r,n,i,t[8],11,-2022574463),i=oa(i,a,r,n,t[11],16,1839030562),n=oa(n,i,a,r,t[14],23,-35309556),r=oa(r,n,i,a,t[1],4,-1530992060),a=oa(a,r,n,i,t[4],11,1272893353),i=oa(i,a,r,n,t[7],16,-155497632),n=oa(n,i,a,r,t[10],23,-1094730640),r=oa(r,n,i,a,t[13],4,681279174),a=oa(a,r,n,i,t[0],11,-358537222),i=oa(i,a,r,n,t[3],16,-722521979),n=oa(n,i,a,r,t[6],23,76029189),r=oa(r,n,i,a,t[9],4,-640364487),a=oa(a,r,n,i,t[12],11,-421815835),i=oa(i,a,r,n,t[15],16,530742520),r=sa(r,n=oa(n,i,a,r,t[2],23,-995338651),i,a,t[0],6,-198630844),a=sa(a,r,n,i,t[7],10,1126891415),i=sa(i,a,r,n,t[14],15,-1416354905),n=sa(n,i,a,r,t[5],21,-57434055),r=sa(r,n,i,a,t[12],6,1700485571),a=sa(a,r,n,i,t[3],10,-1894986606),i=sa(i,a,r,n,t[10],15,-1051523),n=sa(n,i,a,r,t[1],21,-2054922799),r=sa(r,n,i,a,t[8],6,1873313359),a=sa(a,r,n,i,t[15],10,-30611744),i=sa(i,a,r,n,t[6],15,-1560198380),n=sa(n,i,a,r,t[13],21,1309151649),r=sa(r,n,i,a,t[4],6,-145523070),a=sa(a,r,n,i,t[11],10,-1120210379),i=sa(i,a,r,n,t[2],15,718787259),n=sa(n,i,a,r,t[9],21,-343485551),e[0]=Rc(r,e[0]),e[1]=Rc(n,e[1]),e[2]=Rc(i,e[2]),e[3]=Rc(a,e[3])}function d2(e,t,r,n,i,a){return t=Rc(Rc(t,e),Rc(n,a)),Rc(t<<i|t>>>32-i,r)}function ia(e,t,r,n,i,a,o){return d2(t&r|~t&n,e,t,i,a,o)}function aa(e,t,r,n,i,a,o){return d2(t&n|r&~n,e,t,i,a,o)}function oa(e,t,r,n,i,a,o){return d2(t^r^n,e,t,i,a,o)}function sa(e,t,r,n,i,a,o){return d2(r^(t|~n),e,t,i,a,o)}function UH(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)IC(n,Tue(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(IC(n,i),t=0;t<16;t++)i[t]=0;return i[14]=8*r,IC(n,i),n}function Tue(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var FT="0123456789abcdef".split("");function Lue(e){for(var t="",r=0;r<4;r++)t+=FT[e>>8*r+4&15]+FT[e>>8*r&15];return t}function Uue(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function gS(e){return UH(e).map(Uue).join("")}var Rue=function(e){for(var t=0;t<e.length;t++)e[t]=Lue(e[t]);return e.join("")}(UH("hello"))!="5d41402abc4b2a76b9719d911017c592";function Rc(e,t){if(Rue){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function vS(e,t){var r,n,i,a;if(e!==r){for(var o=(i=e,a=1+(256/e.length|0),new Array(a+1).join(i)),s=[],l=0;l<256;l++)s[l]=l;var u=0;for(l=0;l<256;l++){var c=s[l];u=(u+c+o.charCodeAt(l))%256,s[l]=s[u],s[u]=c}r=e,n=s}else s=n;var A=t.length,d=0,f=0,p="";for(l=0;l<A;l++)f=(f+(c=s[d=(d+1)%256]))%256,s[d]=s[f],s[f]=c,o=s[(s[d]+s[f])%256],p+=String.fromCharCode(t.charCodeAt(l)^o);return p}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var IT={print:4,modify:8,copy:16,"annot-forms":32};function bd(e,t,r,n){this.v=1,this.r=2;var i=192;e.forEach(function(s){if(IT.perm!==void 0)throw new Error("Invalid permission: "+s);i+=IT[s]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=gS(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=vS(this.encryptionKey,this.padding)}function Bd(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var i=e.charCodeAt(n);t+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):e[n]}return t}function _T(e){if(Er(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var a=Math.random().toString(35);return t[r][a]=[n,!!i],a},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in t[r]){var o=t[r][a];try{o[0].apply(e,n)}catch(s){Dt.console&&Tr.error("jsPDF PubSub Error",s.message,s)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function dw(e){if(!(this instanceof dw))return new dw(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function RH(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function KA(e,t,r,n,i){if(!(this instanceof KA))return new KA(e,t,r,n,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,RH.call(this,n,i)}function Hd(e,t,r,n,i){if(!(this instanceof Hd))return new Hd(e,t,r,n,i);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,RH.call(this,n,i)}function Et(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],o=[],s=1,l=16,u="S",c=null;Er(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,i=e.format||i,a=e.compress||e.compressPdf||a,(c=e.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),s=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(a===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var A=e.putOnlyUsedFonts||!1,d={},f={internal:{},__private__:{}};f.__private__.PubSub=_T;var p="1.3",g=f.__private__.getPdfVersion=function(){return p};f.__private__.setPdfVersion=function(_){p=_};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return v};var m=f.__private__.getPageFormat=function(_){return v[_]};i=i||"a4";var y="compat",w="advanced",b=y;function B(){this.saveGraphicsState(),Y(new je(ut,0,0,-ut,0,BA()*ut).toString()+" cm"),this.setFontSize(this.getFontSize()/ut),u="n",b=w}function S(){this.restoreGraphicsState(),u="S",b=y}var P=f.__private__.combineFontStyleAndFontWeight=function(_,H){if(_=="bold"&&H=="normal"||_=="bold"&&H==400||_=="normal"&&H=="italic"||_=="bold"&&H=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return H&&(_=H==400||H==="normal"?_==="italic"?"italic":"normal":H!=700&&H!=="bold"||_!=="normal"?(H==700?"bold":H)+""+_:"bold"),_};f.advancedAPI=function(_){var H=b===y;return H&&B.call(this),typeof _!="function"||(_(this),H&&S.call(this)),this},f.compatAPI=function(_){var H=b===w;return H&&S.call(this),typeof _!="function"||(_(this),H&&B.call(this)),this},f.isAdvancedAPI=function(){return b===w};var k,I=function(_){if(b!==w)throw new Error(_+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},O=f.roundToPrecision=f.__private__.roundToPrecision=function(_,H){var ue=t||H;if(isNaN(_)||isNaN(ue))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return _.toFixed(ue).replace(/0+$/,"")};k=f.hpf=f.__private__.hpf=typeof l=="number"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return O(_,l)}:l==="smart"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return O(_,_>-1&&_<1?16:5)}:function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return O(_,16)};var F=f.f2=f.__private__.f2=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f2");return O(_,2)},N=f.__private__.f3=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f3");return O(_,3)},U=f.scale=f.__private__.scale=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.scale");return b===y?_*ut:b===w?_:void 0},M=function(_){return U(function(H){return b===y?BA()-H:b===w?H:void 0}(_))};f.__private__.setPrecision=f.setPrecision=function(_){typeof parseInt(_,10)=="number"&&(t=parseInt(_,10))};var V,Q="00000000000000000000000000000000",W=f.__private__.getFileId=function(){return Q},D=f.__private__.setFileId=function(_){return Q=_!==void 0&&/^[a-fA-F0-9]{32}$/.test(_)?_.toUpperCase():Q.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(ti=new bd(c.userPermissions,c.userPassword,c.ownerPassword,Q)),Q};f.setFileId=function(_){return D(_),this},f.getFileId=function(){return W()};var K=f.__private__.convertDateToPDFDate=function(_){var H=_.getTimezoneOffset(),ue=H<0?"+":"-",fe=Math.floor(Math.abs(H/60)),we=Math.abs(H%60),Re=[ue,z(fe),"'",z(we),"'"].join("");return["D:",_.getFullYear(),z(_.getMonth()+1),z(_.getDate()),z(_.getHours()),z(_.getMinutes()),z(_.getSeconds()),Re].join("")},ie=f.__private__.convertPDFDateToDate=function(_){var H=parseInt(_.substr(2,4),10),ue=parseInt(_.substr(6,2),10)-1,fe=parseInt(_.substr(8,2),10),we=parseInt(_.substr(10,2),10),Re=parseInt(_.substr(12,2),10),He=parseInt(_.substr(14,2),10);return new Date(H,ue,fe,we,Re,He,0)},ee=f.__private__.setCreationDate=function(_){var H;if(_===void 0&&(_=new Date),_ instanceof Date)H=K(_);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(_))throw new Error("Invalid argument passed to jsPDF.setCreationDate");H=_}return V=H},L=f.__private__.getCreationDate=function(_){var H=V;return _==="jsDate"&&(H=ie(V)),H};f.setCreationDate=function(_){return ee(_),this},f.getCreationDate=function(_){return L(_)};var j,z=f.__private__.padd2=function(_){return("0"+parseInt(_)).slice(-2)},X=f.__private__.padd2Hex=function(_){return("00"+(_=_.toString())).substr(_.length)},ae=0,Z=[],ce=[],ne=0,pe=[],ye=[],de=!1,Ie=ce;f.__private__.setCustomOutputDestination=function(_){de=!0,Ie=_};var De=function(_){de||(Ie=_)};f.__private__.resetCustomOutputDestination=function(){de=!1,Ie=ce};var Y=f.__private__.out=function(_){return _=_.toString(),ne+=_.length+1,Ie.push(_),Ie},Ae=f.__private__.write=function(_){return Y(arguments.length===1?_.toString():Array.prototype.join.call(arguments," "))},Ee=f.__private__.getArrayBuffer=function(_){for(var H=_.length,ue=new ArrayBuffer(H),fe=new Uint8Array(ue);H--;)fe[H]=_.charCodeAt(H);return ue},Pe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return Pe};var Se=e.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(_){return Se=b===w?_/ut:_,this};var Ke,Ve=f.__private__.getFontSize=f.getFontSize=function(){return b===y?Se:Se*ut},Oe=e.R2L||!1;f.__private__.setR2L=f.setR2L=function(_){return Oe=_,this},f.__private__.getR2L=f.getR2L=function(){return Oe};var et,Ge=f.__private__.setZoomMode=function(_){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(_))Ke=_;else if(isNaN(_)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(_)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+_+'" is not recognized.');Ke=_}else Ke=parseInt(_,10)};f.__private__.getZoomMode=function(){return Ke};var Nt,St=f.__private__.setPageMode=function(_){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(_)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+_+'" is not recognized.');et=_};f.__private__.getPageMode=function(){return et};var Ot=f.__private__.setLayoutMode=function(_){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(_)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+_+'" is not recognized.');Nt=_};f.__private__.getLayoutMode=function(){return Nt},f.__private__.setDisplayMode=f.setDisplayMode=function(_,H,ue){return Ge(_),Ot(H),St(ue),this};var Ye={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(_){if(Object.keys(Ye).indexOf(_)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ye[_]},f.__private__.getDocumentProperties=function(){return Ye},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(_){for(var H in Ye)Ye.hasOwnProperty(H)&&_[H]&&(Ye[H]=_[H]);return this},f.__private__.setDocumentProperty=function(_,H){if(Object.keys(Ye).indexOf(_)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ye[_]=H};var Je,ut,ct,Vr,Xt,Mt={},Qt={},Dr=[],Ft={},Nr={},kt={},Ht={},jr=null,it=0,Pt=[],pr=new _T(f),$l=e.hotfixes||[],bi={},vs={},ke=[],je=function _(H,ue,fe,we,Re,He){if(!(this instanceof _))return new _(H,ue,fe,we,Re,He);isNaN(H)&&(H=1),isNaN(ue)&&(ue=0),isNaN(fe)&&(fe=0),isNaN(we)&&(we=1),isNaN(Re)&&(Re=0),isNaN(He)&&(He=0),this._matrix=[H,ue,fe,we,Re,He]};Object.defineProperty(je.prototype,"sx",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(je.prototype,"shy",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(je.prototype,"shx",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(je.prototype,"sy",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(je.prototype,"tx",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(je.prototype,"ty",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(je.prototype,"a",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(je.prototype,"b",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(je.prototype,"c",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(je.prototype,"d",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(je.prototype,"e",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(je.prototype,"f",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(je.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(je.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(je.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(je.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),je.prototype.join=function(_){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(_)},je.prototype.multiply=function(_){var H=_.sx*this.sx+_.shy*this.shx,ue=_.sx*this.shy+_.shy*this.sy,fe=_.shx*this.sx+_.sy*this.shx,we=_.shx*this.shy+_.sy*this.sy,Re=_.tx*this.sx+_.ty*this.shx+this.tx,He=_.tx*this.shy+_.ty*this.sy+this.ty;return new je(H,ue,fe,we,Re,He)},je.prototype.decompose=function(){var _=this.sx,H=this.shy,ue=this.shx,fe=this.sy,we=this.tx,Re=this.ty,He=Math.sqrt(_*_+H*H),pt=(_/=He)*ue+(H/=He)*fe;ue-=_*pt,fe-=H*pt;var Bt=Math.sqrt(ue*ue+fe*fe);return pt/=Bt,_*(fe/=Bt)<H*(ue/=Bt)&&(_=-_,H=-H,pt=-pt,He=-He),{scale:new je(He,0,0,Bt,0,0),translate:new je(1,0,0,1,we,Re),rotate:new je(_,H,-H,_,0,0),skew:new je(1,0,pt,1,0,0)}},je.prototype.toString=function(_){return this.join(" ")},je.prototype.inversed=function(){var _=this.sx,H=this.shy,ue=this.shx,fe=this.sy,we=this.tx,Re=this.ty,He=1/(_*fe-H*ue),pt=fe*He,Bt=-H*He,jt=-ue*He,Gt=_*He;return new je(pt,Bt,jt,Gt,-pt*we-jt*Re,-Bt*we-Gt*Re)},je.prototype.applyToPoint=function(_){var H=_.x*this.sx+_.y*this.shx+this.tx,ue=_.x*this.shy+_.y*this.sy+this.ty;return new Gl(H,ue)},je.prototype.applyToRectangle=function(_){var H=this.applyToPoint(_),ue=this.applyToPoint(new Gl(_.x+_.w,_.y+_.h));return new mp(H.x,H.y,ue.x-H.x,ue.y-H.y)},je.prototype.clone=function(){var _=this.sx,H=this.shy,ue=this.shx,fe=this.sy,we=this.tx,Re=this.ty;return new je(_,H,ue,fe,we,Re)},f.Matrix=je;var Ze=f.matrixMult=function(_,H){return H.multiply(_)},ht=new je(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=ht;var Tt=function(_,H){if(!Nr[_]){var ue=(H instanceof KA?"Sh":"P")+(Object.keys(Ft).length+1).toString(10);H.id=ue,Nr[_]=ue,Ft[ue]=H,pr.publish("addPattern",H)}};f.ShadingPattern=KA,f.TilingPattern=Hd,f.addShadingPattern=function(_,H){return I("addShadingPattern()"),Tt(_,H),this},f.beginTilingPattern=function(_){I("beginTilingPattern()"),gp(_.boundingBox[0],_.boundingBox[1],_.boundingBox[2]-_.boundingBox[0],_.boundingBox[3]-_.boundingBox[1],_.matrix)},f.endTilingPattern=function(_,H){I("endTilingPattern()"),H.stream=ye[j].join(`
`),Tt(_,H),pr.publish("endTilingPattern",H),ke.pop().restore()};var It,tr=f.__private__.newObject=function(){var _=_t();return er(_,!0),_},_t=f.__private__.newObjectDeferred=function(){return ae++,Z[ae]=function(){return ne},ae},er=function(_,H){return H=typeof H=="boolean"&&H,Z[_]=ne,H&&Y(_+" 0 obj"),_},Bi=f.__private__.newAdditionalObject=function(){var _={objId:_t(),content:""};return pe.push(_),_},Zn=_t(),tn=_t(),ba=f.__private__.decodeColorString=function(_){var H=_.split(" ");if(H.length!==2||H[1]!=="g"&&H[1]!=="G")H.length!==5||H[4]!=="k"&&H[4]!=="K"||(H=[(1-H[0])*(1-H[3]),(1-H[1])*(1-H[3]),(1-H[2])*(1-H[3]),"r"]);else{var ue=parseFloat(H[0]);H=[ue,ue,ue,"r"]}for(var fe="#",we=0;we<3;we++)fe+=("0"+Math.floor(255*parseFloat(H[we])).toString(16)).slice(-2);return fe},wn=f.__private__.encodeColorString=function(_){var H;typeof _=="string"&&(_={ch1:_});var ue=_.ch1,fe=_.ch2,we=_.ch3,Re=_.ch4,He=_.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ue=="string"&&ue.charAt(0)!=="#"){var pt=new LH(ue);if(pt.ok)ue=pt.toHex();else if(!/^\d*\.?\d*$/.test(ue))throw new Error('Invalid color "'+ue+'" passed to jsPDF.encodeColorString.')}if(typeof ue=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ue)&&(ue="#"+ue[1]+ue[1]+ue[2]+ue[2]+ue[3]+ue[3]),typeof ue=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ue)){var Bt=parseInt(ue.substr(1),16);ue=Bt>>16&255,fe=Bt>>8&255,we=255&Bt}if(fe===void 0||Re===void 0&&ue===fe&&fe===we)H=typeof ue=="string"?ue+" "+He[0]:_.precision===2?F(ue/255)+" "+He[0]:N(ue/255)+" "+He[0];else if(Re===void 0||Er(Re)==="object"){if(Re&&!isNaN(Re.a)&&Re.a===0)return["1.","1.","1.",He[1]].join(" ");H=typeof ue=="string"?[ue,fe,we,He[1]].join(" "):_.precision===2?[F(ue/255),F(fe/255),F(we/255),He[1]].join(" "):[N(ue/255),N(fe/255),N(we/255),He[1]].join(" ")}else H=typeof ue=="string"?[ue,fe,we,Re,He[2]].join(" "):_.precision===2?[F(ue),F(fe),F(we),F(Re),He[2]].join(" "):[N(ue),N(fe),N(we),N(Re),He[2]].join(" ");return H},kr=f.__private__.getFilters=function(){return o},un=f.__private__.putStream=function(_){var H=(_=_||{}).data||"",ue=_.filters||kr(),fe=_.alreadyAppliedFilters||[],we=_.addLength1||!1,Re=H.length,He=_.objectId,pt=function(ri){return ri};if(c!==null&&He===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(pt=ti.encryptor(He,0));var Bt={};ue===!0&&(ue=["FlateEncode"]);var jt=_.additionalKeyValues||[],Gt=(Bt=Et.API.processDataByFilters!==void 0?Et.API.processDataByFilters(H,ue):{data:H,reverseChain:[]}).reverseChain+(Array.isArray(fe)?fe.join(" "):fe.toString());if(Bt.data.length!==0&&(jt.push({key:"Length",value:Bt.data.length}),we===!0&&jt.push({key:"Length1",value:Re})),Gt.length!=0)if(Gt.split("/").length-1==1)jt.push({key:"Filter",value:Gt});else{jt.push({key:"Filter",value:"["+Gt+"]"});for(var fr=0;fr<jt.length;fr+=1)if(jt[fr].key==="DecodeParms"){for(var cn=[],Kn=0;Kn<Bt.reverseChain.split("/").length-1;Kn+=1)cn.push("null");cn.push(jt[fr].value),jt[fr].value="["+cn.join(" ")+"]"}}Y("<<");for(var Mr=0;Mr<jt.length;Mr++)Y("/"+jt[Mr].key+" "+jt[Mr].value);Y(">>"),Bt.data.length!==0&&(Y("stream"),Y(pt(Bt.data)),Y("endstream"))},ea=f.__private__.putPage=function(_){var H=_.number,ue=_.data,fe=_.objId,we=_.contentsObjId;er(fe,!0),Y("<</Type /Page"),Y("/Parent "+_.rootDictionaryObjId+" 0 R"),Y("/Resources "+_.resourceDictionaryObjId+" 0 R"),Y("/MediaBox ["+parseFloat(k(_.mediaBox.bottomLeftX))+" "+parseFloat(k(_.mediaBox.bottomLeftY))+" "+k(_.mediaBox.topRightX)+" "+k(_.mediaBox.topRightY)+"]"),_.cropBox!==null&&Y("/CropBox ["+k(_.cropBox.bottomLeftX)+" "+k(_.cropBox.bottomLeftY)+" "+k(_.cropBox.topRightX)+" "+k(_.cropBox.topRightY)+"]"),_.bleedBox!==null&&Y("/BleedBox ["+k(_.bleedBox.bottomLeftX)+" "+k(_.bleedBox.bottomLeftY)+" "+k(_.bleedBox.topRightX)+" "+k(_.bleedBox.topRightY)+"]"),_.trimBox!==null&&Y("/TrimBox ["+k(_.trimBox.bottomLeftX)+" "+k(_.trimBox.bottomLeftY)+" "+k(_.trimBox.topRightX)+" "+k(_.trimBox.topRightY)+"]"),_.artBox!==null&&Y("/ArtBox ["+k(_.artBox.bottomLeftX)+" "+k(_.artBox.bottomLeftY)+" "+k(_.artBox.topRightX)+" "+k(_.artBox.topRightY)+"]"),typeof _.userUnit=="number"&&_.userUnit!==1&&Y("/UserUnit "+_.userUnit),pr.publish("putPage",{objId:fe,pageContext:Pt[H],pageNumber:H,page:ue}),Y("/Contents "+we+" 0 R"),Y(">>"),Y("endobj");var Re=ue.join(`
`);return b===w&&(Re+=`
Q`),er(we,!0),un({data:Re,filters:kr(),objectId:we}),Y("endobj"),fe},Da=f.__private__.putPages=function(){var _,H,ue=[];for(_=1;_<=it;_++)Pt[_].objId=_t(),Pt[_].contentsObjId=_t();for(_=1;_<=it;_++)ue.push(ea({number:_,data:ye[_],objId:Pt[_].objId,contentsObjId:Pt[_].contentsObjId,mediaBox:Pt[_].mediaBox,cropBox:Pt[_].cropBox,bleedBox:Pt[_].bleedBox,trimBox:Pt[_].trimBox,artBox:Pt[_].artBox,userUnit:Pt[_].userUnit,rootDictionaryObjId:Zn,resourceDictionaryObjId:tn}));er(Zn,!0),Y("<</Type /Pages");var fe="/Kids [";for(H=0;H<it;H++)fe+=ue[H]+" 0 R ";Y(fe+"]"),Y("/Count "+it),Y(">>"),Y("endobj"),pr.publish("postPutPages")},Fr=function(_){pr.publish("putFont",{font:_,out:Y,newObject:tr,putStream:un}),_.isAlreadyPutted!==!0&&(_.objectNumber=tr(),Y("<<"),Y("/Type /Font"),Y("/BaseFont /"+Bd(_.postScriptName)),Y("/Subtype /Type1"),typeof _.encoding=="string"&&Y("/Encoding /"+_.encoding),Y("/FirstChar 32"),Y("/LastChar 255"),Y(">>"),Y("endobj"))},lo=function(_){_.objectNumber=tr();var H=[];H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Form"}),H.push({key:"BBox",value:"["+[k(_.x),k(_.y),k(_.x+_.width),k(_.y+_.height)].join(" ")+"]"}),H.push({key:"Matrix",value:"["+_.matrix.toString()+"]"});var ue=_.pages[1].join(`
`);un({data:ue,additionalKeyValues:H,objectId:_.objectNumber}),Y("endobj")},tl=function(_,H){H||(H=21);var ue=tr(),fe=function(He,pt){var Bt,jt=[],Gt=1/(pt-1);for(Bt=0;Bt<1;Bt+=Gt)jt.push(Bt);if(jt.push(1),He[0].offset!=0){var fr={offset:0,color:He[0].color};He.unshift(fr)}if(He[He.length-1].offset!=1){var cn={offset:1,color:He[He.length-1].color};He.push(cn)}for(var Kn="",Mr=0,ri=0;ri<jt.length;ri++){for(Bt=jt[ri];Bt>He[Mr+1].offset;)Mr++;var zn=He[Mr].offset,Di=(Bt-zn)/(He[Mr+1].offset-zn),Yl=He[Mr].color,ws=He[Mr+1].color;Kn+=X(Math.round((1-Di)*Yl[0]+Di*ws[0]).toString(16))+X(Math.round((1-Di)*Yl[1]+Di*ws[1]).toString(16))+X(Math.round((1-Di)*Yl[2]+Di*ws[2]).toString(16))}return Kn.trim()}(_.colors,H),we=[];we.push({key:"FunctionType",value:"0"}),we.push({key:"Domain",value:"[0.0 1.0]"}),we.push({key:"Size",value:"["+H+"]"}),we.push({key:"BitsPerSample",value:"8"}),we.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),we.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),un({data:fe,additionalKeyValues:we,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ue}),Y("endobj"),_.objectNumber=tr(),Y("<< /ShadingType "+_.type),Y("/ColorSpace /DeviceRGB");var Re="/Coords ["+k(parseFloat(_.coords[0]))+" "+k(parseFloat(_.coords[1]))+" ";_.type===2?Re+=k(parseFloat(_.coords[2]))+" "+k(parseFloat(_.coords[3])):Re+=k(parseFloat(_.coords[2]))+" "+k(parseFloat(_.coords[3]))+" "+k(parseFloat(_.coords[4]))+" "+k(parseFloat(_.coords[5])),Y(Re+="]"),_.matrix&&Y("/Matrix ["+_.matrix.toString()+"]"),Y("/Function "+ue+" 0 R"),Y("/Extend [true true]"),Y(">>"),Y("endobj")},Gr=function(_,H){var ue=_t(),fe=tr();H.push({resourcesOid:ue,objectOid:fe}),_.objectNumber=fe;var we=[];we.push({key:"Type",value:"/Pattern"}),we.push({key:"PatternType",value:"1"}),we.push({key:"PaintType",value:"1"}),we.push({key:"TilingType",value:"1"}),we.push({key:"BBox",value:"["+_.boundingBox.map(k).join(" ")+"]"}),we.push({key:"XStep",value:k(_.xStep)}),we.push({key:"YStep",value:k(_.yStep)}),we.push({key:"Resources",value:ue+" 0 R"}),_.matrix&&we.push({key:"Matrix",value:"["+_.matrix.toString()+"]"}),un({data:_.stream,additionalKeyValues:we,objectId:_.objectNumber}),Y("endobj")},Mo=function(_){for(var H in _.objectNumber=tr(),Y("<<"),_)switch(H){case"opacity":Y("/ca "+F(_[H]));break;case"stroke-opacity":Y("/CA "+F(_[H]))}Y(">>"),Y("endobj")},Ut=function(_){er(_.resourcesOid,!0),Y("<<"),Y("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var H in Y("/Font <<"),Mt)Mt.hasOwnProperty(H)&&(A===!1||A===!0&&d.hasOwnProperty(H))&&Y("/"+H+" "+Mt[H].objectNumber+" 0 R");Y(">>")}(),function(){if(Object.keys(Ft).length>0){for(var H in Y("/Shading <<"),Ft)Ft.hasOwnProperty(H)&&Ft[H]instanceof KA&&Ft[H].objectNumber>=0&&Y("/"+H+" "+Ft[H].objectNumber+" 0 R");pr.publish("putShadingPatternDict"),Y(">>")}}(),function(H){if(Object.keys(Ft).length>0){for(var ue in Y("/Pattern <<"),Ft)Ft.hasOwnProperty(ue)&&Ft[ue]instanceof f.TilingPattern&&Ft[ue].objectNumber>=0&&Ft[ue].objectNumber<H&&Y("/"+ue+" "+Ft[ue].objectNumber+" 0 R");pr.publish("putTilingPatternDict"),Y(">>")}}(_.objectOid),function(){if(Object.keys(kt).length>0){var H;for(H in Y("/ExtGState <<"),kt)kt.hasOwnProperty(H)&&kt[H].objectNumber>=0&&Y("/"+H+" "+kt[H].objectNumber+" 0 R");pr.publish("putGStateDict"),Y(">>")}}(),function(){for(var H in Y("/XObject <<"),bi)bi.hasOwnProperty(H)&&bi[H].objectNumber>=0&&Y("/"+H+" "+bi[H].objectNumber+" 0 R");pr.publish("putXobjectDict"),Y(">>")}(),Y(">>"),Y("endobj")},Ri=function(_){Qt[_.fontName]=Qt[_.fontName]||{},Qt[_.fontName][_.fontStyle]=_.id},Ba=function(_,H,ue,fe,we){var Re={id:"F"+(Object.keys(Mt).length+1).toString(10),postScriptName:_,fontName:H,fontStyle:ue,encoding:fe,isStandardFont:we||!1,metadata:{}};return pr.publish("addFont",{font:Re,instance:this}),Mt[Re.id]=Re,Ri(Re),Re.id},ei=f.__private__.pdfEscape=f.pdfEscape=function(_,H){return function(ue,fe){var we,Re,He,pt,Bt,jt,Gt,fr,cn;if(He=(fe=fe||{}).sourceEncoding||"Unicode",Bt=fe.outputEncoding,(fe.autoencode||Bt)&&Mt[Je].metadata&&Mt[Je].metadata[He]&&Mt[Je].metadata[He].encoding&&(pt=Mt[Je].metadata[He].encoding,!Bt&&Mt[Je].encoding&&(Bt=Mt[Je].encoding),!Bt&&pt.codePages&&(Bt=pt.codePages[0]),typeof Bt=="string"&&(Bt=pt[Bt]),Bt)){for(Gt=!1,jt=[],we=0,Re=ue.length;we<Re;we++)(fr=Bt[ue.charCodeAt(we)])?jt.push(String.fromCharCode(fr)):jt.push(ue[we]),jt[we].charCodeAt(0)>>8&&(Gt=!0);ue=jt.join("")}for(we=ue.length;Gt===void 0&&we!==0;)ue.charCodeAt(we-1)>>8&&(Gt=!0),we--;if(!Gt)return ue;for(jt=fe.noBOM?[]:[254,255],we=0,Re=ue.length;we<Re;we++){if((cn=(fr=ue.charCodeAt(we))>>8)>>8)throw new Error("Character at position "+we+" of string '"+ue+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");jt.push(cn),jt.push(fr-(cn<<8))}return String.fromCharCode.apply(void 0,jt)}(_,H).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Qo=f.__private__.beginPage=function(_){ye[++it]=[],Pt[it]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(_[0]),topRightY:Number(_[1])}},Mv(it),De(ye[j])},jv=function(_,H){var ue,fe,we;switch(r=H||r,typeof _=="string"&&(ue=m(_.toLowerCase()),Array.isArray(ue)&&(fe=ue[0],we=ue[1])),Array.isArray(_)&&(fe=_[0]*ut,we=_[1]*ut),isNaN(fe)&&(fe=i[0],we=i[1]),(fe>14400||we>14400)&&(Tr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),fe=Math.min(14400,fe),we=Math.min(14400,we)),i=[fe,we],r.substr(0,1)){case"l":we>fe&&(i=[we,fe]);break;case"p":fe>we&&(i=[we,fe])}Qo(i),$t(fp),Y(Xf),hp!==0&&Y(hp+" J"),pp!==0&&Y(pp+" j"),pr.publish("addPage",{pageNumber:it})},cp=function(_){_>0&&_<=it&&(ye.splice(_,1),Pt.splice(_,1),it--,j>it&&(j=it),this.setPage(j))},Mv=function(_){_>0&&_<=it&&(j=_)},Qv=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return ye.length-1},Hv=function(_,H,ue){var fe,we=void 0;return ue=ue||{},_=_!==void 0?_:Mt[Je].fontName,H=H!==void 0?H:Mt[Je].fontStyle,fe=_.toLowerCase(),Qt[fe]!==void 0&&Qt[fe][H]!==void 0?we=Qt[fe][H]:Qt[_]!==void 0&&Qt[_][H]!==void 0?we=Qt[_][H]:ue.disableWarning===!1&&Tr.warn("Unable to look up font label for font '"+_+"', '"+H+"'. Refer to getFontList() for available fonts."),we||ue.noFallback||(we=Qt.times[H])==null&&(we=Qt.times.normal),we},rl=f.__private__.putInfo=function(){var _=tr(),H=function(fe){return fe};for(var ue in c!==null&&(H=ti.encryptor(_,0)),Y("<<"),Y("/Producer ("+ei(H("jsPDF "+Et.version))+")"),Ye)Ye.hasOwnProperty(ue)&&Ye[ue]&&Y("/"+ue.substr(0,1).toUpperCase()+ue.substr(1)+" ("+ei(H(Ye[ue]))+")");Y("/CreationDate ("+ei(H(V))+")"),Y(">>"),Y("endobj")},Vf=f.__private__.putCatalog=function(_){var H=(_=_||{}).rootDictionaryObjId||Zn;switch(tr(),Y("<<"),Y("/Type /Catalog"),Y("/Pages "+H+" 0 R"),Ke||(Ke="fullwidth"),Ke){case"fullwidth":Y("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Y("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Y("/OpenAction [3 0 R /Fit]");break;case"original":Y("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ue=""+Ke;ue.substr(ue.length-1)==="%"&&(Ke=parseInt(Ke)/100),typeof Ke=="number"&&Y("/OpenAction [3 0 R /XYZ null null "+F(Ke)+"]")}switch(Nt||(Nt="continuous"),Nt){case"continuous":Y("/PageLayout /OneColumn");break;case"single":Y("/PageLayout /SinglePage");break;case"two":case"twoleft":Y("/PageLayout /TwoColumnLeft");break;case"tworight":Y("/PageLayout /TwoColumnRight")}et&&Y("/PageMode /"+et),pr.publish("putCatalog"),Y(">>"),Y("endobj")},jb=f.__private__.putTrailer=function(){Y("trailer"),Y("<<"),Y("/Size "+(ae+1)),Y("/Root "+ae+" 0 R"),Y("/Info "+(ae-1)+" 0 R"),c!==null&&Y("/Encrypt "+ti.oid+" 0 R"),Y("/ID [ <"+Q+"> <"+Q+"> ]"),Y(">>")},Wn=f.__private__.putHeader=function(){Y("%PDF-"+p),Y("%")},$v=f.__private__.putXRef=function(){var _="0000000000";Y("xref"),Y("0 "+(ae+1)),Y("0000000000 65535 f ");for(var H=1;H<=ae;H++)typeof Z[H]=="function"?Y((_+Z[H]()).slice(-10)+" 00000 n "):Z[H]!==void 0?Y((_+Z[H]).slice(-10)+" 00000 n "):Y("0000000000 00000 n ")},nl=f.__private__.buildDocument=function(){var _;ae=0,ne=0,ce=[],Z=[],pe=[],Zn=_t(),tn=_t(),De(ce),pr.publish("buildDocument"),Wn(),Da(),function(){pr.publish("putAdditionalObjects");for(var ue=0;ue<pe.length;ue++){var fe=pe[ue];er(fe.objId,!0),Y(fe.content),Y("endobj")}pr.publish("postPutAdditionalObjects")}(),_=[],function(){for(var ue in Mt)Mt.hasOwnProperty(ue)&&(A===!1||A===!0&&d.hasOwnProperty(ue))&&Fr(Mt[ue])}(),function(){var ue;for(ue in kt)kt.hasOwnProperty(ue)&&Mo(kt[ue])}(),function(){for(var ue in bi)bi.hasOwnProperty(ue)&&lo(bi[ue])}(),function(ue){var fe;for(fe in Ft)Ft.hasOwnProperty(fe)&&(Ft[fe]instanceof KA?tl(Ft[fe]):Ft[fe]instanceof Hd&&Gr(Ft[fe],ue))}(_),pr.publish("putResources"),_.forEach(Ut),Ut({resourcesOid:tn,objectOid:Number.MAX_SAFE_INTEGER}),pr.publish("postPutResources"),c!==null&&(ti.oid=tr(),Y("<<"),Y("/Filter /Standard"),Y("/V "+ti.v),Y("/R "+ti.r),Y("/U <"+ti.toHexString(ti.U)+">"),Y("/O <"+ti.toHexString(ti.O)+">"),Y("/P "+ti.P),Y(">>"),Y("endobj")),rl(),Vf();var H=ne;return $v(),jb(),Y("startxref"),Y(""+H),Y("%%EOF"),De(ye[j]),ce.join(`
`)},Gf=f.__private__.getBlob=function(_){return new Blob([Ee(_)],{type:"application/pdf"})},Wv=f.output=f.__private__.output=(It=function(_,H){switch(typeof(H=H||{})=="string"?H={filename:H}:H.filename=H.filename||"generated.pdf",_){case void 0:return nl();case"save":f.save(H.filename);break;case"arraybuffer":return Ee(nl());case"blob":return Gf(nl());case"bloburi":case"bloburl":if(Dt.URL!==void 0&&typeof Dt.URL.createObjectURL=="function")return Dt.URL&&Dt.URL.createObjectURL(Gf(nl()))||void 0;Tr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ue="",fe=nl();try{ue=NT(fe)}catch{ue=NT(unescape(encodeURIComponent(fe)))}return"data:application/pdf;filename="+H.filename+";base64,"+ue;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Dt)==="[object Window]"){var we="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Re=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';H.pdfObjectUrl&&(we=H.pdfObjectUrl,Re="");var He='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+we+'"'+Re+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(H)+");<\/script></body></html>",pt=Dt.open();return pt!==null&&pt.document.write(He),pt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Dt)==="[object Window]"){var Bt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(H.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+H.filename+'" width="500px" height="400px" /></body></html>',jt=Dt.open();if(jt!==null){jt.document.write(Bt);var Gt=this;jt.document.documentElement.querySelector("#pdfViewer").onload=function(){jt.document.title=H.filename,jt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Gt.output("bloburl"))}}return jt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Dt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var fr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",H)+'"></iframe></body></html>',cn=Dt.open();if(cn!==null&&(cn.document.write(fr),cn.document.title=H.filename),cn||typeof safari>"u")return cn;break;case"datauri":case"dataurl":return Dt.document.location.href=this.output("datauristring",H);default:return null}},It.foo=function(){try{return It.apply(this,arguments)}catch(ue){var _=ue.stack||"";~_.indexOf(" at ")&&(_=_.split(" at ")[1]);var H="Error in function "+_.split(`
`)[0].split("<")[0]+": "+ue.message;if(!Dt.console)throw new Error(H);Dt.console.error(H,ue),Dt.alert&&alert(H)}},It.foo.bar=It,It.foo),Ho=function(_){return Array.isArray($l)===!0&&$l.indexOf(_)>-1};switch(n){case"pt":ut=1;break;case"mm":ut=72/25.4;break;case"cm":ut=72/2.54;break;case"in":ut=72;break;case"px":ut=Ho("px_scaling")==1?.75:96/72;break;case"pc":case"em":ut=12;break;case"ex":ut=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);ut=n}var ti=null;ee(),D();var Wl=f.__private__.getPageInfo=f.getPageInfo=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Pt[_].objId,pageNumber:_,pageContext:Pt[_]}},Kv=f.__private__.getPageInfoByObjId=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var H in Pt)if(Pt[H].objId===_)break;return Wl(H)},Mb=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:Pt[j].objId,pageNumber:j,pageContext:Pt[j]}};f.addPage=function(){return jv.apply(this,arguments),this},f.setPage=function(){return Mv.apply(this,arguments),De.call(this,ye[j]),this},f.insertPage=function(_){return this.addPage(),this.movePage(j,_),this},f.movePage=function(_,H){var ue,fe;if(_>H){ue=ye[_],fe=Pt[_];for(var we=_;we>H;we--)ye[we]=ye[we-1],Pt[we]=Pt[we-1];ye[H]=ue,Pt[H]=fe,this.setPage(H)}else if(_<H){ue=ye[_],fe=Pt[_];for(var Re=_;Re<H;Re++)ye[Re]=ye[Re+1],Pt[Re]=Pt[Re+1];ye[H]=ue,Pt[H]=fe,this.setPage(H)}return this},f.deletePage=function(){return cp.apply(this,arguments),this},f.__private__.text=f.text=function(_,H,ue,fe,we){var Re,He,pt,Bt,jt,Gt,fr,cn,Kn,Mr=(fe=fe||{}).scope||this;if(typeof _=="number"&&typeof H=="number"&&(typeof ue=="string"||Array.isArray(ue))){var ri=ue;ue=H,H=_,_=ri}if(arguments[3]instanceof je==0?(pt=arguments[4],Bt=arguments[5],Er(fr=arguments[3])==="object"&&fr!==null||(typeof pt=="string"&&(Bt=pt,pt=null),typeof fr=="string"&&(Bt=fr,fr=null),typeof fr=="number"&&(pt=fr,fr=null),fe={flags:fr,angle:pt,align:Bt})):(I("The transform parameter of text() with a Matrix value"),Kn=we),isNaN(H)||isNaN(ue)||_==null)throw new Error("Invalid arguments passed to jsPDF.text");if(_.length===0)return Mr;var zn,Di="",Yl=typeof fe.lineHeightFactor=="number"?fe.lineHeightFactor:wA,ws=Mr.internal.scaleFactor;function Jl(yr){return yr=yr.split("	").join(Array(fe.TabLen||9).join(" ")),ei(yr,fr)}function yp(yr){for(var Pr,Fn=yr.concat(),ni=[],tu=Fn.length;tu--;)typeof(Pr=Fn.shift())=="string"?ni.push(Pr):Array.isArray(yr)&&(Pr.length===1||Pr[1]===void 0&&Pr[2]===void 0)?ni.push(Pr[0]):ni.push([Pr[0],Pr[1],Pr[2]]);return ni}function Jf(yr,Pr){var Fn;if(typeof yr=="string")Fn=Pr(yr)[0];else if(Array.isArray(yr)){for(var ni,tu,Ip=yr.concat(),td=[],r0=Ip.length;r0--;)typeof(ni=Ip.shift())=="string"?td.push(Pr(ni)[0]):Array.isArray(ni)&&typeof ni[0]=="string"&&(tu=Pr(ni[0],ni[1],ni[2]),td.push([tu[0],tu[1],tu[2]]));Fn=td}return Fn}var rc=!1,CA=!0;if(typeof _=="string")rc=!0;else if(Array.isArray(_)){var EA=_.concat();He=[];for(var nc,ji=EA.length;ji--;)(typeof(nc=EA.shift())!="string"||Array.isArray(nc)&&typeof nc[0]!="string")&&(CA=!1);rc=CA}if(rc===!1)throw new Error('Type of text must be string or Array. "'+_+'" is not recognized.');typeof _=="string"&&(_=_.match(/[\r?\n]/)?_.split(/\r\n|\r|\n/g):[_]);var SA=Se/Mr.internal.scaleFactor,NA=SA*(Yl-1);switch(fe.baseline){case"bottom":ue-=NA;break;case"top":ue+=SA-NA;break;case"hanging":ue+=SA-2*NA;break;case"middle":ue+=SA/2-NA}if((Gt=fe.maxWidth||0)>0&&(typeof _=="string"?_=Mr.splitTextToSize(_,Gt):Object.prototype.toString.call(_)==="[object Array]"&&(_=_.reduce(function(yr,Pr){return yr.concat(Mr.splitTextToSize(Pr,Gt))},[]))),Re={text:_,x:H,y:ue,options:fe,mutex:{pdfEscape:ei,activeFontKey:Je,fonts:Mt,activeFontSize:Se}},pr.publish("preProcessText",Re),_=Re.text,pt=(fe=Re.options).angle,Kn instanceof je==0&&pt&&typeof pt=="number"){pt*=Math.PI/180,fe.rotationDirection===0&&(pt=-pt),b===w&&(pt=-pt);var wp=Math.cos(pt),xp=Math.sin(pt);Kn=new je(wp,xp,-xp,wp,0,0)}else pt&&pt instanceof je&&(Kn=pt);b!==w||Kn||(Kn=ht),(jt=fe.charSpace||Vl)!==void 0&&(Di+=k(U(jt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(cn=fe.horizontalScale)!==void 0&&(Di+=k(100*cn)+` Tz
`),fe.lang;var Ca=-1,Zl=fe.renderingMode!==void 0?fe.renderingMode:fe.stroke,Zf=Mr.internal.getCurrentPageInfo().pageContext;switch(Zl){case 0:case!1:case"fill":Ca=0;break;case 1:case!0:case"stroke":Ca=1;break;case 2:case"fillThenStroke":Ca=2;break;case 3:case"invisible":Ca=3;break;case 4:case"fillAndAddForClipping":Ca=4;break;case 5:case"strokeAndAddPathForClipping":Ca=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ca=6;break;case 7:case"addToPathForClipping":Ca=7}var e0=Zf.usedRenderingMode!==void 0?Zf.usedRenderingMode:-1;Ca!==-1?Di+=Ca+` Tr
`:e0!==-1&&(Di+=`0 Tr
`),Ca!==-1&&(Zf.usedRenderingMode=Ca),Bt=fe.align||"left";var $o,FA=Se*Yl,bp=Mr.internal.pageSize.getWidth(),Bp=Mt[Je];jt=fe.charSpace||Vl,Gt=fe.maxWidth||0,fr=Object.assign({autoencode:!0,noBOM:!0},fe.flags);var ic=[],IA=function(yr){return Mr.getStringUnitWidth(yr,{font:Bp,charSpace:jt,fontSize:Se,doKerning:!1})*Se/ws};if(Object.prototype.toString.call(_)==="[object Array]"){var uo;He=yp(_),Bt!=="left"&&($o=He.map(IA));var co,ac=0;if(Bt==="right"){H-=$o[0],_=[],ji=He.length;for(var eu=0;eu<ji;eu++)eu===0?(co=Kl(H),uo=zl(ue)):(co=U(ac-$o[eu]),uo=-FA),_.push([He[eu],co,uo]),ac=$o[eu]}else if(Bt==="center"){H-=$o[0]/2,_=[],ji=He.length;for(var oc=0;oc<ji;oc++)oc===0?(co=Kl(H),uo=zl(ue)):(co=U((ac-$o[oc])/2),uo=-FA),_.push([He[oc],co,uo]),ac=$o[oc]}else if(Bt==="left"){_=[],ji=He.length;for(var Cp=0;Cp<ji;Cp++)_.push(He[Cp])}else if(Bt==="justify"&&Bp.encoding==="Identity-H"){_=[],ji=He.length,Gt=Gt!==0?Gt:bp;for(var ed=0,Nn=0;Nn<ji;Nn++)if(uo=Nn===0?zl(ue):-FA,co=Nn===0?Kl(H):ed,Nn<ji-1){var t0=U((Gt-$o[Nn])/(He[Nn].split(" ").length-1)),al=He[Nn].split(" ");_.push([al[0]+" ",co,uo]),ed=0;for(var ol=1;ol<al.length;ol++){var Ep=(IA(al[ol-1]+" "+al[ol])-IA(al[ol]))*ws+t0;ol==al.length-1?_.push([al[ol],Ep,0]):_.push([al[ol]+" ",Ep,0]),ed-=Ep}}else _.push([He[Nn],co,uo]);_.push(["",ed,0])}else{if(Bt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(_=[],ji=He.length,Gt=Gt!==0?Gt:bp,Nn=0;Nn<ji;Nn++){uo=Nn===0?zl(ue):-FA,co=Nn===0?Kl(H):0;var Sp=He[Nn].split(" ").length-1,Np=Sp>0?(Gt-$o[Nn])/Sp:0;Nn<ji-1?ic.push(k(U(Np))):ic.push(0),_.push([He[Nn],co,uo])}}}(typeof fe.R2L=="boolean"?fe.R2L:Oe)===!0&&(_=Jf(_,function(yr,Pr,Fn){return[yr.split("").reverse().join(""),Pr,Fn]})),Re={text:_,x:H,y:ue,options:fe,mutex:{pdfEscape:ei,activeFontKey:Je,fonts:Mt,activeFontSize:Se}},pr.publish("postProcessText",Re),_=Re.text,zn=Re.mutex.isHex||!1;var Fp=Mt[Je].encoding;Fp!=="WinAnsiEncoding"&&Fp!=="StandardEncoding"||(_=Jf(_,function(yr,Pr,Fn){return[Jl(yr),Pr,Fn]})),He=yp(_),_=[];for(var sc,lc,uc,_A=Array.isArray(He[0])?1:0,cc="",kA=function(yr,Pr,Fn){var ni="";return Fn instanceof je?(Fn=typeof fe.angle=="number"?Ze(Fn,new je(1,0,0,1,yr,Pr)):Ze(new je(1,0,0,1,yr,Pr),Fn),b===w&&(Fn=Ze(new je(1,0,0,-1,0,0),Fn)),ni=Fn.join(" ")+` Tm
`):ni=k(yr)+" "+k(Pr)+` Td
`,ni},Wo=0;Wo<He.length;Wo++){switch(cc="",_A){case 1:uc=(zn?"<":"(")+He[Wo][0]+(zn?">":")"),sc=parseFloat(He[Wo][1]),lc=parseFloat(He[Wo][2]);break;case 0:uc=(zn?"<":"(")+He[Wo]+(zn?">":")"),sc=Kl(H),lc=zl(ue)}ic!==void 0&&ic[Wo]!==void 0&&(cc=ic[Wo]+` Tw
`),Wo===0?_.push(cc+kA(sc,lc,Kn)+uc):_A===0?_.push(cc+uc):_A===1&&_.push(cc+kA(sc,lc,Kn)+uc)}_=_A===0?_.join(` Tj
T* `):_.join(` Tj
`),_+=` Tj
`;var sl=`BT
/`;return sl+=Je+" "+Se+` Tf
`,sl+=k(Se*Yl)+` TL
`,sl+=xA+`
`,sl+=Di,sl+=_,Y(sl+="ET"),d[Je]=!0,Mr};var Qb=f.__private__.clip=f.clip=function(_){return Y(_==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return Qb("evenodd")},f.__private__.discardPath=f.discardPath=function(){return Y("n"),this};var il=f.__private__.isValidStyle=function(_){var H=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(_)!==-1&&(H=!0),H};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(_){return il(_)&&(u=_),this};var zv=f.__private__.getStyle=f.getStyle=function(_){var H=u;switch(_){case"D":case"S":H="S";break;case"F":H="f";break;case"FD":case"DF":H="B";break;case"f":case"f*":case"B":case"B*":H=_}return H},Vv=f.close=function(){return Y("h"),this};f.stroke=function(){return Y("S"),this},f.fill=function(_){return qf("f",_),this},f.fillEvenOdd=function(_){return qf("f*",_),this},f.fillStroke=function(_){return qf("B",_),this},f.fillStrokeEvenOdd=function(_){return qf("B*",_),this};var qf=function(_,H){Er(H)==="object"?$b(H,_):Y(_)},yA=function(_){_===null||b===w&&_===void 0||(_=zv(_),Y(_))};function Hb(_,H,ue,fe,we){var Re=new Hd(H||this.boundingBox,ue||this.xStep,fe||this.yStep,this.gState,we||this.matrix);Re.stream=this.stream;var He=_+"$$"+this.cloneIndex+++"$$";return Tt(He,Re),Re}var $b=function(_,H){var ue=Nr[_.key],fe=Ft[ue];if(fe instanceof KA)Y("q"),Y(Wb(H)),fe.gState&&f.setGState(fe.gState),Y(_.matrix.toString()+" cm"),Y("/"+ue+" sh"),Y("Q");else if(fe instanceof Hd){var we=new je(1,0,0,-1,0,BA());_.matrix&&(we=we.multiply(_.matrix||ht),ue=Hb.call(fe,_.key,_.boundingBox,_.xStep,_.yStep,we).id),Y("q"),Y("/Pattern cs"),Y("/"+ue+" scn"),fe.gState&&f.setGState(fe.gState),Y(H),Y("Q")}},Wb=function(_){switch(_){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ap=f.moveTo=function(_,H){return Y(k(U(_))+" "+k(M(H))+" m"),this},Gv=f.lineTo=function(_,H){return Y(k(U(_))+" "+k(M(H))+" l"),this},ys=f.curveTo=function(_,H,ue,fe,we,Re){return Y([k(U(_)),k(M(H)),k(U(ue)),k(M(fe)),k(U(we)),k(M(Re)),"c"].join(" ")),this};f.__private__.line=f.line=function(_,H,ue,fe,we){if(isNaN(_)||isNaN(H)||isNaN(ue)||isNaN(fe)||!il(we))throw new Error("Invalid arguments passed to jsPDF.line");return b===y?this.lines([[ue-_,fe-H]],_,H,[1,1],we||"S"):this.lines([[ue-_,fe-H]],_,H,[1,1]).stroke()},f.__private__.lines=f.lines=function(_,H,ue,fe,we,Re){var He,pt,Bt,jt,Gt,fr,cn,Kn,Mr,ri,zn,Di;if(typeof _=="number"&&(Di=ue,ue=H,H=_,_=Di),fe=fe||[1,1],Re=Re||!1,isNaN(H)||isNaN(ue)||!Array.isArray(_)||!Array.isArray(fe)||!il(we)||typeof Re!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ap(H,ue),He=fe[0],pt=fe[1],jt=_.length,ri=H,zn=ue,Bt=0;Bt<jt;Bt++)(Gt=_[Bt]).length===2?(ri=Gt[0]*He+ri,zn=Gt[1]*pt+zn,Gv(ri,zn)):(fr=Gt[0]*He+ri,cn=Gt[1]*pt+zn,Kn=Gt[2]*He+ri,Mr=Gt[3]*pt+zn,ri=Gt[4]*He+ri,zn=Gt[5]*pt+zn,ys(fr,cn,Kn,Mr,ri,zn));return Re&&Vv(),yA(we),this},f.path=function(_){for(var H=0;H<_.length;H++){var ue=_[H],fe=ue.c;switch(ue.op){case"m":Ap(fe[0],fe[1]);break;case"l":Gv(fe[0],fe[1]);break;case"c":ys.apply(this,fe);break;case"h":Vv()}}return this},f.__private__.rect=f.rect=function(_,H,ue,fe,we){if(isNaN(_)||isNaN(H)||isNaN(ue)||isNaN(fe)||!il(we))throw new Error("Invalid arguments passed to jsPDF.rect");return b===y&&(fe=-fe),Y([k(U(_)),k(M(H)),k(U(ue)),k(U(fe)),"re"].join(" ")),yA(we),this},f.__private__.triangle=f.triangle=function(_,H,ue,fe,we,Re,He){if(isNaN(_)||isNaN(H)||isNaN(ue)||isNaN(fe)||isNaN(we)||isNaN(Re)||!il(He))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ue-_,fe-H],[we-ue,Re-fe],[_-we,H-Re]],_,H,[1,1],He,!0),this},f.__private__.roundedRect=f.roundedRect=function(_,H,ue,fe,we,Re,He){if(isNaN(_)||isNaN(H)||isNaN(ue)||isNaN(fe)||isNaN(we)||isNaN(Re)||!il(He))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var pt=4/3*(Math.SQRT2-1);return we=Math.min(we,.5*ue),Re=Math.min(Re,.5*fe),this.lines([[ue-2*we,0],[we*pt,0,we,Re-Re*pt,we,Re],[0,fe-2*Re],[0,Re*pt,-we*pt,Re,-we,Re],[2*we-ue,0],[-we*pt,0,-we,-Re*pt,-we,-Re],[0,2*Re-fe],[0,-Re*pt,we*pt,-Re,we,-Re]],_+we,H,[1,1],He,!0),this},f.__private__.ellipse=f.ellipse=function(_,H,ue,fe,we){if(isNaN(_)||isNaN(H)||isNaN(ue)||isNaN(fe)||!il(we))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Re=4/3*(Math.SQRT2-1)*ue,He=4/3*(Math.SQRT2-1)*fe;return Ap(_+ue,H),ys(_+ue,H-He,_+Re,H-fe,_,H-fe),ys(_-Re,H-fe,_-ue,H-He,_-ue,H),ys(_-ue,H+He,_-Re,H+fe,_,H+fe),ys(_+Re,H+fe,_+ue,H+He,_+ue,H),yA(we),this},f.__private__.circle=f.circle=function(_,H,ue,fe){if(isNaN(_)||isNaN(H)||isNaN(ue)||!il(fe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(_,H,ue,ue,fe)},f.setFont=function(_,H,ue){return ue&&(H=P(H,ue)),Je=Hv(_,H,{disableWarning:!1}),this};var Kb=f.__private__.getFont=f.getFont=function(){return Mt[Hv.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var _,H,ue={};for(_ in Qt)if(Qt.hasOwnProperty(_))for(H in ue[_]=[],Qt[_])Qt[_].hasOwnProperty(H)&&ue[_].push(H);return ue},f.addFont=function(_,H,ue,fe,we){var Re=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Re.indexOf(arguments[3])!==-1?we=arguments[3]:arguments[3]&&Re.indexOf(arguments[3])==-1&&(ue=P(ue,fe)),Ba.call(this,_,H,ue,we=we||"Identity-H")};var wA,fp=e.lineWidth||.200025,zb=f.__private__.getLineWidth=f.getLineWidth=function(){return fp},$t=f.__private__.setLineWidth=f.setLineWidth=function(_){return fp=_,Y(k(U(_))+" w"),this};f.__private__.setLineDash=Et.API.setLineDash=Et.API.setLineDashPattern=function(_,H){if(_=_||[],H=H||0,isNaN(H)||!Array.isArray(_))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return _=_.map(function(ue){return k(U(ue))}).join(" "),H=k(U(H)),Y("["+_+"] "+H+" d"),this};var Vb=f.__private__.getLineHeight=f.getLineHeight=function(){return Se*wA};f.__private__.getLineHeight=f.getLineHeight=function(){return Se*wA};var Gb=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(_){return typeof(_=_||1.15)=="number"&&(wA=_),this},qb=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return wA};Gb(e.lineHeight);var Kl=f.__private__.getHorizontalCoordinate=function(_){return U(_)},zl=f.__private__.getVerticalCoordinate=function(_){return b===w?_:Pt[j].mediaBox.topRightY-Pt[j].mediaBox.bottomLeftY-U(_)},Xb=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(_){return k(Kl(_))},Yb=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(_){return k(zl(_))},Xf=e.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return ba(Xf)},f.__private__.setStrokeColor=f.setDrawColor=function(_,H,ue,fe){return Xf=wn({ch1:_,ch2:H,ch3:ue,ch4:fe,pdfColorType:"draw",precision:2}),Y(Xf),this};var dp=e.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return ba(dp)},f.__private__.setFillColor=f.setFillColor=function(_,H,ue,fe){return dp=wn({ch1:_,ch2:H,ch3:ue,ch4:fe,pdfColorType:"fill",precision:2}),Y(dp),this};var xA=e.textColor||"0 g",Jb=f.__private__.getTextColor=f.getTextColor=function(){return ba(xA)};f.__private__.setTextColor=f.setTextColor=function(_,H,ue,fe){return xA=wn({ch1:_,ch2:H,ch3:ue,ch4:fe,pdfColorType:"text",precision:3}),this};var Vl=e.charSpace,Zb=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Vl||0)};f.__private__.setCharSpace=f.setCharSpace=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Vl=_,this};var hp=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(_){var H=f.CapJoinStyles[_];if(H===void 0)throw new Error("Line cap style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return hp=H,Y(H+" J"),this};var pp=0;f.__private__.setLineJoin=f.setLineJoin=function(_){var H=f.CapJoinStyles[_];if(H===void 0)throw new Error("Line join style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return pp=H,Y(H+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(_){if(_=_||0,isNaN(_))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Y(k(U(_))+" M"),this},f.GState=dw,f.setGState=function(_){(_=typeof _=="string"?kt[Ht[_]]:qv(null,_)).equals(jr)||(Y("/"+_.id+" gs"),jr=_)};var qv=function(_,H){if(!_||!Ht[_]){var ue=!1;for(var fe in kt)if(kt.hasOwnProperty(fe)&&kt[fe].equals(H)){ue=!0;break}if(ue)H=kt[fe];else{var we="GS"+(Object.keys(kt).length+1).toString(10);kt[we]=H,H.id=we}return _&&(Ht[_]=H.id),pr.publish("addGState",H),H}};f.addGState=function(_,H){return qv(_,H),this},f.saveGraphicsState=function(){return Y("q"),Dr.push({key:Je,size:Se,color:xA}),this},f.restoreGraphicsState=function(){Y("Q");var _=Dr.pop();return Je=_.key,Se=_.size,xA=_.color,jr=null,this},f.setCurrentTransformationMatrix=function(_){return Y(_.toString()+" cm"),this},f.comment=function(_){return Y("#"+_),this};var Gl=function(_,H){var ue=_||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ue},set:function(Re){isNaN(Re)||(ue=parseFloat(Re))}});var fe=H||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return fe},set:function(Re){isNaN(Re)||(fe=parseFloat(Re))}});var we="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return we},set:function(Re){we=Re.toString()}}),this},mp=function(_,H,ue,fe){Gl.call(this,_,H),this.type="rect";var we=ue||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return we},set:function(He){isNaN(He)||(we=parseFloat(He))}});var Re=fe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Re},set:function(He){isNaN(He)||(Re=parseFloat(He))}}),this},Yf=function(){this.page=it,this.currentPage=j,this.pages=ye.slice(0),this.pagesContext=Pt.slice(0),this.x=ct,this.y=Vr,this.matrix=Xt,this.width=vp(j),this.height=Yv(j),this.outputDestination=Ie,this.id="",this.objectNumber=-1};Yf.prototype.restore=function(){it=this.page,j=this.currentPage,Pt=this.pagesContext,ye=this.pages,ct=this.x,Vr=this.y,Xt=this.matrix,Xv(j,this.width),ql(j,this.height),Ie=this.outputDestination};var gp=function(_,H,ue,fe,we){ke.push(new Yf),it=j=0,ye=[],ct=_,Vr=H,Xt=we,Qo([ue,fe])};for(var bA in f.beginFormObject=function(_,H,ue,fe,we){return gp(_,H,ue,fe,we),this},f.endFormObject=function(_){return function(H){if(vs[H])ke.pop().restore();else{var ue=new Yf,fe="Xo"+(Object.keys(bi).length+1).toString(10);ue.id=fe,vs[H]=fe,bi[fe]=ue,pr.publish("addFormObject",ue),ke.pop().restore()}}(_),this},f.doFormObject=function(_,H){var ue=bi[vs[_]];return Y("q"),Y(H.toString()+" cm"),Y("/"+ue.id+" Do"),Y("Q"),this},f.getFormObject=function(_){var H=bi[vs[_]];return{x:H.x,y:H.y,width:H.width,height:H.height,matrix:H.matrix}},f.save=function(_,H){return _=_||"generated.pdf",(H=H||{}).returnPromise=H.returnPromise||!1,H.returnPromise===!1?(DA(Gf(nl()),_),typeof DA.unload=="function"&&Dt.setTimeout&&setTimeout(DA.unload,911),this):new Promise(function(ue,fe){try{var we=DA(Gf(nl()),_);typeof DA.unload=="function"&&Dt.setTimeout&&setTimeout(DA.unload,911),ue(we)}catch(Re){fe(Re.message)}})},Et.API)Et.API.hasOwnProperty(bA)&&(bA==="events"&&Et.API.events.length?function(_,H){var ue,fe,we;for(we=H.length-1;we!==-1;we--)ue=H[we][0],fe=H[we][1],_.subscribe.apply(_,[ue].concat(typeof fe=="function"?[fe]:fe))}(pr,Et.API.events):f[bA]=Et.API[bA]);function vp(_){return Pt[_].mediaBox.topRightX-Pt[_].mediaBox.bottomLeftX}function Xv(_,H){Pt[_].mediaBox.topRightX=H+Pt[_].mediaBox.bottomLeftX}function Yv(_){return Pt[_].mediaBox.topRightY-Pt[_].mediaBox.bottomLeftY}function ql(_,H){Pt[_].mediaBox.topRightY=H+Pt[_].mediaBox.bottomLeftY}var Xl=f.getPageWidth=function(_){return vp(_=_||j)/ut},Jv=f.setPageWidth=function(_,H){Xv(_,H*ut)},BA=f.getPageHeight=function(_){return Yv(_=_||j)/ut},Zv=f.setPageHeight=function(_,H){ql(_,H*ut)};return f.internal={pdfEscape:ei,getStyle:zv,getFont:Kb,getFontSize:Ve,getCharSpace:Zb,getTextColor:Jb,getLineHeight:Vb,getLineHeightFactor:qb,getLineWidth:zb,write:Ae,getHorizontalCoordinate:Kl,getVerticalCoordinate:zl,getCoordinateString:Xb,getVerticalCoordinateString:Yb,collections:{},newObject:tr,newAdditionalObject:Bi,newObjectDeferred:_t,newObjectDeferredBegin:er,getFilters:kr,putStream:un,events:pr,scaleFactor:ut,pageSize:{getWidth:function(){return Xl(j)},setWidth:function(_){Jv(j,_)},getHeight:function(){return BA(j)},setHeight:function(_){Zv(j,_)}},encryptionOptions:c,encryption:ti,getEncryptor:function(_){return c!==null?ti.encryptor(_,0):function(H){return H}},output:Wv,getNumberOfPages:Qv,get pages(){return ye},out:Y,f2:F,f3:N,getPageInfo:Wl,getPageInfoByObjId:Kv,getCurrentPageInfo:Mb,getPDFVersion:g,Point:Gl,Rectangle:mp,Matrix:je,hasHotfix:Ho},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Xl(j)},set:function(_){Jv(j,_)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return BA(j)},set:function(_){Zv(j,_)},enumerable:!0,configurable:!0}),(function(_){for(var H=0,ue=Pe.length;H<ue;H++){var fe=Ba.call(this,_[H][0],_[H][1],_[H][2],Pe[H][3],!0);A===!1&&(d[fe]=!0);var we=_[H][0].split("-");Ri({id:fe,fontName:we[0],fontStyle:we[1]||""})}pr.publish("addFonts",{fonts:Mt,dictionary:Qt})}).call(f,Pe),Je="F1",jv(i,r),pr.publish("initialized"),f}bd.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},bd.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},bd.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},bd.prototype.processOwnerPassword=function(e,t){return vS(gS(t).substr(0,5),e)},bd.prototype.encryptor=function(e,t){var r=gS(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return vS(r,n)}},dw.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Er(e)!==Er(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Et.API={events:[]},Et.version="3.0.4";var Cn=Et.API,hN=1,Uf=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ad=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Kt=function(e){return e.toFixed(2)},yc=function(e){return e.toFixed(5)};Cn.__acroform__={};var oo=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},kT=function(e){return e*hN},hl=function(e){var t=new jH,r=At.internal.getHeight(e)||0,n=At.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Kt(n)),Number(Kt(r))],t},Due=Cn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},jue=Cn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},Mue=Cn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Un=Cn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Mue(e,t-1)},Rn=Cn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Due(e,t-1)},Dn=Cn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return jue(e,t-1)},Que=Cn.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,i=e[0],a=e[1],o=e[2],s=e[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(a+s)||0,l.upperRight_X=r(i+o)||0,l.upperRight_Y=n(a)||0,[Number(Kt(l.lowerLeft_X)),Number(Kt(l.lowerLeft_Y)),Number(Kt(l.upperRight_X)),Number(Kt(l.upperRight_Y))]},Hue=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=yS(e,r),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+Kt(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=hl(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},yS=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(F){return F.split(`
`)}):i.map(function(F){return[F]});var a=r,o=At.internal.getHeight(e)||0;o=o<0?-o:o;var s=At.internal.getWidth(e)||0;s=s<0?-s:s;var l=function(F,N,U){if(F+1<i.length){var M=N+" "+i[F+1][0];return dy(M,e,U).width<=s-4}return!1};a++;e:for(;a>0;){t="",a--;var u,c,A=dy("3",e,a).height,d=e.multiline?o-a:(o-A)/2,f=d+=2,p=0,g=0,v=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+dy(t,e,a=12).width+", FieldWidth:"+s+`
`;break}for(var m="",y=0,w=0;w<i.length;w++)if(i.hasOwnProperty(w)){var b=!1;if(i[w].length!==1&&v!==i[w].length-1){if((A+2)*(y+2)+2>o)continue e;m+=i[w][v],b=!0,g=w,w--}else{m=(m+=i[w][v]+" ").substr(m.length-1)==" "?m.substr(0,m.length-1):m;var B=parseInt(w),S=l(B,m,a),P=w>=i.length-1;if(S&&!P){m+=" ",v=0;continue}if(S||P){if(P)g=B;else if(e.multiline&&(A+2)*(y+2)+2>o)continue e}else{if(!e.multiline||(A+2)*(y+2)+2>o)continue e;g=B}}for(var k="",I=p;I<=g;I++){var O=i[I];if(e.multiline){if(I===g){k+=O[v]+" ",v=(v+1)%O.length;continue}if(I===p){k+=O[O.length-1]+" ";continue}}k+=O[0]+" "}switch(k=k.substr(k.length-1)==" "?k.substr(0,k.length-1):k,c=dy(k,e,a).width,e.textAlign){case"right":u=s-c-2;break;case"center":u=(s-c)/2;break;default:u=2}t+=Kt(u)+" "+Kt(f)+` Td
`,t+="("+Uf(k)+`) Tj
`,t+=-Kt(u)+` 0 Td
`,f=-(a+2),c=0,p=b?g:g+1,y++,m=""}break}return n.text=t,n.fontSize=a,n},dy=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},$ue={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Wue=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},Kue=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Xs.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify($ue)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");hN=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new MH,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&Wue(a,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,i){var a=!n;for(var o in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var s=n[o],l=[],u=s.Rect;if(s.Rect&&(s.Rect=Que(s.Rect,i)),i.internal.newObjectDeferredBegin(s.objId,!0),s.DA=At.createDefaultAppearanceStream(s),Er(s)==="object"&&typeof s.getKeyValueListForStream=="function"&&(l=s.getKeyValueListForStream()),s.Rect=u,s.hasAppearanceStream&&!s.appearanceStreamContent){var c=Hue(s);l.push({key:"AP",value:"<</N "+c+">>"}),i.internal.acroformPlugin.xForms.push(c)}if(s.appearanceStreamContent){var A="";for(var d in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(d)){var f=s.appearanceStreamContent[d];if(A+="/"+d+" ",A+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var p=f[o];typeof p=="function"&&(p=p.call(i,s)),A+="/"+o+" "+p+" ",i.internal.acroformPlugin.xForms.indexOf(p)>=0||i.internal.acroformPlugin.xForms.push(p)}}else typeof(p=f)=="function"&&(p=p.call(i,s)),A+="/"+o+" "+p,i.internal.acroformPlugin.xForms.indexOf(p)>=0||i.internal.acroformPlugin.xForms.push(p);A+=">>"}l.push({key:"AP",value:`<<
`+A+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:s.objId}),i.internal.out("endobj")}a&&function(g,v){for(var m in g)if(g.hasOwnProperty(m)){var y=m,w=g[m];v.internal.newObjectDeferredBegin(w.objId,!0),Er(w)==="object"&&typeof w.putStream=="function"&&w.putStream(),delete g[y]}}(i.internal.acroformPlugin.xForms,i)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},DH=Cn.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var i="[",a=0;a<e.length;a++)switch(a!==0&&(i+=" "),Er(e[a])){case"boolean":case"number":case"object":i+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),i+="("+Uf(n(e[a].toString()))+")"):i+=e[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},_C=function(e,t,r){var n=function(i){return i};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+Uf(n(e))+")"},Bl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Bl.prototype.toString=function(){return this.objId+" 0 R"},Bl.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Bl.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],i=this[n];i&&(Array.isArray(i)?e.push({key:n,value:DH(i,this.objId,this.scope)}):i instanceof Bl?(i.scope=this.scope,e.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:n,value:i}))}return e};var jH=function(){Bl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};oo(jH,Bl);var MH=function(){Bl.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Uf(r(e))+")"}},set:function(r){e=r}})};oo(MH,Bl);var Xs=function e(){Bl.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(m){if(isNaN(m))throw new Error('Invalid value "'+m+'" for attribute F supplied.');t=m}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Un(t,3)},set:function(m){m?this.F=Rn(t,3):this.F=Dn(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(m){if(isNaN(m))throw new Error('Invalid value "'+m+'" for attribute Ff supplied.');r=m}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(m){n=m!==void 0?m:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(m){n[0]=m}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(m){n[1]=m}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(m){n[2]=m}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(m){n[3]=m}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(m){switch(m){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=m;break;default:throw new Error('Invalid value "'+m+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof hw)return;a="FieldObject"+e.FieldNum++}var m=function(y){return y};return this.scope&&(m=this.scope.internal.getEncryptor(this.objId)),"("+Uf(m(a))+")"},set:function(m){a=m.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(m){a=m}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(m){o=m}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(m){s=m}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(m){l=m}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/hN:u},set:function(m){u=m}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(m){c=m}});var A="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!A||this instanceof hw||this instanceof cf))return _C(A,this.objId,this.scope)},set:function(m){m=m.toString(),A=m}});var d=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof _i==0?_C(d,this.objId,this.scope):d},set:function(m){m=m.toString(),d=this instanceof _i==0?m.substr(0,1)==="("?Ad(m.substr(1,m.length-2)):Ad(m):m}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof _i==1?Ad(d.substr(1,d.length-1)):d},set:function(m){m=m.toString(),d=this instanceof _i==1?"/"+m:m}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(m){this.V=m}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof _i==0?_C(f,this.objId,this.scope):f},set:function(m){m=m.toString(),f=this instanceof _i==0?m.substr(0,1)==="("?Ad(m.substr(1,m.length-2)):Ad(m):m}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof _i==1?Ad(f.substr(1,f.length-1)):f},set:function(m){m=m.toString(),f=this instanceof _i==1?"/"+m:m}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var p,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(m){m=!!m,g=m}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(p)return p},set:function(m){p=m}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,1)},set:function(m){m?this.Ff=Rn(this.Ff,1):this.Ff=Dn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,2)},set:function(m){m?this.Ff=Rn(this.Ff,2):this.Ff=Dn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,3)},set:function(m){m?this.Ff=Rn(this.Ff,3):this.Ff=Dn(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(m){if([0,1,2].indexOf(m)===-1)throw new Error('Invalid value "'+m+'" for attribute Q supplied.');v=m}}),Object.defineProperty(this,"textAlign",{get:function(){var m;switch(v){case 0:default:m="left";break;case 1:m="center";break;case 2:m="right"}return m},configurable:!0,enumerable:!0,set:function(m){switch(m){case"right":case 2:v=2;break;case"center":case 1:v=1;break;default:v=0}}})};oo(Xs,Bl);var Zd=function(){Xs.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return DH(t,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(a,o,s){s||(s=1);for(var l,u=[];l=o.exec(a);)u.push(l[s]);return u}(n,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,18)},set:function(r){r?this.Ff=Rn(this.Ff,18):this.Ff=Dn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Rn(this.Ff,19):this.Ff=Dn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,20)},set:function(r){r?(this.Ff=Rn(this.Ff,20),t.sort()):this.Ff=Dn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,22)},set:function(r){r?this.Ff=Rn(this.Ff,22):this.Ff=Dn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,23)},set:function(r){r?this.Ff=Rn(this.Ff,23):this.Ff=Dn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,27)},set:function(r){r?this.Ff=Rn(this.Ff,27):this.Ff=Dn(this.Ff,27)}}),this.hasAppearanceStream=!1};oo(Zd,Xs);var eh=function(){Zd.call(this),this.fontName="helvetica",this.combo=!1};oo(eh,Zd);var th=function(){eh.call(this),this.combo=!0};oo(th,eh);var y1=function(){th.call(this),this.edit=!0};oo(y1,th);var _i=function(){Xs.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,15)},set:function(r){r?this.Ff=Rn(this.Ff,15):this.Ff=Dn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,16)},set:function(r){r?this.Ff=Rn(this.Ff,16):this.Ff=Dn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,17)},set:function(r){r?this.Ff=Rn(this.Ff,17):this.Ff=Dn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,26)},set:function(r){r?this.Ff=Rn(this.Ff,26):this.Ff=Dn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,i=[];for(n in i.push("<<"),t)i.push("/"+n+" ("+Uf(r(t[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){Er(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};oo(_i,Xs);var w1=function(){_i.call(this),this.pushButton=!0};oo(w1,_i);var rh=function(){_i.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};oo(rh,_i);var hw=function(){var e,t;Xs.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(s){return s};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),n)o.push("/"+a+" ("+Uf(i(n[a]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Er(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=At.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};oo(hw,Xs),rh.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},rh.prototype.createOption=function(e){var t=new hw;return t.Parent=this,t.optionName=e,this.Kids.push(t),zue.call(this.scope,t),t};var x1=function(){_i.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=At.CheckBox.createAppearanceStream()};oo(x1,_i);var cf=function(){Xs.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,13)},set:function(t){t?this.Ff=Rn(this.Ff,13):this.Ff=Dn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,21)},set:function(t){t?this.Ff=Rn(this.Ff,21):this.Ff=Dn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,23)},set:function(t){t?this.Ff=Rn(this.Ff,23):this.Ff=Dn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,24)},set:function(t){t?this.Ff=Rn(this.Ff,24):this.Ff=Dn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,25)},set:function(t){t?this.Ff=Rn(this.Ff,25):this.Ff=Dn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,26)},set:function(t){t?this.Ff=Rn(this.Ff,26):this.Ff=Dn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};oo(cf,Xs);var b1=function(){cf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Un(this.Ff,14)},set:function(e){e?this.Ff=Rn(this.Ff,14):this.Ff=Dn(this.Ff,14)}}),this.password=!0};oo(b1,cf);var At={CheckBox:{createAppearanceStream:function(){return{N:{On:At.CheckBox.YesNormal},D:{On:At.CheckBox.YesPushDown,Off:At.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=hl(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=yS(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Kt(At.internal.getWidth(e))+" "+Kt(At.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Kt(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=hl(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=[],a=At.internal.getHeight(e),o=At.internal.getWidth(e),s=yS(e,e.caption);return i.push("1 g"),i.push("0 0 "+Kt(o)+" "+Kt(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Kt(o-1)+" "+Kt(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+Kt(s.fontSize)+" Tf "+n),i.push(s.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=hl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Kt(At.internal.getWidth(e))+" "+Kt(At.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:At.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=At.RadioButton.Circle.YesNormal,t.D[e]=At.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=hl(e);t.scope=e.scope;var r=[],n=At.internal.getWidth(e)<=At.internal.getHeight(e)?At.internal.getWidth(e)/4:At.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=At.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+yc(At.internal.getWidth(e)/2)+" "+yc(At.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=hl(e);t.scope=e.scope;var r=[],n=At.internal.getWidth(e)<=At.internal.getHeight(e)?At.internal.getWidth(e)/4:At.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*At.internal.Bezier_C).toFixed(5)),o=Number((n*At.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+yc(At.internal.getWidth(e)/2)+" "+yc(At.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+yc(At.internal.getWidth(e)/2)+" "+yc(At.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=hl(e);t.scope=e.scope;var r=[],n=At.internal.getWidth(e)<=At.internal.getHeight(e)?At.internal.getWidth(e)/4:At.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*At.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+yc(At.internal.getWidth(e)/2)+" "+yc(At.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:At.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=At.RadioButton.Cross.YesNormal,t.D[e]=At.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=hl(e);t.scope=e.scope;var r=[],n=At.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Kt(At.internal.getWidth(e)-2)+" "+Kt(At.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Kt(n.x1.x)+" "+Kt(n.x1.y)+" m"),r.push(Kt(n.x2.x)+" "+Kt(n.x2.y)+" l"),r.push(Kt(n.x4.x)+" "+Kt(n.x4.y)+" m"),r.push(Kt(n.x3.x)+" "+Kt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=hl(e);t.scope=e.scope;var r=At.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Kt(At.internal.getWidth(e))+" "+Kt(At.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Kt(At.internal.getWidth(e)-2)+" "+Kt(At.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Kt(r.x1.x)+" "+Kt(r.x1.y)+" m"),n.push(Kt(r.x2.x)+" "+Kt(r.x2.y)+" l"),n.push(Kt(r.x4.x)+" "+Kt(r.x4.y)+" m"),n.push(Kt(r.x3.x)+" "+Kt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=hl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Kt(At.internal.getWidth(e))+" "+Kt(At.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};At.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=At.internal.getWidth(e),r=At.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},At.internal.getWidth=function(e){var t=0;return Er(e)==="object"&&(t=kT(e.Rect[2])),t},At.internal.getHeight=function(e){var t=0;return Er(e)==="object"&&(t=kT(e.Rect[3])),t};var zue=Cn.addField=function(e){if(Kue(this,e),!(e instanceof Xs))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Cn.AcroFormChoiceField=Zd,Cn.AcroFormListBox=eh,Cn.AcroFormComboBox=th,Cn.AcroFormEditBox=y1,Cn.AcroFormButton=_i,Cn.AcroFormPushButton=w1,Cn.AcroFormRadioButton=rh,Cn.AcroFormCheckBox=x1,Cn.AcroFormTextField=cf,Cn.AcroFormPasswordField=b1,Cn.AcroFormAppearance=At,Cn.AcroForm={ChoiceField:Zd,ListBox:eh,ComboBox:th,EditBox:y1,Button:_i,PushButton:w1,RadioButton:rh,CheckBox:x1,TextField:cf,PasswordField:b1,Appearance:At},Et.AcroForm={ChoiceField:Zd,ListBox:eh,ComboBox:th,EditBox:y1,Button:_i,PushButton:w1,RadioButton:rh,CheckBox:x1,TextField:cf,PasswordField:b1,Appearance:At};Et.AcroForm;function QH(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(F,N){var U,M,V,Q,W,D=r;if((N=N||r)==="RGBA"||F.data!==void 0&&F.data instanceof Uint8ClampedArray&&"height"in F&&"width"in F)return"RGBA";if(S(F))for(W in n)for(V=n[W],U=0;U<V.length;U+=1){for(Q=!0,M=0;M<V[U].length;M+=1)if(V[U][M]!==void 0&&V[U][M]!==F[M]){Q=!1;break}if(Q===!0){D=W;break}}else for(W in n)for(V=n[W],U=0;U<V.length;U+=1){for(Q=!0,M=0;M<V[U].length;M+=1)if(V[U][M]!==void 0&&V[U][M]!==F.charCodeAt(M)){Q=!1;break}if(Q===!0){D=W;break}}return D===r&&N!==r&&(D=N),D},a=function F(N){for(var U=this.internal.write,M=this.internal.putStream,V=(0,this.internal.getFilters)();V.indexOf("FlateEncode")!==-1;)V.splice(V.indexOf("FlateEncode"),1);N.objectId=this.internal.newObject();var Q=[];if(Q.push({key:"Type",value:"/XObject"}),Q.push({key:"Subtype",value:"/Image"}),Q.push({key:"Width",value:N.width}),Q.push({key:"Height",value:N.height}),N.colorSpace===m.INDEXED?Q.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(N.palette.length/3-1)+" "+("sMask"in N&&N.sMask!==void 0?N.objectId+2:N.objectId+1)+" 0 R]"}):(Q.push({key:"ColorSpace",value:"/"+N.colorSpace}),N.colorSpace===m.DEVICE_CMYK&&Q.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Q.push({key:"BitsPerComponent",value:N.bitsPerComponent}),"decodeParameters"in N&&N.decodeParameters!==void 0&&Q.push({key:"DecodeParms",value:"<<"+N.decodeParameters+">>"}),"transparency"in N&&Array.isArray(N.transparency)&&N.transparency.length>0){for(var W="",D=0,K=N.transparency.length;D<K;D++)W+=N.transparency[D]+" "+N.transparency[D]+" ";Q.push({key:"Mask",value:"["+W+"]"})}N.sMask!==void 0&&Q.push({key:"SMask",value:N.objectId+1+" 0 R"});var ie=N.filter!==void 0?["/"+N.filter]:void 0;if(M({data:N.data,additionalKeyValues:Q,alreadyAppliedFilters:ie,objectId:N.objectId}),U("endobj"),"sMask"in N&&N.sMask!==void 0){var ee,L=(ee=N.sMaskBitsPerComponent)!==null&&ee!==void 0?ee:N.bitsPerComponent,j={width:N.width,height:N.height,colorSpace:"DeviceGray",bitsPerComponent:L,data:N.sMask};"filter"in N&&(j.decodeParameters="/Predictor ".concat(N.predictor," /Colors 1 /BitsPerComponent ").concat(L," /Columns ").concat(N.width),j.filter=N.filter),F.call(this,j)}if(N.colorSpace===m.INDEXED){var z=this.internal.newObject();M({data:k(new Uint8Array(N.palette)),objectId:z}),U("endobj")}},o=function(){var F=this.internal.collections[t+"images"];for(var N in F)a.call(this,F[N])},s=function(){var F,N=this.internal.collections[t+"images"],U=this.internal.write;for(var M in N)U("/I"+(F=N[M]).index,F.objectId,"0","R")},l=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",s))},u=function(){var F=this.internal.collections[t+"images"];return l.call(this),F},c=function(){return Object.keys(this.internal.collections[t+"images"]).length},A=function(F){return typeof e["process"+F.toUpperCase()]=="function"},d=function(F){return Er(F)==="object"&&F.nodeType===1},f=function(F,N){if(F.nodeName==="IMG"&&F.hasAttribute("src")){var U=""+F.getAttribute("src");if(U.indexOf("data:image/")===0)return v1(unescape(U).split("base64,").pop());var M=e.loadFile(U,!0);if(M!==void 0)return M}if(F.nodeName==="CANVAS"){if(F.width===0||F.height===0)throw new Error("Given canvas must have data. Canvas width: "+F.width+", height: "+F.height);var V;switch(N){case"PNG":V="image/png";break;case"WEBP":V="image/webp";break;default:V="image/jpeg"}return v1(F.toDataURL(V,1).split("base64,").pop())}},p=function(F){var N=this.internal.collections[t+"images"];if(N){for(var U in N)if(F===N[U].alias)return N[U]}},g=function(F,N,U){return F||N||(F=-96,N=-96),F<0&&(F=-1*U.width*72/F/this.internal.scaleFactor),N<0&&(N=-1*U.height*72/N/this.internal.scaleFactor),F===0&&(F=N*U.width/U.height),N===0&&(N=F*U.height/U.width),[F,N]},v=function(F,N,U,M,V,Q){var W=g.call(this,U,M,V),D=this.internal.getCoordinateString,K=this.internal.getVerticalCoordinateString,ie=u.call(this);if(U=W[0],M=W[1],ie[V.index]=V,Q){Q*=Math.PI/180;var ee=Math.cos(Q),L=Math.sin(Q),j=function(X){return X.toFixed(4)},z=[j(ee),j(L),j(-1*L),j(ee),0,0,"cm"]}this.internal.write("q"),Q?(this.internal.write([1,"0","0",1,D(F),K(N+M),"cm"].join(" ")),this.internal.write(z.join(" ")),this.internal.write([D(U),"0","0",D(M),"0","0","cm"].join(" "))):this.internal.write([D(U),"0","0",D(M),D(F),K(N+M),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+V.index+" Do"),this.internal.write("Q")},m=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=e.__addimage__.sHashCode=function(F){var N,U,M=0;if(typeof F=="string")for(U=F.length,N=0;N<U;N++)M=(M<<5)-M+F.charCodeAt(N),M|=0;else if(S(F))for(U=F.byteLength/2,N=0;N<U;N++)M=(M<<5)-M+F[N],M|=0;return M},b=e.__addimage__.validateStringAsBase64=function(F){(F=F||"").toString().trim();var N=!0;return F.length===0&&(N=!1),F.length%4!=0&&(N=!1),/^[A-Za-z0-9+/]+$/.test(F.substr(0,F.length-2))===!1&&(N=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(F.substr(-2))===!1&&(N=!1),N},B=e.__addimage__.extractImageFromDataUrl=function(F){if(F==null||!(F=F.trim()).startsWith("data:"))return null;var N=F.indexOf(",");return N<0?null:F.substring(0,N).trim().endsWith("base64")?F.substring(N+1):null};e.__addimage__.isArrayBuffer=function(F){return F instanceof ArrayBuffer};var S=e.__addimage__.isArrayBufferView=function(F){return F instanceof Int8Array||F instanceof Uint8Array||F instanceof Uint8ClampedArray||F instanceof Int16Array||F instanceof Uint16Array||F instanceof Int32Array||F instanceof Uint32Array||F instanceof Float32Array||F instanceof Float64Array},P=e.__addimage__.binaryStringToUint8Array=function(F){for(var N=F.length,U=new Uint8Array(N),M=0;M<N;M++)U[M]=F.charCodeAt(M);return U},k=e.__addimage__.arrayBufferToBinaryString=function(F){for(var N="",U=S(F)?F:new Uint8Array(F),M=0;M<U.length;M+=8192)N+=String.fromCharCode.apply(null,U.subarray(M,M+8192));return N};e.addImage=function(){var F,N,U,M,V,Q,W,D,K;if(typeof arguments[1]=="number"?(N=r,U=arguments[1],M=arguments[2],V=arguments[3],Q=arguments[4],W=arguments[5],D=arguments[6],K=arguments[7]):(N=arguments[1],U=arguments[2],M=arguments[3],V=arguments[4],Q=arguments[5],W=arguments[6],D=arguments[7],K=arguments[8]),Er(F=arguments[0])==="object"&&!d(F)&&"imageData"in F){var ie=F;F=ie.imageData,N=ie.format||N||r,U=ie.x||U||0,M=ie.y||M||0,V=ie.w||ie.width||V,Q=ie.h||ie.height||Q,W=ie.alias||W,D=ie.compression||D,K=ie.rotation||ie.angle||K}var ee=this.internal.getFilters();if(D===void 0&&ee.indexOf("FlateEncode")!==-1&&(D="SLOW"),isNaN(U)||isNaN(M))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var L=I.call(this,F,N,W,D);return v.call(this,U,M,V,Q,L,K),this};var I=function(F,N,U,M){var V,Q,W;if(typeof F=="string"&&i(F)===r){F=unescape(F);var D=O(F,!1);(D!==""||(D=e.loadFile(F,!0))!==void 0)&&(F=D)}if(d(F)&&(F=f(F,N)),N=i(F,N),!A(N))throw new Error("addImage does not support files of type '"+N+"', please ensure that a plugin for '"+N+"' support is added.");if(((W=U)==null||W.length===0)&&(U=function(K){return typeof K=="string"||S(K)?w(K):S(K.data)?w(K.data):null}(F)),(V=p.call(this,U))||(F instanceof Uint8Array||N==="RGBA"||(Q=F,F=P(F)),V=this["process"+N.toUpperCase()](F,c.call(this),U,function(K){return K&&typeof K=="string"&&(K=K.toUpperCase()),K in e.image_compression?K:y.NONE}(M),Q)),!V)throw new Error("An unknown error occurred whilst processing the image.");return V},O=e.__addimage__.convertBase64ToBinaryString=function(F,N){N=typeof N!="boolean"||N;var U,M="";if(typeof F=="string"){var V;U=(V=B(F))!==null&&V!==void 0?V:F;try{M=v1(U)}catch(Q){if(N)throw b(U)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Q.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return M};e.getImageProperties=function(F){var N,U,M="";if(d(F)&&(F=f(F)),typeof F=="string"&&i(F)===r&&((M=O(F,!1))===""&&(M=e.loadFile(F)||""),F=M),U=i(F),!A(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(F instanceof Uint8Array||(F=P(F)),!(N=this["process"+U.toUpperCase()](F)))throw new Error("An unknown error occurred whilst processing the image");return N.fileType=U,N}})(Et.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Et.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,i,a,o=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,c=!1,A=0;A<u.length&&!c;A++)switch((n=u[A]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var d=0;d<u.length;d++){n=u[d];var f=this.internal.pdfEscape,p=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),m=this.internal.getEncryptor(g.objId),y=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(n.bounds.x)+" "+s(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y)+"] ")+"/Contents ("+f(m(n.contents))+")",a+=" /Popup "+v.objId+" 0 R",a+=" /P "+l.objId+" 0 R",a+=" /T ("+f(m(y))+") >>",g.content=a;var w=g.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(n.bounds.x+30)+" "+s(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+s(n.bounds.y)+"] ")+" /Parent "+w,n.open&&(a+=" /Open true"),a+=" >>",v.content=a,this.internal.write(g.objId,"0 R",v.objId,"0 R");break;case"freetext":i="/Rect ["+o(n.bounds.x)+" "+s(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y+n.bounds.h)+"] ";var b=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(p(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+b+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var B=this.annotations._nameMap[n.options.name];n.options.pageNumber=B.page,n.options.top=B.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(p(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var S=s(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+S+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,i,a,o){var s=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:l(r),y:u(n),w:l(r+i),h:u(n+a)},options:o,type:"link"})},e.textWithLink=function(r,n,i,a){var o,s,l=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){s=a.maxWidth;var c=this.splitTextToSize(r,s).length;o=Math.ceil(u*c)}else s=l,o=u;return this.text(r,n,i,a),i+=.2*u,a.align==="center"&&(n-=l/2),a.align==="right"&&(n-=l),this.link(n,i-u,s,o,a),l},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Et.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},s=e.__arabicParser__.isArabicEndLetter=function(g){return o(g)&&a(g)&&t[g.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(g){return o(g)&&i.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return o(g)&&a(g)&&t[g.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return o(g)&&a(g)&&t[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return o(g)&&a(g)&&t[g.charCodeAt(0)].length>=3};var c=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return o(g)&&a(g)&&t[g.charCodeAt(0)].length==4},A=e.__arabicParser__.resolveLigatures=function(g){var v=0,m=r,y="",w=0;for(v=0;v<g.length;v+=1)m[g.charCodeAt(v)]!==void 0?(w++,typeof(m=m[g.charCodeAt(v)])=="number"&&(y+=String.fromCharCode(m),m=r,w=0),v===g.length-1&&(m=r,y+=g.charAt(v-(w-1)),v-=w-1,w=0)):(m=r,y+=g.charAt(v-w),v-=w,w=0);return y};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var d=e.__arabicParser__.getCorrectForm=function(g,v,m){return o(g)?a(g)===!1?-1:!u(g)||!o(v)&&!o(m)||!o(m)&&s(v)||s(g)&&!o(v)||s(g)&&l(v)||s(g)&&s(v)?0:c(g)&&o(v)&&!s(v)&&o(m)&&u(m)?3:s(g)||!o(m)?1:2:-1},f=function(g){var v=0,m=0,y=0,w="",b="",B="",S=(g=g||"").split("\\s+"),P=[];for(v=0;v<S.length;v+=1){for(P.push(""),m=0;m<S[v].length;m+=1)w=S[v][m],b=S[v][m-1],B=S[v][m+1],o(w)?(y=d(w,b,B),P[v]+=y!==-1?String.fromCharCode(t[w.charCodeAt(0)][y]):w):P[v]+=w;P[v]=A(P[v])}return P.join(" ")},p=e.__arabicParser__.processArabic=e.processArabic=function(){var g,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,m=[];if(Array.isArray(v)){var y=0;for(m=[],y=0;y<v.length;y+=1)Array.isArray(v[y])?m.push([f(v[y][0]),v[y][1],v[y][2]]):m.push([f(v[y])]);g=m}else g=f(v);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",p])}(Et.API),Et.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(s){r=s}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(s){n=isNaN(s)||Number.isInteger(s)===!1||s<0?150:s,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(s){i=isNaN(s)||Number.isInteger(s)===!1||s<0?300:s,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(s){a=s}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(s){o=s}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Et.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(g){l=g}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var A=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return A},set:function(g){A=g}});var d=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var p=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return p},set:function(g){p=g}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,u){n.call(this);var c=(u=u||{}).fontSize||this.getFontSize(),A=u.font||this.getFont(),d=u.scaleFactor||this.internal.scaleFactor,f=0,p=0,g=0,v=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var m=u.maxWidth;m>0?typeof l=="string"?l=this.splitTextToSize(l,m):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(w,b){return w.concat(v.splitTextToSize(b,m))},[])):l=Array.isArray(l)?l:[l];for(var y=0;y<l.length;y++)f<(g=this.getStringUnitWidth(l[y],{font:A})*c)&&(f=g);return f!==0&&(p=l.length),{w:f/=d,h:Math.max((p*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/d,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var l;l=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var u=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,A=this.internal.__cell__.margins||t,d=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+A.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=A.top,f&&d&&(this.printHeaderRow(l.lineNumber,!0),l.y+=d[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-c,l.y+c,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+c,{align:"center",baseline:"top",maxWidth:l.width-c-c}):this.text(l.text,l.x+c,l.y+c,{align:"left",baseline:"top",maxWidth:l.width-c-c})),this.internal.__cell__.lastCell=l,this};e.table=function(l,u,c,A,d){if(n.call(this),!c)throw new Error("No data for PDF table.");var f,p,g,v,m=[],y=[],w=[],b={},B={},S=[],P=[],k=(d=d||{}).autoSize||!1,I=d.printHeaders!==!1,O=d.css&&d.css["font-size"]!==void 0?16*d.css["font-size"]:d.fontSize||12,F=d.margins||Object.assign({width:this.getPageWidth()},t),N=typeof d.padding=="number"?d.padding:3,U=d.headerBackgroundColor||"#c8c8c8",M=d.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=F,this.internal.__cell__.table_font_size=O,this.internal.__cell__.padding=N,this.internal.__cell__.headerBackgroundColor=U,this.internal.__cell__.headerTextColor=M,this.setFontSize(O),A==null)y=m=Object.keys(c[0]),w=m.map(function(){return"left"});else if(Array.isArray(A)&&Er(A[0])==="object")for(m=A.map(function(ie){return ie.name}),y=A.map(function(ie){return ie.prompt||ie.name||""}),w=A.map(function(ie){return ie.align||"left"}),f=0;f<A.length;f+=1)B[A[f].name]=.7499990551181103*A[f].width;else Array.isArray(A)&&typeof A[0]=="string"&&(y=m=A,w=m.map(function(){return"left"}));if(k||Array.isArray(A)&&typeof A[0]=="string")for(f=0;f<m.length;f+=1){for(b[v=m[f]]=c.map(function(ie){return ie[v]}),this.setFont(void 0,"bold"),S.push(this.getTextDimensions(y[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),p=b[v],this.setFont(void 0,"normal"),g=0;g<p.length;g+=1)S.push(this.getTextDimensions(p[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);B[v]=Math.max.apply(null,S)+N+N,S=[]}if(I){var V={};for(f=0;f<m.length;f+=1)V[m[f]]={},V[m[f]].text=y[f],V[m[f]].align=w[f];var Q=s.call(this,V,B);P=m.map(function(ie){return new a(l,u,B[ie],Q,V[ie].text,void 0,V[ie].align)}),this.setTableHeaderRow(P),this.printHeaderRow(1,!1)}var W=A.reduce(function(ie,ee){return ie[ee.name]=ee.align,ie},{});for(f=0;f<c.length;f+=1){"rowStart"in d&&d.rowStart instanceof Function&&d.rowStart({row:f,data:c[f]},this);var D=s.call(this,c[f],B);for(g=0;g<m.length;g+=1){var K=c[f][m[g]];"cellStart"in d&&d.cellStart instanceof Function&&d.cellStart({row:f,col:g,data:K},this),o.call(this,new a(l,u,B[m[g]],D,K,f+2,W[m[g]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var s=function(l,u){var c=this.internal.__cell__.padding,A=this.internal.__cell__.table_font_size,d=this.internal.scaleFactor;return Object.keys(l).map(function(f){var p=l[f];return this.splitTextToSize(p.hasOwnProperty("text")?p.text:p,u[f]-c-c)},this).map(function(f){return this.getLineHeightFactor()*f.length*A/d+c+c},this).reduce(function(f,p){return Math.max(f,p)},0)};e.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var A=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(A[0],A[1],A[2],A[3],void 0,-1)}this.setFont(void 0,"bold");for(var d=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){c=this.internal.__cell__.tableHeaderRow[f].clone(),u&&(c.y=this.internal.__cell__.margins.top||0,d.push(c)),c.lineNumber=l;var p=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,c),this.setTextColor(p)}d.length>0&&this.setTableHeaderRow(d),this.setFont(void 0,"normal"),r=!1}}(Et.API);var HH={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},$H=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],wS=QH($H),WH=[100,200,300,400,500,600,700,800,900],Vue=QH(WH);function kC(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(a){return HH[a=a||"normal"]?a:"normal"}(e.style),n=function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400}(e.weight),i=function(a){return typeof wS[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,r,n].join(" ")}}}function PT(e,t,r,n){var i;for(i=r;i>=0&&i<t.length;i+=n)if(e[t[i]])return e[t[i]];for(i=r;i>=0&&i<t.length;i-=n)if(e[t[i]])return e[t[i]]}var Gue={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},OT={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function TT(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function LT(e){return e.trimLeft()}function que(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function Xue(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var hy,UT,RT,fd,py,DT,jT,MT,PC=["times"];function QT(e,t,r,n,i){var a=4,o=$T;switch(i){case Et.API.image_compression.FAST:a=1,o=HT;break;case Et.API.image_compression.MEDIUM:a=6,o=WT;break;case Et.API.image_compression.SLOW:a=9,o=KT}e=function(l,u,c,A){for(var d,f=l.length/u,p=new Uint8Array(l.length+f),g=[Yue,HT,$T,WT,KT],v=0;v<f;v+=1){var m=v*u,y=l.subarray(m,m+u);if(A)p.set(A(y,c,d),m+v);else{for(var w=g.length,b=[],B=0;B<w;B+=1)b[B]=g[B](y,c,d);var S=Zue(b.concat());p.set(b[S],m+v)}d=y}return p}(e,t,Math.ceil(r*n/8),o);var s=dS(e,{level:a});return Et.API.__addimage__.arrayBufferToBinaryString(s)}function Yue(e){var t=Array.apply([],e);return t.unshift(0),t}function HT(e,t){var r=e.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var a=e[i-t]||0;n[i+1]=e[i]-a+256&255}return n}function $T(e,t,r){var n=e.length,i=[];i[0]=2;for(var a=0;a<n;a+=1){var o=r&&r[a]||0;i[a+1]=e[a]-o+256&255}return i}function WT(e,t,r){var n=e.length,i=[];i[0]=3;for(var a=0;a<n;a+=1){var o=e[a-t]||0,s=r&&r[a]||0;i[a+1]=e[a]+256-(o+s>>>1)&255}return i}function KT(e,t,r){var n=e.length,i=[];i[0]=4;for(var a=0;a<n;a+=1){var o=Jue(e[a-t]||0,r&&r[a]||0,r&&r[a-t]||0);i[a+1]=e[a]-o+256&255}return i}function Jue(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),i=Math.abs(e-r),a=Math.abs(e+t-r-r);return n<=i&&n<=a?e:i<=a?t:r}function Zue(e){var t=e.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return t.indexOf(Math.min.apply(null,t))}function OC(e,t,r){var n=t*r,i=Math.floor(n/8),a=16-(n-8*i+r),o=(1<<r)-1;return KH(e,i)>>a&o}function zT(e,t,r,n){var i=r*n,a=Math.floor(i/8),o=16-(i-8*a+n),s=(1<<n)-1,l=(t&s)<<o;(function(u,c,A){if(c+1<u.byteLength)u.setUint16(c,A,!1);else{var d=A>>8&255;u.setUint8(c,d)}})(e,a,KH(e,a)&~(s<<o)&65535|l)}function KH(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function ece(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,i=e[t++],a=i>>7,o=1<<1+(7&i);e[t++],e[t++];var s=null,l=null;a&&(s=t,l=o,t+=3*o);var u=!0,c=[],A=0,d=null,f=0,p=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,p=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((F=e[t++])>=0))throw Error("Invalid block size");if(F===0)break;t+=F}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[t++];A=e[t++]|e[t++]<<8,d=e[t++],1&g||(d=null),f=g>>2&7,t++;break;case 254:for(;;){if(!((F=e[t++])>=0))throw Error("Invalid block size");if(F===0)break;t+=F}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var v=e[t++]|e[t++]<<8,m=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,b=e[t++],B=b>>6&1,S=1<<1+(7&b),P=s,k=l,I=!1;b>>7&&(I=!0,P=t,k=S,t+=3*S);var O=t;for(t++;;){var F;if(!((F=e[t++])>=0))throw Error("Invalid block size");if(F===0)break;t+=F}c.push({x:v,y:m,width:y,height:w,has_local_palette:I,palette_offset:P,palette_size:k,data_offset:O,data_length:t-O,transparent_index:d,interlaced:!!B,delay:A,disposal:f});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return p},this.frameInfo=function(N){if(N<0||N>=c.length)throw new Error("Frame index out of range.");return c[N]},this.decodeAndBlitFrameBGRA=function(N,U){var M=this.frameInfo(N),V=M.width*M.height,Q=new Uint8Array(V);VT(e,M.data_offset,Q,V);var W=M.palette_offset,D=M.transparent_index;D===null&&(D=256);var K=M.width,ie=r-K,ee=K,L=4*(M.y*r+M.x),j=4*((M.y+M.height)*r+M.x),z=L,X=4*ie;M.interlaced===!0&&(X+=4*r*7);for(var ae=8,Z=0,ce=Q.length;Z<ce;++Z){var ne=Q[Z];if(ee===0&&(ee=K,(z+=X)>=j&&(X=4*ie+4*r*(ae-1),z=L+(K+ie)*(ae<<1),ae>>=1)),ne===D)z+=4;else{var pe=e[W+3*ne],ye=e[W+3*ne+1],de=e[W+3*ne+2];U[z++]=de,U[z++]=ye,U[z++]=pe,U[z++]=255}--ee}},this.decodeAndBlitFrameRGBA=function(N,U){var M=this.frameInfo(N),V=M.width*M.height,Q=new Uint8Array(V);VT(e,M.data_offset,Q,V);var W=M.palette_offset,D=M.transparent_index;D===null&&(D=256);var K=M.width,ie=r-K,ee=K,L=4*(M.y*r+M.x),j=4*((M.y+M.height)*r+M.x),z=L,X=4*ie;M.interlaced===!0&&(X+=4*r*7);for(var ae=8,Z=0,ce=Q.length;Z<ce;++Z){var ne=Q[Z];if(ee===0&&(ee=K,(z+=X)>=j&&(X=4*ie+4*r*(ae-1),z=L+(K+ie)*(ae<<1),ae>>=1)),ne===D)z+=4;else{var pe=e[W+3*ne],ye=e[W+3*ne+1],de=e[W+3*ne+2];U[z++]=pe,U[z++]=ye,U[z++]=de,U[z++]=255}--ee}}}function VT(e,t,r,n){for(var i=e[t++],a=1<<i,o=a+1,s=o+1,l=i+1,u=(1<<l)-1,c=0,A=0,d=0,f=e[t++],p=new Int32Array(4096),g=null;;){for(;c<16&&f!==0;)A|=e[t++]<<c,c+=8,f===1?f=e[t++]:--f;if(c<l)break;var v=A&u;if(A>>=l,c-=l,v!==a){if(v===o)break;for(var m=v<s?v:g,y=0,w=m;w>a;)w=p[w]>>8,++y;var b=w;if(d+y+(m!==v?1:0)>n)return void Tr.log("Warning, gif stream longer than expected.");r[d++]=b;var B=d+=y;for(m!==v&&(r[d++]=b),w=m;y--;)w=p[w],r[--B]=255&w,w>>=8;g!==null&&s<4096&&(p[s++]=g<<8|b,s>=u+1&&l<12&&(++l,u=u<<1|1)),g=v}else s=o+1,u=(1<<(l=i+1))-1,g=null}return d!==n&&Tr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function TC(e){var t,r,n,i,a,o=Math.floor,s=new Array(64),l=new Array(64),u=new Array(64),c=new Array(64),A=new Array(65535),d=new Array(65535),f=new Array(64),p=new Array(64),g=[],v=0,m=7,y=new Array(64),w=new Array(64),b=new Array(64),B=new Array(256),S=new Array(2048),P=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],O=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],F=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],N=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],V=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Q(L,j){for(var z=0,X=0,ae=new Array,Z=1;Z<=16;Z++){for(var ce=1;ce<=L[Z];ce++)ae[j[X]]=[],ae[j[X]][0]=z,ae[j[X]][1]=Z,X++,z++;z*=2}return ae}function W(L){for(var j=L[0],z=L[1]-1;z>=0;)j&1<<z&&(v|=1<<m),z--,--m<0&&(v==255?(D(255),D(0)):D(v),m=7,v=0)}function D(L){g.push(L)}function K(L){D(L>>8&255),D(255&L)}function ie(L,j,z,X,ae){for(var Z,ce=ae[0],ne=ae[240],pe=function(Se,Ke){var Ve,Oe,et,Ge,Nt,St,Ot,Ye,Je,ut,ct=0;for(Je=0;Je<8;++Je){Ve=Se[ct],Oe=Se[ct+1],et=Se[ct+2],Ge=Se[ct+3],Nt=Se[ct+4],St=Se[ct+5],Ot=Se[ct+6];var Vr=Ve+(Ye=Se[ct+7]),Xt=Ve-Ye,Mt=Oe+Ot,Qt=Oe-Ot,Dr=et+St,Ft=et-St,Nr=Ge+Nt,kt=Ge-Nt,Ht=Vr+Nr,jr=Vr-Nr,it=Mt+Dr,Pt=Mt-Dr;Se[ct]=Ht+it,Se[ct+4]=Ht-it;var pr=.707106781*(Pt+jr);Se[ct+2]=jr+pr,Se[ct+6]=jr-pr;var $l=.382683433*((Ht=kt+Ft)-(Pt=Qt+Xt)),bi=.5411961*Ht+$l,vs=1.306562965*Pt+$l,ke=.707106781*(it=Ft+Qt),je=Xt+ke,Ze=Xt-ke;Se[ct+5]=Ze+bi,Se[ct+3]=Ze-bi,Se[ct+1]=je+vs,Se[ct+7]=je-vs,ct+=8}for(ct=0,Je=0;Je<8;++Je){Ve=Se[ct],Oe=Se[ct+8],et=Se[ct+16],Ge=Se[ct+24],Nt=Se[ct+32],St=Se[ct+40],Ot=Se[ct+48];var ht=Ve+(Ye=Se[ct+56]),Tt=Ve-Ye,It=Oe+Ot,tr=Oe-Ot,_t=et+St,er=et-St,Bi=Ge+Nt,Zn=Ge-Nt,tn=ht+Bi,ba=ht-Bi,wn=It+_t,kr=It-_t;Se[ct]=tn+wn,Se[ct+32]=tn-wn;var un=.707106781*(kr+ba);Se[ct+16]=ba+un,Se[ct+48]=ba-un;var ea=.382683433*((tn=Zn+er)-(kr=tr+Tt)),Da=.5411961*tn+ea,Fr=1.306562965*kr+ea,lo=.707106781*(wn=er+tr),tl=Tt+lo,Gr=Tt-lo;Se[ct+40]=Gr+Da,Se[ct+24]=Gr-Da,Se[ct+8]=tl+Fr,Se[ct+56]=tl-Fr,ct++}for(Je=0;Je<64;++Je)ut=Se[Je]*Ke[Je],f[Je]=ut>0?ut+.5|0:ut-.5|0;return f}(L,j),ye=0;ye<64;++ye)p[P[ye]]=pe[ye];var de=p[0]-z;z=p[0],de==0?W(X[0]):(W(X[d[Z=32767+de]]),W(A[Z]));for(var Ie=63;Ie>0&&p[Ie]==0;)Ie--;if(Ie==0)return W(ce),z;for(var De,Y=1;Y<=Ie;){for(var Ae=Y;p[Y]==0&&Y<=Ie;)++Y;var Ee=Y-Ae;if(Ee>=16){De=Ee>>4;for(var Pe=1;Pe<=De;++Pe)W(ne);Ee&=15}Z=32767+p[Y],W(ae[(Ee<<4)+d[Z]]),W(A[Z]),Y++}return Ie!=63&&W(ce),z}function ee(L){L=Math.min(Math.max(L,1),100),a!=L&&(function(j){for(var z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],X=0;X<64;X++){var ae=o((z[X]*j+50)/100);ae=Math.min(Math.max(ae,1),255),s[P[X]]=ae}for(var Z=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ce=0;ce<64;ce++){var ne=o((Z[ce]*j+50)/100);ne=Math.min(Math.max(ne,1),255),l[P[ce]]=ne}for(var pe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ye=0,de=0;de<8;de++)for(var Ie=0;Ie<8;Ie++)u[ye]=1/(s[P[ye]]*pe[de]*pe[Ie]*8),c[ye]=1/(l[P[ye]]*pe[de]*pe[Ie]*8),ye++}(L<50?Math.floor(5e3/L):Math.floor(200-2*L)),a=L)}this.encode=function(L,j){j&&ee(j),g=new Array,v=0,m=7,K(65496),K(65504),K(16),D(74),D(70),D(73),D(70),D(0),D(1),D(1),D(0),K(1),K(1),D(0),D(0),function(){K(65499),K(132),D(0);for(var Oe=0;Oe<64;Oe++)D(s[Oe]);D(1);for(var et=0;et<64;et++)D(l[et])}(),function(Oe,et){K(65472),K(17),D(8),K(et),K(Oe),D(3),D(1),D(17),D(0),D(2),D(17),D(1),D(3),D(17),D(1)}(L.width,L.height),function(){K(65476),K(418),D(0);for(var Oe=0;Oe<16;Oe++)D(k[Oe+1]);for(var et=0;et<=11;et++)D(I[et]);D(16);for(var Ge=0;Ge<16;Ge++)D(O[Ge+1]);for(var Nt=0;Nt<=161;Nt++)D(F[Nt]);D(1);for(var St=0;St<16;St++)D(N[St+1]);for(var Ot=0;Ot<=11;Ot++)D(U[Ot]);D(17);for(var Ye=0;Ye<16;Ye++)D(M[Ye+1]);for(var Je=0;Je<=161;Je++)D(V[Je])}(),K(65498),K(12),D(3),D(1),D(0),D(2),D(17),D(3),D(17),D(0),D(63),D(0);var z=0,X=0,ae=0;v=0,m=7,this.encode.displayName="_encode_";for(var Z,ce,ne,pe,ye,de,Ie,De,Y,Ae=L.data,Ee=L.width,Pe=L.height,Se=4*Ee,Ke=0;Ke<Pe;){for(Z=0;Z<Se;){for(ye=Se*Ke+Z,Ie=-1,De=0,Y=0;Y<64;Y++)de=ye+(De=Y>>3)*Se+(Ie=4*(7&Y)),Ke+De>=Pe&&(de-=Se*(Ke+1+De-Pe)),Z+Ie>=Se&&(de-=Z+Ie-Se+4),ce=Ae[de++],ne=Ae[de++],pe=Ae[de++],y[Y]=(S[ce]+S[ne+256|0]+S[pe+512|0]>>16)-128,w[Y]=(S[ce+768|0]+S[ne+1024|0]+S[pe+1280|0]>>16)-128,b[Y]=(S[ce+1280|0]+S[ne+1536|0]+S[pe+1792|0]>>16)-128;z=ie(y,u,z,t,n),X=ie(w,c,X,r,i),ae=ie(b,c,ae,r,i),Z+=32}Ke+=8}if(m>=0){var Ve=[];Ve[1]=m+1,Ve[0]=(1<<m+1)-1,W(Ve)}return K(65497),new Uint8Array(g)},e=e||50,function(){for(var L=String.fromCharCode,j=0;j<256;j++)B[j]=L(j)}(),t=Q(k,I),r=Q(N,U),n=Q(O,F),i=Q(M,V),function(){for(var L=1,j=2,z=1;z<=15;z++){for(var X=L;X<j;X++)d[32767+X]=z,A[32767+X]=[],A[32767+X][1]=z,A[32767+X][0]=X;for(var ae=-(j-1);ae<=-L;ae++)d[32767+ae]=z,A[32767+ae]=[],A[32767+ae][1]=z,A[32767+ae][0]=j-1+ae;L<<=1,j<<=1}}(),function(){for(var L=0;L<256;L++)S[L]=19595*L,S[L+256|0]=38470*L,S[L+512|0]=7471*L+32768,S[L+768|0]=-11059*L,S[L+1024|0]=-21709*L,S[L+1280|0]=32768*L+8421375,S[L+1536|0]=-27439*L,S[L+1792|0]=-5329*L}(),ee(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Es(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function GT(e){function t(I){if(!I)throw Error("assert :P")}function r(I,O,F){for(var N=0;4>N;N++)if(I[O+N]!=F.charCodeAt(N))return!0;return!1}function n(I,O,F,N,U){for(var M=0;M<U;M++)I[O+M]=F[N+M]}function i(I,O,F,N){for(var U=0;U<N;U++)I[O+U]=F}function a(I){return new Int32Array(I)}function o(I,O){for(var F=[],N=0;N<I;N++)F.push(new O);return F}function s(I,O){var F=[];return function N(U,M,V){for(var Q=V[M],W=0;W<Q&&(U.push(V.length>M+1?[]:new O),!(V.length<M+1));W++)N(U[W],M+1,V)}(F,0,I),F}var l=function(){var I=this;function O(x,C){for(var T=1<<C-1>>>0;x&T;)T>>>=1;return T?(x&T-1)+T:x}function F(x,C,T,R,$){t(!(R%T));do x[C+(R-=T)]=$;while(0<R)}function N(x,C,T,R,$){if(t(2328>=$),512>=$)var G=a(512);else if((G=a($))==null)return 0;return function(q,J,re,se,me,Ce){var le,ve,xe=J,Te=1<<re,Be=a(16),Ue=a(16);for(t(me!=0),t(se!=null),t(q!=null),t(0<re),ve=0;ve<me;++ve){if(15<se[ve])return 0;++Be[se[ve]]}if(Be[0]==me)return 0;for(Ue[1]=0,le=1;15>le;++le){if(Be[le]>1<<le)return 0;Ue[le+1]=Ue[le]+Be[le]}for(ve=0;ve<me;++ve)le=se[ve],0<se[ve]&&(Ce[Ue[le]++]=ve);if(Ue[15]==1)return(se=new U).g=0,se.value=Ce[0],F(q,xe,1,Te,se),Te;var Me,We=-1,$e=Te-1,Ct=0,lt=1,Yt=1,gt=1<<re;for(ve=0,le=1,me=2;le<=re;++le,me<<=1){if(lt+=Yt<<=1,0>(Yt-=Be[le]))return 0;for(;0<Be[le];--Be[le])(se=new U).g=le,se.value=Ce[ve++],F(q,xe+Ct,me,gt,se),Ct=O(Ct,le)}for(le=re+1,me=2;15>=le;++le,me<<=1){if(lt+=Yt<<=1,0>(Yt-=Be[le]))return 0;for(;0<Be[le];--Be[le]){if(se=new U,(Ct&$e)!=We){for(xe+=gt,Me=1<<(We=le)-re;15>We&&!(0>=(Me-=Be[We]));)++We,Me<<=1;Te+=gt=1<<(Me=We-re),q[J+(We=Ct&$e)].g=Me+re,q[J+We].value=xe-J-We}se.g=le-re,se.value=Ce[ve++],F(q,xe+(Ct>>re),me,gt,se),Ct=O(Ct,le)}}return lt!=2*Ue[15]-1?0:Te}(x,C,T,R,$,G)}function U(){this.value=this.g=0}function M(){this.value=this.g=0}function V(){this.G=o(5,U),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(IA,M)}function Q(x,C,T,R){t(x!=null),t(C!=null),t(2147483648>R),x.Ca=254,x.I=0,x.b=-8,x.Ka=0,x.oa=C,x.pa=T,x.Jd=C,x.Yc=T+R,x.Zc=4<=R?T+R-4+1:T,ce(x)}function W(x,C){for(var T=0;0<C--;)T|=pe(x,128)<<C;return T}function D(x,C){var T=W(x,C);return ne(x)?-T:T}function K(x,C,T,R){var $,G=0;for(t(x!=null),t(C!=null),t(4294967288>R),x.Sb=R,x.Ra=0,x.u=0,x.h=0,4<R&&(R=4),$=0;$<R;++$)G+=C[T+$]<<8*$;x.Ra=G,x.bb=R,x.oa=C,x.pa=T}function ie(x){for(;8<=x.u&&x.bb<x.Sb;)x.Ra>>>=8,x.Ra+=x.oa[x.pa+x.bb]<<ac-8>>>0,++x.bb,x.u-=8;X(x)&&(x.h=1,x.u=0)}function ee(x,C){if(t(0<=C),!x.h&&C<=co){var T=z(x)&uo[C];return x.u+=C,ie(x),T}return x.h=1,x.u=0}function L(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function j(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function z(x){return x.Ra>>>(x.u&ac-1)>>>0}function X(x){return t(x.bb<=x.Sb),x.h||x.bb==x.Sb&&x.u>ac}function ae(x,C){x.u=C,x.h=X(x)}function Z(x){x.u>=eu&&(t(x.u>=eu),ie(x))}function ce(x){t(x!=null&&x.oa!=null),x.pa<x.Zc?(x.I=(x.oa[x.pa++]|x.I<<8)>>>0,x.b+=8):(t(x!=null&&x.oa!=null),x.pa<x.Yc?(x.b+=8,x.I=x.oa[x.pa++]|x.I<<8):x.Ka?x.b=0:(x.I<<=8,x.b+=8,x.Ka=1))}function ne(x){return W(x,1)}function pe(x,C){var T=x.Ca;0>x.b&&ce(x);var R=x.b,$=T*C>>>8,G=(x.I>>>R>$)+0;for(G?(T-=$,x.I-=$+1<<R>>>0):T=$+1,R=T,$=0;256<=R;)$+=8,R>>=8;return R=7^$+oc[R],x.b-=R,x.Ca=(T<<R)-1,G}function ye(x,C,T){x[C+0]=T>>24&255,x[C+1]=T>>16&255,x[C+2]=T>>8&255,x[C+3]=255&T}function de(x,C){return x[C+0]|x[C+1]<<8}function Ie(x,C){return de(x,C)|x[C+2]<<16}function De(x,C){return de(x,C)|de(x,C+2)<<16}function Y(x,C){var T=1<<C;return t(x!=null),t(0<C),x.X=a(T),x.X==null?0:(x.Mb=32-C,x.Xa=C,1)}function Ae(x,C){t(x!=null),t(C!=null),t(x.Xa==C.Xa),n(C.X,0,x.X,0,1<<C.Xa)}function Ee(){this.X=[],this.Xa=this.Mb=0}function Pe(x,C,T,R){t(T!=null),t(R!=null);var $=T[0],G=R[0];return $==0&&($=(x*G+C/2)/C),G==0&&(G=(C*$+x/2)/x),0>=$||0>=G?0:(T[0]=$,R[0]=G,1)}function Se(x,C){return x+(1<<C)-1>>>C}function Ke(x,C){return((4278255360&x)+(4278255360&C)>>>0&4278255360)+((16711935&x)+(16711935&C)>>>0&16711935)>>>0}function Ve(x,C){I[C]=function(T,R,$,G,q,J,re){var se;for(se=0;se<q;++se){var me=I[x](J[re+se-1],$,G+se);J[re+se]=Ke(T[R+se],me)}}}function Oe(){this.ud=this.hd=this.jd=0}function et(x,C){return((4278124286&(x^C))>>>1)+(x&C)>>>0}function Ge(x){return 0<=x&&256>x?x:0>x?0:255<x?255:void 0}function Nt(x,C){return Ge(x+(x-C+.5>>1))}function St(x,C,T){return Math.abs(C-T)-Math.abs(x-T)}function Ot(x,C,T,R,$,G,q){for(R=G[q-1],T=0;T<$;++T)G[q+T]=R=Ke(x[C+T],R)}function Ye(x,C,T,R,$){var G;for(G=0;G<T;++G){var q=x[C+G],J=q>>8&255,re=16711935&(re=(re=16711935&q)+((J<<16)+J));R[$+G]=(4278255360&q)+re>>>0}}function Je(x,C){C.jd=255&x,C.hd=x>>8&255,C.ud=x>>16&255}function ut(x,C,T,R,$,G){var q;for(q=0;q<R;++q){var J=C[T+q],re=J>>>8,se=J,me=255&(me=(me=J>>>16)+((x.jd<<24>>24)*(re<<24>>24)>>>5));se=255&(se=(se+=(x.hd<<24>>24)*(re<<24>>24)>>>5)+((x.ud<<24>>24)*(me<<24>>24)>>>5)),$[G+q]=(4278255360&J)+(me<<16)+se}}function ct(x,C,T,R,$){I[C]=function(G,q,J,re,se,me,Ce,le,ve){for(re=Ce;re<le;++re)for(Ce=0;Ce<ve;++Ce)se[me++]=$(J[R(G[q++])])},I[x]=function(G,q,J,re,se,me,Ce){var le=8>>G.b,ve=G.Ea,xe=G.K[0],Te=G.w;if(8>le)for(G=(1<<G.b)-1,Te=(1<<le)-1;q<J;++q){var Be,Ue=0;for(Be=0;Be<ve;++Be)Be&G||(Ue=R(re[se++])),me[Ce++]=$(xe[Ue&Te]),Ue>>=le}else I["VP8LMapColor"+T](re,se,xe,Te,me,Ce,q,J,ve)}}function Vr(x,C,T,R,$){for(T=C+T;C<T;){var G=x[C++];R[$++]=G>>16&255,R[$++]=G>>8&255,R[$++]=255&G}}function Xt(x,C,T,R,$){for(T=C+T;C<T;){var G=x[C++];R[$++]=G>>16&255,R[$++]=G>>8&255,R[$++]=255&G,R[$++]=G>>24&255}}function Mt(x,C,T,R,$){for(T=C+T;C<T;){var G=(q=x[C++])>>16&240|q>>12&15,q=240&q|q>>28&15;R[$++]=G,R[$++]=q}}function Qt(x,C,T,R,$){for(T=C+T;C<T;){var G=(q=x[C++])>>16&248|q>>13&7,q=q>>5&224|q>>3&31;R[$++]=G,R[$++]=q}}function Dr(x,C,T,R,$){for(T=C+T;C<T;){var G=x[C++];R[$++]=255&G,R[$++]=G>>8&255,R[$++]=G>>16&255}}function Ft(x,C,T,R,$,G){if(G==0)for(T=C+T;C<T;)ye(R,((G=x[C++])[0]>>24|G[1]>>8&65280|G[2]<<8&16711680|G[3]<<24)>>>0),$+=32;else n(R,$,x,C,T)}function Nr(x,C){I[C][0]=I[x+"0"],I[C][1]=I[x+"1"],I[C][2]=I[x+"2"],I[C][3]=I[x+"3"],I[C][4]=I[x+"4"],I[C][5]=I[x+"5"],I[C][6]=I[x+"6"],I[C][7]=I[x+"7"],I[C][8]=I[x+"8"],I[C][9]=I[x+"9"],I[C][10]=I[x+"10"],I[C][11]=I[x+"11"],I[C][12]=I[x+"12"],I[C][13]=I[x+"13"],I[C][14]=I[x+"0"],I[C][15]=I[x+"0"]}function kt(x){return x==rB||x==nB||x==l0||x==iB}function Ht(){this.eb=[],this.size=this.A=this.fb=0}function jr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function it(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ht,this.f.kb=new jr,this.sd=null}function Pt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function pr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function $l(x){return alert("todo:WebPSamplerProcessPlane"),x.T}function bi(x,C){var T=x.T,R=C.ba.f.RGBA,$=R.eb,G=R.fb+x.ka*R.A,q=zo[C.ba.S],J=x.y,re=x.O,se=x.f,me=x.N,Ce=x.ea,le=x.W,ve=C.cc,xe=C.dc,Te=C.Mc,Be=C.Nc,Ue=x.ka,Me=x.ka+x.T,We=x.U,$e=We+1>>1;for(Ue==0?q(J,re,null,null,se,me,Ce,le,se,me,Ce,le,$,G,null,null,We):(q(C.ec,C.fc,J,re,ve,xe,Te,Be,se,me,Ce,le,$,G-R.A,$,G,We),++T);Ue+2<Me;Ue+=2)ve=se,xe=me,Te=Ce,Be=le,me+=x.Rc,le+=x.Rc,G+=2*R.A,q(J,(re+=2*x.fa)-x.fa,J,re,ve,xe,Te,Be,se,me,Ce,le,$,G-R.A,$,G,We);return re+=x.fa,x.j+Me<x.o?(n(C.ec,C.fc,J,re,We),n(C.cc,C.dc,se,me,$e),n(C.Mc,C.Nc,Ce,le,$e),T--):1&Me||q(J,re,null,null,se,me,Ce,le,se,me,Ce,le,$,G+R.A,null,null,We),T}function vs(x,C,T){var R=x.F,$=[x.J];if(R!=null){var G=x.U,q=C.ba.S,J=q==s0||q==l0;C=C.ba.f.RGBA;var re=[0],se=x.ka;re[0]=x.T,x.Kb&&(se==0?--re[0]:(--se,$[0]-=x.width),x.j+x.ka+x.T==x.o&&(re[0]=x.o-x.j-se));var me=C.eb;se=C.fb+se*C.A,x=C_(R,$[0],x.width,G,re,me,se+(J?0:3),C.A),t(T==re),x&&kt(q)&&_p(me,se,J,G,re,C.A)}return 0}function ke(x){var C=x.ma,T=C.ba.S,R=11>T,$=T==a0||T==o0||T==s0||T==tB||T==12||kt(T);if(C.memory=null,C.Ib=null,C.Jb=null,C.Nd=null,!bp(C.Oa,x,$?11:12))return 0;if($&&kt(T)&&yp(),x.da)alert("todo:use_scaling");else{if(R){if(C.Ib=$l,x.Kb){if(T=x.U+1>>1,C.memory=a(x.U+2*T),C.memory==null)return 0;C.ec=C.memory,C.fc=0,C.cc=C.ec,C.dc=C.fc+x.U,C.Mc=C.cc,C.Nc=C.dc+T,C.Ib=bi,yp()}}else alert("todo:EmitYUV");$&&(C.Jb=vs,R&&ws())}if(R&&!M_){for(x=0;256>x;++x)Oq[x]=89858*(x-128)+c0>>u0,Uq[x]=-22014*(x-128)+c0,Lq[x]=-45773*(x-128),Tq[x]=113618*(x-128)+c0>>u0;for(x=Pp;x<sB;++x)C=76283*(x-16)+c0>>u0,Rq[x-Pp]=rl(C,255),Dq[x-Pp]=rl(C+8>>4,15);M_=1}return 1}function je(x){var C=x.ma,T=x.U,R=x.T;return t(!(1&x.ka)),0>=T||0>=R?0:(T=C.Ib(x,C),C.Jb!=null&&C.Jb(x,C,T),C.Dc+=T,1)}function Ze(x){x.ma.memory=null}function ht(x,C,T,R){return ee(x,8)!=47?0:(C[0]=ee(x,14)+1,T[0]=ee(x,14)+1,R[0]=ee(x,1),ee(x,3)!=0?0:!x.h)}function Tt(x,C){if(4>x)return x+1;var T=x-2>>1;return(2+(1&x)<<T)+ee(C,T)+1}function It(x,C){return 120<C?C-120:1<=(T=((T=yq[C-1])>>4)*x+(8-(15&T)))?T:1;var T}function tr(x,C,T){var R=z(T),$=x[C+=255&R].g-8;return 0<$&&(ae(T,T.u+8),R=z(T),C+=x[C].value,C+=R&(1<<$)-1),ae(T,T.u+x[C].g),x[C].value}function _t(x,C,T){return T.g+=x.g,T.value+=x.value<<C>>>0,t(8>=T.g),x.g}function er(x,C,T){var R=x.xc;return t((C=R==0?0:x.vc[x.md*(T>>R)+(C>>R)])<x.Wb),x.Ya[C]}function Bi(x,C,T,R){var $=x.ab,G=x.c*C,q=x.C;C=q+C;var J=T,re=R;for(R=x.Ta,T=x.Ua;0<$--;){var se=x.gc[$],me=q,Ce=C,le=J,ve=re,xe=(re=R,J=T,se.Ea);switch(t(me<Ce),t(Ce<=se.nc),se.hc){case 2:Nn(le,ve,(Ce-me)*xe,re,J);break;case 0:var Te=me,Be=Ce,Ue=re,Me=J,We=(gt=se).Ea;Te==0&&(Cp(le,ve,null,null,1,Ue,Me),Ot(le,ve+1,0,0,We-1,Ue,Me+1),ve+=We,Me+=We,++Te);for(var $e=1<<gt.b,Ct=$e-1,lt=Se(We,gt.b),Yt=gt.K,gt=gt.w+(Te>>gt.b)*lt;Te<Be;){var lr=Yt,ii=gt,Jt=1;for(ed(le,ve,Ue,Me-We,1,Ue,Me);Jt<We;){var vt=(Jt&~Ct)+$e;vt>We&&(vt=We),(0,Sp[lr[ii++]>>8&15])(le,ve+ +Jt,Ue,Me+Jt-We,vt-Jt,Ue,Me+Jt),Jt=vt}ve+=We,Me+=We,++Te&Ct||(gt+=lt)}Ce!=se.nc&&n(re,J-xe,re,J+(Ce-me-1)*xe,xe);break;case 1:for(xe=le,Be=ve,We=(le=se.Ea)-(Me=le&~(Ue=(ve=1<<se.b)-1)),Te=Se(le,se.b),$e=se.K,se=se.w+(me>>se.b)*Te;me<Ce;){for(Ct=$e,lt=se,Yt=new Oe,gt=Be+Me,lr=Be+le;Be<gt;)Je(Ct[lt++],Yt),Np(Yt,xe,Be,ve,re,J),Be+=ve,J+=ve;Be<lr&&(Je(Ct[lt++],Yt),Np(Yt,xe,Be,We,re,J),Be+=We,J+=We),++me&Ue||(se+=Te)}break;case 3:if(le==re&&ve==J&&0<se.b){for(Be=re,le=xe=J+(Ce-me)*xe-(Me=(Ce-me)*Se(se.Ea,se.b)),ve=re,Ue=J,Te=[],Me=(We=Me)-1;0<=Me;--Me)Te[Me]=ve[Ue+Me];for(Me=We-1;0<=Me;--Me)Be[le+Me]=Te[Me];t0(se,me,Ce,re,xe,re,J)}else t0(se,me,Ce,le,ve,re,J)}J=R,re=T}re!=T&&n(R,T,J,re,G)}function Zn(x,C){var T=x.V,R=x.Ba+x.c*x.C,$=C-x.C;if(t(C<=x.l.o),t(16>=$),0<$){var G=x.l,q=x.Ta,J=x.Ua,re=G.width;if(Bi(x,$,T,R),$=J=[J],t((T=x.C)<(R=C)),t(G.v<G.va),R>G.o&&(R=G.o),T<G.j){var se=G.j-T;T=G.j,$[0]+=se*re}if(T>=R?T=0:($[0]+=4*G.v,G.ka=T-G.j,G.U=G.va-G.v,G.T=R-T,T=1),T){if(J=J[0],11>(T=x.ca).S){var me=T.f.RGBA,Ce=(R=T.S,$=G.U,G=G.T,se=me.eb,me.A),le=G;for(me=me.fb+x.Ma*me.A;0<le--;){var ve=q,xe=J,Te=$,Be=se,Ue=me;switch(R){case i0:Fp(ve,xe,Te,Be,Ue);break;case a0:sc(ve,xe,Te,Be,Ue);break;case rB:sc(ve,xe,Te,Be,Ue),_p(Be,Ue,0,Te,1,0);break;case k_:_A(ve,xe,Te,Be,Ue);break;case o0:Ft(ve,xe,Te,Be,Ue,1);break;case nB:Ft(ve,xe,Te,Be,Ue,1),_p(Be,Ue,0,Te,1,0);break;case s0:Ft(ve,xe,Te,Be,Ue,0);break;case l0:Ft(ve,xe,Te,Be,Ue,0),_p(Be,Ue,1,Te,1,0);break;case tB:lc(ve,xe,Te,Be,Ue);break;case iB:lc(ve,xe,Te,Be,Ue),B_(Be,Ue,Te,1,0);break;case P_:uc(ve,xe,Te,Be,Ue);break;default:t(0)}J+=re,me+=Ce}x.Ma+=G}else alert("todo:EmitRescaledRowsYUVA");t(x.Ma<=T.height)}}x.C=C,t(x.C<=x.i)}function tn(x){var C;if(0<x.ua)return 0;for(C=0;C<x.Wb;++C){var T=x.Ya[C].G,R=x.Ya[C].H;if(0<T[1][R[1]+0].g||0<T[2][R[2]+0].g||0<T[3][R[3]+0].g)return 0}return 1}function ba(x,C,T,R,$,G){if(x.Z!=0){var q=x.qd,J=x.rd;for(t(fc[x.Z]!=null);C<T;++C)fc[x.Z](q,J,R,$,R,$,G),q=R,J=$,$+=G;x.qd=q,x.rd=J}}function wn(x,C){var T=x.l.ma,R=T.Z==0||T.Z==1?x.l.j:x.C;if(R=x.C<R?R:x.C,t(C<=x.l.o),C>R){var $=x.l.width,G=T.ca,q=T.tb+$*R,J=x.V,re=x.Ba+x.c*R,se=x.gc;t(x.ab==1),t(se[0].hc==3),ol(se[0],R,C,J,re,G,q),ba(T,R,C,G,q,$)}x.C=x.Ma=C}function kr(x,C,T,R,$,G,q){var J=x.$/R,re=x.$%R,se=x.m,me=x.s,Ce=T+x.$,le=Ce;$=T+R*$;var ve=T+R*G,xe=280+me.ua,Te=x.Pb?J:16777216,Be=0<me.ua?me.Wa:null,Ue=me.wc,Me=Ce<ve?er(me,re,J):null;t(x.C<G),t(ve<=$);var We=!1;e:for(;;){for(;We||Ce<ve;){var $e=0;if(J>=Te){var Ct=Ce-T;t((Te=x).Pb),Te.wd=Te.m,Te.xd=Ct,0<Te.s.ua&&Ae(Te.s.Wa,Te.s.vb),Te=J+xq}if(re&Ue||(Me=er(me,re,J)),t(Me!=null),Me.Qb&&(C[Ce]=Me.qb,We=!0),!We)if(Z(se),Me.jc){$e=se,Ct=C;var lt=Ce,Yt=Me.pd[z($e)&IA-1];t(Me.jc),256>Yt.g?(ae($e,$e.u+Yt.g),Ct[lt]=Yt.value,$e=0):(ae($e,$e.u+Yt.g-256),t(256<=Yt.value),$e=Yt.value),$e==0&&(We=!0)}else $e=tr(Me.G[0],Me.H[0],se);if(se.h)break;if(We||256>$e){if(!We)if(Me.nd)C[Ce]=(Me.qb|$e<<8)>>>0;else{if(Z(se),We=tr(Me.G[1],Me.H[1],se),Z(se),Ct=tr(Me.G[2],Me.H[2],se),lt=tr(Me.G[3],Me.H[3],se),se.h)break;C[Ce]=(lt<<24|We<<16|$e<<8|Ct)>>>0}if(We=!1,++Ce,++re>=R&&(re=0,++J,q!=null&&J<=G&&!(J%16)&&q(x,J),Be!=null))for(;le<Ce;)$e=C[le++],Be.X[(506832829*$e&4294967295)>>>Be.Mb]=$e}else if(280>$e){if($e=Tt($e-256,se),Ct=tr(Me.G[4],Me.H[4],se),Z(se),Ct=It(R,Ct=Tt(Ct,se)),se.h)break;if(Ce-T<Ct||$-Ce<$e)break e;for(lt=0;lt<$e;++lt)C[Ce+lt]=C[Ce+lt-Ct];for(Ce+=$e,re+=$e;re>=R;)re-=R,++J,q!=null&&J<=G&&!(J%16)&&q(x,J);if(t(Ce<=$),re&Ue&&(Me=er(me,re,J)),Be!=null)for(;le<Ce;)$e=C[le++],Be.X[(506832829*$e&4294967295)>>>Be.Mb]=$e}else{if(!($e<xe))break e;for(We=$e-280,t(Be!=null);le<Ce;)$e=C[le++],Be.X[(506832829*$e&4294967295)>>>Be.Mb]=$e;$e=Ce,t(!(We>>>(Ct=Be).Xa)),C[$e]=Ct.X[We],We=!0}We||t(se.h==X(se))}if(x.Pb&&se.h&&Ce<$)t(x.m.h),x.a=5,x.m=x.wd,x.$=x.xd,0<x.s.ua&&Ae(x.s.vb,x.s.Wa);else{if(se.h)break e;q!=null&&q(x,J>G?G:J),x.a=0,x.$=Ce-T}return 1}return x.a=3,0}function un(x){t(x!=null),x.vc=null,x.yc=null,x.Ya=null;var C=x.Wa;C!=null&&(C.X=null),x.vb=null,t(x!=null)}function ea(){var x=new jt;return x==null?null:(x.a=0,x.xb=L_,Nr("Predictor","VP8LPredictors"),Nr("Predictor","VP8LPredictors_C"),Nr("PredictorAdd","VP8LPredictorsAdd"),Nr("PredictorAdd","VP8LPredictorsAdd_C"),Nn=Ye,Np=ut,Fp=Vr,sc=Xt,lc=Mt,uc=Qt,_A=Dr,I.VP8LMapColor32b=al,I.VP8LMapColor8b=Ep,x)}function Da(x,C,T,R,$){var G=1,q=[x],J=[C],re=R.m,se=R.s,me=null,Ce=0;e:for(;;){if(T)for(;G&&ee(re,1);){var le=q,ve=J,xe=R,Te=1,Be=xe.m,Ue=xe.gc[xe.ab],Me=ee(Be,2);if(xe.Oc&1<<Me)G=0;else{switch(xe.Oc|=1<<Me,Ue.hc=Me,Ue.Ea=le[0],Ue.nc=ve[0],Ue.K=[null],++xe.ab,t(4>=xe.ab),Me){case 0:case 1:Ue.b=ee(Be,3)+2,Te=Da(Se(Ue.Ea,Ue.b),Se(Ue.nc,Ue.b),0,xe,Ue.K),Ue.K=Ue.K[0];break;case 3:var We,$e=ee(Be,8)+1,Ct=16<$e?0:4<$e?1:2<$e?2:3;if(le[0]=Se(Ue.Ea,Ct),Ue.b=Ct,We=Te=Da($e,1,0,xe,Ue.K)){var lt,Yt=$e,gt=Ue,lr=1<<(8>>gt.b),ii=a(lr);if(ii==null)We=0;else{var Jt=gt.K[0],vt=gt.w;for(ii[0]=gt.K[0][0],lt=1;lt<1*Yt;++lt)ii[lt]=Ke(Jt[vt+lt],ii[lt-1]);for(;lt<4*lr;++lt)ii[lt]=0;gt.K[0]=null,gt.K[0]=ii,We=1}}Te=We;break;case 2:break;default:t(0)}G=Te}}if(q=q[0],J=J[0],G&&ee(re,1)&&!(G=1<=(Ce=ee(re,4))&&11>=Ce)){R.a=3;break e}var qe;if(qe=G)t:{var In,Vt,cr,qr=R,Mi=q,Ea=J,xn=Ce,ta=T,Sa=qr.m,ai=qr.s,dr=[null],br=1,bn=0,Br=wq[xn];r:for(;;){if(ta&&ee(Sa,1)){var Qi=ee(Sa,3)+2,bs=Se(Mi,Qi),_n=Se(Ea,Qi),ja=bs*_n;if(!Da(bs,_n,0,qr,dr))break r;for(dr=dr[0],ai.xc=Qi,In=0;In<ja;++In){var Or=dr[In]>>8&65535;dr[In]=Or,Or>=br&&(br=Or+1)}}if(Sa.h)break r;for(Vt=0;5>Vt;++Vt){var oi=O_[Vt];!Vt&&0<xn&&(oi+=1<<xn),bn<oi&&(bn=oi)}var fo=o(br*Br,U),Na=br,ho=o(Na,V);if(ho==null)var po=null;else t(65536>=Na),po=ho;var Ma=a(bn);if(po==null||Ma==null||fo==null){qr.a=1;break r}var mo=fo;for(In=cr=0;In<br;++In){var Qr=po[In],go=Qr.G,Bs=Qr.H,PA=0,nu=1,Hi=0;for(Vt=0;5>Vt;++Vt){oi=O_[Vt],go[Vt]=mo,Bs[Vt]=cr,!Vt&&0<xn&&(oi+=1<<xn);i:{var f0,lB=oi,d0=qr,Op=Ma,Qq=mo,Hq=cr,uB=0,dc=d0.m,$q=ee(dc,1);if(i(Op,0,0,lB),$q){var Wq=ee(dc,1)+1,Kq=ee(dc,1),$_=ee(dc,Kq==0?1:8);Op[$_]=1,Wq==2&&(Op[$_=ee(dc,8)]=1);var h0=1}else{var W_=a(19),K_=ee(dc,4)+4;if(19<K_){d0.a=3;var p0=0;break i}for(f0=0;f0<K_;++f0)W_[vq[f0]]=ee(dc,3);var cB=void 0,Tp=void 0,z_=d0,zq=W_,m0=lB,V_=Op,AB=0,hc=z_.m,G_=8,q_=o(128,U);n:for(;N(q_,0,7,zq,19);){if(ee(hc,1)){var Vq=2+2*ee(hc,3);if((cB=2+ee(hc,Vq))>m0)break n}else cB=m0;for(Tp=0;Tp<m0&&cB--;){Z(hc);var X_=q_[0+(127&z(hc))];ae(hc,hc.u+X_.g);var rd=X_.value;if(16>rd)V_[Tp++]=rd,rd!=0&&(G_=rd);else{var Gq=rd==16,Y_=rd-16,qq=mq[Y_],J_=ee(hc,pq[Y_])+qq;if(Tp+J_>m0)break n;for(var Xq=Gq?G_:0;0<J_--;)V_[Tp++]=Xq}}AB=1;break n}AB||(z_.a=3),h0=AB}(h0=h0&&!dc.h)&&(uB=N(Qq,Hq,8,Op,lB)),h0&&uB!=0?p0=uB:(d0.a=3,p0=0)}if(p0==0)break r;if(nu&&gq[Vt]==1&&(nu=mo[cr].g==0),PA+=mo[cr].g,cr+=p0,3>=Vt){var Lp,fB=Ma[0];for(Lp=1;Lp<oi;++Lp)Ma[Lp]>fB&&(fB=Ma[Lp]);Hi+=fB}}if(Qr.nd=nu,Qr.Qb=0,nu&&(Qr.qb=(go[3][Bs[3]+0].value<<24|go[1][Bs[1]+0].value<<16|go[2][Bs[2]+0].value)>>>0,PA==0&&256>go[0][Bs[0]+0].value&&(Qr.Qb=1,Qr.qb+=go[0][Bs[0]+0].value<<8)),Qr.jc=!Qr.Qb&&6>Hi,Qr.jc){var g0,iu=Qr;for(g0=0;g0<IA;++g0){var pc=g0,mc=iu.pd[pc],v0=iu.G[0][iu.H[0]+pc];256<=v0.value?(mc.g=v0.g+256,mc.value=v0.value):(mc.g=0,mc.value=0,pc>>=_t(v0,8,mc),pc>>=_t(iu.G[1][iu.H[1]+pc],16,mc),pc>>=_t(iu.G[2][iu.H[2]+pc],0,mc),_t(iu.G[3][iu.H[3]+pc],24,mc))}}}ai.vc=dr,ai.Wb=br,ai.Ya=po,ai.yc=fo,qe=1;break t}qe=0}if(!(G=qe)){R.a=3;break e}if(0<Ce){if(se.ua=1<<Ce,!Y(se.Wa,Ce)){R.a=1,G=0;break e}}else se.ua=0;var dB=R,Z_=q,Yq=J,hB=dB.s,pB=hB.xc;if(dB.c=Z_,dB.i=Yq,hB.md=Se(Z_,pB),hB.wc=pB==0?-1:(1<<pB)-1,T){R.xb=Fq;break e}if((me=a(q*J))==null){R.a=1,G=0;break e}G=(G=kr(R,me,0,q,J,J,null))&&!re.h;break e}return G?($!=null?$[0]=me:(t(me==null),t(T)),R.$=0,T||un(se)):un(se),G}function Fr(x,C){var T=x.c*x.i,R=T+C+16*C;return t(x.c<=C),x.V=a(R),x.V==null?(x.Ta=null,x.Ua=0,x.a=1,0):(x.Ta=x.V,x.Ua=x.Ba+T+C,1)}function lo(x,C){var T=x.C,R=C-T,$=x.V,G=x.Ba+x.c*T;for(t(C<=x.l.o);0<R;){var q=16<R?16:R,J=x.l.ma,re=x.l.width,se=re*q,me=J.ca,Ce=J.tb+re*T,le=x.Ta,ve=x.Ua;Bi(x,q,$,G),E_(le,ve,me,Ce,se),ba(J,T,T+q,me,Ce,re),R-=q,$+=q*x.c,T+=q}t(T==C),x.C=x.Ma=C}function tl(){this.ub=this.yd=this.td=this.Rb=0}function Gr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Mo(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Ut(){this.Yb=function(){var x=[];return function C(T,R,$){for(var G=$[R],q=0;q<G&&(T.push($.length>R+1?[]:0),!($.length<R+1));q++)C(T[q],R+1,$)}(x,0,[3,11]),x}()}function Ri(){this.jb=a(3),this.Wc=s([4,8],Ut),this.Xc=s([4,17],Ut)}function Ba(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function ei(){this.ld=this.La=this.dd=this.tc=0}function Qo(){this.Na=this.la=0}function jv(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function cp(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Mv(){this.uc=this.M=this.Nb=0,this.wa=Array(new ei),this.Y=0,this.ya=Array(new cp),this.aa=0,this.l=new Vf}function Qv(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Hv(){this.cb=this.a=0,this.sc="",this.m=new L,this.Od=new tl,this.Kc=new Gr,this.ed=new Ba,this.Qa=new Mo,this.Ic=this.$c=this.Aa=0,this.D=new Mv,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,L),this.ia=0,this.pb=o(4,jv),this.Pa=new Ri,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Qv),this.Hd=0,this.rb=Array(new Qo),this.sb=0,this.wa=Array(new ei),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new cp),this.L=this.aa=0,this.gd=s([4,2],ei),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function rl(x,C){return 0>x?0:x>C?C:x}function Vf(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function jb(){var x=new Hv;return x!=null&&(x.a=0,x.sc="OK",x.cb=0,x.Xb=0,kp||(kp=Gf)),x}function Wn(x,C,T){return x.a==0&&(x.a=C,x.sc=T,x.cb=0),0}function $v(x,C,T){return 3<=T&&x[C+0]==157&&x[C+1]==1&&x[C+2]==42}function nl(x,C){if(x==null)return 0;if(x.a=0,x.sc="OK",C==null)return Wn(x,2,"null VP8Io passed to VP8GetHeaders()");var T=C.data,R=C.w,$=C.ha;if(4>$)return Wn(x,7,"Truncated header.");var G=T[R+0]|T[R+1]<<8|T[R+2]<<16,q=x.Od;if(q.Rb=!(1&G),q.td=G>>1&7,q.yd=G>>4&1,q.ub=G>>5,3<q.td)return Wn(x,3,"Incorrect keyframe parameters.");if(!q.yd)return Wn(x,4,"Frame not displayable.");R+=3,$-=3;var J=x.Kc;if(q.Rb){if(7>$)return Wn(x,7,"cannot parse picture header");if(!$v(T,R,$))return Wn(x,3,"Bad code word");J.c=16383&(T[R+4]<<8|T[R+3]),J.Td=T[R+4]>>6,J.i=16383&(T[R+6]<<8|T[R+5]),J.Ud=T[R+6]>>6,R+=7,$-=7,x.za=J.c+15>>4,x.Ub=J.i+15>>4,C.width=J.c,C.height=J.i,C.Da=0,C.j=0,C.v=0,C.va=C.width,C.o=C.height,C.da=0,C.ib=C.width,C.hb=C.height,C.U=C.width,C.T=C.height,i((G=x.Pa).jb,0,255,G.jb.length),t((G=x.Qa)!=null),G.Cb=0,G.Bb=0,G.Fb=1,i(G.Zb,0,0,G.Zb.length),i(G.Lb,0,0,G.Lb)}if(q.ub>$)return Wn(x,7,"bad partition length");Q(G=x.m,T,R,q.ub),R+=q.ub,$-=q.ub,q.Rb&&(J.Ld=ne(G),J.Kd=ne(G)),J=x.Qa;var re,se=x.Pa;if(t(G!=null),t(J!=null),J.Cb=ne(G),J.Cb){if(J.Bb=ne(G),ne(G)){for(J.Fb=ne(G),re=0;4>re;++re)J.Zb[re]=ne(G)?D(G,7):0;for(re=0;4>re;++re)J.Lb[re]=ne(G)?D(G,6):0}if(J.Bb)for(re=0;3>re;++re)se.jb[re]=ne(G)?W(G,8):255}else J.Bb=0;if(G.Ka)return Wn(x,3,"cannot parse segment header");if((J=x.ed).zd=ne(G),J.Tb=W(G,6),J.wb=W(G,3),J.Pc=ne(G),J.Pc&&ne(G)){for(se=0;4>se;++se)ne(G)&&(J.vd[se]=D(G,6));for(se=0;4>se;++se)ne(G)&&(J.od[se]=D(G,6))}if(x.L=J.Tb==0?0:J.zd?1:2,G.Ka)return Wn(x,3,"cannot parse filter header");var me=$;if($=re=R,R=re+me,J=me,x.Xb=(1<<W(x.m,2))-1,me<3*(se=x.Xb))T=7;else{for(re+=3*se,J-=3*se,me=0;me<se;++me){var Ce=T[$+0]|T[$+1]<<8|T[$+2]<<16;Ce>J&&(Ce=J),Q(x.Jc[+me],T,re,Ce),re+=Ce,J-=Ce,$+=3}Q(x.Jc[+se],T,re,J),T=re<R?0:5}if(T!=0)return Wn(x,T,"cannot parse partitions");for(T=W(re=x.m,7),$=ne(re)?D(re,4):0,R=ne(re)?D(re,4):0,J=ne(re)?D(re,4):0,se=ne(re)?D(re,4):0,re=ne(re)?D(re,4):0,me=x.Qa,Ce=0;4>Ce;++Ce){if(me.Cb){var le=me.Zb[Ce];me.Fb||(le+=T)}else{if(0<Ce){x.pb[Ce]=x.pb[0];continue}le=T}var ve=x.pb[Ce];ve.Sc[0]=aB[rl(le+$,127)],ve.Sc[1]=oB[rl(le+0,127)],ve.Eb[0]=2*aB[rl(le+R,127)],ve.Eb[1]=101581*oB[rl(le+J,127)]>>16,8>ve.Eb[1]&&(ve.Eb[1]=8),ve.Qc[0]=aB[rl(le+se,117)],ve.Qc[1]=oB[rl(le+re,127)],ve.lc=le+re}if(!q.Rb)return Wn(x,4,"Not a key frame.");for(ne(G),q=x.Pa,T=0;4>T;++T){for($=0;8>$;++$)for(R=0;3>R;++R)for(J=0;11>J;++J)se=pe(G,Sq[T][$][R][J])?W(G,8):Cq[T][$][R][J],q.Wc[T][$].Yb[R][J]=se;for($=0;17>$;++$)q.Xc[T][$]=q.Wc[T][Nq[$]]}return x.kc=ne(G),x.kc&&(x.Bd=W(G,8)),x.cb=1}function Gf(x,C,T,R,$,G,q){var J=C[$].Yb[T];for(T=0;16>$;++$){if(!pe(x,J[T+0]))return $;for(;!pe(x,J[T+1]);)if(J=C[++$].Yb[0],T=0,$==16)return 16;var re=C[$+1].Yb;if(pe(x,J[T+2])){var se=x,me=0;if(pe(se,(le=J)[(Ce=T)+3]))if(pe(se,le[Ce+6])){for(J=0,Ce=2*(me=pe(se,le[Ce+8]))+(le=pe(se,le[Ce+9+me])),me=0,le=bq[Ce];le[J];++J)me+=me+pe(se,le[J]);me+=3+(8<<Ce)}else pe(se,le[Ce+7])?(me=7+2*pe(se,165),me+=pe(se,145)):me=5+pe(se,159);else me=pe(se,le[Ce+4])?3+pe(se,le[Ce+5]):2;J=re[2]}else me=1,J=re[1];re=q+Bq[$],0>(se=x).b&&ce(se);var Ce,le=se.b,ve=(Ce=se.Ca>>1)-(se.I>>le)>>31;--se.b,se.Ca+=ve,se.Ca|=1,se.I-=(Ce+1&ve)<<le,G[re]=((me^ve)-ve)*R[(0<$)+0]}return 16}function Wv(x){var C=x.rb[x.sb-1];C.la=0,C.Na=0,i(x.zc,0,0,x.zc.length),x.ja=0}function Ho(x,C,T,R,$){$=x[C+T+32*R]+($>>3),x[C+T+32*R]=-256&$?0>$?0:255:$}function ti(x,C,T,R,$,G){Ho(x,C,0,T,R+$),Ho(x,C,1,T,R+G),Ho(x,C,2,T,R-G),Ho(x,C,3,T,R-$)}function Wl(x){return(20091*x>>16)+x}function Kv(x,C,T,R){var $,G=0,q=a(16);for($=0;4>$;++$){var J=x[C+0]+x[C+8],re=x[C+0]-x[C+8],se=(35468*x[C+4]>>16)-Wl(x[C+12]),me=Wl(x[C+4])+(35468*x[C+12]>>16);q[G+0]=J+me,q[G+1]=re+se,q[G+2]=re-se,q[G+3]=J-me,G+=4,C++}for($=G=0;4>$;++$)J=(x=q[G+0]+4)+q[G+8],re=x-q[G+8],se=(35468*q[G+4]>>16)-Wl(q[G+12]),Ho(T,R,0,0,J+(me=Wl(q[G+4])+(35468*q[G+12]>>16))),Ho(T,R,1,0,re+se),Ho(T,R,2,0,re-se),Ho(T,R,3,0,J-me),G++,R+=32}function Mb(x,C,T,R){var $=x[C+0]+4,G=35468*x[C+4]>>16,q=Wl(x[C+4]),J=35468*x[C+1]>>16;ti(T,R,0,$+q,x=Wl(x[C+1]),J),ti(T,R,1,$+G,x,J),ti(T,R,2,$-G,x,J),ti(T,R,3,$-q,x,J)}function Qb(x,C,T,R,$){Kv(x,C,T,R),$&&Kv(x,C+16,T,R+4)}function il(x,C,T,R){kA(x,C+0,T,R,1),kA(x,C+32,T,R+128,1)}function zv(x,C,T,R){var $;for(x=x[C+0]+4,$=0;4>$;++$)for(C=0;4>C;++C)Ho(T,R,C,$,x)}function Vv(x,C,T,R){x[C+0]&&yr(x,C+0,T,R),x[C+16]&&yr(x,C+16,T,R+4),x[C+32]&&yr(x,C+32,T,R+128),x[C+48]&&yr(x,C+48,T,R+128+4)}function qf(x,C,T,R){var $,G=a(16);for($=0;4>$;++$){var q=x[C+0+$]+x[C+12+$],J=x[C+4+$]+x[C+8+$],re=x[C+4+$]-x[C+8+$],se=x[C+0+$]-x[C+12+$];G[0+$]=q+J,G[8+$]=q-J,G[4+$]=se+re,G[12+$]=se-re}for($=0;4>$;++$)q=(x=G[0+4*$]+3)+G[3+4*$],J=G[1+4*$]+G[2+4*$],re=G[1+4*$]-G[2+4*$],se=x-G[3+4*$],T[R+0]=q+J>>3,T[R+16]=se+re>>3,T[R+32]=q-J>>3,T[R+48]=se-re>>3,R+=64}function yA(x,C,T){var R,$=C-32,G=Ao,q=255-x[$-1];for(R=0;R<T;++R){var J,re=G,se=q+x[C-1];for(J=0;J<T;++J)x[C+J]=re[se+x[$+J]];C+=32}}function Hb(x,C){yA(x,C,4)}function $b(x,C){yA(x,C,8)}function Wb(x,C){yA(x,C,16)}function Ap(x,C){var T;for(T=0;16>T;++T)n(x,C+32*T,x,C-32,16)}function Gv(x,C){var T;for(T=16;0<T;--T)i(x,C,x[C-1],16),C+=32}function ys(x,C,T){var R;for(R=0;16>R;++R)i(C,T+32*R,x,16)}function Kb(x,C){var T,R=16;for(T=0;16>T;++T)R+=x[C-1+32*T]+x[C+T-32];ys(R>>5,x,C)}function wA(x,C){var T,R=8;for(T=0;16>T;++T)R+=x[C-1+32*T];ys(R>>4,x,C)}function fp(x,C){var T,R=8;for(T=0;16>T;++T)R+=x[C+T-32];ys(R>>4,x,C)}function zb(x,C){ys(128,x,C)}function $t(x,C,T){return x+2*C+T+2>>2}function Vb(x,C){var T,R=C-32;for(R=new Uint8Array([$t(x[R-1],x[R+0],x[R+1]),$t(x[R+0],x[R+1],x[R+2]),$t(x[R+1],x[R+2],x[R+3]),$t(x[R+2],x[R+3],x[R+4])]),T=0;4>T;++T)n(x,C+32*T,R,0,R.length)}function Gb(x,C){var T=x[C-1],R=x[C-1+32],$=x[C-1+64],G=x[C-1+96];ye(x,C+0,16843009*$t(x[C-1-32],T,R)),ye(x,C+32,16843009*$t(T,R,$)),ye(x,C+64,16843009*$t(R,$,G)),ye(x,C+96,16843009*$t($,G,G))}function qb(x,C){var T,R=4;for(T=0;4>T;++T)R+=x[C+T-32]+x[C-1+32*T];for(R>>=3,T=0;4>T;++T)i(x,C+32*T,R,4)}function Kl(x,C){var T=x[C-1+0],R=x[C-1+32],$=x[C-1+64],G=x[C-1-32],q=x[C+0-32],J=x[C+1-32],re=x[C+2-32],se=x[C+3-32];x[C+0+96]=$t(R,$,x[C-1+96]),x[C+1+96]=x[C+0+64]=$t(T,R,$),x[C+2+96]=x[C+1+64]=x[C+0+32]=$t(G,T,R),x[C+3+96]=x[C+2+64]=x[C+1+32]=x[C+0+0]=$t(q,G,T),x[C+3+64]=x[C+2+32]=x[C+1+0]=$t(J,q,G),x[C+3+32]=x[C+2+0]=$t(re,J,q),x[C+3+0]=$t(se,re,J)}function zl(x,C){var T=x[C+1-32],R=x[C+2-32],$=x[C+3-32],G=x[C+4-32],q=x[C+5-32],J=x[C+6-32],re=x[C+7-32];x[C+0+0]=$t(x[C+0-32],T,R),x[C+1+0]=x[C+0+32]=$t(T,R,$),x[C+2+0]=x[C+1+32]=x[C+0+64]=$t(R,$,G),x[C+3+0]=x[C+2+32]=x[C+1+64]=x[C+0+96]=$t($,G,q),x[C+3+32]=x[C+2+64]=x[C+1+96]=$t(G,q,J),x[C+3+64]=x[C+2+96]=$t(q,J,re),x[C+3+96]=$t(J,re,re)}function Xb(x,C){var T=x[C-1+0],R=x[C-1+32],$=x[C-1+64],G=x[C-1-32],q=x[C+0-32],J=x[C+1-32],re=x[C+2-32],se=x[C+3-32];x[C+0+0]=x[C+1+64]=G+q+1>>1,x[C+1+0]=x[C+2+64]=q+J+1>>1,x[C+2+0]=x[C+3+64]=J+re+1>>1,x[C+3+0]=re+se+1>>1,x[C+0+96]=$t($,R,T),x[C+0+64]=$t(R,T,G),x[C+0+32]=x[C+1+96]=$t(T,G,q),x[C+1+32]=x[C+2+96]=$t(G,q,J),x[C+2+32]=x[C+3+96]=$t(q,J,re),x[C+3+32]=$t(J,re,se)}function Yb(x,C){var T=x[C+0-32],R=x[C+1-32],$=x[C+2-32],G=x[C+3-32],q=x[C+4-32],J=x[C+5-32],re=x[C+6-32],se=x[C+7-32];x[C+0+0]=T+R+1>>1,x[C+1+0]=x[C+0+64]=R+$+1>>1,x[C+2+0]=x[C+1+64]=$+G+1>>1,x[C+3+0]=x[C+2+64]=G+q+1>>1,x[C+0+32]=$t(T,R,$),x[C+1+32]=x[C+0+96]=$t(R,$,G),x[C+2+32]=x[C+1+96]=$t($,G,q),x[C+3+32]=x[C+2+96]=$t(G,q,J),x[C+3+64]=$t(q,J,re),x[C+3+96]=$t(J,re,se)}function Xf(x,C){var T=x[C-1+0],R=x[C-1+32],$=x[C-1+64],G=x[C-1+96];x[C+0+0]=T+R+1>>1,x[C+2+0]=x[C+0+32]=R+$+1>>1,x[C+2+32]=x[C+0+64]=$+G+1>>1,x[C+1+0]=$t(T,R,$),x[C+3+0]=x[C+1+32]=$t(R,$,G),x[C+3+32]=x[C+1+64]=$t($,G,G),x[C+3+64]=x[C+2+64]=x[C+0+96]=x[C+1+96]=x[C+2+96]=x[C+3+96]=G}function dp(x,C){var T=x[C-1+0],R=x[C-1+32],$=x[C-1+64],G=x[C-1+96],q=x[C-1-32],J=x[C+0-32],re=x[C+1-32],se=x[C+2-32];x[C+0+0]=x[C+2+32]=T+q+1>>1,x[C+0+32]=x[C+2+64]=R+T+1>>1,x[C+0+64]=x[C+2+96]=$+R+1>>1,x[C+0+96]=G+$+1>>1,x[C+3+0]=$t(J,re,se),x[C+2+0]=$t(q,J,re),x[C+1+0]=x[C+3+32]=$t(T,q,J),x[C+1+32]=x[C+3+64]=$t(R,T,q),x[C+1+64]=x[C+3+96]=$t($,R,T),x[C+1+96]=$t(G,$,R)}function xA(x,C){var T;for(T=0;8>T;++T)n(x,C+32*T,x,C-32,8)}function Jb(x,C){var T;for(T=0;8>T;++T)i(x,C,x[C-1],8),C+=32}function Vl(x,C,T){var R;for(R=0;8>R;++R)i(C,T+32*R,x,8)}function Zb(x,C){var T,R=8;for(T=0;8>T;++T)R+=x[C+T-32]+x[C-1+32*T];Vl(R>>4,x,C)}function hp(x,C){var T,R=4;for(T=0;8>T;++T)R+=x[C+T-32];Vl(R>>3,x,C)}function pp(x,C){var T,R=4;for(T=0;8>T;++T)R+=x[C-1+32*T];Vl(R>>3,x,C)}function qv(x,C){Vl(128,x,C)}function Gl(x,C,T){var R=x[C-T],$=x[C+0],G=3*($-R)+eB[1020+x[C-2*T]-x[C+T]],q=n0[112+(G+4>>3)];x[C-T]=Ao[255+R+n0[112+(G+3>>3)]],x[C+0]=Ao[255+$-q]}function mp(x,C,T,R){var $=x[C+0],G=x[C+T];return Ko[255+x[C-2*T]-x[C-T]]>R||Ko[255+G-$]>R}function Yf(x,C,T,R){return 4*Ko[255+x[C-T]-x[C+0]]+Ko[255+x[C-2*T]-x[C+T]]<=R}function gp(x,C,T,R,$){var G=x[C-3*T],q=x[C-2*T],J=x[C-T],re=x[C+0],se=x[C+T],me=x[C+2*T],Ce=x[C+3*T];return 4*Ko[255+J-re]+Ko[255+q-se]>R?0:Ko[255+x[C-4*T]-G]<=$&&Ko[255+G-q]<=$&&Ko[255+q-J]<=$&&Ko[255+Ce-me]<=$&&Ko[255+me-se]<=$&&Ko[255+se-re]<=$}function bA(x,C,T,R){var $=2*R+1;for(R=0;16>R;++R)Yf(x,C+R,T,$)&&Gl(x,C+R,T)}function vp(x,C,T,R){var $=2*R+1;for(R=0;16>R;++R)Yf(x,C+R*T,1,$)&&Gl(x,C+R*T,1)}function Xv(x,C,T,R){var $;for($=3;0<$;--$)bA(x,C+=4*T,T,R)}function Yv(x,C,T,R){var $;for($=3;0<$;--$)vp(x,C+=4,T,R)}function ql(x,C,T,R,$,G,q,J){for(G=2*G+1;0<$--;){if(gp(x,C,T,G,q))if(mp(x,C,T,J))Gl(x,C,T);else{var re=x,se=C,me=T,Ce=re[se-2*me],le=re[se-me],ve=re[se+0],xe=re[se+me],Te=re[se+2*me],Be=27*(Me=eB[1020+3*(ve-le)+eB[1020+Ce-xe]])+63>>7,Ue=18*Me+63>>7,Me=9*Me+63>>7;re[se-3*me]=Ao[255+re[se-3*me]+Me],re[se-2*me]=Ao[255+Ce+Ue],re[se-me]=Ao[255+le+Be],re[se+0]=Ao[255+ve-Be],re[se+me]=Ao[255+xe-Ue],re[se+2*me]=Ao[255+Te-Me]}C+=R}}function Xl(x,C,T,R,$,G,q,J){for(G=2*G+1;0<$--;){if(gp(x,C,T,G,q))if(mp(x,C,T,J))Gl(x,C,T);else{var re=x,se=C,me=T,Ce=re[se-me],le=re[se+0],ve=re[se+me],xe=n0[112+(4+(Te=3*(le-Ce))>>3)],Te=n0[112+(Te+3>>3)],Be=xe+1>>1;re[se-2*me]=Ao[255+re[se-2*me]+Be],re[se-me]=Ao[255+Ce+Te],re[se+0]=Ao[255+le-xe],re[se+me]=Ao[255+ve-Be]}C+=R}}function Jv(x,C,T,R,$,G){ql(x,C,T,1,16,R,$,G)}function BA(x,C,T,R,$,G){ql(x,C,1,T,16,R,$,G)}function Zv(x,C,T,R,$,G){var q;for(q=3;0<q;--q)Xl(x,C+=4*T,T,1,16,R,$,G)}function _(x,C,T,R,$,G){var q;for(q=3;0<q;--q)Xl(x,C+=4,1,T,16,R,$,G)}function H(x,C,T,R,$,G,q,J){ql(x,C,$,1,8,G,q,J),ql(T,R,$,1,8,G,q,J)}function ue(x,C,T,R,$,G,q,J){ql(x,C,1,$,8,G,q,J),ql(T,R,1,$,8,G,q,J)}function fe(x,C,T,R,$,G,q,J){Xl(x,C+4*$,$,1,8,G,q,J),Xl(T,R+4*$,$,1,8,G,q,J)}function we(x,C,T,R,$,G,q,J){Xl(x,C+4,1,$,8,G,q,J),Xl(T,R+4,1,$,8,G,q,J)}function Re(){this.ba=new it,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new pr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function He(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function pt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Bt(){this.ua=0,this.Wa=new Ee,this.vb=new Ee,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new V,this.yc=new U}function jt(){this.xb=this.a=0,this.l=new Vf,this.ca=new it,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new j,this.Pb=0,this.wd=new j,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Bt,this.ab=0,this.gc=o(4,pt),this.Oc=0}function Gt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Vf,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function fr(x,C,T,R,$,G,q){for(x=x==null?0:x[C+0],C=0;C<q;++C)$[G+C]=x+T[R+C]&255,x=$[G+C]}function cn(x,C,T,R,$,G,q){var J;if(x==null)fr(null,null,T,R,$,G,q);else for(J=0;J<q;++J)$[G+J]=x[C+J]+T[R+J]&255}function Kn(x,C,T,R,$,G,q){if(x==null)fr(null,null,T,R,$,G,q);else{var J,re=x[C+0],se=re,me=re;for(J=0;J<q;++J)se=me+(re=x[C+J])-se,me=T[R+J]+(-256&se?0>se?0:255:se)&255,se=re,$[G+J]=me}}function Mr(x,C,T,R){var $=C.width,G=C.o;if(t(x!=null&&C!=null),0>T||0>=R||T+R>G)return null;if(!x.Cc){if(x.ga==null){var q;if(x.ga=new Gt,(q=x.ga==null)||(q=C.width*C.o,t(x.Gb.length==0),x.Gb=a(q),x.Uc=0,x.Gb==null?q=0:(x.mb=x.Gb,x.nb=x.Uc,x.rc=null,q=1),q=!q),!q){q=x.ga;var J=x.Fa,re=x.P,se=x.qc,me=x.mb,Ce=x.nb,le=re+1,ve=se-1,xe=q.l;if(t(J!=null&&me!=null&&C!=null),fc[0]=null,fc[1]=fr,fc[2]=cn,fc[3]=Kn,q.ca=me,q.tb=Ce,q.c=C.width,q.i=C.height,t(0<q.c&&0<q.i),1>=se)C=0;else if(q.$a=3&J[re+0],q.Z=J[re+0]>>2&3,q.Lc=J[re+0]>>4&3,re=J[re+0]>>6&3,0>q.$a||1<q.$a||4<=q.Z||1<q.Lc||re)C=0;else if(xe.put=je,xe.ac=ke,xe.bc=Ze,xe.ma=q,xe.width=C.width,xe.height=C.height,xe.Da=C.Da,xe.v=C.v,xe.va=C.va,xe.j=C.j,xe.o=C.o,q.$a)e:{t(q.$a==1),C=ea();t:for(;;){if(C==null){C=0;break e}if(t(q!=null),q.mc=C,C.c=q.c,C.i=q.i,C.l=q.l,C.l.ma=q,C.l.width=q.c,C.l.height=q.i,C.a=0,K(C.m,J,le,ve),!Da(q.c,q.i,1,C,null)||(C.ab==1&&C.gc[0].hc==3&&tn(C.s)?(q.ic=1,J=C.c*C.i,C.Ta=null,C.Ua=0,C.V=a(J),C.Ba=0,C.V==null?(C.a=1,C=0):C=1):(q.ic=0,C=Fr(C,q.c)),!C))break t;C=1;break e}q.mc=null,C=0}else C=ve>=q.c*q.i;q=!C}if(q)return null;x.ga.Lc!=1?x.Ga=0:R=G-T}t(x.ga!=null),t(T+R<=G);e:{if(C=(J=x.ga).c,G=J.l.o,J.$a==0){if(le=x.rc,ve=x.Vc,xe=x.Fa,re=x.P+1+T*C,se=x.mb,me=x.nb+T*C,t(re<=x.P+x.qc),J.Z!=0)for(t(fc[J.Z]!=null),q=0;q<R;++q)fc[J.Z](le,ve,xe,re,se,me,C),le=se,ve=me,me+=C,re+=C;else for(q=0;q<R;++q)n(se,me,xe,re,C),le=se,ve=me,me+=C,re+=C;x.rc=le,x.Vc=ve}else{if(t(J.mc!=null),C=T+R,t((q=J.mc)!=null),t(C<=q.i),q.C>=C)C=1;else if(J.ic||ws(),J.ic){J=q.V,le=q.Ba,ve=q.c;var Te=q.i,Be=(xe=1,re=q.$/ve,se=q.$%ve,me=q.m,Ce=q.s,q.$),Ue=ve*Te,Me=ve*C,We=Ce.wc,$e=Be<Me?er(Ce,se,re):null;t(Be<=Ue),t(C<=Te),t(tn(Ce));t:for(;;){for(;!me.h&&Be<Me;){if(se&We||($e=er(Ce,se,re)),t($e!=null),Z(me),256>(Te=tr($e.G[0],$e.H[0],me)))J[le+Be]=Te,++Be,++se>=ve&&(se=0,++re<=C&&!(re%16)&&wn(q,re));else{if(!(280>Te)){xe=0;break t}Te=Tt(Te-256,me);var Ct,lt=tr($e.G[4],$e.H[4],me);if(Z(me),!(Be>=(lt=It(ve,lt=Tt(lt,me)))&&Ue-Be>=Te)){xe=0;break t}for(Ct=0;Ct<Te;++Ct)J[le+Be+Ct]=J[le+Be+Ct-lt];for(Be+=Te,se+=Te;se>=ve;)se-=ve,++re<=C&&!(re%16)&&wn(q,re);Be<Me&&se&We&&($e=er(Ce,se,re))}t(me.h==X(me))}wn(q,re>C?C:re);break t}!xe||me.h&&Be<Ue?(xe=0,q.a=me.h?5:3):q.$=Be,C=xe}else C=kr(q,q.V,q.Ba,q.c,q.i,C,lo);if(!C){R=0;break e}}T+R>=G&&(x.Cc=1),R=1}if(!R)return null;if(x.Cc&&((R=x.ga)!=null&&(R.mc=null),x.ga=null,0<x.Ga))return alert("todo:WebPDequantizeLevels"),null}return x.nb+T*$}function ri(x,C,T,R,$,G){for(;0<$--;){var q,J=x,re=C+(T?1:0),se=x,me=C+(T?0:3);for(q=0;q<R;++q){var Ce=se[me+4*q];Ce!=255&&(Ce*=32897,J[re+4*q+0]=J[re+4*q+0]*Ce>>23,J[re+4*q+1]=J[re+4*q+1]*Ce>>23,J[re+4*q+2]=J[re+4*q+2]*Ce>>23)}C+=G}}function zn(x,C,T,R,$){for(;0<R--;){var G;for(G=0;G<T;++G){var q=x[C+2*G+0],J=15&(se=x[C+2*G+1]),re=4369*J,se=(240&se|se>>4)*re>>16;x[C+2*G+0]=(240&q|q>>4)*re>>16&240|(15&q|q<<4)*re>>16>>4&15,x[C+2*G+1]=240&se|J}C+=$}}function Di(x,C,T,R,$,G,q,J){var re,se,me=255;for(se=0;se<$;++se){for(re=0;re<R;++re){var Ce=x[C+re];G[q+4*re]=Ce,me&=Ce}C+=T,q+=J}return me!=255}function Yl(x,C,T,R,$){var G;for(G=0;G<$;++G)T[R+G]=x[C+G]>>8}function ws(){_p=ri,B_=zn,C_=Di,E_=Yl}function Jl(x,C,T){I[x]=function(R,$,G,q,J,re,se,me,Ce,le,ve,xe,Te,Be,Ue,Me,We){var $e,Ct=We-1>>1,lt=J[re+0]|se[me+0]<<16,Yt=Ce[le+0]|ve[xe+0]<<16;t(R!=null);var gt=3*lt+Yt+131074>>2;for(C(R[$+0],255&gt,gt>>16,Te,Be),G!=null&&(gt=3*Yt+lt+131074>>2,C(G[q+0],255&gt,gt>>16,Ue,Me)),$e=1;$e<=Ct;++$e){var lr=J[re+$e]|se[me+$e]<<16,ii=Ce[le+$e]|ve[xe+$e]<<16,Jt=lt+lr+Yt+ii+524296,vt=Jt+2*(lr+Yt)>>3;gt=vt+lt>>1,lt=(Jt=Jt+2*(lt+ii)>>3)+lr>>1,C(R[$+2*$e-1],255&gt,gt>>16,Te,Be+(2*$e-1)*T),C(R[$+2*$e-0],255&lt,lt>>16,Te,Be+(2*$e-0)*T),G!=null&&(gt=Jt+Yt>>1,lt=vt+ii>>1,C(G[q+2*$e-1],255&gt,gt>>16,Ue,Me+(2*$e-1)*T),C(G[q+2*$e+0],255&lt,lt>>16,Ue,Me+(2*$e+0)*T)),lt=lr,Yt=ii}1&We||(gt=3*lt+Yt+131074>>2,C(R[$+We-1],255&gt,gt>>16,Te,Be+(We-1)*T),G!=null&&(gt=3*Yt+lt+131074>>2,C(G[q+We-1],255&gt,gt>>16,Ue,Me+(We-1)*T)))}}function yp(){zo[i0]=Iq,zo[a0]=U_,zo[k_]=_q,zo[o0]=R_,zo[s0]=D_,zo[tB]=j_,zo[P_]=kq,zo[rB]=U_,zo[nB]=R_,zo[l0]=D_,zo[iB]=j_}function Jf(x){return x&-16384?0>x?0:255:x>>Pq}function rc(x,C){return Jf((19077*x>>8)+(26149*C>>8)-14234)}function CA(x,C,T){return Jf((19077*x>>8)-(6419*C>>8)-(13320*T>>8)+8708)}function EA(x,C){return Jf((19077*x>>8)+(33050*C>>8)-17685)}function nc(x,C,T,R,$){R[$+0]=rc(x,T),R[$+1]=CA(x,C,T),R[$+2]=EA(x,C)}function ji(x,C,T,R,$){R[$+0]=EA(x,C),R[$+1]=CA(x,C,T),R[$+2]=rc(x,T)}function SA(x,C,T,R,$){var G=CA(x,C,T);C=G<<3&224|EA(x,C)>>3,R[$+0]=248&rc(x,T)|G>>5,R[$+1]=C}function NA(x,C,T,R,$){var G=240&EA(x,C)|15;R[$+0]=240&rc(x,T)|CA(x,C,T)>>4,R[$+1]=G}function wp(x,C,T,R,$){R[$+0]=255,nc(x,C,T,R,$+1)}function xp(x,C,T,R,$){ji(x,C,T,R,$),R[$+3]=255}function Ca(x,C,T,R,$){nc(x,C,T,R,$),R[$+3]=255}function Zl(x,C,T){I[x]=function(R,$,G,q,J,re,se,me,Ce){for(var le=me+(-2&Ce)*T;me!=le;)C(R[$+0],G[q+0],J[re+0],se,me),C(R[$+1],G[q+0],J[re+0],se,me+T),$+=2,++q,++re,me+=2*T;1&Ce&&C(R[$+0],G[q+0],J[re+0],se,me)}}function Zf(x,C,T){return T==0?x==0?C==0?6:5:C==0?4:0:T}function e0(x,C,T,R,$){switch(x>>>30){case 3:kA(C,T,R,$,0);break;case 2:Wo(C,T,R,$);break;case 1:yr(C,T,R,$)}}function $o(x,C){var T,R,$=C.M,G=C.Nb,q=x.oc,J=x.pc+40,re=x.oc,se=x.pc+584,me=x.oc,Ce=x.pc+600;for(T=0;16>T;++T)q[J+32*T-1]=129;for(T=0;8>T;++T)re[se+32*T-1]=129,me[Ce+32*T-1]=129;for(0<$?q[J-1-32]=re[se-1-32]=me[Ce-1-32]=129:(i(q,J-32-1,127,21),i(re,se-32-1,127,9),i(me,Ce-32-1,127,9)),R=0;R<x.za;++R){var le=C.ya[C.aa+R];if(0<R){for(T=-1;16>T;++T)n(q,J+32*T-4,q,J+32*T+12,4);for(T=-1;8>T;++T)n(re,se+32*T-4,re,se+32*T+4,4),n(me,Ce+32*T-4,me,Ce+32*T+4,4)}var ve=x.Gd,xe=x.Hd+R,Te=le.ad,Be=le.Hc;if(0<$&&(n(q,J-32,ve[xe].y,0,16),n(re,se-32,ve[xe].f,0,8),n(me,Ce-32,ve[xe].ea,0,8)),le.Za){var Ue=q,Me=J-32+16;for(0<$&&(R>=x.za-1?i(Ue,Me,ve[xe].y[15],4):n(Ue,Me,ve[xe+1].y,0,4)),T=0;4>T;T++)Ue[Me+128+T]=Ue[Me+256+T]=Ue[Me+384+T]=Ue[Me+0+T];for(T=0;16>T;++T,Be<<=2)Ue=q,Me=J+Q_[T],xs[le.Ob[T]](Ue,Me),e0(Be,Te,16*+T,Ue,Me)}else if(Ue=Zf(R,$,le.Ob[0]),Ac[Ue](q,J),Be!=0)for(T=0;16>T;++T,Be<<=2)e0(Be,Te,16*+T,q,J+Q_[T]);for(T=le.Gc,Ue=Zf(R,$,le.Dd),ru[Ue](re,se),ru[Ue](me,Ce),Be=Te,Ue=re,Me=se,255&(le=0|T)&&(170&le?sl(Be,256,Ue,Me):Pr(Be,256,Ue,Me)),le=me,Be=Ce,255&(T>>=8)&&(170&T?sl(Te,320,le,Be):Pr(Te,320,le,Be)),$<x.Ub-1&&(n(ve[xe].y,0,q,J+480,16),n(ve[xe].f,0,re,se+224,8),n(ve[xe].ea,0,me,Ce+224,8)),T=8*G*x.B,ve=x.sa,xe=x.ta+16*R+16*G*x.R,Te=x.qa,le=x.ra+8*R+T,Be=x.Ha,Ue=x.Ia+8*R+T,T=0;16>T;++T)n(ve,xe+T*x.R,q,J+32*T,16);for(T=0;8>T;++T)n(Te,le+T*x.B,re,se+32*T,8),n(Be,Ue+T*x.B,me,Ce+32*T,8)}}function FA(x,C,T,R,$,G,q,J,re){var se=[0],me=[0],Ce=0,le=re!=null?re.kd:0,ve=re??new He;if(x==null||12>T)return 7;ve.data=x,ve.w=C,ve.ha=T,C=[C],T=[T],ve.gb=[ve.gb];e:{var xe=C,Te=T,Be=ve.gb;if(t(x!=null),t(Te!=null),t(Be!=null),Be[0]=0,12<=Te[0]&&!r(x,xe[0],"RIFF")){if(r(x,xe[0]+8,"WEBP")){Be=3;break e}var Ue=De(x,xe[0]+4);if(12>Ue||4294967286<Ue){Be=3;break e}if(le&&Ue>Te[0]-8){Be=7;break e}Be[0]=Ue,xe[0]+=12,Te[0]-=12}Be=0}if(Be!=0)return Be;for(Ue=0<ve.gb[0],T=T[0];;){e:{var Me=x;Te=C,Be=T;var We=se,$e=me,Ct=xe=[0];if((gt=Ce=[Ce])[0]=0,8>Be[0])Be=7;else{if(!r(Me,Te[0],"VP8X")){if(De(Me,Te[0]+4)!=10){Be=3;break e}if(18>Be[0]){Be=7;break e}var lt=De(Me,Te[0]+8),Yt=1+Ie(Me,Te[0]+12);if(2147483648<=Yt*(Me=1+Ie(Me,Te[0]+15))){Be=3;break e}Ct!=null&&(Ct[0]=lt),We!=null&&(We[0]=Yt),$e!=null&&($e[0]=Me),Te[0]+=18,Be[0]-=18,gt[0]=1}Be=0}}if(Ce=Ce[0],xe=xe[0],Be!=0)return Be;if(Te=!!(2&xe),!Ue&&Ce)return 3;if(G!=null&&(G[0]=!!(16&xe)),q!=null&&(q[0]=Te),J!=null&&(J[0]=0),q=se[0],xe=me[0],Ce&&Te&&re==null){Be=0;break}if(4>T){Be=7;break}if(Ue&&Ce||!Ue&&!Ce&&!r(x,C[0],"ALPH")){T=[T],ve.na=[ve.na],ve.P=[ve.P],ve.Sa=[ve.Sa];e:{lt=x,Be=C,Ue=T;var gt=ve.gb;We=ve.na,$e=ve.P,Ct=ve.Sa,Yt=22,t(lt!=null),t(Ue!=null),Me=Be[0];var lr=Ue[0];for(t(We!=null),t(Ct!=null),We[0]=null,$e[0]=null,Ct[0]=0;;){if(Be[0]=Me,Ue[0]=lr,8>lr){Be=7;break e}var ii=De(lt,Me+4);if(4294967286<ii){Be=3;break e}var Jt=8+ii+1&-2;if(Yt+=Jt,0<gt&&Yt>gt){Be=3;break e}if(!r(lt,Me,"VP8 ")||!r(lt,Me,"VP8L")){Be=0;break e}if(lr[0]<Jt){Be=7;break e}r(lt,Me,"ALPH")||(We[0]=lt,$e[0]=Me+8,Ct[0]=ii),Me+=Jt,lr-=Jt}}if(T=T[0],ve.na=ve.na[0],ve.P=ve.P[0],ve.Sa=ve.Sa[0],Be!=0)break}T=[T],ve.Ja=[ve.Ja],ve.xa=[ve.xa];e:if(gt=x,Be=C,Ue=T,We=ve.gb[0],$e=ve.Ja,Ct=ve.xa,lt=Be[0],Me=!r(gt,lt,"VP8 "),Yt=!r(gt,lt,"VP8L"),t(gt!=null),t(Ue!=null),t($e!=null),t(Ct!=null),8>Ue[0])Be=7;else{if(Me||Yt){if(gt=De(gt,lt+4),12<=We&&gt>We-12){Be=3;break e}if(le&&gt>Ue[0]-8){Be=7;break e}$e[0]=gt,Be[0]+=8,Ue[0]-=8,Ct[0]=Yt}else Ct[0]=5<=Ue[0]&&gt[lt+0]==47&&!(gt[lt+4]>>5),$e[0]=Ue[0];Be=0}if(T=T[0],ve.Ja=ve.Ja[0],ve.xa=ve.xa[0],C=C[0],Be!=0)break;if(4294967286<ve.Ja)return 3;if(J==null||Te||(J[0]=ve.xa?2:1),q=[q],xe=[xe],ve.xa){if(5>T){Be=7;break}J=q,le=xe,Te=G,x==null||5>T?x=0:5<=T&&x[C+0]==47&&!(x[C+4]>>5)?(Ue=[0],gt=[0],We=[0],K($e=new j,x,C,T),ht($e,Ue,gt,We)?(J!=null&&(J[0]=Ue[0]),le!=null&&(le[0]=gt[0]),Te!=null&&(Te[0]=We[0]),x=1):x=0):x=0}else{if(10>T){Be=7;break}J=xe,x==null||10>T||!$v(x,C+3,T-3)?x=0:(le=x[C+0]|x[C+1]<<8|x[C+2]<<16,Te=16383&(x[C+7]<<8|x[C+6]),x=16383&(x[C+9]<<8|x[C+8]),1&le||3<(le>>1&7)||!(le>>4&1)||le>>5>=ve.Ja||!Te||!x?x=0:(q&&(q[0]=Te),J&&(J[0]=x),x=1))}if(!x||(q=q[0],xe=xe[0],Ce&&(se[0]!=q||me[0]!=xe)))return 3;re!=null&&(re[0]=ve,re.offset=C-re.w,t(4294967286>C-re.w),t(re.offset==re.ha-T));break}return Be==0||Be==7&&Ce&&re==null?(G!=null&&(G[0]|=ve.na!=null&&0<ve.na.length),R!=null&&(R[0]=q),$!=null&&($[0]=xe),0):Be}function bp(x,C,T){var R=C.width,$=C.height,G=0,q=0,J=R,re=$;if(C.Da=x!=null&&0<x.Da,C.Da&&(J=x.cd,re=x.bd,G=x.v,q=x.j,11>T||(G&=-2,q&=-2),0>G||0>q||0>=J||0>=re||G+J>R||q+re>$))return 0;if(C.v=G,C.j=q,C.va=G+J,C.o=q+re,C.U=J,C.T=re,C.da=x!=null&&0<x.da,C.da){if(!Pe(J,re,T=[x.ib],G=[x.hb]))return 0;C.ib=T[0],C.hb=G[0]}return C.ob=x!=null&&x.ob,C.Kb=x==null||!x.Sd,C.da&&(C.ob=C.ib<3*R/4&&C.hb<3*$/4,C.Kb=0),1}function Bp(x){if(x==null)return 2;if(11>x.S){var C=x.f.RGBA;C.fb+=(x.height-1)*C.A,C.A=-C.A}else C=x.f.kb,x=x.height,C.O+=(x-1)*C.fa,C.fa=-C.fa,C.N+=(x-1>>1)*C.Ab,C.Ab=-C.Ab,C.W+=(x-1>>1)*C.Db,C.Db=-C.Db,C.F!=null&&(C.J+=(x-1)*C.lb,C.lb=-C.lb);return 0}function ic(x,C,T,R){if(R==null||0>=x||0>=C)return 2;if(T!=null){if(T.Da){var $=T.cd,G=T.bd,q=-2&T.v,J=-2&T.j;if(0>q||0>J||0>=$||0>=G||q+$>x||J+G>C)return 2;x=$,C=G}if(T.da){if(!Pe(x,C,$=[T.ib],G=[T.hb]))return 2;x=$[0],C=G[0]}}R.width=x,R.height=C;e:{var re=R.width,se=R.height;if(x=R.S,0>=re||0>=se||!(x>=i0&&13>x))x=2;else{if(0>=R.Rd&&R.sd==null){q=G=$=C=0;var me=(J=re*H_[x])*se;if(11>x||(G=(se+1)/2*(C=(re+1)/2),x==12&&(q=($=re)*se)),(se=a(me+2*G+q))==null){x=1;break e}R.sd=se,11>x?((re=R.f.RGBA).eb=se,re.fb=0,re.A=J,re.size=me):((re=R.f.kb).y=se,re.O=0,re.fa=J,re.Fd=me,re.f=se,re.N=0+me,re.Ab=C,re.Cd=G,re.ea=se,re.W=0+me+G,re.Db=C,re.Ed=G,x==12&&(re.F=se,re.J=0+me+2*G),re.Tc=q,re.lb=$)}if(C=1,$=R.S,G=R.width,q=R.height,$>=i0&&13>$)if(11>$)x=R.f.RGBA,C&=(J=Math.abs(x.A))*(q-1)+G<=x.size,C&=J>=G*H_[$],C&=x.eb!=null;else{x=R.f.kb,J=(G+1)/2,me=(q+1)/2,re=Math.abs(x.fa),se=Math.abs(x.Ab);var Ce=Math.abs(x.Db),le=Math.abs(x.lb),ve=le*(q-1)+G;C&=re*(q-1)+G<=x.Fd,C&=se*(me-1)+J<=x.Cd,C=(C&=Ce*(me-1)+J<=x.Ed)&re>=G&se>=J&Ce>=J,C&=x.y!=null,C&=x.f!=null,C&=x.ea!=null,$==12&&(C&=le>=G,C&=ve<=x.Tc,C&=x.F!=null)}else C=0;x=C?0:2}}return x!=0||T!=null&&T.fd&&(x=Bp(R)),x}var IA=64,uo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],co=24,ac=32,eu=8,oc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ve("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(x){return x},I.Predictor2=function(x,C,T){return C[T+0]},I.Predictor3=function(x,C,T){return C[T+1]},I.Predictor4=function(x,C,T){return C[T-1]},I.Predictor5=function(x,C,T){return et(et(x,C[T+1]),C[T+0])},I.Predictor6=function(x,C,T){return et(x,C[T-1])},I.Predictor7=function(x,C,T){return et(x,C[T+0])},I.Predictor8=function(x,C,T){return et(C[T-1],C[T+0])},I.Predictor9=function(x,C,T){return et(C[T+0],C[T+1])},I.Predictor10=function(x,C,T){return et(et(x,C[T-1]),et(C[T+0],C[T+1]))},I.Predictor11=function(x,C,T){var R=C[T+0];return 0>=St(R>>24&255,x>>24&255,(C=C[T-1])>>24&255)+St(R>>16&255,x>>16&255,C>>16&255)+St(R>>8&255,x>>8&255,C>>8&255)+St(255&R,255&x,255&C)?R:x},I.Predictor12=function(x,C,T){var R=C[T+0];return(Ge((x>>24&255)+(R>>24&255)-((C=C[T-1])>>24&255))<<24|Ge((x>>16&255)+(R>>16&255)-(C>>16&255))<<16|Ge((x>>8&255)+(R>>8&255)-(C>>8&255))<<8|Ge((255&x)+(255&R)-(255&C)))>>>0},I.Predictor13=function(x,C,T){var R=C[T-1];return(Nt((x=et(x,C[T+0]))>>24&255,R>>24&255)<<24|Nt(x>>16&255,R>>16&255)<<16|Nt(x>>8&255,R>>8&255)<<8|Nt(255&x,255&R))>>>0};var Cp=I.PredictorAdd0;I.PredictorAdd1=Ot,Ve("Predictor2","PredictorAdd2"),Ve("Predictor3","PredictorAdd3"),Ve("Predictor4","PredictorAdd4"),Ve("Predictor5","PredictorAdd5"),Ve("Predictor6","PredictorAdd6"),Ve("Predictor7","PredictorAdd7"),Ve("Predictor8","PredictorAdd8"),Ve("Predictor9","PredictorAdd9"),Ve("Predictor10","PredictorAdd10"),Ve("Predictor11","PredictorAdd11"),Ve("Predictor12","PredictorAdd12"),Ve("Predictor13","PredictorAdd13");var ed=I.PredictorAdd2;ct("ColorIndexInverseTransform","MapARGB","32b",function(x){return x>>8&255},function(x){return x}),ct("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(x){return x},function(x){return x>>8&255});var Nn,t0=I.ColorIndexInverseTransform,al=I.MapARGB,ol=I.VP8LColorIndexInverseTransformAlpha,Ep=I.MapAlpha,Sp=I.VP8LPredictorsAdd=[];Sp.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var Np,Fp,sc,lc,uc,_A,cc,kA,Wo,sl,yr,Pr,Fn,ni,tu,Ip,td,r0,g_,v_,y_,w_,x_,b_,_p,B_,C_,E_,S_=a(511),N_=a(2041),F_=a(225),I_=a(767),__=0,eB=N_,n0=F_,Ao=I_,Ko=S_,i0=0,a0=1,k_=2,o0=3,s0=4,tB=5,P_=6,rB=7,nB=8,l0=9,iB=10,pq=[2,3,7],mq=[3,3,11],O_=[280,256,256,256,40],gq=[0,1,1,1,0],vq=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],yq=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],wq=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],xq=8,aB=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],oB=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],kp=null,bq=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Bq=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],T_=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Cq=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Eq=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Sq=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Nq=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ac=[],xs=[],ru=[],Fq=1,L_=2,fc=[],zo=[];Jl("UpsampleRgbLinePair",nc,3),Jl("UpsampleBgrLinePair",ji,3),Jl("UpsampleRgbaLinePair",Ca,4),Jl("UpsampleBgraLinePair",xp,4),Jl("UpsampleArgbLinePair",wp,4),Jl("UpsampleRgba4444LinePair",NA,2),Jl("UpsampleRgb565LinePair",SA,2);var Iq=I.UpsampleRgbLinePair,_q=I.UpsampleBgrLinePair,U_=I.UpsampleRgbaLinePair,R_=I.UpsampleBgraLinePair,D_=I.UpsampleArgbLinePair,j_=I.UpsampleRgba4444LinePair,kq=I.UpsampleRgb565LinePair,u0=16,c0=1<<u0-1,Pp=-227,sB=482,Pq=6,M_=0,Oq=a(256),Tq=a(256),Lq=a(256),Uq=a(256),Rq=a(sB-Pp),Dq=a(sB-Pp);Zl("YuvToRgbRow",nc,3),Zl("YuvToBgrRow",ji,3),Zl("YuvToRgbaRow",Ca,4),Zl("YuvToBgraRow",xp,4),Zl("YuvToArgbRow",wp,4),Zl("YuvToRgba4444Row",NA,2),Zl("YuvToRgb565Row",SA,2);var Q_=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],A0=[0,2,8],jq=[8,7,6,4,4,2,2,2,1,1,1,1],Mq=1;this.WebPDecodeRGBA=function(x,C,T,R,$){var G=a0,q=new Re,J=new it;q.ba=J,J.S=G,J.width=[J.width],J.height=[J.height];var re=J.width,se=J.height,me=new Pt;if(me==null||x==null)var Ce=2;else t(me!=null),Ce=FA(x,C,T,me.width,me.height,me.Pd,me.Qd,me.format,null);if(Ce!=0?re=0:(re!=null&&(re[0]=me.width[0]),se!=null&&(se[0]=me.height[0]),re=1),re){J.width=J.width[0],J.height=J.height[0],R!=null&&(R[0]=J.width),$!=null&&($[0]=J.height);e:{if(R=new Vf,($=new He).data=x,$.w=C,$.ha=T,$.kd=1,C=[0],t($!=null),((x=FA($.data,$.w,$.ha,null,null,null,C,null,$))==0||x==7)&&C[0]&&(x=4),(C=x)==0){if(t(q!=null),R.data=$.data,R.w=$.w+$.offset,R.ha=$.ha-$.offset,R.put=je,R.ac=ke,R.bc=Ze,R.ma=q,$.xa){if((x=ea())==null){q=1;break e}if(function(le,ve){var xe=[0],Te=[0],Be=[0];t:for(;;){if(le==null)return 0;if(ve==null)return le.a=2,0;if(le.l=ve,le.a=0,K(le.m,ve.data,ve.w,ve.ha),!ht(le.m,xe,Te,Be)){le.a=3;break t}if(le.xb=L_,ve.width=xe[0],ve.height=Te[0],!Da(xe[0],Te[0],1,le,null))break t;return 1}return t(le.a!=0),0}(x,R)){if(R=(C=ic(R.width,R.height,q.Oa,q.ba))==0){t:{R=x;r:for(;;){if(R==null){R=0;break t}if(t(R.s.yc!=null),t(R.s.Ya!=null),t(0<R.s.Wb),t((T=R.l)!=null),t(($=T.ma)!=null),R.xb!=0){if(R.ca=$.ba,R.tb=$.tb,t(R.ca!=null),!bp($.Oa,T,o0)){R.a=2;break r}if(!Fr(R,T.width)||T.da)break r;if((T.da||kt(R.ca.S))&&ws(),11>R.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),R.ca.f.kb.F!=null&&ws()),R.Pb&&0<R.s.ua&&R.s.vb.X==null&&!Y(R.s.vb,R.s.Wa.Xa)){R.a=1;break r}R.xb=0}if(!kr(R,R.V,R.Ba,R.c,R.i,T.o,Zn))break r;$.Dc=R.Ma,R=1;break t}t(R.a!=0),R=0}R=!R}R&&(C=x.a)}else C=x.a}else{if((x=new jb)==null){q=1;break e}if(x.Fa=$.na,x.P=$.P,x.qc=$.Sa,nl(x,R)){if((C=ic(R.width,R.height,q.Oa,q.ba))==0){if(x.Aa=0,T=q.Oa,t(($=x)!=null),T!=null){if(0<(re=0>(re=T.Md)?0:100<re?255:255*re/100)){for(se=me=0;4>se;++se)12>(Ce=$.pb[se]).lc&&(Ce.ia=re*jq[0>Ce.lc?0:Ce.lc]>>3),me|=Ce.ia;me&&(alert("todo:VP8InitRandom"),$.ia=1)}$.Ga=T.Id,100<$.Ga?$.Ga=100:0>$.Ga&&($.Ga=0)}(function(le,ve){if(le==null)return 0;if(ve==null)return Wn(le,2,"NULL VP8Io parameter in VP8Decode().");if(!le.cb&&!nl(le,ve))return 0;if(t(le.cb),ve.ac==null||ve.ac(ve)){ve.ob&&(le.L=0);var xe=A0[le.L];if(le.L==2?(le.yb=0,le.zb=0):(le.yb=ve.v-xe>>4,le.zb=ve.j-xe>>4,0>le.yb&&(le.yb=0),0>le.zb&&(le.zb=0)),le.Va=ve.o+15+xe>>4,le.Hb=ve.va+15+xe>>4,le.Hb>le.za&&(le.Hb=le.za),le.Va>le.Ub&&(le.Va=le.Ub),0<le.L){var Te=le.ed;for(xe=0;4>xe;++xe){var Be;if(le.Qa.Cb){var Ue=le.Qa.Lb[xe];le.Qa.Fb||(Ue+=Te.Tb)}else Ue=Te.Tb;for(Be=0;1>=Be;++Be){var Me=le.gd[xe][Be],We=Ue;if(Te.Pc&&(We+=Te.vd[0],Be&&(We+=Te.od[0])),0<(We=0>We?0:63<We?63:We)){var $e=We;0<Te.wb&&($e=4<Te.wb?$e>>2:$e>>1)>9-Te.wb&&($e=9-Te.wb),1>$e&&($e=1),Me.dd=$e,Me.tc=2*We+$e,Me.ld=40<=We?2:15<=We?1:0}else Me.tc=0;Me.La=Be}}}xe=0}else Wn(le,6,"Frame setup failed"),xe=le.a;if(xe=xe==0){if(xe){le.$c=0,0<le.Aa||(le.Ic=Mq);t:{xe=le.Ic,Te=4*($e=le.za);var Ct=32*$e,lt=$e+1,Yt=0<le.L?$e*(0<le.Aa?2:1):0,gt=(le.Aa==2?2:1)*$e;if((Me=Te+832+(Be=3*(16*xe+A0[le.L])/2*Ct)+(Ue=le.Fa!=null&&0<le.Fa.length?le.Kc.c*le.Kc.i:0))!=Me)xe=0;else{if(Me>le.Vb){if(le.Vb=0,le.Ec=a(Me),le.Fc=0,le.Ec==null){xe=Wn(le,1,"no memory during frame initialization.");break t}le.Vb=Me}Me=le.Ec,We=le.Fc,le.Ac=Me,le.Bc=We,We+=Te,le.Gd=o(Ct,Qv),le.Hd=0,le.rb=o(lt+1,Qo),le.sb=1,le.wa=Yt?o(Yt,ei):null,le.Y=0,le.D.Nb=0,le.D.wa=le.wa,le.D.Y=le.Y,0<le.Aa&&(le.D.Y+=$e),t(!0),le.oc=Me,le.pc=We,We+=832,le.ya=o(gt,cp),le.aa=0,le.D.ya=le.ya,le.D.aa=le.aa,le.Aa==2&&(le.D.aa+=$e),le.R=16*$e,le.B=8*$e,$e=(Ct=A0[le.L])*le.R,Ct=Ct/2*le.B,le.sa=Me,le.ta=We+$e,le.qa=le.sa,le.ra=le.ta+16*xe*le.R+Ct,le.Ha=le.qa,le.Ia=le.ra+8*xe*le.B+Ct,le.$c=0,We+=Be,le.mb=Ue?Me:null,le.nb=Ue?We:null,t(We+Ue<=le.Fc+le.Vb),Wv(le),i(le.Ac,le.Bc,0,Te),xe=1}}if(xe){if(ve.ka=0,ve.y=le.sa,ve.O=le.ta,ve.f=le.qa,ve.N=le.ra,ve.ea=le.Ha,ve.Vd=le.Ia,ve.fa=le.R,ve.Rc=le.B,ve.F=null,ve.J=0,!__){for(xe=-255;255>=xe;++xe)S_[255+xe]=0>xe?-xe:xe;for(xe=-1020;1020>=xe;++xe)N_[1020+xe]=-128>xe?-128:127<xe?127:xe;for(xe=-112;112>=xe;++xe)F_[112+xe]=-16>xe?-16:15<xe?15:xe;for(xe=-255;510>=xe;++xe)I_[255+xe]=0>xe?0:255<xe?255:xe;__=1}cc=qf,kA=Qb,sl=il,yr=zv,Pr=Vv,Wo=Mb,Fn=Jv,ni=BA,tu=H,Ip=ue,td=Zv,r0=_,g_=fe,v_=we,y_=bA,w_=vp,x_=Xv,b_=Yv,xs[0]=qb,xs[1]=Hb,xs[2]=Vb,xs[3]=Gb,xs[4]=Kl,xs[5]=Xb,xs[6]=zl,xs[7]=Yb,xs[8]=dp,xs[9]=Xf,Ac[0]=Kb,Ac[1]=Wb,Ac[2]=Ap,Ac[3]=Gv,Ac[4]=wA,Ac[5]=fp,Ac[6]=zb,ru[0]=Zb,ru[1]=$b,ru[2]=xA,ru[3]=Jb,ru[4]=pp,ru[5]=hp,ru[6]=qv,xe=1}else xe=0}xe&&(xe=function(lr,ii){for(lr.M=0;lr.M<lr.Va;++lr.M){var Jt,vt=lr.Jc[lr.M&lr.Xb],qe=lr.m,In=lr;for(Jt=0;Jt<In.za;++Jt){var Vt=qe,cr=In,qr=cr.Ac,Mi=cr.Bc+4*Jt,Ea=cr.zc,xn=cr.ya[cr.aa+Jt];if(cr.Qa.Bb?xn.$b=pe(Vt,cr.Pa.jb[0])?2+pe(Vt,cr.Pa.jb[2]):pe(Vt,cr.Pa.jb[1]):xn.$b=0,cr.kc&&(xn.Ad=pe(Vt,cr.Bd)),xn.Za=!pe(Vt,145)+0,xn.Za){var ta=xn.Ob,Sa=0;for(cr=0;4>cr;++cr){var ai,dr=Ea[0+cr];for(ai=0;4>ai;++ai){dr=Eq[qr[Mi+ai]][dr];for(var br=T_[pe(Vt,dr[0])];0<br;)br=T_[2*br+pe(Vt,dr[br])];dr=-br,qr[Mi+ai]=dr}n(ta,Sa,qr,Mi,4),Sa+=4,Ea[0+cr]=dr}}else dr=pe(Vt,156)?pe(Vt,128)?1:3:pe(Vt,163)?2:0,xn.Ob[0]=dr,i(qr,Mi,dr,4),i(Ea,0,dr,4);xn.Dd=pe(Vt,142)?pe(Vt,114)?pe(Vt,183)?1:3:2:0}if(In.m.Ka)return Wn(lr,7,"Premature end-of-partition0 encountered.");for(;lr.ja<lr.za;++lr.ja){if(In=vt,Vt=(qe=lr).rb[qe.sb-1],qr=qe.rb[qe.sb+qe.ja],Jt=qe.ya[qe.aa+qe.ja],Mi=qe.kc?Jt.Ad:0)Vt.la=qr.la=0,Jt.Za||(Vt.Na=qr.Na=0),Jt.Hc=0,Jt.Gc=0,Jt.ia=0;else{var bn,Br;if(Vt=qr,qr=In,Mi=qe.Pa.Xc,Ea=qe.ya[qe.aa+qe.ja],xn=qe.pb[Ea.$b],cr=Ea.ad,ta=0,Sa=qe.rb[qe.sb-1],dr=ai=0,i(cr,ta,0,384),Ea.Za)var Qi=0,bs=Mi[3];else{br=a(16);var _n=Vt.Na+Sa.Na;if(_n=kp(qr,Mi[1],_n,xn.Eb,0,br,0),Vt.Na=Sa.Na=(0<_n)+0,1<_n)cc(br,0,cr,ta);else{var ja=br[0]+3>>3;for(br=0;256>br;br+=16)cr[ta+br]=ja}Qi=1,bs=Mi[0]}var Or=15&Vt.la,oi=15&Sa.la;for(br=0;4>br;++br){var fo=1&oi;for(ja=Br=0;4>ja;++ja)Or=Or>>1|(fo=(_n=kp(qr,bs,_n=fo+(1&Or),xn.Sc,Qi,cr,ta))>Qi)<<7,Br=Br<<2|(3<_n?3:1<_n?2:cr[ta+0]!=0),ta+=16;Or>>=4,oi=oi>>1|fo<<7,ai=(ai<<8|Br)>>>0}for(bs=Or,Qi=oi>>4,bn=0;4>bn;bn+=2){for(Br=0,Or=Vt.la>>4+bn,oi=Sa.la>>4+bn,br=0;2>br;++br){for(fo=1&oi,ja=0;2>ja;++ja)_n=fo+(1&Or),Or=Or>>1|(fo=0<(_n=kp(qr,Mi[2],_n,xn.Qc,0,cr,ta)))<<3,Br=Br<<2|(3<_n?3:1<_n?2:cr[ta+0]!=0),ta+=16;Or>>=2,oi=oi>>1|fo<<5}dr|=Br<<4*bn,bs|=Or<<4<<bn,Qi|=(240&oi)<<bn}Vt.la=bs,Sa.la=Qi,Ea.Hc=ai,Ea.Gc=dr,Ea.ia=43690&dr?0:xn.ia,Mi=!(ai|dr)}if(0<qe.L&&(qe.wa[qe.Y+qe.ja]=qe.gd[Jt.$b][Jt.Za],qe.wa[qe.Y+qe.ja].La|=!Mi),In.Ka)return Wn(lr,7,"Premature end-of-file encountered.")}if(Wv(lr),qe=ii,In=1,Jt=(vt=lr).D,Vt=0<vt.L&&vt.M>=vt.zb&&vt.M<=vt.Va,vt.Aa==0)t:{if(Jt.M=vt.M,Jt.uc=Vt,$o(vt,Jt),In=1,Jt=(Br=vt.D).Nb,Vt=(dr=A0[vt.L])*vt.R,qr=dr/2*vt.B,br=16*Jt*vt.R,ja=8*Jt*vt.B,Mi=vt.sa,Ea=vt.ta-Vt+br,xn=vt.qa,cr=vt.ra-qr+ja,ta=vt.Ha,Sa=vt.Ia-qr+ja,oi=(Or=Br.M)==0,ai=Or>=vt.Va-1,vt.Aa==2&&$o(vt,Br),Br.uc)for(fo=(_n=vt).D.M,t(_n.D.uc),Br=_n.yb;Br<_n.Hb;++Br){Qi=Br,bs=fo;var Na=(ho=(Hi=_n).D).Nb;bn=Hi.R;var ho=ho.wa[ho.Y+Qi],po=Hi.sa,Ma=Hi.ta+16*Na*bn+16*Qi,mo=ho.dd,Qr=ho.tc;if(Qr!=0)if(t(3<=Qr),Hi.L==1)0<Qi&&w_(po,Ma,bn,Qr+4),ho.La&&b_(po,Ma,bn,Qr),0<bs&&y_(po,Ma,bn,Qr+4),ho.La&&x_(po,Ma,bn,Qr);else{var go=Hi.B,Bs=Hi.qa,PA=Hi.ra+8*Na*go+8*Qi,nu=Hi.Ha,Hi=Hi.Ia+8*Na*go+8*Qi;Na=ho.ld,0<Qi&&(ni(po,Ma,bn,Qr+4,mo,Na),Ip(Bs,PA,nu,Hi,go,Qr+4,mo,Na)),ho.La&&(r0(po,Ma,bn,Qr,mo,Na),v_(Bs,PA,nu,Hi,go,Qr,mo,Na)),0<bs&&(Fn(po,Ma,bn,Qr+4,mo,Na),tu(Bs,PA,nu,Hi,go,Qr+4,mo,Na)),ho.La&&(td(po,Ma,bn,Qr,mo,Na),g_(Bs,PA,nu,Hi,go,Qr,mo,Na))}}if(vt.ia&&alert("todo:DitherRow"),qe.put!=null){if(Br=16*Or,Or=16*(Or+1),oi?(qe.y=vt.sa,qe.O=vt.ta+br,qe.f=vt.qa,qe.N=vt.ra+ja,qe.ea=vt.Ha,qe.W=vt.Ia+ja):(Br-=dr,qe.y=Mi,qe.O=Ea,qe.f=xn,qe.N=cr,qe.ea=ta,qe.W=Sa),ai||(Or-=dr),Or>qe.o&&(Or=qe.o),qe.F=null,qe.J=null,vt.Fa!=null&&0<vt.Fa.length&&Br<Or&&(qe.J=Mr(vt,qe,Br,Or-Br),qe.F=vt.mb,qe.F==null&&qe.F.length==0)){In=Wn(vt,3,"Could not decode alpha data.");break t}Br<qe.j&&(dr=qe.j-Br,Br=qe.j,t(!(1&dr)),qe.O+=vt.R*dr,qe.N+=vt.B*(dr>>1),qe.W+=vt.B*(dr>>1),qe.F!=null&&(qe.J+=qe.width*dr)),Br<Or&&(qe.O+=qe.v,qe.N+=qe.v>>1,qe.W+=qe.v>>1,qe.F!=null&&(qe.J+=qe.v),qe.ka=Br-qe.j,qe.U=qe.va-qe.v,qe.T=Or-Br,In=qe.put(qe))}Jt+1!=vt.Ic||ai||(n(vt.sa,vt.ta-Vt,Mi,Ea+16*vt.R,Vt),n(vt.qa,vt.ra-qr,xn,cr+8*vt.B,qr),n(vt.Ha,vt.Ia-qr,ta,Sa+8*vt.B,qr))}if(!In)return Wn(lr,6,"Output aborted.")}return 1}(le,ve)),ve.bc!=null&&ve.bc(ve),xe&=1}return xe?(le.cb=0,xe):0})(x,R)||(C=x.a)}}else C=x.a}C==0&&q.Oa!=null&&q.Oa.fd&&(C=Bp(q.ba))}q=C}G=q!=0?null:11>G?J.f.RGBA.eb:J.f.kb.y}else G=null;return G};var H_=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(I,O){for(var F="",N=0;N<4;N++)F+=String.fromCharCode(I[O++]);return F}function c(I,O){return I[O+0]|I[O+1]<<8}function A(I,O){return(I[O+0]|I[O+1]<<8|I[O+2]<<16)>>>0}function d(I,O){return(I[O+0]|I[O+1]<<8|I[O+2]<<16|I[O+3]<<24)>>>0}new l;var f=[0],p=[0],g=[],v=new l,m=e,y=function(I,O){var F={},N=0,U=!1,M=0,V=0;if(F.frames=[],!function(L,j){for(var z=0;z<4;z++)if(L[j+z]!="RIFF".charCodeAt(z))return!0;return!1}(I,O)){for(d(I,O+=4),O+=8;O<I.length;){var Q=u(I,O),W=d(I,O+=4);O+=4;var D=W+(1&W);switch(Q){case"VP8 ":case"VP8L":F.frames[N]===void 0&&(F.frames[N]={}),(ee=F.frames[N]).src_off=U?V:O-8,ee.src_size=M+W+8,N++,U&&(U=!1,M=0,V=0);break;case"VP8X":(ee=F.header={}).feature_flags=I[O];var K=O+4;ee.canvas_width=1+A(I,K),K+=3,ee.canvas_height=1+A(I,K),K+=3;break;case"ALPH":U=!0,M=D+8,V=O-8;break;case"ANIM":(ee=F.header).bgcolor=d(I,O),K=O+4,ee.loop_count=c(I,K),K+=2;break;case"ANMF":var ie,ee;(ee=F.frames[N]={}).offset_x=2*A(I,O),O+=3,ee.offset_y=2*A(I,O),O+=3,ee.width=1+A(I,O),O+=3,ee.height=1+A(I,O),O+=3,ee.duration=A(I,O),O+=3,ie=I[O++],ee.dispose=1&ie,ee.blend=ie>>1&1}Q!="ANMF"&&(O+=D)}return F}}(m,0);y.response=m,y.rgbaoutput=!0,y.dataurl=!1;var w=y.header?y.header:null,b=y.frames?y.frames:null;if(w){w.loop_counter=w.loop_count,f=[w.canvas_height],p=[w.canvas_width];for(var B=0;B<b.length&&b[B].blend!=0;B++);}var S=b[0],P=v.WebPDecodeRGBA(m,S.src_off,S.src_size,p,f);S.rgba=P,S.imgwidth=p[0],S.imgheight=f[0];for(var k=0;k<p[0]*f[0]*4;k++)g[k]=P[k];return this.width=p,this.height=f,this.data=g,this}(function(e){var t,r,n,i,a,o,s,l,u,c=function(L){return L=L||{},this.isStrokeTransparent=L.isStrokeTransparent||!1,this.strokeOpacity=L.strokeOpacity||1,this.strokeStyle=L.strokeStyle||"#000000",this.fillStyle=L.fillStyle||"#000000",this.isFillTransparent=L.isFillTransparent||!1,this.fillOpacity=L.fillOpacity||1,this.font=L.font||"10px sans-serif",this.textBaseline=L.textBaseline||"alphabetic",this.textAlign=L.textAlign||"left",this.lineWidth=L.lineWidth||1,this.lineJoin=L.lineJoin||"miter",this.lineCap=L.lineCap||"butt",this.path=L.path||[],this.transform=L.transform!==void 0?L.transform.clone():new l,this.globalCompositeOperation=L.globalCompositeOperation||"normal",this.globalAlpha=L.globalAlpha||1,this.clip_path=L.clip_path||[],this.currentPoint=L.currentPoint||new o,this.miterLimit=L.miterLimit||10,this.lastPoint=L.lastPoint||new o,this.lineDashOffset=L.lineDashOffset||0,this.lineDash=L.lineDash||[],this.margin=L.margin||[0,0,0,0],this.prevPageLastElemOffset=L.prevPageLastElemOffset||0,this.ignoreClearRect=typeof L.ignoreClearRect!="boolean"||L.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new A(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,s=this.internal.Rectangle,l=this.internal.Matrix,u=new c}]);var A=function(L){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var j=L;Object.defineProperty(this,"pdf",{get:function(){return j}});var z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return z},set:function(Y){z=!!Y}});var X=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return X},set:function(Y){X=!!Y}});var ae=0;Object.defineProperty(this,"posX",{get:function(){return ae},set:function(Y){isNaN(Y)||(ae=Y)}});var Z=0;Object.defineProperty(this,"posY",{get:function(){return Z},set:function(Y){isNaN(Y)||(Z=Y)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Y){var Ae;typeof Y=="number"?Ae=[Y,Y,Y,Y]:((Ae=new Array(4))[0]=Y[0],Ae[1]=Y.length>=2?Y[1]:Ae[0],Ae[2]=Y.length>=3?Y[2]:Ae[0],Ae[3]=Y.length>=4?Y[3]:Ae[1]),u.margin=Ae}});var ce=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ce},set:function(Y){ce=Y}});var ne=0;Object.defineProperty(this,"lastBreak",{get:function(){return ne},set:function(Y){ne=Y}});var pe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return pe},set:function(Y){pe=Y}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Y){Y instanceof c&&(u=Y)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Y){u.path=Y}});var ye=[];Object.defineProperty(this,"ctxStack",{get:function(){return ye},set:function(Y){ye=Y}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Y){var Ae;Ae=d(Y),this.ctx.fillStyle=Ae.style,this.ctx.isFillTransparent=Ae.a===0,this.ctx.fillOpacity=Ae.a,this.pdf.setFillColor(Ae.r,Ae.g,Ae.b,{a:Ae.a}),this.pdf.setTextColor(Ae.r,Ae.g,Ae.b,{a:Ae.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Y){var Ae=d(Y);this.ctx.strokeStyle=Ae.style,this.ctx.isStrokeTransparent=Ae.a===0,this.ctx.strokeOpacity=Ae.a,Ae.a===0?this.pdf.setDrawColor(255,255,255):(Ae.a,this.pdf.setDrawColor(Ae.r,Ae.g,Ae.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Y){["butt","round","square"].indexOf(Y)!==-1&&(this.ctx.lineCap=Y,this.pdf.setLineCap(Y))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Y){isNaN(Y)||(this.ctx.lineWidth=Y,this.pdf.setLineWidth(Y))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Y){["bevel","round","miter"].indexOf(Y)!==-1&&(this.ctx.lineJoin=Y,this.pdf.setLineJoin(Y))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Y){isNaN(Y)||(this.ctx.miterLimit=Y,this.pdf.setMiterLimit(Y))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Y){this.ctx.textBaseline=Y}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Y){["right","end","center","left","start"].indexOf(Y)!==-1&&(this.ctx.textAlign=Y)}});var de=null,Ie=null,De=null;Object.defineProperty(this,"fontFaces",{get:function(){return De},set:function(Y){de=null,Ie=null,De=Y}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Y){var Ae;if(this.ctx.font=Y,(Ae=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(Y))!==null){var Ee=Ae[1];Ae[2];var Pe=Ae[3],Se=Ae[4];Ae[5];var Ke=Ae[6],Ve=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Se)[2];Se=Math.floor(Ve==="px"?parseFloat(Se)*this.pdf.internal.scaleFactor:Ve==="em"?parseFloat(Se)*this.pdf.getFontSize():parseFloat(Se)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Se);var Oe=function(ct){var Vr,Xt,Mt=[],Qt=ct.trim();if(Qt==="")return PC;if(Qt in OT)return[OT[Qt]];for(;Qt!=="";){switch(Xt=null,Vr=(Qt=LT(Qt)).charAt(0)){case'"':case"'":Xt=que(Qt.substring(1),Vr);break;default:Xt=Xue(Qt)}if(Xt===null||(Mt.push(Xt[0]),(Qt=LT(Xt[1]))!==""&&Qt.charAt(0)!==","))return PC;Qt=Qt.replace(/^,/,"")}return Mt}(Ke);if(this.fontFaces){var et=function(ct,Vr){var Xt=ct.getFontList(),Mt=JSON.stringify(Xt);if(de===null||Ie!==Mt){var Qt=function(Dr){var Ft=[];return Object.keys(Dr).forEach(function(Nr){Dr[Nr].forEach(function(kt){var Ht=null;switch(kt){case"bold":Ht={family:Nr,weight:"bold"};break;case"italic":Ht={family:Nr,style:"italic"};break;case"bolditalic":Ht={family:Nr,weight:"bold",style:"italic"};break;case"":case"normal":Ht={family:Nr}}Ht!==null&&(Ht.ref={name:Nr,style:kt},Ft.push(Ht))})}),Ft}(Xt);de=function(Dr){for(var Ft={},Nr=0;Nr<Dr.length;++Nr){var kt=kC(Dr[Nr]),Ht=kt.family,jr=kt.stretch,it=kt.style,Pt=kt.weight;Ft[Ht]=Ft[Ht]||{},Ft[Ht][jr]=Ft[Ht][jr]||{},Ft[Ht][jr][it]=Ft[Ht][jr][it]||{},Ft[Ht][jr][it][Pt]=kt}return Ft}(Qt.concat(Vr)),Ie=Mt}return de}(this.pdf,this.fontFaces),Ge=Oe.map(function(ct){return{family:ct,stretch:"normal",weight:Pe,style:Ee}}),Nt=function(ct,Vr,Xt){for(var Mt=(Xt=Xt||{}).defaultFontFamily||"times",Qt=Object.assign({},Gue,Xt.genericFontFamilies||{}),Dr=null,Ft=null,Nr=0;Nr<Vr.length;++Nr)if(Qt[(Dr=kC(Vr[Nr])).family]&&(Dr.family=Qt[Dr.family]),ct.hasOwnProperty(Dr.family)){Ft=ct[Dr.family];break}if(!(Ft=Ft||ct[Mt]))throw new Error("Could not find a font-family for the rule '"+TT(Dr)+"' and default family '"+Mt+"'.");if(Ft=function(kt,Ht){if(Ht[kt])return Ht[kt];var jr=wS[kt],it=jr<=wS.normal?-1:1,Pt=PT(Ht,$H,jr,it);if(!Pt)throw new Error("Could not find a matching font-stretch value for "+kt);return Pt}(Dr.stretch,Ft),Ft=function(kt,Ht){if(Ht[kt])return Ht[kt];for(var jr=HH[kt],it=0;it<jr.length;++it)if(Ht[jr[it]])return Ht[jr[it]];throw new Error("Could not find a matching font-style for "+kt)}(Dr.style,Ft),!(Ft=function(kt,Ht){if(Ht[kt])return Ht[kt];if(kt===400&&Ht[500])return Ht[500];if(kt===500&&Ht[400])return Ht[400];var jr=Vue[kt],it=PT(Ht,WH,jr,kt<400?-1:1);if(!it)throw new Error("Could not find a matching font-weight for value "+kt);return it}(Dr.weight,Ft)))throw new Error("Failed to resolve a font for the rule '"+TT(Dr)+"'.");return Ft}(et,Ge);this.pdf.setFont(Nt.ref.name,Nt.ref.style)}else{var St="";(Pe==="bold"||parseInt(Pe,10)>=700||Ee==="bold")&&(St="bold"),Ee==="italic"&&(St+="italic"),St.length===0&&(St="normal");for(var Ot="",Ye={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Je=0;Je<Oe.length;Je++){if(this.pdf.internal.getFont(Oe[Je],St,{noFallback:!0,disableWarning:!0})!==void 0){Ot=Oe[Je];break}if(St==="bolditalic"&&this.pdf.internal.getFont(Oe[Je],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ot=Oe[Je],St="bold";else if(this.pdf.internal.getFont(Oe[Je],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ot=Oe[Je],St="normal";break}}if(Ot===""){for(var ut=0;ut<Oe.length;ut++)if(Ye[Oe[ut]]){Ot=Ye[Oe[ut]];break}}Ot=Ot===""?"Times":Ot,this.pdf.setFont(Ot,St)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Y){this.ctx.globalCompositeOperation=Y}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Y){this.ctx.globalAlpha=Y}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Y){this.ctx.lineDashOffset=Y,ee.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Y){this.ctx.lineDash=Y,ee.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Y){this.ctx.ignoreClearRect=!!Y}})};A.prototype.setLineDash=function(L){this.lineDash=L},A.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},A.prototype.fill=function(){b.call(this,"fill",!1)},A.prototype.stroke=function(){b.call(this,"stroke",!1)},A.prototype.beginPath=function(){this.path=[{type:"begin"}]},A.prototype.moveTo=function(L,j){if(isNaN(L)||isNaN(j))throw Tr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var z=this.ctx.transform.applyToPoint(new o(L,j));this.path.push({type:"mt",x:z.x,y:z.y}),this.ctx.lastPoint=new o(L,j)},A.prototype.closePath=function(){var L=new o(0,0),j=0;for(j=this.path.length-1;j!==-1;j--)if(this.path[j].type==="begin"&&Er(this.path[j+1])==="object"&&typeof this.path[j+1].x=="number"){L=new o(this.path[j+1].x,this.path[j+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(L.x,L.y)},A.prototype.lineTo=function(L,j){if(isNaN(L)||isNaN(j))throw Tr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var z=this.ctx.transform.applyToPoint(new o(L,j));this.path.push({type:"lt",x:z.x,y:z.y}),this.ctx.lastPoint=new o(z.x,z.y)},A.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),b.call(this,null,!0)},A.prototype.quadraticCurveTo=function(L,j,z,X){if(isNaN(z)||isNaN(X)||isNaN(L)||isNaN(j))throw Tr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ae=this.ctx.transform.applyToPoint(new o(z,X)),Z=this.ctx.transform.applyToPoint(new o(L,j));this.path.push({type:"qct",x1:Z.x,y1:Z.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new o(ae.x,ae.y)},A.prototype.bezierCurveTo=function(L,j,z,X,ae,Z){if(isNaN(ae)||isNaN(Z)||isNaN(L)||isNaN(j)||isNaN(z)||isNaN(X))throw Tr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ce=this.ctx.transform.applyToPoint(new o(ae,Z)),ne=this.ctx.transform.applyToPoint(new o(L,j)),pe=this.ctx.transform.applyToPoint(new o(z,X));this.path.push({type:"bct",x1:ne.x,y1:ne.y,x2:pe.x,y2:pe.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new o(ce.x,ce.y)},A.prototype.arc=function(L,j,z,X,ae,Z){if(isNaN(L)||isNaN(j)||isNaN(z)||isNaN(X)||isNaN(ae))throw Tr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Z=!!Z,!this.ctx.transform.isIdentity){var ce=this.ctx.transform.applyToPoint(new o(L,j));L=ce.x,j=ce.y;var ne=this.ctx.transform.applyToPoint(new o(0,z)),pe=this.ctx.transform.applyToPoint(new o(0,0));z=Math.sqrt(Math.pow(ne.x-pe.x,2)+Math.pow(ne.y-pe.y,2))}Math.abs(ae-X)>=2*Math.PI&&(X=0,ae=2*Math.PI),this.path.push({type:"arc",x:L,y:j,radius:z,startAngle:X,endAngle:ae,counterclockwise:Z})},A.prototype.arcTo=function(L,j,z,X,ae){throw new Error("arcTo not implemented.")},A.prototype.rect=function(L,j,z,X){if(isNaN(L)||isNaN(j)||isNaN(z)||isNaN(X))throw Tr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(L,j),this.lineTo(L+z,j),this.lineTo(L+z,j+X),this.lineTo(L,j+X),this.lineTo(L,j),this.lineTo(L+z,j),this.lineTo(L,j)},A.prototype.fillRect=function(L,j,z,X){if(isNaN(L)||isNaN(j)||isNaN(z)||isNaN(X))throw Tr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var ae={};this.lineCap!=="butt"&&(ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(L,j,z,X),this.fill(),ae.hasOwnProperty("lineCap")&&(this.lineCap=ae.lineCap),ae.hasOwnProperty("lineJoin")&&(this.lineJoin=ae.lineJoin)}},A.prototype.strokeRect=function(L,j,z,X){if(isNaN(L)||isNaN(j)||isNaN(z)||isNaN(X))throw Tr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");p.call(this)||(this.beginPath(),this.rect(L,j,z,X),this.stroke())},A.prototype.clearRect=function(L,j,z,X){if(isNaN(L)||isNaN(j)||isNaN(z)||isNaN(X))throw Tr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(L,j,z,X))},A.prototype.save=function(L){L=typeof L!="boolean"||L;for(var j=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("q");if(this.pdf.setPage(j),L){this.ctx.fontSize=this.pdf.internal.getFontSize();var X=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=X}},A.prototype.restore=function(L){L=typeof L!="boolean"||L;for(var j=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("Q");this.pdf.setPage(j),L&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},A.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var d=function(L){var j,z,X,ae;if(L.isCanvasGradient===!0&&(L=L.getColor()),!L)return{r:0,g:0,b:0,a:0,style:L};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L))j=0,z=0,X=0,ae=0;else{var Z=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L);if(Z!==null)j=parseInt(Z[1]),z=parseInt(Z[2]),X=parseInt(Z[3]),ae=1;else if((Z=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L))!==null)j=parseInt(Z[1]),z=parseInt(Z[2]),X=parseInt(Z[3]),ae=parseFloat(Z[4]);else{if(ae=1,typeof L=="string"&&L.charAt(0)!=="#"){var ce=new LH(L);L=ce.ok?ce.toHex():"#000000"}L.length===4?(j=L.substring(1,2),j+=j,z=L.substring(2,3),z+=z,X=L.substring(3,4),X+=X):(j=L.substring(1,3),z=L.substring(3,5),X=L.substring(5,7)),j=parseInt(j,16),z=parseInt(z,16),X=parseInt(X,16)}}return{r:j,g:z,b:X,a:ae,style:L}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},p=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};A.prototype.fillText=function(L,j,z,X){if(isNaN(j)||isNaN(z)||typeof L!="string")throw Tr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(X=isNaN(X)?void 0:X,!f.call(this)){var ae=D(this.ctx.transform.rotation),Z=this.ctx.transform.scaleX;N.call(this,{text:L,x:j,y:z,scale:Z,angle:ae,align:this.textAlign,maxWidth:X})}},A.prototype.strokeText=function(L,j,z,X){if(isNaN(j)||isNaN(z)||typeof L!="string")throw Tr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!p.call(this)){X=isNaN(X)?void 0:X;var ae=D(this.ctx.transform.rotation),Z=this.ctx.transform.scaleX;N.call(this,{text:L,x:j,y:z,scale:Z,renderingMode:"stroke",angle:ae,align:this.textAlign,maxWidth:X})}},A.prototype.measureText=function(L){if(typeof L!="string")throw Tr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var j=this.pdf,z=this.pdf.internal.scaleFactor,X=j.internal.getFontSize(),ae=j.getStringUnitWidth(L)*X/j.internal.scaleFactor;return new function(Z){var ce=(Z=Z||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ce}}),this}({width:ae*=Math.round(96*z/72*1e4)/1e4})},A.prototype.scale=function(L,j){if(isNaN(L)||isNaN(j))throw Tr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var z=new l(L,0,0,j,0,0);this.ctx.transform=this.ctx.transform.multiply(z)},A.prototype.rotate=function(L){if(isNaN(L))throw Tr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var j=new l(Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0);this.ctx.transform=this.ctx.transform.multiply(j)},A.prototype.translate=function(L,j){if(isNaN(L)||isNaN(j))throw Tr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var z=new l(1,0,0,1,L,j);this.ctx.transform=this.ctx.transform.multiply(z)},A.prototype.transform=function(L,j,z,X,ae,Z){if(isNaN(L)||isNaN(j)||isNaN(z)||isNaN(X)||isNaN(ae)||isNaN(Z))throw Tr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ce=new l(L,j,z,X,ae,Z);this.ctx.transform=this.ctx.transform.multiply(ce)},A.prototype.setTransform=function(L,j,z,X,ae,Z){L=isNaN(L)?1:L,j=isNaN(j)?0:j,z=isNaN(z)?0:z,X=isNaN(X)?1:X,ae=isNaN(ae)?0:ae,Z=isNaN(Z)?0:Z,this.ctx.transform=new l(L,j,z,X,ae,Z)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};A.prototype.drawImage=function(L,j,z,X,ae,Z,ce,ne,pe){var ye=this.pdf.getImageProperties(L),de=1,Ie=1,De=1,Y=1;X!==void 0&&ne!==void 0&&(De=ne/X,Y=pe/ae,de=ye.width/X*ne/X,Ie=ye.height/ae*pe/ae),Z===void 0&&(Z=j,ce=z,j=0,z=0),X!==void 0&&ne===void 0&&(ne=X,pe=ae),X===void 0&&ne===void 0&&(ne=ye.width,pe=ye.height);var Ae=this.ctx.transform.decompose(),Ee=D(Ae.rotate.shx),Pe=new l,Se=(Pe=(Pe=(Pe=Pe.multiply(Ae.translate)).multiply(Ae.skew)).multiply(Ae.scale)).applyToRectangle(new s(Z-j*De,ce-z*Y,X*de,ae*Ie));if(this.autoPaging){for(var Ke,Ve=v.call(this,Se),Oe=[],et=0;et<Ve.length;et+=1)Oe.indexOf(Ve[et])===-1&&Oe.push(Ve[et]);w(Oe);for(var Ge=Oe[0],Nt=Oe[Oe.length-1],St=Ge;St<Nt+1;St++){this.pdf.setPage(St);var Ot=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ye=St===1?this.posY+this.margin[0]:this.margin[0],Je=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ut=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ct=St===1?0:Je+(St-2)*ut;if(this.ctx.clip_path.length!==0){var Vr=this.path;Ke=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(Ke,this.posX+this.margin[3],-ct+Ye+this.ctx.prevPageLastElemOffset),B.call(this,"fill",!0),this.path=Vr}var Xt=JSON.parse(JSON.stringify(Se));Xt=y([Xt],this.posX+this.margin[3],-ct+Ye+this.ctx.prevPageLastElemOffset)[0];var Mt=(St>Ge||St<Nt)&&g.call(this);Mt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ot,ut,null).clip().discardPath()),this.pdf.addImage(L,"JPEG",Xt.x,Xt.y,Xt.w,Xt.h,null,null,Ee),Mt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(L,"JPEG",Se.x,Se.y,Se.w,Se.h,null,null,Ee)};var v=function(L,j,z){var X=[];j=j||this.pdf.internal.pageSize.width,z=z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ae=this.posY+this.ctx.prevPageLastElemOffset;switch(L.type){default:case"mt":case"lt":X.push(Math.floor((L.y+ae)/z)+1);break;case"arc":X.push(Math.floor((L.y+ae-L.radius)/z)+1),X.push(Math.floor((L.y+ae+L.radius)/z)+1);break;case"qct":var Z=K(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x,L.y);X.push(Math.floor((Z.y+ae)/z)+1),X.push(Math.floor((Z.y+Z.h+ae)/z)+1);break;case"bct":var ce=ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x2,L.y2,L.x,L.y);X.push(Math.floor((ce.y+ae)/z)+1),X.push(Math.floor((ce.y+ce.h+ae)/z)+1);break;case"rect":X.push(Math.floor((L.y+ae)/z)+1),X.push(Math.floor((L.y+L.h+ae)/z)+1)}for(var ne=0;ne<X.length;ne+=1)for(;this.pdf.internal.getNumberOfPages()<X[ne];)m.call(this);return X},m=function(){var L=this.fillStyle,j=this.strokeStyle,z=this.font,X=this.lineCap,ae=this.lineWidth,Z=this.lineJoin;this.pdf.addPage(),this.fillStyle=L,this.strokeStyle=j,this.font=z,this.lineCap=X,this.lineWidth=ae,this.lineJoin=Z},y=function(L,j,z){for(var X=0;X<L.length;X++)switch(L[X].type){case"bct":L[X].x2+=j,L[X].y2+=z;case"qct":L[X].x1+=j,L[X].y1+=z;default:L[X].x+=j,L[X].y+=z}return L},w=function(L){return L.sort(function(j,z){return j-z})},b=function(L,j){var z=this.fillStyle,X=this.strokeStyle,ae=this.lineCap,Z=this.lineWidth,ce=Math.abs(Z*this.ctx.transform.scaleX),ne=this.lineJoin;if(this.autoPaging){for(var pe,ye,de=JSON.parse(JSON.stringify(this.path)),Ie=JSON.parse(JSON.stringify(this.path)),De=[],Y=0;Y<Ie.length;Y++)if(Ie[Y].x!==void 0)for(var Ae=v.call(this,Ie[Y]),Ee=0;Ee<Ae.length;Ee+=1)De.indexOf(Ae[Ee])===-1&&De.push(Ae[Ee]);for(var Pe=0;Pe<De.length;Pe++)for(;this.pdf.internal.getNumberOfPages()<De[Pe];)m.call(this);w(De);for(var Se=De[0],Ke=De[De.length-1],Ve=Se;Ve<Ke+1;Ve++){this.pdf.setPage(Ve),this.fillStyle=z,this.strokeStyle=X,this.lineCap=ae,this.lineWidth=ce,this.lineJoin=ne;var Oe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],et=Ve===1?this.posY+this.margin[0]:this.margin[0],Ge=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],St=Ve===1?0:Ge+(Ve-2)*Nt;if(this.ctx.clip_path.length!==0){var Ot=this.path;pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(pe,this.posX+this.margin[3],-St+et+this.ctx.prevPageLastElemOffset),B.call(this,L,!0),this.path=Ot}if(ye=JSON.parse(JSON.stringify(de)),this.path=y(ye,this.posX+this.margin[3],-St+et+this.ctx.prevPageLastElemOffset),j===!1||Ve===0){var Ye=(Ve>Se||Ve<Ke)&&g.call(this);Ye&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Oe,Nt,null).clip().discardPath()),B.call(this,L,j),Ye&&this.pdf.restoreGraphicsState()}this.lineWidth=Z}this.path=de}else this.lineWidth=ce,B.call(this,L,j),this.lineWidth=Z},B=function(L,j){if((L!=="stroke"||j||!p.call(this))&&(L==="stroke"||j||!f.call(this))){for(var z,X,ae=[],Z=this.path,ce=0;ce<Z.length;ce++){var ne=Z[ce];switch(ne.type){case"begin":ae.push({begin:!0});break;case"close":ae.push({close:!0});break;case"mt":ae.push({start:ne,deltas:[],abs:[]});break;case"lt":var pe=ae.length;if(Z[ce-1]&&!isNaN(Z[ce-1].x)&&(z=[ne.x-Z[ce-1].x,ne.y-Z[ce-1].y],pe>0)){for(;pe>=0;pe--)if(ae[pe-1].close!==!0&&ae[pe-1].begin!==!0){ae[pe-1].deltas.push(z),ae[pe-1].abs.push(ne);break}}break;case"bct":z=[ne.x1-Z[ce-1].x,ne.y1-Z[ce-1].y,ne.x2-Z[ce-1].x,ne.y2-Z[ce-1].y,ne.x-Z[ce-1].x,ne.y-Z[ce-1].y],ae[ae.length-1].deltas.push(z);break;case"qct":var ye=Z[ce-1].x+2/3*(ne.x1-Z[ce-1].x),de=Z[ce-1].y+2/3*(ne.y1-Z[ce-1].y),Ie=ne.x+2/3*(ne.x1-ne.x),De=ne.y+2/3*(ne.y1-ne.y),Y=ne.x,Ae=ne.y;z=[ye-Z[ce-1].x,de-Z[ce-1].y,Ie-Z[ce-1].x,De-Z[ce-1].y,Y-Z[ce-1].x,Ae-Z[ce-1].y],ae[ae.length-1].deltas.push(z);break;case"arc":ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(ae[ae.length-1].abs)&&ae[ae.length-1].abs.push(ne)}}X=j?null:L==="stroke"?"stroke":"fill";for(var Ee=!1,Pe=0;Pe<ae.length;Pe++)if(ae[Pe].arc)for(var Se=ae[Pe].abs,Ke=0;Ke<Se.length;Ke++){var Ve=Se[Ke];Ve.type==="arc"?k.call(this,Ve.x,Ve.y,Ve.radius,Ve.startAngle,Ve.endAngle,Ve.counterclockwise,void 0,j,!Ee):U.call(this,Ve.x,Ve.y),Ee=!0}else if(ae[Pe].close===!0)this.pdf.internal.out("h"),Ee=!1;else if(ae[Pe].begin!==!0){var Oe=ae[Pe].start.x,et=ae[Pe].start.y;M.call(this,ae[Pe].deltas,Oe,et),Ee=!0}X&&I.call(this,X),j&&O.call(this)}},S=function(L){var j=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,z=j*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return L-z;case"top":return L+j-z;case"hanging":return L+j-2*z;case"middle":return L+j/2-z;default:return L}},P=function(L){return L+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};A.prototype.createLinearGradient=function(){var L=function(){};return L.colorStops=[],L.addColorStop=function(j,z){this.colorStops.push([j,z])},L.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},L.isCanvasGradient=!0,L},A.prototype.createPattern=function(){return this.createLinearGradient()},A.prototype.createRadialGradient=function(){return this.createLinearGradient()};var k=function(L,j,z,X,ae,Z,ce,ne,pe){for(var ye=Q.call(this,z,X,ae,Z),de=0;de<ye.length;de++){var Ie=ye[de];de===0&&(pe?F.call(this,Ie.x1+L,Ie.y1+j):U.call(this,Ie.x1+L,Ie.y1+j)),V.call(this,L,j,Ie.x2,Ie.y2,Ie.x3,Ie.y3,Ie.x4,Ie.y4)}ne?O.call(this):I.call(this,ce)},I=function(L){switch(L){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},O=function(){this.pdf.clip(),this.pdf.discardPath()},F=function(L,j){this.pdf.internal.out(r(L)+" "+n(j)+" m")},N=function(L){var j;switch(L.align){case"right":case"end":j="right";break;case"center":j="center";break;default:j="left"}var z,X,ae,Z=this.pdf.getTextDimensions(L.text),ce=S.call(this,L.y),ne=P.call(this,ce)-Z.h,pe=this.ctx.transform.applyToPoint(new o(L.x,ce));if(this.autoPaging){var ye=this.ctx.transform.decompose(),de=new l;de=(de=(de=de.multiply(ye.translate)).multiply(ye.skew)).multiply(ye.scale);for(var Ie=this.ctx.transform.applyToRectangle(new s(L.x,ce,Z.w,Z.h)),De=de.applyToRectangle(new s(L.x,ne,Z.w,Z.h)),Y=v.call(this,De),Ae=[],Ee=0;Ee<Y.length;Ee+=1)Ae.indexOf(Y[Ee])===-1&&Ae.push(Y[Ee]);w(Ae);for(var Pe=Ae[0],Se=Ae[Ae.length-1],Ke=Pe;Ke<Se+1;Ke++){this.pdf.setPage(Ke);var Ve=Ke===1?this.posY+this.margin[0]:this.margin[0],Oe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],et=this.pdf.internal.pageSize.height-this.margin[2],Ge=et-this.margin[0],Nt=this.pdf.internal.pageSize.width-this.margin[1],St=Nt-this.margin[3],Ot=Ke===1?0:Oe+(Ke-2)*Ge;if(this.ctx.clip_path.length!==0){var Ye=this.path;z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(z,this.posX+this.margin[3],-1*Ot+Ve),B.call(this,"fill",!0),this.path=Ye}var Je=y([JSON.parse(JSON.stringify(De))],this.posX+this.margin[3],-Ot+Ve+this.ctx.prevPageLastElemOffset)[0];L.scale>=.01&&(X=this.pdf.internal.getFontSize(),this.pdf.setFontSize(X*L.scale),ae=this.lineWidth,this.lineWidth=ae*L.scale);var ut=this.autoPaging!=="text";if(ut||Je.y+Je.h<=et){if(ut||Je.y>=Ve&&Je.x<=Nt){var ct=ut?L.text:this.pdf.splitTextToSize(L.text,L.maxWidth||Nt-Je.x)[0],Vr=y([JSON.parse(JSON.stringify(Ie))],this.posX+this.margin[3],-Ot+Ve+this.ctx.prevPageLastElemOffset)[0],Xt=ut&&(Ke>Pe||Ke<Se)&&g.call(this);Xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],St,Ge,null).clip().discardPath()),this.pdf.text(ct,Vr.x,Vr.y,{angle:L.angle,align:j,renderingMode:L.renderingMode}),Xt&&this.pdf.restoreGraphicsState()}}else Je.y<et&&(this.ctx.prevPageLastElemOffset+=et-Je.y);L.scale>=.01&&(this.pdf.setFontSize(X),this.lineWidth=ae)}}else L.scale>=.01&&(X=this.pdf.internal.getFontSize(),this.pdf.setFontSize(X*L.scale),ae=this.lineWidth,this.lineWidth=ae*L.scale),this.pdf.text(L.text,pe.x+this.posX,pe.y+this.posY,{angle:L.angle,align:j,renderingMode:L.renderingMode,maxWidth:L.maxWidth}),L.scale>=.01&&(this.pdf.setFontSize(X),this.lineWidth=ae)},U=function(L,j,z,X){z=z||0,X=X||0,this.pdf.internal.out(r(L+z)+" "+n(j+X)+" l")},M=function(L,j,z){return this.pdf.lines(L,j,z,null,null)},V=function(L,j,z,X,ae,Z,ce,ne){this.pdf.internal.out([t(i(z+L)),t(a(X+j)),t(i(ae+L)),t(a(Z+j)),t(i(ce+L)),t(a(ne+j)),"c"].join(" "))},Q=function(L,j,z,X){for(var ae=2*Math.PI,Z=Math.PI/2;j>z;)j-=ae;var ce=Math.abs(z-j);ce<ae&&X&&(ce=ae-ce);for(var ne=[],pe=X?-1:1,ye=j;ce>1e-5;){var de=ye+pe*Math.min(ce,Z);ne.push(W.call(this,L,ye,de)),ce-=Math.abs(de-ye),ye=de}return ne},W=function(L,j,z){var X=(z-j)/2,ae=L*Math.cos(X),Z=L*Math.sin(X),ce=ae,ne=-Z,pe=ce*ce+ne*ne,ye=pe+ce*ae+ne*Z,de=4/3*(Math.sqrt(2*pe*ye)-ye)/(ce*Z-ne*ae),Ie=ce-de*ne,De=ne+de*ce,Y=Ie,Ae=-De,Ee=X+j,Pe=Math.cos(Ee),Se=Math.sin(Ee);return{x1:L*Math.cos(j),y1:L*Math.sin(j),x2:Ie*Pe-De*Se,y2:Ie*Se+De*Pe,x3:Y*Pe-Ae*Se,y3:Y*Se+Ae*Pe,x4:L*Math.cos(z),y4:L*Math.sin(z)}},D=function(L){return 180*L/Math.PI},K=function(L,j,z,X,ae,Z){var ce=L+.5*(z-L),ne=j+.5*(X-j),pe=ae+.5*(z-ae),ye=Z+.5*(X-Z),de=Math.min(L,ae,ce,pe),Ie=Math.max(L,ae,ce,pe),De=Math.min(j,Z,ne,ye),Y=Math.max(j,Z,ne,ye);return new s(de,De,Ie-de,Y-De)},ie=function(L,j,z,X,ae,Z,ce,ne){var pe,ye,de,Ie,De,Y,Ae,Ee,Pe,Se,Ke,Ve,Oe,et,Ge=z-L,Nt=X-j,St=ae-z,Ot=Z-X,Ye=ce-ae,Je=ne-Z;for(ye=0;ye<41;ye++)Pe=(Ae=(de=L+(pe=ye/40)*Ge)+pe*((De=z+pe*St)-de))+pe*(De+pe*(ae+pe*Ye-De)-Ae),Se=(Ee=(Ie=j+pe*Nt)+pe*((Y=X+pe*Ot)-Ie))+pe*(Y+pe*(Z+pe*Je-Y)-Ee),ye==0?(Ke=Pe,Ve=Se,Oe=Pe,et=Se):(Ke=Math.min(Ke,Pe),Ve=Math.min(Ve,Se),Oe=Math.max(Oe,Pe),et=Math.max(et,Se));return new s(Math.round(Ke),Math.round(Ve),Math.round(Oe-Ke),Math.round(et-Ve))},ee=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var L,j,z=(L=this.ctx.lineDash,j=this.ctx.lineDashOffset,JSON.stringify({lineDash:L,lineDashOffset:j}));this.prevLineDash!==z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=z)}}})(Et.API),function(e){var t=function(o){var s,l,u,c,A,d,f,p,g,v;for(l=[],u=0,c=(o+=s="\0\0\0\0".slice(o.length%4||4)).length;c>u;u+=4)(A=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(d=(A=((A=((A=((A=(A-(v=A%85))/85)-(g=A%85))/85)-(p=A%85))/85)-(f=A%85))/85)%85,l.push(d+33,f+33,p+33,g+33,v+33)):l.push(122);return function(m,y){for(var w=y;w>0;w--)m.pop()}(l,s.length),String.fromCharCode.apply(String,l)+"~>"},r=function(o){var s,l,u,c,A,d=String,f="length",p=255,g="charCodeAt",v="slice",m="replace";for(o[v](-2),o=o[v](0,-2)[m](/\s/g,"")[m]("z","!!!!!"),u=[],c=0,A=(o+=s="uuuuu"[v](o[f]%5||5))[f];A>c;c+=5)l=52200625*(o[g](c)-33)+614125*(o[g](c+1)-33)+7225*(o[g](c+2)-33)+85*(o[g](c+3)-33)+(o[g](c+4)-33),u.push(p&l>>24,p&l>>16,p&l>>8,p&l);return function(y,w){for(var b=w;b>0;b--)y.pop()}(u,s[f]),d.fromCharCode.apply(d,u)},n=function(o){return o.split("").map(function(s){return("0"+s.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),s.test(o)===!1)return"";for(var l="",u=0;u<o.length;u+=2)l+=String.fromCharCode("0x"+(o[u]+o[u+1]));return l},a=function(o){for(var s=new Uint8Array(o.length),l=o.length;l--;)s[l]=o.charCodeAt(l);return(s=dS(s)).reduce(function(u,c){return u+String.fromCharCode(c)},"")};e.processDataByFilters=function(o,s){var l=0,u=o||"",c=[];for(typeof(s=s||[])=="string"&&(s=[s]),l=0;l<s.length;l+=1)switch(s[l]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=a(u),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[l]+'" is not implemented')}return{data:u,reverseChain:c.reverse().join(" ")}}}(Et.API),function(e){e.loadFile=function(t,r,n){return function(i,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var s=void 0;try{s=function(l,u,c){var A=new XMLHttpRequest,d=0,f=function(p){var g=p.length,v=[],m=String.fromCharCode;for(d=0;d<g;d+=1)v.push(m(255&p.charCodeAt(d)));return v.join("")};if(A.open("GET",l,!u),A.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(A.onload=function(){A.status===200?c(f(this.responseText)):c(void 0)}),A.send(null),u&&A.status===200)return f(A.responseText)}(i,a,o)}catch{}return s}(t,r,n)},e.loadImageFile=e.loadFile}(Et.API),function(e){function t(){return(Dt.html2canvas?Promise.resolve(Dt.html2canvas):Om(()=>Promise.resolve().then(()=>Nse),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function r(){return(Dt.DOMPurify?Promise.resolve(Dt.DOMPurify):Om(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var n=function(s){var l=Er(s);return l==="undefined"?"undefined":l==="string"||s instanceof String?"string":l==="number"||s instanceof Number?"number":l==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(s,l){var u=document.createElement(s);for(var c in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[c]=l.style[c];return u},a=function s(l,u){for(var c=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),A=l.firstChild;A;A=A.nextSibling)u!==!0&&A.nodeType===1&&A.nodeName==="SCRIPT"||c.appendChild(s(A,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(c.width=l.width,c.height=l.height,c.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(c.value=l.value),c.addEventListener("load",function(){c.scrollTop=l.scrollTop,c.scrollLeft=l.scrollLeft},!0)),c},o=function s(l){var u=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),c=s.convert(Promise.resolve(),u);return(c=c.setProgress(1,s,1,[s])).set(l)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(s,l){return s.__proto__=l||o.prototype,s},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(s,l){return this.then(function(){switch(l=l||function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s),l){case"string":return this.then(r).then(function(u){return this.set({src:i("div",{innerHTML:s,dompurify:u})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},o.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(l){var u=this.opt.jsPDF,c=this.opt.fontFaces,A=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:A,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=c,c)for(var f=0;f<c.length;++f){var p=c[f],g=p.src.find(function(v){return v.format==="truetype"});g&&u.addFont(g.url,p.ref.name,p.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,u.context2d.save(!0),l(this.prop.container,d)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(s,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(s,l):this.outputPdf(s,l)},o.prototype.outputPdf=function(s,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,l)})},o.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},o.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(s){if(n(s)!=="object")return this;var l=Object.keys(s||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=s[u]};switch(u){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[u]=s[u]}}},this);return this.then(function(){return this.thenList(l)})},o.prototype.get=function(s,l){return this.then(function(){var u=s in o.template.prop?this.prop[s]:this.opt[s];return l?l(u):u})},o.prototype.setMargin=function(s){return this.then(function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},o.prototype.setPageSize=function(s){function l(u,c){return Math.floor(u*c/72*96)}return this.then(function(){(s=s||Et.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:l(s.inner.width,s.k),height:l(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},o.prototype.setProgress=function(s,l,u,c){return s!=null&&(this.progress.val=s),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(s,l,u,c){return this.setProgress(s?this.progress.val+s:null,l||null,u?this.progress.n+u:null,c?this.progress.stack.concat(c):null)},o.prototype.then=function(s,l){var u=this;return this.thenCore(s,l,function(c,A){return u.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(d){return u.updateProgress(null,c),d}).then(c,A).then(function(d){return u.updateProgress(1),d})})},o.prototype.thenCore=function(s,l,u){u=u||Promise.prototype.then;var c=this;s&&(s=s.bind(c)),l&&(l=l.bind(c));var A=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?c:o.convert(Object.assign({},c),Promise.prototype),d=u.call(A,s,l);return o.convert(d,c.__proto__)},o.prototype.thenExternal=function(s,l){return Promise.prototype.then.call(this,s,l)},o.prototype.thenList=function(s){var l=this;return s.forEach(function(u){l=l.thenCore(u)}),l},o.prototype.catch=function(s){s&&(s=s.bind(this));var l=Promise.prototype.catch.call(this,s);return o.convert(l,this)},o.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},o.prototype.error=function(s){return this.then(function(){throw new Error(s)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Et.getPageSize=function(s,l,u){if(Er(s)==="object"){var c=s;s=c.orientation,l=c.unit||l,u=c.format||u}l=l||"mm",u=u||"a4",s=(""+(s||"P")).toLowerCase();var A,d=(""+u).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":A=1;break;case"mm":A=72/25.4;break;case"cm":A=72/2.54;break;case"in":A=72;break;case"px":A=.75;break;case"pc":case"em":A=12;break;case"ex":A=6;break;default:throw"Invalid unit: "+l}var p,g=0,v=0;if(f.hasOwnProperty(d))g=f[d][1]/A,v=f[d][0]/A;else try{g=u[1],v=u[0]}catch{throw new Error("Invalid format: "+u)}if(s==="p"||s==="portrait")s="p",v>g&&(p=v,v=g,g=p);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",g>v&&(p=v,v=g,g=p)}return{width:v,height:g,unit:l,k:A,orientation:s}},e.html=function(s,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(kC):null;var u=new o(l);return l.worker?u:u.from(s).doCallback()}}(Et.API),Et.API.addJS=function(e){return RT=e,this.internal.events.subscribe("postPutResources",function(){hy=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(hy+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),UT=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+RT+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){hy!==void 0&&UT!==void 0&&this.internal.out("/Names <</JavaScript "+hy+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),a=0;a<i.length;a++){var o=i[a],s=n.exec(o);if(s!=null){var l=s[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,c=[];for(a=0;a<u;a++){var A=r.internal.newObject();c.push(A);var d=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+d.objId+" 0 R /XYZ null null null]>> endobj")}var f=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<c.length;a++)r.internal.write("(page_"+(a+1)+")"+c[a]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+f+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,a){var o={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var o=n.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var s=this.count=this.count_r({count:0},o);if(s>0&&this.line("/Count "+s),o.options&&o.options.pageNumber){var l=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])}(Et.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,i,a,o,s){var l,u=this.decode.DCT_DECODE,c=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,l=function(A){for(var d,f=256*A.charCodeAt(4)+A.charCodeAt(5),p=A.length,g={width:0,height:0,numcomponents:1},v=4;v<p;v+=2){if(v+=f,t.indexOf(A.charCodeAt(v+1))!==-1){d=256*A.charCodeAt(v+5)+A.charCodeAt(v+6),g={width:256*A.charCodeAt(v+7)+A.charCodeAt(v+8),height:d,numcomponents:A.charCodeAt(v+9)};break}f=256*A.charCodeAt(v+2)+A.charCodeAt(v+3)}return g}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),l.numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}c={data:r,width:l.width,height:l.height,colorSpace:s,bitsPerComponent:8,filter:u,index:n,alias:i}}return c}}(Et.API),Et.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var i,a=Oue(e,{checkCrc:!0}),o=a.width,s=a.height,l=a.channels,u=a.palette,c=a.depth;i=u&&l===1?function(k){for(var I=k.width,O=k.height,F=k.data,N=k.palette,U=k.depth,M=!1,V=[],Q=[],W=void 0,D=!1,K=0,ie=0;ie<N.length;ie++){var ee=QO(N[ie],4),L=ee[0],j=ee[1],z=ee[2],X=ee[3];V.push(L,j,z),X!=null&&(X===0?(K++,Q.length<1&&Q.push(ie)):X<255&&(D=!0))}if(D||K>1){M=!0,Q=void 0;var ae=I*O;W=new Uint8Array(ae);for(var Z=new DataView(F.buffer),ce=0;ce<ae;ce++){var ne=OC(Z,ce,U),pe=QO(N[ne],4)[3];W[ce]=pe}}else K===0&&(Q=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:M?8:void 0,colorBytes:F,alphaBytes:W,needSMask:M,palette:V,mask:Q}}(a):l===2||l===4?function(k){for(var I=k.data,O=k.width,F=k.height,N=k.channels,U=k.depth,M=N===2?"DeviceGray":"DeviceRGB",V=N-1,Q=O*F,W=V,D=Q*W,K=1*Q,ie=Math.ceil(D*U/8),ee=Math.ceil(K*U/8),L=new Uint8Array(ie),j=new Uint8Array(ee),z=new DataView(I.buffer),X=new DataView(L.buffer),ae=new DataView(j.buffer),Z=!1,ce=0;ce<Q;ce++){for(var ne=ce*N,pe=0;pe<W;pe++)zT(X,OC(z,ne+pe,U),ce*W+pe,U);var ye=OC(z,ne+W,U);ye<(1<<U)-1&&(Z=!0),zT(ae,ye,1*ce,U)}return{colorSpace:M,colorsPerPixel:V,sMaskBitsPerComponent:Z?U:void 0,colorBytes:L,alphaBytes:j,needSMask:Z}}(a):function(k){var I=k.data,O=k.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:O,colorsPerPixel:O==="DeviceGray"?1:3,colorBytes:I instanceof Uint16Array?function(F){for(var N=F.length,U=new Uint8Array(2*N),M=new DataView(U.buffer,U.byteOffset,U.byteLength),V=0;V<N;V++)M.setUint16(2*V,F[V],!1);return U}(I):I,needSMask:!1}}(a);var A,d,f,p=i,g=p.colorSpace,v=p.colorsPerPixel,m=p.sMaskBitsPerComponent,y=p.colorBytes,w=p.alphaBytes,b=p.needSMask,B=p.palette,S=p.mask,P=null;return n!==Et.API.image_compression.NONE&&typeof dS=="function"?(P=function(k){var I;switch(k){case Et.API.image_compression.FAST:I=11;break;case Et.API.image_compression.MEDIUM:I=13;break;case Et.API.image_compression.SLOW:I=14;break;default:I=12}return I}(n),A=this.decode.FLATE_DECODE,d="/Predictor ".concat(P," /Colors ").concat(v," /BitsPerComponent ").concat(c," /Columns ").concat(o),e=QT(y,Math.ceil(o*v*c/8),v,c,n),b&&(f=QT(w,Math.ceil(o*m/8),1,m,n))):(A=void 0,d=void 0,e=y,b&&(f=w)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:r,data:e,index:t,filter:A,decodeParameters:d,transparency:S,palette:B,sMask:f,predictor:P,width:o,height:s,bitsPerComponent:c,sMaskBitsPerComponent:m,colorSpace:g}}},function(e){e.processGIF89A=function(t,r,n,i){var a=new ece(t),o=a.width,s=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:o,height:s},c=new TC(100).encode(u,100);return e.processJPEG.call(this,c,r,n,i)},e.processGIF87A=e.processGIF89A}(Et.API),Es.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Es.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Tr.log("bit decode error:"+r)}},Es.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*i*4,s=0;s<8&&8*i+s<this.width;s++){var l=this.palette[a>>7-s&1];this.data[o+4*s]=l.blue,this.data[o+4*s+1]=l.green,this.data[o+4*s+2]=l.red,this.data[o+4*s+3]=255}r!==0&&(this.pos+=4-r)}},Es.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*i*4,s=a>>4,l=15&a,u=this.palette[s];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Es.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},Es.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,s=(a>>5&t)/t*255|0,l=(a>>10&t)/t*255|0,u=a>>15?255:0,c=n*this.width*4+4*i;this.data[c]=l,this.data[c+1]=s,this.data[c+2]=o,this.data[c+3]=u}this.pos+=e}},Es.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&t)/t*255|0,l=(o>>5&r)/r*255|0,u=(o>>11)/t*255|0,c=i*this.width*4+4*a;this.data[c]=u,this.data[c+1]=l,this.data[c+2]=s,this.data[c+3]=255}this.pos+=e}},Es.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},Es.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=n,this.data[s+3]=o}},Es.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,i){var a=new Es(t,!1),o=a.width,s=a.height,l={data:a.getData(),width:o,height:s},u=new TC(100).encode(l,100);return e.processJPEG.call(this,u,r,n,i)}}(Et.API),GT.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,i){var a=new GT(t),o=a.width,s=a.height,l={data:a.getData(),width:o,height:s},u=new TC(100).encode(l,100);return e.processJPEG.call(this,u,r,n,i)}}(Et.API),Et.API.processRGBA=function(e,t,r){for(var n=e.data,i=n.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),s=0,l=0,u=0;u<i;u+=4){var c=n[u],A=n[u+1],d=n[u+2],f=n[u+3];a[s++]=c,a[s++]=A,a[s++]=d,o[l++]=f}var p=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:p,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Et.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},fd=Et.API,py=fd.getCharWidthsArray=function(e,t){var r,n,i=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),s=t.widths?t.widths:i.metadata.Unicode.widths,l=s.fof?s.fof:1,u=t.kerning?t.kerning:i.metadata.Unicode.kerning,c=u.fof?u.fof:1,A=t.doKerning!==!1,d=0,f=e.length,p=0,g=s[0]||l,v=[];for(r=0;r<f;r++)n=e.charCodeAt(r),typeof i.metadata.widthOfString=="function"?v.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+o*(1e3/a)||0)/1e3):(d=A&&Er(u[n])==="object"&&!isNaN(parseInt(u[n][p],10))?u[n][p]/c:0,v.push((s[n]||g)/l+d)),p=n;return v},DT=fd.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return fd.processArabic&&(e=fd.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,i)/r:py.apply(this,arguments).reduce(function(a,o){return a+o},0)},jT=function(e,t,r,n){for(var i=[],a=0,o=e.length,s=0;a!==o&&s+t[a]<r;)s+=t[a],a++;i.push(e.slice(0,a));var l=a;for(s=0;a!==o;)s+t[a]>n&&(i.push(e.slice(l,a)),s=0,l=a),s+=t[a],a++;return l!==a&&i.push(e.slice(l,a)),i},MT=function(e,t,r){r||(r={});var n,i,a,o,s,l,u,c=[],A=[c],d=r.textIndent||0,f=0,p=0,g=e.split(" "),v=py.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?g[0].length+2:r.lineIndent||0){var m=Array(l).join(" "),y=[];g.map(function(b){(b=b.split(/\s*\n/)).length>1?y=y.concat(b.map(function(B,S){return(S&&B.length?`
`:"")+B})):y.push(b[0])}),g=y,l=DT.apply(this,[m,r])}for(a=0,o=g.length;a<o;a++){var w=0;if(n=g[a],l&&n[0]==`
`&&(n=n.substr(1),w=1),d+f+(p=(i=py.apply(this,[n,r])).reduce(function(b,B){return b+B},0))>t||w){if(p>t){for(s=jT.apply(this,[n,i,t-(d+f),t]),c.push(s.shift()),c=[s.pop()];s.length;)A.push([s.shift()]);p=i.slice(n.length-(c[0]?c[0].length:0)).reduce(function(b,B){return b+B},0)}else c=[n];A.push(c),d=p+l,f=v}else c.push(n),d+=f+p,f=v}return u=l?function(b,B){return(B?m:"")+b.join(" ")}:function(b){return b.join(" ")},A.map(u)},fd.splitTextToSize=function(e,t,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var A=this.internal.getFont(c.fontName,c.fontStyle),d="Unicode";return A.metadata[d]?{widths:A.metadata[d].widths||{0:1},kerning:A.metadata[d].kerning||{}}:{font:A.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var s,l,u=[];for(s=0,l=n.length;s<l;s++)u=u.concat(MT.apply(this,[n[s],o,a]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},a=0;a<16;a++)n[r[a]]=t[a],i[t[a]]=r[a];var o=function(d){return"0x"+parseInt(d,10).toString(16)},s=e.__fontmetrics__.compress=function(d){var f,p,g,v,m=["{"];for(var y in d){if(f=d[y],isNaN(parseInt(y,10))?p="'"+y+"'":(y=parseInt(y,10),p=(p=o(y).slice(2)).slice(0,-1)+i[p.slice(-1)]),typeof f=="number")f<0?(g=o(f).slice(3),v="-"):(g=o(f).slice(2),v=""),g=v+g.slice(0,-1)+i[g.slice(-1)];else{if(Er(f)!=="object")throw new Error("Don't know what to do with value type "+Er(f)+".");g=s(f)}m.push(p+g)}return m.push("}"),m.join("")},l=e.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,p,g,v,m={},y=1,w=m,b=[],B="",S="",P=d.length-1,k=1;k<P;k+=1)(v=d[k])=="'"?f?(g=f.join(""),f=void 0):f=[]:f?f.push(v):v=="{"?(b.push([w,g]),w={},g=void 0):v=="}"?((p=b.pop())[0][p[1]]=w,g=void 0,w=p[0]):v=="-"?y=-1:g===void 0?n.hasOwnProperty(v)?(B+=n[v],g=parseInt(B,16)*y,y=1,B=""):B+=v:n.hasOwnProperty(v)?(S+=n[v],w[g]=parseInt(S,16)*y,y=1,g=void 0,S=""):S+=v;return m},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},A={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(d){var f=d.font,p=A.Unicode[f.postScriptName];p&&(f.metadata.Unicode={},f.metadata.Unicode.widths=p.widths,f.metadata.Unicode.kerning=p.kerning);var g=c.Unicode[f.postScriptName];g&&(f.metadata.Unicode.encoding=g,f.encoding=g.codePages[0])}])}(Et.API),function(e){var t=function(r){for(var n=r.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=r.charCodeAt(a);return i};e.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,s){s=/^\x00\x01\x00\x00/.test(s)?t(s):t(v1(s)),o.metadata=e.API.TTFFont.open(s),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,n)}}])}(Et),Et.API.addSvgAsImage=function(e,t,r,n,i,a,o,s){if(isNaN(t)||isNaN(r))throw Tr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw Tr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=i;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var c={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},A=this;return(Dt.canvg?Promise.resolve(Dt.canvg):Om(()=>import("./index.es-DVcU5fZg.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load canvg: "+d))}).then(function(d){return d.default?d.default:d}).then(function(d){return d.fromString(u,e,c)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(d){return d.render(c)}).then(function(){A.addImage(l.toDataURL("image/jpeg",1),t,r,n,i,o,s)})},Et.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(t,r);return this},Et.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(o),l=[],u=0,c=0,A=0;function d(p,g){var v,m=!1;for(v=0;v<p.length;v+=1)p[v]===g&&(m=!0);return m}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var f=s.length;for(A=0;A<f;A+=1)r[s[A]].value=r[s[A]].defaultValue,r[s[A]].explicitSet=!1}if(Er(e)==="object"){for(i in e)if(a=e[i],d(s,i)&&a!==void 0){if(r[i].type==="boolean"&&typeof a=="boolean")r[i].value=a;else if(r[i].type==="name"&&d(r[i].valueSet,a))r[i].value=a;else if(r[i].type==="integer"&&Number.isInteger(a))r[i].value=a;else if(r[i].type==="array"){for(u=0;u<a.length;u+=1)if(n=!0,a[u].length===1&&typeof a[u][0]=="number")l.push(String(a[u]-1));else if(a[u].length>1){for(c=0;c<a[u].length;c+=1)typeof a[u][c]!="number"&&(n=!1);n===!0&&l.push([a[u][0]-1,a[u][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var p,g=[];for(p in r)r[p].explicitSet===!0&&(r[p].type==="name"?g.push("/"+p+" /"+r[p].value):g.push("/"+p+" "+r[p].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=a.length+o.length+s.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+a+o+s+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Et.API),function(e){var t=e.API,r=t.pdfEscape16=function(a,o){for(var s,l=o.metadata.Unicode.widths,u=["","0","00","000","0000"],c=[""],A=0,d=a.length;A<d;++A){if(s=o.metadata.characterToGlyph(a.charCodeAt(A)),o.metadata.glyIdsUsed.push(s),o.metadata.toUnicode[s]=a.charCodeAt(A),l.indexOf(s)==-1&&(l.push(s),l.push([parseInt(o.metadata.widthOfGlyph(s),10)])),s=="0")return c.join("");s=s.toString(16),c.push(u[4-s.length],s)}return c.join("")},n=function(a){var o,s,l,u,c,A,d;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],A=0,d=(s=Object.keys(a).sort(function(f,p){return f-p})).length;A<d;A++)o=s[A],l.length>=100&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(u=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+u+">"));return l.length&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),c+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(o){var s=o.font,l=o.out,u=o.newObject,c=o.putStream;if(s.metadata instanceof e.API.TTFFont&&s.encoding==="Identity-H"){for(var A=s.metadata.Unicode.widths,d=s.metadata.subset.encode(s.metadata.glyIdsUsed,1),f="",p=0;p<d.length;p++)f+=String.fromCharCode(d[p]);var g=u();c({data:f,addLength1:!0,objectId:g}),l("endobj");var v=u();c({data:n(s.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var m=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Bd(s.fontName)),l("/FontFile2 "+g+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(s.metadata.bbox)),l("/Flags "+s.metadata.flags),l("/StemV "+s.metadata.stemV),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l(">>"),l("endobj");var y=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+Bd(s.fontName)),l("/FontDescriptor "+m+" 0 R"),l("/W "+e.API.PDFObject.convert(A)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+s.encoding+")"),l(">>"),l(">>"),l("endobj"),s.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+v+" 0 R"),l("/BaseFont /"+Bd(s.fontName)),l("/Encoding /"+s.encoding),l("/DescendantFonts ["+y+" 0 R]"),l(">>"),l("endobj"),s.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(o){var s=o.font,l=o.out,u=o.newObject,c=o.putStream;if(s.metadata instanceof e.API.TTFFont&&s.encoding==="WinAnsiEncoding"){for(var A=s.metadata.rawData,d="",f=0;f<A.length;f++)d+=String.fromCharCode(A[f]);var p=u();c({data:d,addLength1:!0,objectId:p}),l("endobj");var g=u();c({data:n(s.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var v=u();l("<<"),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l("/StemV "+s.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+p+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(s.metadata.bbox)),l("/FontName /"+Bd(s.fontName)),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l(">>"),l("endobj"),s.objectNumber=u();for(var m=0;m<s.metadata.hmtx.widths.length;m++)s.metadata.hmtx.widths[m]=parseInt(s.metadata.hmtx.widths[m]*(1e3/s.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+Bd(s.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+s.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(s.metadata.hmtx.widths)+">>"),l("endobj"),s.isAlreadyPutted=!0}})(a)}]);var i=function(a){var o,s=a.text||"",l=a.x,u=a.y,c=a.options||{},A=a.mutex||{},d=A.pdfEscape,f=A.activeFontKey,p=A.fonts,g=f,v="",m=0,y="",w=p[g].encoding;if(p[g].encoding!=="Identity-H")return{text:s,x:l,y:u,options:c,mutex:A};for(y=s,g=f,Array.isArray(s)&&(y=s[0]),m=0;m<y.length;m+=1)p[g].metadata.hasOwnProperty("cmap")&&(o=p[g].metadata.cmap.unicode.codeMap[y[m].charCodeAt(0)]),o||y[m].charCodeAt(0)<256&&p[g].metadata.hasOwnProperty("Unicode")?v+=y[m]:v+="";var b="";return parseInt(g.slice(1))<14||w==="WinAnsiEncoding"?b=d(v,g).split("").map(function(B){return B.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(b=r(v,p[g])),A.isHex=!0,{text:b,x:l,y:u,options:c,mutex:A}};t.events.push(["postProcessText",function(a){var o=a.text||"",s=[],l={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?s.push([i(Object.assign({},l,{text:o[u][0]})).text,o[u][1],o[u][2]]):s.push(i(Object.assign({},l,{text:o[u]})).text);a.text=s}else a.text=i(Object.assign({},l,{text:o})).text}])}(Et),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Et.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var i,a,o,s,l,u,c,A=t,d=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],p={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],m=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,w=0;this.__bidiEngine__={};var b=function(F){var N=F.charCodeAt(),U=N>>8,M=g[U];return M!==void 0?A[256*M+(255&N)]:U===252||U===253?"AL":m.test(U)?"L":U===8?"R":"N"},B=function(F){for(var N,U=0;U<F.length;U++){if((N=b(F.charAt(U)))==="L")return!1;if(N==="R")return!0}return!1},S=function(F,N,U,M){var V,Q,W,D,K=N[M];switch(K){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"N":case"AN":break;case"EN":y&&(K="AN");break;case"AL":y=!0,K="R";break;case"WS":case"BN":K="N";break;case"CS":M<1||M+1>=N.length||(V=U[M-1])!=="EN"&&V!=="AN"||(Q=N[M+1])!=="EN"&&Q!=="AN"?K="N":y&&(Q="AN"),K=Q===V?Q:"N";break;case"ES":K=(V=M>0?U[M-1]:"B")==="EN"&&M+1<N.length&&N[M+1]==="EN"?"EN":"N";break;case"ET":if(M>0&&U[M-1]==="EN"){K="EN";break}if(y){K="N";break}for(W=M+1,D=N.length;W<D&&N[W]==="ET";)W++;K=W<D&&N[W]==="EN"?"EN":"N";break;case"NSM":if(o&&!s){for(D=N.length,W=M+1;W<D&&N[W]==="NSM";)W++;if(W<D){var ie=F[M],ee=ie>=1425&&ie<=2303||ie===64286;if(V=N[W],ee&&(V==="R"||V==="AL")){K="R";break}}}K=M<1||(V=N[M-1])==="B"?"N":U[M-1];break;case"B":y=!1,i=!0,K=w;break;case"S":a=!0,K="N"}return K},P=function(F,N,U){var M=F.split("");return U&&k(M,U,{hiLevel:w}),M.reverse(),N&&N.reverse(),M.join("")},k=function(F,N,U){var M,V,Q,W,D,K=-1,ie=F.length,ee=0,L=[],j=w?f:d,z=[];for(y=!1,i=!1,a=!1,V=0;V<ie;V++)z[V]=b(F[V]);for(Q=0;Q<ie;Q++){if(D=ee,L[Q]=S(F,z,L,Q),M=240&(ee=j[D][p[L[Q]]]),ee&=15,N[Q]=W=j[ee][5],M>0)if(M===16){for(V=K;V<Q;V++)N[V]=1;K=-1}else K=-1;if(j[ee][6])K===-1&&(K=Q);else if(K>-1){for(V=K;V<Q;V++)N[V]=W;K=-1}z[Q]==="B"&&(N[Q]=0),U.hiLevel|=W}a&&function(X,ae,Z){for(var ce=0;ce<Z;ce++)if(X[ce]==="S"){ae[ce]=w;for(var ne=ce-1;ne>=0&&X[ne]==="WS";ne--)ae[ne]=w}}(z,N,ie)},I=function(F,N,U,M,V){if(!(V.hiLevel<F)){if(F===1&&w===1&&!i)return N.reverse(),void(U&&U.reverse());for(var Q,W,D,K,ie=N.length,ee=0;ee<ie;){if(M[ee]>=F){for(D=ee+1;D<ie&&M[D]>=F;)D++;for(K=ee,W=D-1;K<W;K++,W--)Q=N[K],N[K]=N[W],N[W]=Q,U&&(Q=U[K],U[K]=U[W],U[W]=Q);ee=D}ee++}}},O=function(F,N,U){var M=F.split(""),V={hiLevel:w};return U||(U=[]),k(M,U,V),function(Q,W,D){if(D.hiLevel!==0&&c)for(var K,ie=0;ie<Q.length;ie++)W[ie]===1&&(K=v.indexOf(Q[ie]))>=0&&(Q[ie]=v[K+1])}(M,U,V),I(2,M,N,U,V),I(1,M,N,U,V),M.join("")};return this.__bidiEngine__.doBidiReorder=function(F,N,U){if(function(V,Q){if(Q)for(var W=0;W<V.length;W++)Q[W]=W;s===void 0&&(s=B(V)),u===void 0&&(u=B(V))}(F,N),o||!l||u)if(o&&l&&s^u)w=s?1:0,F=P(F,N,U);else if(!o&&l&&u)w=s?1:0,F=O(F,N,U),F=P(F,N);else if(!o||s||l||u){if(o&&!l&&s^u)F=P(F,N),s?(w=0,F=O(F,N,U)):(w=1,F=O(F,N,U),F=P(F,N));else if(o&&s&&!l&&u)w=1,F=O(F,N,U),F=P(F,N);else if(!o&&!l&&s^u){var M=c;s?(w=1,F=O(F,N,U),w=0,c=!1,F=O(F,N,U),c=M):(w=0,F=O(F,N,U),F=P(F,N),w=1,c=!1,F=O(F,N,U),c=M,F=P(F,N))}}else w=0,F=O(F,N,U);else w=s?1:0,F=O(F,N,U);return F},this.__bidiEngine__.setOptions=function(F){F&&(o=F.isInputVisual,l=F.isOutputVisual,s=F.isInputRtl,u=F.isOutputRtl,c=F.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var o=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var s=0;for(o=[],s=0;s<i.length;s+=1)Object.prototype.toString.call(i[s])==="[object Array]"?o.push([r.doBidiReorder(i[s][0]),i[s][1],i[s][2]]):o.push([r.doBidiReorder(i[s])]);n.text=o}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(Et),Et.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new aA(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new pce(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new tce(this.contents),this.head=new nce(this),this.name=new lce(this),this.cmap=new zH(this),this.toUnicode={},this.hhea=new ice(this),this.maxp=new uce(this),this.hmtx=new cce(this),this.post=new oce(this),this.os2=new ace(this),this.loca=new hce(this),this.glyf=new Ace(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,s,l,u;for(u=[],o=0,s=(l=this.bbox).length;o<s;o++)t=l[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var i,a,o,s;for(o=0,a=0,s=(t=""+t).length;0<=s?a<s:a>s;a=0<=s?++a:--a)i=t.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var Ys,aA=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,i;for(i=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(t.charCodeAt(r)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,i,a,o,s,l;return t=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),s=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^o)+256*(255^s)+(255^l)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*i+16777216*a+65536*o+256*s+l},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,i,a;for(a=[],n=0,i=t.length;n<i;n++)r=t[n],a.push(this.writeByte(r));return a},e}(),tce=function(){var e;function t(r){var n,i,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,i,a,o,s,l,u,c,A,d,f,p,g;for(g in f=Object.keys(r).length,l=Math.log(2),A=16*Math.floor(Math.log(f)/l),o=Math.floor(A/l),c=16*f-A,(i=new aA).writeInt(this.scalarType),i.writeShort(f),i.writeShort(A),i.writeShort(o),i.writeShort(c),a=16*f,u=i.pos+a,s=null,p=[],r)for(d=r[g],i.writeString(g),i.writeInt(e(d)),i.writeInt(u),i.writeInt(d.length),p=p.concat(d),g==="head"&&(s=u),u+=d.length;u%4;)p.push(0),u++;return i.write(p),n=2981146554-e(i.data),i.pos=s+8,i.writeUInt32(n),i.data},e=function(r){var n,i,a,o;for(r=VH.call(r);r.length%4;)r.push(0);for(a=new aA(r),i=0,n=0,o=r.length;n<o;n=n+=4)i+=a.readUInt32();return 4294967295&i},t}(),rce={}.hasOwnProperty,Dl=function(e,t){for(var r in t)rce.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Ys=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var nce=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Dl(e,Ys),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new aA).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),qT=function(){function e(t,r){var n,i,a,o,s,l,u,c,A,d,f,p,g,v,m,y,w;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),A=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(f=t.readUInt16(),d=f/2,t.pos+=6,a=function(){var b,B;for(B=[],l=b=0;0<=d?b<d:b>d;l=0<=d?++b:--b)B.push(t.readUInt16());return B}(),t.pos+=2,g=function(){var b,B;for(B=[],l=b=0;0<=d?b<d:b>d;l=0<=d?++b:--b)B.push(t.readUInt16());return B}(),u=function(){var b,B;for(B=[],l=b=0;0<=d?b<d:b>d;l=0<=d?++b:--b)B.push(t.readUInt16());return B}(),c=function(){var b,B;for(B=[],l=b=0;0<=d?b<d:b>d;l=0<=d?++b:--b)B.push(t.readUInt16());return B}(),i=(this.length-t.pos+this.offset)/2,s=function(){var b,B;for(B=[],l=b=0;0<=i?b<i:b>i;l=0<=i?++b:--b)B.push(t.readUInt16());return B}(),l=m=0,w=a.length;m<w;l=++m)for(v=a[l],n=y=p=g[l];p<=v?y<=v:y>=v;n=p<=v?++y:--y)c[l]===0?o=n+u[l]:(o=s[c[l]/2+(n-p)-(d-l)]||0)!==0&&(o+=u[l]),this.codeMap[n]=65535&o}t.pos=A}return e.encode=function(t,r){var n,i,a,o,s,l,u,c,A,d,f,p,g,v,m,y,w,b,B,S,P,k,I,O,F,N,U,M,V,Q,W,D,K,ie,ee,L,j,z,X,ae,Z,ce,ne,pe,ye,de;switch(M=new aA,o=Object.keys(t).sort(function(Ie,De){return Ie-De}),r){case"macroman":for(g=0,v=function(){var Ie=[];for(p=0;p<256;++p)Ie.push(0);return Ie}(),y={0:0},a={},V=0,K=o.length;V<K;V++)y[ne=t[i=o[V]]]==null&&(y[ne]=++g),a[i]={old:t[i],new:y[t[i]]},v[i]=y[t[i]];return M.writeUInt16(1),M.writeUInt16(0),M.writeUInt32(12),M.writeUInt16(0),M.writeUInt16(262),M.writeUInt16(0),M.write(v),{charMap:a,subtable:M.data,maxGlyphID:g+1};case"unicode":for(N=[],A=[],w=0,y={},n={},m=u=null,Q=0,ie=o.length;Q<ie;Q++)y[B=t[i=o[Q]]]==null&&(y[B]=++w),n[i]={old:B,new:y[B]},s=y[B]-i,m!=null&&s===u||(m&&A.push(m),N.push(i),u=s),m=i;for(m&&A.push(m),A.push(65535),N.push(65535),O=2*(I=N.length),k=2*Math.pow(Math.log(I)/Math.LN2,2),d=Math.log(k/2)/Math.LN2,P=2*I-k,l=[],S=[],f=[],p=W=0,ee=N.length;W<ee;p=++W){if(F=N[p],c=A[p],F===65535){l.push(0),S.push(0);break}if(F-(U=n[F].new)>=32768)for(l.push(0),S.push(2*(f.length+I-p)),i=D=F;F<=c?D<=c:D>=c;i=F<=c?++D:--D)f.push(n[i].new);else l.push(U-F),S.push(0)}for(M.writeUInt16(3),M.writeUInt16(1),M.writeUInt32(12),M.writeUInt16(4),M.writeUInt16(16+8*I+2*f.length),M.writeUInt16(0),M.writeUInt16(O),M.writeUInt16(k),M.writeUInt16(d),M.writeUInt16(P),Z=0,L=A.length;Z<L;Z++)i=A[Z],M.writeUInt16(i);for(M.writeUInt16(0),ce=0,j=N.length;ce<j;ce++)i=N[ce],M.writeUInt16(i);for(pe=0,z=l.length;pe<z;pe++)s=l[pe],M.writeUInt16(s);for(ye=0,X=S.length;ye<X;ye++)b=S[ye],M.writeUInt16(b);for(de=0,ae=f.length;de<ae;de++)g=f[de],M.writeUInt16(g);return{charMap:n,subtable:M.data,maxGlyphID:w+1}}},e}(),zH=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Dl(e,Ys),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new qT(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,i;return r==null&&(r="macroman"),n=qT.encode(t,r),(i=new aA).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},e}(),ice=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Dl(e,Ys),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),ace=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Dl(e,Ys),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),oce=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Dl(e,Ys),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=t.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)r=t.readByte(),i.push(this.names.push(t.readString(r)));return i;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var o,s,l;for(l=[],a=o=0,s=this.file.maxp.numGlyphs;0<=s?o<s:o>s;a=0<=s?++o:--o)l.push(t.readUInt32());return l}).call(this)}},e}(),sce=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},lce=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Dl(e,Ys),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,i,a,o,s,l,u,c,A,d;for(t.pos=this.offset,t.readShort(),r=t.readShort(),s=t.readShort(),n=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+s+t.readShort()});for(l={},a=c=0,A=n.length;c<A;a=++c)i=n[a],t.pos=i.offset,u=t.readString(i.length),o=new sce(u,i),l[d=i.nameID]==null&&(l[d]=[]),l[i.nameID].push(o);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},e}(),uce=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Dl(e,Ys),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),cce=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Dl(e,Ys),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,i,a,o,s,l;for(t.pos=this.offset,this.metrics=[],r=0,s=this.file.hhea.numberOfMetrics;0<=s?r<s:r>s;r=0<=s?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,c;for(c=[],r=u=0;0<=i?u<i:u>i;r=0<=i?++u:--u)c.push(t.readInt16());return c}(),this.widths=(function(){var u,c,A,d;for(d=[],u=0,c=(A=this.metrics).length;u<c;u++)a=A[u],d.push(a.advance);return d}).call(this),n=this.widths[this.widths.length-1],l=[],r=o=0;0<=i?o<i:o>i;r=0<=i?++o:--o)l.push(this.widths.push(n));return l},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),VH=[].slice,Ace=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Dl(e,Ys),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,i,a,o,s,l,u,c,A;return t in this.cache?this.cache[t]:(a=this.file.loca,r=this.file.contents,n=a.indexOf(t),(i=a.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,o=(s=new aA(r.read(i))).readShort(),u=s.readShort(),A=s.readShort(),l=s.readShort(),c=s.readShort(),this.cache[t]=o===-1?new dce(s,u,A,l,c):new fce(s,o,u,A,l,c),this.cache[t]))},e.prototype.encode=function(t,r,n){var i,a,o,s,l;for(o=[],a=[],s=0,l=r.length;s<l;s++)i=t[r[s]],a.push(o.length),i&&(o=o.concat(i.encode(n)));return a.push(o.length),{table:o,offsets:a}},e}(),fce=function(){function e(t,r,n,i,a,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),dce=function(){function e(t,r,n,i,a){var o,s;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;s=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&s;)o.pos+=1&s?4:2,128&s?o.pos+=8:64&s?o.pos+=4:8&s&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new aA(VH.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),hce=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Dl(e,Ys),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=2)a.push(2*t.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=4)a.push(t.readUInt32());return a}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),i=0,a=0,o=0;o<n.length;++o)if(n[o]=i,a<r.length&&r[a]==o){++a,n[o]=i;var s=this.offsets[o],l=this.offsets[o+1]-s;l>0&&(i+=l)}for(var u=new Array(4*n.length),c=0;c<n.length;++c)u[4*c+3]=255&n[c],u[4*c+2]=(65280&n[c])>>8,u[4*c+1]=(16711680&n[c])>>16,u[4*c]=(4278190080&n[c])>>24;return u},e}(),pce=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,i,a;for(r in i=this.font.cmap.tables[0].codeMap,t={},a=this.subset)n=a[r],t[r]=i[n];return t},e.prototype.glyphsFor=function(t){var r,n,i,a,o,s,l;for(i={},o=0,s=t.length;o<s;o++)i[a=t[o]]=this.font.glyf.glyphFor(a);for(a in r=[],i)(n=i[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in l=this.glyphsFor(r))n=l[a],i[a]=n;return i},e.prototype.encode=function(t,r){var n,i,a,o,s,l,u,c,A,d,f,p,g,v,m;for(i in n=zH.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),f={0:0},m=n.charMap)f[(l=m[i]).old]=l.new;for(p in d=n.maxGlyphID,o)p in f||(f[p]=d++);return c=function(y){var w,b;for(w in b={},y)b[y[w]]=w;return b}(f),A=Object.keys(c).sort(function(y,w){return y-w}),g=function(){var y,w,b;for(b=[],y=0,w=A.length;y<w;y++)s=A[y],b.push(c[s]);return b}(),a=this.font.glyf.encode(o,g,f),u=this.font.loca.encode(a.offsets,g),v={cmap:this.font.cmap.raw(),glyf:a.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},e}();Et.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,i,a,o;if(Array.isArray(r))return"["+function(){var s,l,u;for(u=[],s=0,l=r.length;s<l;s++)n=r[s],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in a=["<<"],r)o=r[i],a.push("/"+i+" "+t.convert(o));return a.push(">>"),a.join(`
`)}return""+r},t}();const XT={portrait:{width:794,height:1123},landscape:{width:1123,height:794}};function mce(e){const t=Array.from(e.querySelectorAll("img"));return t.length===0?Promise.resolve():Promise.all(t.map(r=>r.complete?Promise.resolve():new Promise(n=>{r.onload=()=>n(),r.onerror=()=>n()}))).then(()=>{})}async function pN(e,t={}){var u,c,A,d,f,p;const{fileName:r="profile.pdf",orientation:n="p",hasPhoto:i=void 0,centerIfNoPhoto:a=!0}=t;if(!e)throw new Error("Template root element is missing");const o=!!(a&&i===!1),s=e.querySelectorAll(".no-print"),l=[];s.forEach(g=>{l.push(g.style.display),g.style.display="none"});try{await((A=(c=(u=document.fonts)==null?void 0:u.ready)==null?void 0:c.catch)==null?void 0:A.call(c,()=>{}));const g=document.createElement("div");g.setAttribute("data-pdf-sandbox","true"),g.style.position="fixed",g.style.left="-100000px",g.style.top="0",g.style.background="#ffffff",g.style.overflow="hidden",g.style.padding="0",g.style.margin="0",g.style.zIndex="-1";const v=n==="l"?XT.landscape:XT.portrait;g.style.width=`${v.width}px`;const m=e.cloneNode(!0);m.style.width="100%",m.style.maxWidth="100%",m.style.margin="0",m.style.boxSizing="border-box",(p=(f=(d=m.querySelectorAll)==null?void 0:d.call(m,".no-print"))==null?void 0:f.forEach)==null||p.call(f,M=>{M.style.display="none"}),g.appendChild(m),document.body.appendChild(g),await mce(m);const y=await rH(m,{scale:2,useCORS:!0,backgroundColor:"#ffffff",logging:!1,width:g.clientWidth,windowWidth:g.clientWidth,scrollX:0,scrollY:0,ignoreElements:M=>{var V;return(V=M.classList)==null?void 0:V.contains("no-print")}});document.body.removeChild(g);const w=new Et({orientation:n,unit:"pt",format:"a4"}),b=w.internal.pageSize.getWidth(),B=w.internal.pageSize.getHeight(),S=20,P=b-S*2,k=B-S*2,I=P,O=y.height*I/y.width,F=Math.ceil(O/k),N=document.createElement("canvas"),U=N.getContext("2d");N.width=y.width,N.height=Math.ceil(k*(y.width/I));for(let M=0;M<F;M++){M>0&&w.addPage();const V=Math.floor(M*k*(y.width/I)),Q=Math.min(N.height,y.height-V);U.clearRect(0,0,N.width,N.height),U.drawImage(y,0,V,y.width,Q,0,0,y.width,Q);const W=N.toDataURL("image/png",1),D=Q*I/y.width,K=S,ie=o&&F===1&&D<k?S+(k-D)/2:S;w.addImage(W,"PNG",K,ie,I,D,void 0,"FAST")}w.save(r)}finally{s.forEach((g,v)=>{g.style.display=l[v]||""})}}const LC="saarthi_chatbot_state_v1",gce=({userProfile:e,onRegenerateProfile:t})=>{const[r,n]=E.useState(null),[i,a]=E.useState([]),[o,s]=E.useState(""),[l,u]=E.useState(!1),[c,A]=E.useState(!1),[d,f]=E.useState(!1),[p,g]=E.useState(null),[v,m]=E.useState(!1),[y,w]=E.useState(!1),b=E.useRef(null),B=E.useRef(null),S=E.useRef(null),P=E.useRef(!1),k=()=>{if(b.current){const Q=b.current.closest(".overflow-y-auto");if(Q)Q.scrollTop=Q.scrollHeight;else{const W=document.activeElement;b.current.scrollIntoView({behavior:"smooth",block:"nearest"}),W===S.current&&requestAnimationFrame(()=>{var D;(D=S.current)==null||D.focus()})}}};E.useEffect(()=>{const Q=setTimeout(()=>{k()},10);return()=>clearTimeout(Q)},[i]),E.useEffect(()=>{!l&&!y&&!d&&S.current&&i.length>0&&requestAnimationFrame(()=>{setTimeout(()=>{var Q;(Q=S.current)==null||Q.focus()},200)})},[l,y,d,i.length]),E.useEffect(()=>{if(!e||P.current)return;P.current=!0;let Q=!1;try{const W=localStorage.getItem(LC);if(W){const D=JSON.parse(W);D&&D.chatState&&Array.isArray(D.messages)&&D.messages.length>0&&(n(D.chatState),a(D.messages),f(!!D.isComplete),g(D.evaluationResult||null),Q=!0)}}catch(W){console.warn("Failed to restore chatbot state from localStorage:",W),localStorage.removeItem(LC)}Q||I()},[e]),E.useEffect(()=>{if(!r||!i||i.length===0)return;const Q={chatState:r,messages:i,evaluationResult:p,isComplete:d};try{localStorage.setItem(LC,JSON.stringify(Q))}catch(W){console.warn("Failed to persist chatbot state to localStorage:",W)}},[r,i,p,d]),E.useEffect(()=>{if(i.length>0&&P.current&&r){const Q=setTimeout(()=>{k();const W=document.querySelector("[data-chatbot-container]");if(W){const D=W.getBoundingClientRect();D.top>=0&&D.top<window.innerHeight||W.scrollIntoView({behavior:"smooth",block:"start"})}},300);return()=>clearTimeout(Q)}},[i.length,r]);const I=async()=>{A(!0);try{const Q=await UQ(e);if(Q.success&&Q.data.questions){const W=Q.data.questions;n({currentStage:1,currentQuestionIndex:0,questions:W,answers:{},pendingWhyQuestion:null,complete:!1}),a([{type:"bot",text:"Hello! I'm Saathi, your AI career counselor. I'll ask you 15 questions to understand your interests better. Let's begin!"},{type:"bot",text:W[0]}])}}catch{a([{type:"error",text:"Failed to initialize chatbot. Please try again."}])}finally{A(!1)}},O=async()=>{if(!o.trim()||l||!r)return;const Q=o.trim();s(""),a(W=>[...W,{type:"user",text:Q}]),u(!0),requestAnimationFrame(()=>{var W;(W=S.current)==null||W.focus()});try{const W=await RQ(Q,r);if(W.success&&W.data){const{nextQuestion:D,conversationState:K,isComplete:ie}=W.data;if(n(K),ie)f(!0),a(ee=>[...ee,{type:"bot",text:"Great! You've answered all questions. Let me analyze your responses..."}]),F(K);else if(D){const ee=D.toLowerCase();ee.includes("interests")&&(ee.includes("goals")||ee.includes("goal"))&&K.answers&&Object.keys(K.answers).some(z=>{const X=z.toLowerCase();return X.includes("interests")&&(X.includes("goals")||X.includes("goal"))})&&(console.log("Skipping duplicate interests/goals question"),console.warn("Backend returned a duplicate interests/goals question")),a(j=>[...j,{type:"bot",text:D}])}}}catch{a(D=>[...D,{type:"error",text:"Failed to send message. Please try again."}])}finally{u(!1),requestAnimationFrame(()=>{setTimeout(()=>{var W;(W=S.current)==null||W.focus()},150)})}},F=async Q=>{const W=Q||r;if(!(!W||!e)){w(!0);try{const D=await DQ(e,W.answers);D.success&&D.data&&(g(D.data),a(K=>[...K,{type:"bot",text:"Evaluation complete! Scroll down to see your comprehensive results."}]))}catch{a(K=>[...K,{type:"error",text:"Failed to evaluate. Please try again."}])}finally{w(!1)}}},N=Q=>{Q.key==="Enter"&&!Q.shiftKey&&(Q.preventDefault(),O())},U=async()=>{if(!p||!B.current){Ts("Report data is not available. Please complete the evaluation first.");return}try{const W=`Saathi_Report_${new Date().toISOString().replace(/[:.]/g,"-")}.pdf`;await pN(B.current,{fileName:W,orientation:"p"}),Lo("PDF report downloaded successfully!")}catch(Q){console.error("Error generating PDF:",Q),Ts("Failed to generate PDF report. Please try again or contact support if the issue persists.")}},M=async()=>{if(t){if(!(r!=null&&r.answers)||Object.keys(r.answers).length===0){a(Q=>[...Q,{type:"error",text:"Please complete the chatbot before regenerating your profile."}]);return}m(!0),a(Q=>[...Q,{type:"bot",text:"Regenerating your profile using the latest insights..."}]);try{const Q=await t(r.answers,p);Q&&Q.success?a(W=>[...W,{type:"bot",text:"Profile regenerated successfully. Head back to the profile view to see the updated content."}]):a(W=>[...W,{type:"error",text:(Q==null?void 0:Q.error)||"Unable to regenerate profile right now."}])}catch(Q){a(W=>[...W,{type:"error",text:(Q==null?void 0:Q.message)||"An unexpected error occurred while regenerating your profile."}])}finally{m(!1)}}},V=async()=>{var Q;if(!e){Ts("Profile data is not available.");return}console.log("User profile data:",e);try{const W=ie=>{if(!ie)return 25;try{const ee=new Date(ie),L=new Date;let j=L.getFullYear()-ee.getFullYear();const z=L.getMonth()-ee.getMonth();return(z<0||z===0&&L.getDate()<ee.getDate())&&j--,j>0?j:25}catch{return 25}},D=ie=>{if(!ie)return"B.Tech";const ee=ie.toLowerCase();return ee.includes("b.tech")||ee.includes("btech")||ee.includes("bachelor of technology")?"B.Tech":ee.includes("bba")||ee.includes("bachelor of business")?"BBA":ee.includes("b.com")||ee.includes("bcom")||ee.includes("bachelor of commerce")?"B.Com":ee.includes("mba")||ee.includes("master of business")?"MBA":"Other"},K={name:e.name||"User",email:e.email||"user@example.com",phone:e.phone||"0000000000",age:W(e.dob),degree:D(e.currentDegree||e.degree),specialization:e.branch||e.specialization||"General",careerInterest:e.interests||e.goals||"Career Development",certifications:e.certifications||"None",achievements:e.achievements||"None",technicalSkills:e.technicalSkills||"General Skills",softSkills:e.softSkills||"Communication, Teamwork",interests:e.interests||e.goals||"Learning and Development",hobbies:e.hobbies||"Reading, Learning"};console.log(" Prepared psychometric data:",K),sessionStorage.setItem("psychometric_from_profile","true"),sessionStorage.setItem("psychometric_profile_data",JSON.stringify(K)),console.log(" Stored data in sessionStorage"),console.log("   - psychometric_from_profile:",sessionStorage.getItem("psychometric_from_profile")),console.log("   - psychometric_profile_data length:",(Q=sessionStorage.getItem("psychometric_profile_data"))==null?void 0:Q.length),Lo("Preparing your psychometric test..."),console.log(" Redirecting to /psychometric/start in 500ms..."),setTimeout(()=>{window.location.href="/psychometric/start"},500)}catch(W){console.error("Error preparing psychometric test:",W),sessionStorage.removeItem("psychometric_from_profile"),sessionStorage.removeItem("psychometric_profile_data"),Ts(W.message||"Failed to prepare psychometric test. Please try again.")}};return c?h.jsx("div",{className:"flex items-center justify-center p-8",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600",children:"Saathi is preparing your personalized questions..."})]})}):h.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[h.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[h.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-4",children:[h.jsx("h2",{className:"text-xl font-semibold",children:" Chat with Saathi"}),h.jsx("p",{className:"text-sm text-blue-100",children:"AI Career Counselor"})]}),h.jsxs("div",{className:"h-96 overflow-y-auto p-4 bg-gray-50",children:[i.map((Q,W)=>h.jsx("div",{className:`mb-4 flex ${Q.type==="user"?"justify-end":"justify-start"}`,children:h.jsx("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${Q.type==="user"?"bg-blue-600 text-white":Q.type==="error"?"bg-red-100 text-red-800":"bg-white text-gray-800 border border-gray-200"}`,style:void 0,children:h.jsx("p",{className:"text-sm whitespace-pre-wrap",children:Q.text})})},W)),l&&h.jsx("div",{className:"flex justify-start mb-4",children:h.jsx("div",{className:"bg-white border border-gray-200 rounded-lg px-4 py-2",children:h.jsxs("div",{className:"flex space-x-1",children:[h.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),h.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),h.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})}),y&&h.jsx("div",{className:"flex justify-start mb-4",children:h.jsx("div",{className:"bg-white border border-gray-200 rounded-lg px-4 py-2",children:h.jsx("p",{className:"text-sm text-gray-600",children:"Analyzing your responses..."})})}),h.jsx("div",{ref:b})]}),!d&&h.jsx("div",{className:"border-t border-gray-200 p-4 bg-white",children:h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{ref:S,type:"text",value:o,onChange:Q=>s(Q.target.value),onKeyPress:N,placeholder:"Type your answer...",className:"flex-1 border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:l,autoFocus:!0}),h.jsx("button",{onClick:O,disabled:l||!o.trim(),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Send"})]})})]}),p&&h.jsxs("div",{ref:B,className:"mt-6 bg-white rounded-lg shadow-lg p-6",children:[h.jsx("h3",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Your Interest Evaluation"}),p.interests&&h.jsxs("div",{className:"mb-6",children:[h.jsx("h4",{className:"text-lg font-semibold mb-3",children:"Interest Scores"}),h.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:Object.entries(p.interests).map(([Q,W])=>h.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[h.jsx("p",{className:"text-sm text-gray-600 capitalize",children:Q}),h.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[W.toFixed(1),"%"]})]},Q))})]}),p.interestPersona&&h.jsxs("div",{className:"mb-6",children:[h.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Your Interest Persona"}),h.jsx("p",{className:"text-gray-700 bg-blue-50 p-4 rounded",children:p.interestPersona})]}),p.summary&&h.jsxs("div",{className:"mb-6",children:[h.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Summary"}),h.jsx("p",{className:"text-gray-700",children:p.summary})]}),p.invalidAnswers&&Object.keys(p.invalidAnswers).length>0&&h.jsxs("div",{className:"mb-6 bg-yellow-50 border-l-4 border-yellow-400 p-4",children:[h.jsx("h4",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"Incomplete Answers Detected"}),h.jsx("p",{className:"text-sm text-yellow-800 mb-2",children:"Some responses looked very short or like placeholders. We generated this report, but revisiting those answers will help Saathi give more accurate guidance."}),h.jsx("ul",{className:"list-disc list-inside space-y-1 text-yellow-900 text-sm",children:Object.entries(p.invalidAnswers).map(([Q,W])=>h.jsxs("li",{children:[h.jsx("span",{className:"font-semibold",children:Q}),": ",W||"No additional text provided"]},Q))})]}),h.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[p.strengths&&p.strengths.length>0&&h.jsxs("div",{children:[h.jsx("h4",{className:"text-lg font-semibold mb-2 text-green-700",children:"Strengths"}),h.jsx("ul",{className:"list-disc list-inside space-y-1",children:p.strengths.map((Q,W)=>h.jsx("li",{className:"text-gray-700",children:Q},W))})]}),p.weaknesses&&p.weaknesses.length>0&&h.jsxs("div",{children:[h.jsx("h4",{className:"text-lg font-semibold mb-2 text-orange-700",children:"Areas to Improve"}),h.jsx("ul",{className:"list-disc list-inside space-y-1",children:p.weaknesses.map((Q,W)=>h.jsx("li",{className:"text-gray-700",children:Q},W))})]})]}),h.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[p.dos&&p.dos.length>0&&h.jsxs("div",{children:[h.jsx("h4",{className:"text-lg font-semibold mb-2 text-green-700",children:"Do's"}),h.jsx("ul",{className:"list-disc list-inside space-y-1",children:p.dos.map((Q,W)=>h.jsx("li",{className:"text-gray-700",children:Q},W))})]}),p.donts&&p.donts.length>0&&h.jsxs("div",{children:[h.jsx("h4",{className:"text-lg font-semibold mb-2 text-red-700",children:"Don'ts"}),h.jsx("ul",{className:"list-disc list-inside space-y-1",children:p.donts.map((Q,W)=>h.jsx("li",{className:"text-gray-700",children:Q},W))})]})]}),p.recommendedRoles&&p.recommendedRoles.length>0&&h.jsxs("div",{className:"mb-6",children:[h.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Recommended Roles"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:p.recommendedRoles.map((Q,W)=>h.jsx("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm",children:Q},W))})]}),p.roadmap90Days&&h.jsxs("div",{className:"mb-6",children:[h.jsx("h4",{className:"text-lg font-semibold mb-2",children:"90-Day Roadmap"}),h.jsx("p",{className:"text-gray-700 bg-gray-50 p-4 rounded",children:p.roadmap90Days})]}),p.suggestedCourses&&p.suggestedCourses.length>0&&h.jsxs("div",{className:"mb-6",children:[h.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Suggested Courses"}),h.jsx("ul",{className:"list-disc list-inside space-y-1",children:p.suggestedCourses.map((Q,W)=>h.jsx("li",{className:"text-gray-700",children:Q},W))})]}),p.projectIdeas&&p.projectIdeas.length>0&&h.jsxs("div",{className:"mb-6",children:[h.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Project Ideas"}),h.jsx("ul",{className:"list-disc list-inside space-y-1",children:p.projectIdeas.map((Q,W)=>h.jsx("li",{className:"text-gray-700",children:Q},W))})]}),h.jsxs("div",{className:"mt-6 flex flex-wrap gap-3 no-print",children:[h.jsx("button",{type:"button",onClick:U,className:"bg-blue-600 text-white px-5 py-2 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Download Report"}),h.jsx("button",{type:"button",onClick:M,disabled:v||!t||!(r!=null&&r.answers)||Object.keys((r==null?void 0:r.answers)||{}).length===0,className:"bg-emerald-600 text-white px-5 py-2 rounded-lg font-semibold hover:bg-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:v?"Regenerating...":"Regenerate Profile"}),h.jsx("button",{type:"button",onClick:V,className:"bg-purple-600 text-white px-5 py-2 rounded-lg font-semibold hover:bg-purple-700 transition-colors",children:"Take Psychometric Test"})]}),v&&h.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Regenerating your profile. Please continue once this completes."})]})]})},vce=({templateText:e,profile:t,templateIcon:r,templateName:n,templateDescription:i})=>{const a=(t==null?void 0:t.name)||"",o=(t==null?void 0:t.email)||"",s=(t==null?void 0:t.phone)||"",l=(t==null?void 0:t.linkedin)||"",u=k=>{if(!k)return"";const I=k.replace(/\D/g,"");return I.length===10?`(${I.slice(0,3)}) ${I.slice(3,6)}-${I.slice(6)}`:k},A=(k=>{const I=k.getDate(),O=k.toLocaleDateString("en-GB",{month:"long"}),F=k.getFullYear();return`${I}${(U=>{if(U>3&&U<21)return"th";switch(U%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}})(I)} ${O} ${F}`})(new Date),d=e.split(`
`).map(k=>k.trim()).filter(k=>k!=="");let f="",p="",g="",v=0,m=-1,y=-1;d.length>0&&(f=d[0]),d.length>1&&!d[1].toLowerCase().startsWith("dear")&&(p=d[1]);const w=d.findIndex(k=>k.toLowerCase().startsWith("dear"));w!==-1?(g=d[w],v=w+1):v=p?2:1,m=d.findIndex((k,I)=>I>=v&&(k.toLowerCase().includes("regards")||k.toLowerCase().includes("sincerely")||k.toLowerCase().includes("best")&&k.toLowerCase().includes("regards"))),m!==-1&&(y=m+1);const b=m!==-1?m:d.length,B=d.slice(v,b),S=m!==-1?d[m]:"",P=y!==-1?d.slice(y):[];return h.jsxs("div",{className:"cover-letter-content",children:[h.jsxs("div",{className:"cover-letter-header-banner",style:{background:"#1e3a5f",borderRadius:"50px",padding:"30px 40px",marginBottom:"40px",display:"flex",justifyContent:"space-between",alignItems:"center",color:"white",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:[h.jsx("div",{className:"cover-letter-header-name",style:{fontSize:"1.8rem",fontWeight:"bold",lineHeight:"1.2",color:"white"},children:a.split(" ").map((k,I)=>h.jsx("div",{style:{lineHeight:"1.2"},children:k},I))}),h.jsxs("div",{className:"cover-letter-header-contact",style:{textAlign:"right",fontSize:"0.9rem",lineHeight:"1.6",color:"white"},children:[(o||s)&&h.jsxs("div",{style:{marginBottom:"4px"},children:[o&&h.jsx("span",{children:o}),o&&s&&h.jsx("span",{children:" | "}),s&&h.jsx("span",{children:u(s)})]}),l&&h.jsx("div",{children:l})]})]}),(f||p)&&h.jsxs("div",{className:"cover-letter-company",style:{marginBottom:"20px"},children:[h.jsx("div",{style:{marginBottom:"8px"},children:"To the hiring Manager"}),f&&h.jsx("div",{children:f}),p&&h.jsx("div",{children:p}),h.jsx("div",{className:"cover-letter-date",style:{marginTop:"20px"},children:h.jsx("strong",{children:A})})]}),g&&h.jsx("div",{className:"cover-letter-salutation",style:{marginBottom:"20px"},children:g}),h.jsx("div",{className:"cover-letter-body",style:{marginBottom:"20px"},children:B.map((k,I)=>k&&h.jsx("p",{style:{marginBottom:"16px",lineHeight:"1.8",textAlign:"justify"},dangerouslySetInnerHTML:{__html:k}},I))}),S&&h.jsx("div",{className:"cover-letter-closing",style:{marginTop:"30px",marginBottom:"10px"},children:S}),P.length>0&&h.jsx("div",{className:"cover-letter-signature",style:{marginTop:"40px"},children:P.map((k,I)=>k&&h.jsx("div",{style:{fontStyle:I===0?"normal":"italic",fontFamily:I===0?"inherit":"cursive"},children:k},I))})]})},yce=({templateText:e,profile:t})=>{const r=(t==null?void 0:t.profileImage)||"",n=(t==null?void 0:t.name)||"",i=e||"";return h.jsxs("div",{className:"professional-profile-layout simple",children:[h.jsx("div",{className:"professional-profile-content",children:h.jsx("div",{className:"professional-profile-summary",dangerouslySetInnerHTML:{__html:i}})}),r&&h.jsxs("div",{className:"professional-profile-sidebar simple",children:[h.jsx("img",{src:r,alt:n||"Profile",className:"professional-profile-image"}),n&&h.jsx("div",{className:"professional-profile-name",children:n})]})]})},wce=({templateText:e,profile:t})=>{var y;const r=t!=null&&t.name?t.name.split(" ").filter(Boolean):["Your","Name"],n=e?e.split(`
`).map(w=>w.trim()).filter(w=>w.length>0):[],i=t!=null&&t.currentDegree?`${t.currentDegree}${t!=null&&t.branch?`  ${t.branch}`:""}`:(t==null?void 0:t.branch)||"Creative Professional",a=(t==null?void 0:t.institute)||(t==null?void 0:t.city)||"",o=(t==null?void 0:t.phone)||"",s=(t==null?void 0:t.email)||"",l=(t==null?void 0:t.linkedin)||"",u=(t==null?void 0:t.achievements)||"",c=(t==null?void 0:t.technicalSkills)||"",A=(t==null?void 0:t.certifications)||"",d="I craft thoughtful visual stories through research-led design and collaborative experimentation.",f=[o&&{label:"Phone",value:o},s&&{label:"Email",value:s},l&&{label:"LinkedIn",value:l},a&&{label:"Location",value:a}].filter(Boolean),p=[];u&&p.push(`Recent highlights: ${u}`),c&&p.push(`Focus areas: ${c}`);const g=p.join(". "),v=l?`Catch behind-the-scenes snapshots and live project notes on LinkedIn (${l}).`:"Connect with me for in-progress looks at my design process and experiments.",m=(y=t==null?void 0:t.profileImage)!=null&&y.trim()?t.profileImage:"https://via.placeholder.com/420x520.png?text=Profile";return h.jsxs("div",{className:"portrait-template-card",children:[h.jsxs("div",{className:"portrait-left-panel",children:[h.jsxs("div",{children:[h.jsx("div",{className:"portrait-tagline",children:i}),h.jsx("div",{className:"portrait-name-stack",children:r.map((w,b)=>h.jsx("div",{children:w},b))})]}),h.jsx("div",{className:"portrait-summary-block",children:n.length>0?n.map((w,b)=>h.jsx("p",{dangerouslySetInnerHTML:{__html:w}},b)):h.jsx("p",{children:d})}),h.jsxs("div",{className:"portrait-section",children:[h.jsx("h4",{children:"About Me"}),h.jsxs("p",{children:[(t==null?void 0:t.yearOfStudy)&&h.jsxs("span",{children:["Currently in year ",t.yearOfStudy,". "]}),A&&h.jsxs("span",{children:["Certified in ",A,". "]}),"Always exploring new mediums to bridge strategy and craft."]})]}),h.jsxs("div",{className:"portrait-contact-panel",children:[h.jsx("h4",{children:"Contact"}),h.jsx("div",{className:"portrait-contact-list",children:f.map((w,b)=>h.jsxs("div",{children:[h.jsx("span",{children:w.label}),w.value]},`${w.label}-${b}`))})]})]}),h.jsxs("div",{className:"portrait-right-panel",children:[h.jsx("div",{className:"portrait-photo-wrap",children:h.jsx("img",{src:m,alt:(t==null?void 0:t.name)||"Profile portrait"})}),h.jsxs("div",{className:"portrait-right-section",children:[h.jsx("h4",{children:"Portfolio"}),h.jsx("p",{children:g||"Explore my latest identity systems, editorial layouts, and digital experiences where clean typography meets bold storytelling."})]}),h.jsxs("div",{className:"portrait-right-section",children:[h.jsx("h4",{children:"Follow My Work"}),h.jsx("p",{children:v})]})]})]})},GH=({templateType:e,templateText:t,profile:r,templateCss:n,templateIcon:i,templateName:a,templateDescription:o,wrapperClassName:s="profile-card",wrapperStyle:l,renderOnlyContent:u=!1,emptyMessage:c="Enhanced profile preview will appear here once it is ready.",selectedFont:A="Arial",isEditable:d=!1,onContentChange:f})=>{const p=E.useRef(null),g=E.useMemo(()=>(e||(r==null?void 0:r.templateType)||"").toString().toLowerCase().trim(),[e,r]),v=g==="cover",m=g==="professional-profile"||g==="professional",y=g==="designer-portrait";E.useEffect(()=>{if(!n)return;const P=document.createElement("style");return P.setAttribute("data-template-css","template-preview"),P.innerHTML=n,document.head.appendChild(P),()=>{document.head.removeChild(P)}},[n]);const w=!!(t&&t.trim().length>0),b=(i||a)&&h.jsxs("h3",{children:[i&&h.jsx("span",{children:i})," ",a,o&&h.jsx("span",{style:{display:"block",fontSize:"0.9rem",color:"#666",marginTop:"8px",fontWeight:"normal"},children:o})]}),B=w?v?h.jsx(vce,{templateText:t,profile:r,templateIcon:i,templateName:a,templateDescription:o}):m?h.jsx(yce,{templateText:t,profile:r,templateIcon:i,templateName:a,templateDescription:o}):y?h.jsx(wce,{templateText:t,profile:r}):h.jsxs(h.Fragment,{children:[b,h.jsx("p",{className:"whitespace-pre-line",dangerouslySetInnerHTML:{__html:t}})]}):h.jsx("div",{className:"p-4",style:{color:"#4b5563"},children:c});if(u)return B;const S={fontFamily:A,...l};return E.useEffect(()=>{if(!p.current)return;const P=[];if(d){let k=[];if(m?k=p.current.querySelectorAll(".professional-profile-summary"):v?k=p.current.querySelectorAll(".cover-letter-body p"):y?k=p.current.querySelectorAll(".portrait-summary-block p"):k=p.current.querySelectorAll("p.whitespace-pre-line"),k.forEach(I=>{I.contentEditable=!0,I.style.outline="none",I.style.minHeight="20px",I.style.cursor="text";const O=F=>{if(f){const N=F.currentTarget.innerHTML;f(N)}};I.addEventListener("input",O),P.push(()=>{I.removeEventListener("input",O),I.contentEditable=!1,I.style.outline="",I.style.minHeight="",I.style.cursor=""})}),k.length===0){const I=p.current.querySelector('p, div[class*="content"], div[class*="body"]');if(I){I.contentEditable=!0,I.style.outline="none",I.style.cursor="text";const O=F=>{if(f){const N=F.currentTarget.innerHTML;f(N)}};I.addEventListener("input",O),P.push(()=>{I.removeEventListener("input",O),I.contentEditable=!1,I.style.outline="",I.style.cursor=""})}}}else p.current.querySelectorAll('[contenteditable="true"]').forEach(I=>{I.contentEditable=!1,I.style.outline="",I.style.minHeight="",I.style.cursor=""});return()=>{P.forEach(k=>k())}},[d,f,t]),h.jsx("div",{ref:p,className:s,style:S,children:B})},xce={name:"",email:"",phone:"",dob:"",linkedin:"",profileImage:"",institute:"",currentDegree:"",branch:"",yearOfStudy:"",certifications:"",achievements:"",hobbies:"",interests:"",technicalSkills:"",softSkills:"",templateType:"",hiringManagerName:"",companyName:"",companyAddress:"",positionTitle:"",relevantExperience:"",keyAchievement:"",strengths:"",closingNote:"",hasInternship:!1,internshipDetails:"",hasExperience:!1,experienceDetails:""},YT=[{value:"professional",label:"Professional"},{value:"bio",label:"Bio"},{value:"story",label:"Story"},{value:"industry",label:"Industry Ready"},{value:"modern-professional",label:"Modern Professional"},{value:"executive",label:"Executive Professional Template"},{value:"professional-profile",label:"Professional Profile with Photo"},{value:"designer-portrait",label:"Designer Portrait Showcase"},{value:"cover",label:"Cover Letter"}],qH={"professional-profile":"Professional Profile with Photo","designer-portrait":"Designer Portrait Showcase"},bce=e=>!!qH[e],Bce=[{value:"Arial",label:"Arial"},{value:"Helvetica",label:"Helvetica"},{value:"Times New Roman",label:"Times New Roman"},{value:"Georgia",label:"Georgia"},{value:"Verdana",label:"Verdana"},{value:"Courier New",label:"Courier New"},{value:"Roboto",label:"Roboto"},{value:"Open Sans",label:"Open Sans"},{value:"Lato",label:"Lato"},{value:"Montserrat",label:"Montserrat"},{value:"Poppins",label:"Poppins"},{value:"Playfair Display",label:"Playfair Display"},{value:"Merriweather",label:"Merriweather"},{value:"Raleway",label:"Raleway"},{value:"Source Sans Pro",label:"Source Sans Pro"}],Cce=new Set(["technicalSkills","softSkills","certifications","achievements","hobbies","interests"]),Ece=(e,t)=>Array.isArray(t)?t:Cce.has(e)&&typeof t=="string"?t.split(",").map(r=>r.trim()).filter(Boolean):t,Sce=(e={})=>{const t={};return Object.entries(e).forEach(([r,n])=>{if(n==null)return;let i=Ece(r,n);typeof i=="string"&&(i=i.trim(),i==="")||Array.isArray(i)&&i.length===0||(t[r]=i)}),t},Nce=({profileData:e,onEnhanceRequest:t,forceEditMode:r,onForceEditHandled:n,onProfileUpdate:i,savedFormData:a={},isNewProfile:o=!1})=>{const[s,l]=E.useState(e),[u,c]=E.useState(!1),[A,d]=E.useState(xce),[f,p]=E.useState(!1),[g,v]=E.useState(YT),[m,y]=E.useState(null),[w,b]=E.useState(!1),[B,S]=E.useState(!1),[P,k]=E.useState(!1),[I,O]=E.useState(!1),[F,N]=E.useState(null),[U,M]=E.useState("Arial"),[V,Q]=E.useState(""),[W,D]=E.useState(null),[K,ie]=E.useState({top:0,left:0}),[ee,L]=E.useState(!1),[j,z]=E.useState(!1),[X,ae]=E.useState(null),[Z,ce]=E.useState(null),[ne,pe]=E.useState([]),[ye,de]=E.useState(!1),[Ie,De]=E.useState(0),[Y,Ae]=E.useState(!1),[Ee,Pe]=E.useState(!1),[Se,Ke]=E.useState(null),Ve=E.useRef(null);E.useEffect(()=>{l(e)},[e]),E.useEffect(()=>{try{localStorage.removeItem("profile_display_show_chatbot")}catch{}},[]),E.useEffect(()=>{if(o)try{localStorage.removeItem("saarthi_chatbot_state_v1")}catch(ke){console.warn("Failed to clear chatbot state:",ke)}},[o]),E.useEffect(()=>{P&&setTimeout(()=>{const ke=document.querySelector("[data-chatbot-container]");ke&&ke.scrollIntoView({behavior:"smooth",block:"start"})},100)},[P]),E.useEffect(()=>{const ke=s==null?void 0:s.templateText;ke?(ae(ke),Z===null&&ce(ke)):(ae(null),Z!==null&&ce(null))},[s==null?void 0:s.templateText]),E.useEffect(()=>{let ke=!0;return(async()=>{try{const Ze=await tN();if(!ke)return;if(Array.isArray(Ze)){const ht=Ze.map(Tt=>({value:Tt.id,label:Tt.name||Tt.id}));v(ht)}}catch{if(!ke)return;v(YT)}})(),()=>{ke=!1}},[]);const Oe=E.useMemo(()=>s?s.profile||s:null,[s]);E.useEffect(()=>{u&&Oe&&d({name:Oe.name||"",email:Oe.email||"",phone:Oe.phone||"",dob:Oe.dob||"",linkedin:Oe.linkedin||"",institute:Oe.institute||"",currentDegree:Oe.currentDegree||"",branch:Oe.branch||"",yearOfStudy:Oe.yearOfStudy||"",certifications:Oe.certifications||"",achievements:Oe.achievements||"",hobbies:Oe.hobbies||"",interests:Oe.interests||"",technicalSkills:Oe.technicalSkills||"",softSkills:Oe.softSkills||"",templateType:Oe.templateType||"professional",hiringManagerName:Oe.hiringManagerName||"",companyName:Oe.companyName||"",companyAddress:Oe.companyAddress||"",positionTitle:Oe.positionTitle||"",relevantExperience:Oe.relevantExperience||"",keyAchievement:Oe.keyAchievement||"",strengths:Oe.strengths||"",closingNote:Oe.closingNote||"",hasInternship:!!Oe.hasInternship,internshipDetails:Oe.internshipDetails||"",hasExperience:!!Oe.hasExperience,experienceDetails:Oe.experienceDetails||"",profileImage:Oe.profileImage||""})},[u,Oe]),E.useEffect(()=>{r&&(c(!0),typeof n=="function"&&n())},[r,n]),E.useEffect(()=>{if(["Roboto","Open Sans","Lato","Montserrat","Poppins","Playfair Display","Merriweather","Raleway","Source Sans Pro"].includes(U)){const je=`google-font-${U.replace(/\s+/g,"-").toLowerCase()}`;if(!document.getElementById(je)){const Ze=document.createElement("link");Ze.id=je,Ze.rel="stylesheet",Ze.href=`https://fonts.googleapis.com/css2?family=${U.replace(/\s+/g,"+")}:wght@400;500;600;700&display=swap`,document.head.appendChild(Ze)}}},[U]);const et=ke=>({name:ke.name||"",email:ke.email||"",phone:ke.phone||"",dob:ke.dob||"",institute:ke.institute||"",currentDegree:ke.currentDegree||"",degree:ke.degree||"",branch:ke.branch||"",specialization:ke.specialization||"",yearOfStudy:ke.yearOfStudy||"",technicalSkills:ke.technicalSkills||"",softSkills:ke.softSkills||"",certifications:ke.certifications||"",achievements:ke.achievements||"",interests:ke.interests||"",hobbies:ke.hobbies||"",goals:ke.goals||""});if(!Oe)return h.jsx("div",{className:"p-6",children:"No profile data to display"});const Ge=X!==null?X:s==null?void 0:s.templateText,Nt=(s==null?void 0:s.templateCss)||"",St=s==null?void 0:s.templateName,Ot=s==null?void 0:s.templateIcon,Ye=s==null?void 0:s.templateDescription,Je=(Oe==null?void 0:Oe.templateType)||(s==null?void 0:s.templateType),ut=(Oe==null?void 0:Oe.id)||(s==null?void 0:s.id),ct=ke=>{const je=ke.currentTarget.innerHTML;ae(je)},Vr=ke=>{var ht,Tt;if(!(((ht=ke==null?void 0:ke.target)==null?void 0:ht.closest(".profile-card"))||((Tt=ke==null?void 0:ke.target)==null?void 0:Tt.closest(".profile-card-wrapper"))))return;const Ze=window.getSelection();if(Ze&&Ze.toString().trim().length>0){const It=Ze.toString().trim(),tr=Ze.getRangeAt(0),_t=document.querySelector(".profile-card")||document.querySelector(".profile-card-wrapper");if(_t&&!_t.contains(tr.commonAncestorContainer)){L(!1);return}const er=tr.getBoundingClientRect(),Bi=window.pageYOffset||document.documentElement.scrollTop,Zn=window.pageXOffset||document.documentElement.scrollLeft;Q(It),D(tr.cloneRange());const tn=200,wn=er.top+Bi-50-10,kr=Math.max(10,Math.min(er.left+Zn+er.width/2-tn/2,window.innerWidth-tn-10));ie({top:Math.max(10,wn),left:kr}),L(!0)}else L(!1),Q(""),D(null)};E.useEffect(()=>{const ke=Ze=>{ee&&!Ze.target.closest(".text-formatting-toolbar")&&!Ze.target.closest(".profile-card")&&!Ze.target.closest(".profile-card-wrapper")&&(L(!1),Q(""),D(null),window.getSelection().removeAllRanges())},je=Ze=>{Vr(Ze)};return document.addEventListener("mousedown",ke),document.addEventListener("mouseup",je),()=>{document.removeEventListener("mousedown",ke),document.removeEventListener("mouseup",je)}},[ee]);const Xt=ke=>{if(!V||!W||!Ge)return;const je=document.createElement("div");je.innerHTML=Ge;const Ze=je.textContent||je.innerText||"",ht=Ze.toLowerCase(),Tt=V.toLowerCase();let It=ht.indexOf(Tt);if(It===-1){const Ut=Ze.replace(/\s+/g," ").trim(),Ri=V.replace(/\s+/g," ").trim();if(Ut.toLowerCase().indexOf(Ri.toLowerCase())!==-1){let ei=!1;for(let Qo=0;Qo<Ze.length&&!ei;Qo++)Ze.substring(Qo).replace(/\s+/g," ").toLowerCase().startsWith(Ri.toLowerCase())&&(It=Qo,ei=!0)}}if(It===-1){console.error("Selected text not found in template"),N({type:"error",text:"Could not find selected text to format"}),setTimeout(()=>N(null),2e3),L(!1);return}const tr=Ze.substring(It,It+V.length);let _t=0,er=0,Bi=!1;for(let Ut=0;Ut<Ge.length&&er<It;Ut++)Ge[Ut]==="<"?Bi=!0:Ge[Ut]===">"?Bi=!1:Bi||er++,_t=Ut+1;let Zn=_t,tn=er;const ba=tr.length;for(let Ut=_t;Ut<Ge.length&&tn-er<ba;Ut++)Ge[Ut]==="<"?Bi=!0:Ge[Ut]===">"?Bi=!1:Bi||tn++,Zn=Ut+1;let wn=_t,kr=0;for(let Ut=_t-1;Ut>=0&&Ut>=_t-200;Ut--)if(Ge[Ut]===">")kr++;else if(Ge[Ut]==="<"){if(Ut+1<Ge.length&&Ge[Ut+1]==="/")kr++;else if(kr--,kr<0){wn=Ut;break}}let un=Zn;kr=0;for(let Ut=Zn;Ut<Ge.length&&Ut<Zn+200;Ut++)if(Ge[Ut]==="<")if(Ut+1<Ge.length&&Ge[Ut+1]==="/"){if(kr--,kr===0){for(let Ri=Ut;Ri<Ge.length;Ri++)if(Ge[Ri]===">"){un=Ri+1;break}break}}else kr++;const ea=Ge.substring(wn,un),Fr={bold:{open:"<strong>",close:"</strong>",openAlt:"<b>",closeAlt:"</b>"},italic:{open:"<em>",close:"</em>",openAlt:"<i>",closeAlt:"</i>"},underline:{open:"<u>",close:"</u>"}}[ke];if(!Fr)return;const lo=Ge.substring(_t,Zn),tl=lo.includes(Fr.open)&&lo.includes(Fr.close)||Fr.openAlt&&lo.includes(Fr.openAlt)&&lo.includes(Fr.closeAlt),Gr=ea.includes(Fr.open)&&ea.includes(Fr.close)||Fr.openAlt&&ea.includes(Fr.openAlt)&&ea.includes(Fr.closeAlt);let Mo;if(tl||Gr){let Ut=ea;const Ri=new RegExp(Fr.open.replace(/[<>]/g,"\\$&"),"gi"),Ba=new RegExp(Fr.close.replace(/[<>]/g,"\\$&"),"gi");if(Ut=Ut.replace(Ri,"").replace(Ba,""),Fr.openAlt){const ei=new RegExp(Fr.openAlt.replace(/[<>]/g,"\\$&"),"gi"),Qo=new RegExp(Fr.closeAlt.replace(/[<>]/g,"\\$&"),"gi");Ut=Ut.replace(ei,"").replace(Qo,"")}Mo=Ge.substring(0,wn)+Ut+Ge.substring(un)}else{const Ut=`${Fr.open}${tr}${Fr.close}`;Mo=Ge.substring(0,_t)+Ut+Ge.substring(Zn)}ae(Mo),L(!1),Q(""),D(null),window.getSelection().removeAllRanges()},Mt=async()=>{if(V)try{await navigator.clipboard.writeText(V),N({type:"success",text:"Text copied to clipboard!"}),setTimeout(()=>N(null),2e3),L(!1),window.getSelection().removeAllRanges()}catch{N({type:"error",text:"Failed to copy text"}),setTimeout(()=>N(null),2e3)}},Qt=async()=>{if(!(!V||!W||!Ge))try{z(!0);const ke=V.trim().split(/\s+/).filter(ht=>ht.length>0).length,{enhanceProfileWithAI:je}=await Om(async()=>{const{enhanceProfileWithAI:ht}=await Promise.resolve().then(()=>Nte);return{enhanceProfileWithAI:ht}},void 0),Ze=await je(V);if(Ze.success&&Ze.data){let ht=Ze.data.trim();const Tt=ht.split(/\s+/).filter(Gr=>Gr.length>0);let It=Tt.length,tr=!1;if(It>ke*1.1){tr=!0,ht=Tt.slice(0,ke).join(" ");const Mo=ht.lastIndexOf("."),Ut=ht.lastIndexOf("!"),Ri=ht.lastIndexOf("?"),Ba=Math.max(Mo,Ut,Ri);Ba>ht.length*.7?(ht=ht.substring(0,Ba+1),It=ht.split(/\s+/).filter(ei=>ei.length>0).length):It=ke}const _t=document.createElement("div");_t.innerHTML=Ge;const er=_t.textContent||_t.innerText||"",Bi=er.toLowerCase(),Zn=V.toLowerCase();let tn=Bi.indexOf(Zn);if(tn===-1){const Gr=er.replace(/\s+/g," ").trim(),Mo=V.replace(/\s+/g," ").trim();if(Gr.toLowerCase().indexOf(Mo.toLowerCase())!==-1){let Ri=0;for(let Ba=0;Ba<er.length;Ba++)if(er.substring(Ba).replace(/\s+/g," ").toLowerCase().startsWith(Mo.toLowerCase())){tn=Ba;break}}}if(tn===-1){N({type:"error",text:"Could not find selected text to replace"}),setTimeout(()=>N(null),3e3);return}const ba=er.substring(tn,tn+V.length);let wn=0,kr=0,un=!1;for(let Gr=0;Gr<Ge.length&&kr<tn;Gr++)Ge[Gr]==="<"?un=!0:Ge[Gr]===">"?un=!1:un||kr++,wn=Gr+1;let ea=wn,Da=kr;const Fr=ba.length;for(let Gr=wn;Gr<Ge.length&&Da-kr<Fr;Gr++)Ge[Gr]==="<"?un=!0:Ge[Gr]===">"?un=!1:un||Da++,ea=Gr+1;const lo=Ge.substring(0,wn)+ht+Ge.substring(ea);ae(lo);const tl=tr?` (trimmed to ${It} words to match original length)`:"";N({type:"success",text:`Text enhanced with AI!${tl}`}),setTimeout(()=>N(null),3e3)}else N({type:"error",text:Ze.error||"Failed to enhance text"}),setTimeout(()=>N(null),3e3)}catch(ke){console.error("Error enhancing text:",ke),N({type:"error",text:"Failed to enhance text with AI"}),setTimeout(()=>N(null),3e3)}finally{z(!1),L(!1),Q(""),D(null),window.getSelection().removeAllRanges()}},Dr=async()=>{var ke;if(!Ve.current){y("Nothing to download  profile preview is not ready yet.");return}try{b(!0),y(null),ee&&L(!1);const je=Ve.current.querySelector(".profile-card")||Ve.current,Ze=((ke=s==null?void 0:s.profile)==null?void 0:ke.profileImage)||(s==null?void 0:s.profileImage)||(Oe==null?void 0:Oe.profileImage)||"",ht=!!(Ze&&String(Ze).trim().length>0);await pN(je,{fileName:"profile.pdf",orientation:"p",hasPhoto:ht,centerIfNoPhoto:!0})}catch(je){console.error("Error generating PDF from template:",je),y(je.message||"Failed to generate PDF from profile view.")}finally{b(!1)}},Ft=()=>{if(!ut){console.error("Profile ID is required to edit profile");return}c(!0)},Nr=async ke=>{var Ze;const je=ke.target.value;if(!(!ut||!je||je===Je)){if(bce(je)){const ht=(Oe==null?void 0:Oe.profileImage)||((Ze=s==null?void 0:s.profile)==null?void 0:Ze.profileImage);if(!ht||ht.trim()===""){Ke(je),Pe(!0),ke.target.value=Je||"professional";return}}await kt(je)}},kt=async(ke,je=null)=>{var Ze,ht,Tt;if(!(!ut||!ke))try{S(!0),y(null);const It={templateType:ke};je&&(It.profileImage=je);const tr=await or.put(`/api/profiles/${ut}`,It),_t=((Ze=tr.data)==null?void 0:Ze.data)||tr.data;l(_t),_t!=null&&_t.templateText?(ae(_t.templateText),ce(_t.templateText)):(ae(null),ce(null)),i&&i(_t)}catch(It){console.error("Error changing template:",It),y(((Tt=(ht=It.response)==null?void 0:ht.data)==null?void 0:Tt.message)||It.message||"Failed to change template. Please try again.")}finally{S(!1)}},Ht=async ke=>{if(Se)try{Pe(!1),await kt(Se,ke.profileImage),Ke(null)}catch(je){console.error("Error uploading photo and changing template:",je),y("Failed to upload photo and change template. Please try again.")}},jr=()=>{Pe(!1),Ke(null)},it=ke=>{const{name:je,value:Ze,type:ht,checked:Tt}=ke.target;if(ht==="checkbox"){d(It=>({...It,[je]:Tt,...je==="hasInternship"&&!Tt?{internshipDetails:""}:{},...je==="hasExperience"&&!Tt?{experienceDetails:""}:{}}));return}d(It=>({...It,[je]:Ze}))},Pt=async ke=>{var je;if(ke.preventDefault(),!!ut)try{p(!0);const Ze=await or.put(`/api/profiles/${ut}`,A),ht=((je=Ze.data)==null?void 0:je.data)||Ze.data;l(ht),c(!1)}catch(Ze){console.error("Error updating profile:",Ze)}finally{p(!1)}},pr=async()=>{var ke;if(!ut){N({type:"error",text:"Profile ID is required to save"});return}try{O(!0),N(null);const je=X!==null&&Z!==null&&X.trim()!==Z.trim();if(console.log("Save check:",{hasEdits:je,editedTemplateText:X==null?void 0:X.substring(0,50),originalTemplateText:Z==null?void 0:Z.substring(0,50)}),je)try{console.log("Saving enhanced template text:",X.substring(0,100)+"...");const ht=await or.put(`/api/profiles/${ut}`,{aiEnhancedTemplateText:X});console.log("Profile update response:",ht.data);const Tt=await or.get("/api/profiles/my-profile"),It=((ke=Tt.data)==null?void 0:ke.data)||Tt.data;It&&(console.log("Reloaded profile data:",It),l(It),It.templateText&&(ae(It.templateText),ce(It.templateText),console.log("Updated template text after save:",It.templateText.substring(0,100))),typeof i=="function"&&i(It))}catch(ht){console.error("Error updating profile with enhanced text:",ht),N({type:"error",text:"Failed to save enhanced text. Please try again."}),setTimeout(()=>N(null),5e3),O(!1);return}const Ze=await rN(ut);if(Ze.success){if(N({type:"success",text:"Profile saved successfully! All enhancements have been saved."}),!o)try{const ht=await cg();if(ht.success&&ht.data&&Array.isArray(ht.data)&&(pe(ht.data),de(!0),ht.data.length>0)){De(0);const Tt=ht.data[0];l(Tt),Tt.templateText&&(ae(Tt.templateText),ce(Tt.templateText))}}catch(ht){console.error("Failed to fetch all profiles:",ht)}setTimeout(()=>N(null),5e3)}else N({type:"error",text:Ze.error||"Failed to save profile"})}catch(je){console.error("Error saving profile:",je),N({type:"error",text:je.message||"An unexpected error occurred"})}finally{O(!1)}},$l=async(ke,je)=>{var tr;const Ze=Je||(Oe==null?void 0:Oe.templateType)||(s==null?void 0:s.templateType);if(!Ze)return{success:!1,error:"Template selection is missing."};const ht=a&&Object.keys(a).length>0?a:Oe&&Object.keys(Oe).length>0?Oe:(s==null?void 0:s.profile)||s||{},Tt=Sce(ht),It=((tr=s==null?void 0:s.profile)==null?void 0:tr.profileImage)||(s==null?void 0:s.profileImage)||(Oe==null?void 0:Oe.profileImage)||(ht==null?void 0:ht.profileImage);It&&(Tt.profileImage=It);try{const _t={templateId:Ze,formData:Tt,chatAnswers:ke||{},reportData:je||{}};console.log("Regenerate payload",_t);const er=await QQ(_t);return er.success&&er.data?(l(er.data),typeof i=="function"&&i(er.data),N({type:"success",text:"Profile regenerated with the latest AI insights."}),setTimeout(()=>N(null),5e3),{success:!0}):(N({type:"error",text:er.error||"Failed to regenerate profile"}),{success:!1,error:er.error||"Failed to regenerate profile"})}catch(_t){return console.error("Regenerate profile error:",_t),N({type:"error",text:(_t==null?void 0:_t.message)||"Failed to regenerate profile"}),{success:!1,error:(_t==null?void 0:_t.message)||"Failed to regenerate profile"}}},bi=Je&&Je.toLowerCase()==="cover"?"Cover Letter":"Profile Details";E.useEffect(()=>{if(o){pe([]),de(!1);return}(async()=>{try{const je=await cg();if(je.success&&je.data&&Array.isArray(je.data)&&je.data.length>0&&(pe(je.data),de(!0),je.data.length>0)){De(0);const Ze=je.data[0];(!s||!s.templateText)&&(l(Ze),Ze.templateText&&(ae(Ze.templateText),ce(Ze.templateText)))}}catch(je){console.error("Failed to load all profiles:",je)}})()},[o]);const vs=ke=>{if(ke>=0&&ke<ne.length){De(ke);const je=ne[ke];l(je),je.templateText&&(ae(je.templateText),ce(je.templateText)),typeof i=="function"&&i(je)}};return h.jsxs("div",{className:"profile-container",children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px",flexWrap:"wrap",gap:"16px"},children:[h.jsx("h2",{children:bi}),h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",flexWrap:"wrap"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[h.jsx("label",{htmlFor:"template-selector",style:{fontSize:"0.95rem",fontWeight:"500",color:"#444"},children:"Change Template:"}),h.jsx("select",{id:"template-selector",value:Je||"professional",onChange:Nr,disabled:!ut||B,style:{padding:"8px 12px",borderRadius:"6px",border:"1px solid #ddd",fontSize:"0.95rem",cursor:B?"not-allowed":"pointer",backgroundColor:B?"#f5f5f5":"white",minWidth:"180px"},children:g.filter(ke=>ke.value!=="cover"||Je==="cover").map(ke=>h.jsx("option",{value:ke.value,children:ke.label},ke.value))}),B&&h.jsx("span",{style:{fontSize:"0.85rem",color:"#666"},children:"Loading..."})]}),h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[h.jsx("label",{htmlFor:"font-selector",style:{fontSize:"0.95rem",fontWeight:"500",color:"#444"},children:"Change Font:"}),h.jsx("select",{id:"font-selector",value:U,onChange:ke=>M(ke.target.value),style:{padding:"8px 12px",borderRadius:"6px",border:"1px solid #ddd",fontSize:"0.95rem",cursor:"pointer",backgroundColor:"white",minWidth:"180px",fontFamily:U},children:Bce.map(ke=>h.jsx("option",{value:ke.value,style:{fontFamily:ke.value},children:ke.label},ke.value))})]}),h.jsx("button",{type:"button",onClick:()=>Ae(ke=>!ke),style:{padding:"8px 14px",borderRadius:"6px",border:"1px solid #3b82f6",backgroundColor:Y?"#3b82f6":"white",color:Y?"white":"#1f2933",cursor:"pointer",fontSize:"0.9rem",fontWeight:500},children:Y?"Done Inline Editing":"Inline Edit Text"})]})]}),ye&&ne.length>0&&h.jsxs("div",{style:{marginBottom:"24px",padding:"16px",backgroundColor:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[h.jsxs("h3",{style:{marginBottom:"12px",fontSize:"1.1rem",fontWeight:"600",color:"#111827"},children:["Saved Profiles ",ne.length>3?`(Showing 3 of ${ne.length})`:`(${ne.length})`]}),h.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:ne.slice(0,3).map((ke,je)=>{const Ze=ke.profile||ke,ht=Ze!=null&&Ze.createdAt?new Date(Ze.createdAt).toLocaleDateString():`Profile ${je+1}`,Tt=je===Ie;return h.jsxs("button",{onClick:()=>vs(je),style:{padding:"10px 16px",borderRadius:"6px",border:`2px solid ${Tt?"#3b82f6":"#d1d5db"}`,backgroundColor:Tt?"#dbeafe":"white",color:Tt?"#1e40af":"#374151",cursor:"pointer",fontSize:"0.9rem",fontWeight:Tt?"600":"500",transition:"all 0.2s",display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"4px"},onMouseEnter:It=>{Tt||(It.target.style.backgroundColor="#f3f4f6",It.target.style.borderColor="#9ca3af")},onMouseLeave:It=>{Tt||(It.target.style.backgroundColor="white",It.target.style.borderColor="#d1d5db")},children:[h.jsxs("span",{children:["Profile ",je+1]}),h.jsx("span",{style:{fontSize:"0.75rem",opacity:.7},children:ht})]},(Ze==null?void 0:Ze.id)||je)})})]}),h.jsxs("div",{className:"profile-card-wrapper",style:{position:"relative"},ref:Ve,children:[h.jsx(GH,{templateType:Je,templateText:Ge,profile:Oe,templateIcon:Ot,templateName:St,templateDescription:Ye,templateCss:Nt,selectedFont:U,isEditable:Y,onContentChange:ct}),ee&&V&&h.jsxs("div",{className:"text-formatting-toolbar",style:{position:"fixed",top:`${K.top}px`,left:`${K.left}px`,backgroundColor:"#2d3748",borderRadius:"8px",padding:"8px",display:"flex",gap:"4px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",zIndex:1e3,minWidth:"200px",justifyContent:"center",alignItems:"center"},children:[h.jsx("button",{onClick:Mt,title:"Copy",style:{backgroundColor:"#4a5568",border:"none",color:"white",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"background-color 0.2s"},onMouseEnter:ke=>ke.target.style.backgroundColor="#5a6578",onMouseLeave:ke=>ke.target.style.backgroundColor="#4a5568",children:" Copy"}),h.jsx("button",{onClick:()=>Xt("bold"),title:"Bold",style:{backgroundColor:"#4a5568",border:"none",color:"white",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",transition:"background-color 0.2s"},onMouseEnter:ke=>ke.target.style.backgroundColor="#5a6578",onMouseLeave:ke=>ke.target.style.backgroundColor="#4a5568",children:"B"}),h.jsx("button",{onClick:()=>Xt("italic"),title:"Italic",style:{backgroundColor:"#4a5568",border:"none",color:"white",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontStyle:"italic",transition:"background-color 0.2s"},onMouseEnter:ke=>ke.target.style.backgroundColor="#5a6578",onMouseLeave:ke=>ke.target.style.backgroundColor="#4a5568",children:"I"}),h.jsx("button",{onClick:()=>Xt("underline"),title:"Underline",style:{backgroundColor:"#4a5568",border:"none",color:"white",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"14px",textDecoration:"underline",transition:"background-color 0.2s"},onMouseEnter:ke=>ke.target.style.backgroundColor="#5a6578",onMouseLeave:ke=>ke.target.style.backgroundColor="#4a5568",children:"U"}),h.jsx("button",{onClick:Qt,title:"Enhance with AI",disabled:j,style:{backgroundColor:j?"#2d3748":"#10b981",border:"none",color:"white",padding:"6px 12px",borderRadius:"4px",cursor:j?"not-allowed":"pointer",fontSize:"14px",fontWeight:"500",opacity:j?.6:1,transition:"background-color 0.2s"},onMouseEnter:ke=>{j||(ke.target.style.backgroundColor="#059669")},onMouseLeave:ke=>{j||(ke.target.style.backgroundColor="#10b981")},children:j?"...":" AI"})]})]}),h.jsxs("div",{className:"profile-actions",style:{position:"relative",zIndex:10,isolation:"isolate"},children:[h.jsx("button",{type:"button",onClick:pr,className:"profile-btn",disabled:!ut||I,style:{backgroundColor:"#3b82f6",color:"white",border:"none",padding:"10px 20px",borderRadius:"6px",cursor:I||!ut?"not-allowed":"pointer",opacity:I||!ut?.6:1,fontSize:"0.95rem",fontWeight:"500",transition:"all 0.2s ease",whiteSpace:"nowrap",minHeight:"40px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},children:I?"Saving...":" Save Profile"}),h.jsx("button",{type:"button",onClick:Dr,className:"profile-btn btn-pdf",disabled:!ut||w,style:{display:"inline-flex",alignItems:"center",justifyContent:"center",padding:"10px 20px",borderRadius:"6px",fontSize:"0.95rem",fontWeight:"500",whiteSpace:"nowrap",minHeight:"40px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},children:w?"Downloading...":"Download Profile (PDF)"}),h.jsx("button",{type:"button",onClick:Ft,className:"profile-btn btn-edit",disabled:!ut,style:{display:"inline-flex",alignItems:"center",justifyContent:"center",padding:"10px 20px",borderRadius:"6px",fontSize:"0.95rem",fontWeight:"500",whiteSpace:"nowrap",minHeight:"40px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},children:"Edit Profile"}),h.jsx("button",{type:"button",onClick:()=>t==null?void 0:t(Ge),className:"profile-btn",disabled:!Ge,style:{backgroundColor:"#10b981",color:"white",border:"none",padding:"10px 20px",borderRadius:"6px",cursor:Ge?"pointer":"not-allowed",opacity:Ge?1:.6,fontSize:"0.95rem",fontWeight:"500",transition:"all 0.2s ease",whiteSpace:"nowrap",minHeight:"40px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},children:" Enhance with AI"}),h.jsx("button",{type:"button",onClick:()=>k(!P),className:"profile-btn",style:{backgroundColor:P?"#ef4444":"#8b5cf6",color:"white",border:"none",padding:"10px 20px",borderRadius:"6px",cursor:"pointer",fontSize:"0.95rem",fontWeight:"500",transition:"all 0.2s ease",whiteSpace:"nowrap",minHeight:"40px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},children:P?" Close Chatbot":" Chat with Saathi"})]}),m&&h.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded text-red-700 text-sm",style:{marginTop:"20px"},children:m}),F&&h.jsx("div",{className:`p-3 border rounded text-sm ${F.type==="success"?"bg-green-50 border-green-200 text-green-700":"bg-red-50 border-red-200 text-red-700"}`,style:{marginTop:"20px"},children:F.text}),P&&Oe&&h.jsx("div",{style:{marginTop:"40px"},"data-chatbot-container":!0,children:h.jsx(gce,{userProfile:et(Oe),onRegenerateProfile:$l})}),u&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 px-4",children:h.jsxs("div",{className:"bg-white rounded shadow-lg w-full max-w-3xl max-h-[90vh] overflow-y-auto p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h3",{className:"text-xl font-semibold",children:"Edit Profile"}),h.jsx("button",{type:"button",onClick:()=>c(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),h.jsxs("form",{onSubmit:Pt,className:"space-y-4",children:[h.jsxs("div",{className:"mb-4",children:[h.jsx("h4",{className:"text-lg font-semibold text-gray-700",children:"Profile Information"}),h.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Your personal and academic details"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("label",{className:"flex flex-col gap-2",children:[h.jsx("span",{className:"text-sm font-medium",children:"Name"}),h.jsx("input",{type:"text",name:"name",value:A.name,onChange:it,className:"w-full border rounded px-3 py-2"})]}),h.jsxs("label",{className:"flex flex-col gap-2",children:[h.jsx("span",{className:"text-sm font-medium",children:"Email"}),h.jsx("input",{type:"email",name:"email",value:A.email,onChange:it,className:"w-full border rounded px-3 py-2"})]}),h.jsxs("label",{className:"flex flex-col gap-2",children:[h.jsx("span",{className:"text-sm font-medium",children:"Phone Number"}),h.jsx("input",{type:"tel",name:"phone",value:A.phone,onChange:it,className:"w-full border rounded px-3 py-2",placeholder:"e.g., (123) 456-7890"})]}),h.jsxs("label",{className:"flex flex-col gap-2",children:[h.jsx("span",{className:"text-sm font-medium",children:"Date of Birth"}),h.jsx("input",{type:"date",name:"dob",value:A.dob,onChange:it,className:"w-full border rounded px-3 py-2"})]}),h.jsxs("label",{className:"flex flex-col gap-2",children:[h.jsx("span",{className:"text-sm font-medium",children:"LinkedIn"}),h.jsx("input",{type:"text",name:"linkedin",value:A.linkedin,onChange:it,className:"w-full border rounded px-3 py-2"})]}),h.jsxs("label",{className:"flex flex-col gap-2",children:[h.jsx("span",{className:"text-sm font-medium",children:"Institute"}),h.jsx("input",{type:"text",name:"institute",value:A.institute,onChange:it,required:!0,className:"w-full border rounded px-3 py-2"})]}),h.jsxs("label",{className:"flex flex-col gap-2",children:[h.jsx("span",{className:"text-sm font-medium",children:"Current Degree"}),h.jsx("input",{type:"text",name:"currentDegree",value:A.currentDegree,onChange:it,required:!0,className:"w-full border rounded px-3 py-2"})]}),h.jsxs("label",{className:"flex flex-col gap-2",children:[h.jsx("span",{className:"text-sm font-medium",children:"Branch"}),h.jsx("input",{type:"text",name:"branch",value:A.branch,onChange:it,required:!0,className:"w-full border rounded px-3 py-2"})]}),h.jsxs("label",{className:"flex flex-col gap-2",children:[h.jsx("span",{className:"text-sm font-medium",children:"Year of Study"}),h.jsx("input",{type:"text",name:"yearOfStudy",value:A.yearOfStudy,onChange:it,required:!0,className:"w-full border rounded px-3 py-2"})]}),A.certifications&&A.certifications.trim()&&h.jsxs("label",{className:"flex flex-col gap-2 md:col-span-2",children:[h.jsx("span",{className:"text-sm font-medium",children:"Certifications"}),h.jsx("textarea",{name:"certifications",value:A.certifications,onChange:it,className:"w-full border rounded px-3 py-2",rows:2})]}),A.achievements&&A.achievements.trim()&&h.jsxs("label",{className:"flex flex-col gap-2 md:col-span-2",children:[h.jsx("span",{className:"text-sm font-medium",children:"Achievements"}),h.jsx("textarea",{name:"achievements",value:A.achievements,onChange:it,className:"w-full border rounded px-3 py-2",rows:2})]}),h.jsxs("label",{className:"flex flex-col gap-2 md:col-span-2",children:[h.jsx("span",{className:"text-sm font-medium",children:"Technical Skills"}),h.jsx("textarea",{name:"technicalSkills",value:A.technicalSkills,onChange:it,required:!0,className:"w-full border rounded px-3 py-2",rows:2})]}),h.jsxs("label",{className:"flex flex-col gap-2 md:col-span-2",children:[h.jsx("span",{className:"text-sm font-medium",children:"Soft Skills"}),h.jsx("textarea",{name:"softSkills",value:A.softSkills,onChange:it,required:!0,className:"w-full border rounded px-3 py-2",rows:2})]}),h.jsxs("label",{className:"flex flex-col gap-2 md:col-span-2",children:[h.jsx("span",{className:"text-sm font-medium",children:"Interests"}),h.jsx("textarea",{name:"interests",value:A.interests,onChange:it,required:!0,className:"w-full border rounded px-3 py-2",rows:2,placeholder:"e.g., Product design, Systems thinking"})]}),h.jsxs("label",{className:"flex flex-col gap-2 md:col-span-2",children:[h.jsx("span",{className:"text-sm font-medium",children:"Hobbies"}),h.jsx("textarea",{name:"hobbies",value:A.hobbies,onChange:it,required:!0,className:"w-full border rounded px-3 py-2",rows:2,placeholder:"e.g., Photography, Learning new languages"})]}),h.jsxs("label",{className:"flex flex-col gap-2",children:[h.jsx("span",{className:"text-sm font-medium",children:"Template Type"}),h.jsx("select",{name:"templateType",value:A.templateType,onChange:it,className:"w-full border rounded px-3 py-2",children:g.map(ke=>h.jsx("option",{value:ke.value,children:ke.label},ke.value))})]})]}),h.jsx("div",{className:"my-6 border-t-2 border-gray-300"}),h.jsxs("div",{className:"mb-4",children:[h.jsx("h4",{className:"text-lg font-semibold text-gray-700",children:"Cover Letter Details"}),h.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Provide company-specific information for your cover letter"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("label",{className:"flex flex-col gap-2",children:[h.jsx("span",{className:"text-sm font-medium",children:"Hiring Manager Name"}),h.jsx("input",{type:"text",name:"hiringManagerName",value:A.hiringManagerName,onChange:it,className:"w-full border rounded px-3 py-2"})]}),h.jsxs("label",{className:"flex flex-col gap-2",children:[h.jsx("span",{className:"text-sm font-medium",children:"Company Name"}),h.jsx("input",{type:"text",name:"companyName",value:A.companyName,onChange:it,className:"w-full border rounded px-3 py-2"})]}),h.jsxs("label",{className:"flex flex-col gap-2",children:[h.jsx("span",{className:"text-sm font-medium",children:"Company Address"}),h.jsx("textarea",{name:"companyAddress",value:A.companyAddress,onChange:it,className:"w-full border rounded px-3 py-2",rows:2})]}),h.jsxs("label",{className:"flex flex-col gap-2",children:[h.jsx("span",{className:"text-sm font-medium",children:"Position Title"}),h.jsx("input",{type:"text",name:"positionTitle",value:A.positionTitle,onChange:it,className:"w-full border rounded px-3 py-2"})]}),h.jsxs("label",{className:"flex flex-col gap-2 md:col-span-2",children:[h.jsx("span",{className:"text-sm font-medium",children:"Relevant Experience"}),h.jsx("textarea",{name:"relevantExperience",value:A.relevantExperience,onChange:it,className:"w-full border rounded px-3 py-2",rows:2})]}),h.jsxs("label",{className:"flex flex-col gap-2",children:[h.jsx("span",{className:"text-sm font-medium",children:"Key Achievement"}),h.jsx("input",{type:"text",name:"keyAchievement",value:A.keyAchievement,onChange:it,className:"w-full border rounded px-3 py-2"})]}),h.jsxs("label",{className:"flex flex-col gap-2",children:[h.jsx("span",{className:"text-sm font-medium",children:"Strengths"}),h.jsx("textarea",{name:"strengths",value:A.strengths,onChange:it,className:"w-full border rounded px-3 py-2",rows:2})]}),h.jsxs("label",{className:"flex flex-col gap-2 md:col-span-2",children:[h.jsx("span",{className:"text-sm font-medium",children:"Closing Note"}),h.jsx("textarea",{name:"closingNote",value:A.closingNote,onChange:it,className:"w-full border rounded px-3 py-2",rows:2})]}),h.jsxs("div",{className:"flex flex-col gap-2 md:col-span-2",children:[h.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium",children:[h.jsx("input",{type:"checkbox",name:"hasInternship",checked:A.hasInternship,onChange:it,className:"h-4 w-4"}),h.jsx("span",{children:"Completed Internship"})]}),A.hasInternship&&h.jsx("textarea",{name:"internshipDetails",value:A.internshipDetails,onChange:it,className:"w-full border rounded px-3 py-2",rows:2,required:A.hasInternship,placeholder:"Share internship projects, roles, or key takeaways"})]}),h.jsxs("div",{className:"flex flex-col gap-2 md:col-span-2",children:[h.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium",children:[h.jsx("input",{type:"checkbox",name:"hasExperience",checked:A.hasExperience,onChange:it,className:"h-4 w-4"}),h.jsx("span",{children:"Professional Experience"})]}),A.hasExperience&&h.jsx("textarea",{name:"experienceDetails",value:A.experienceDetails,onChange:it,className:"w-full border rounded px-3 py-2",rows:2,required:A.hasExperience,placeholder:"Mention organisations, roles, and key contributions"})]})]}),h.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[h.jsx("button",{type:"button",onClick:()=>c(!1),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded",children:"Cancel"}),h.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded",disabled:f,children:f?"Saving...":"Save Changes"})]})]})]})}),Ee&&Se&&h.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:h.jsx("div",{style:{backgroundColor:"white",borderRadius:"8px",padding:"24px",maxWidth:"600px",width:"100%",maxHeight:"90vh",overflow:"auto",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.2)"},children:h.jsx(JQ,{onSubmit:Ht,onBack:jr,profileData:Oe||(s==null?void 0:s.profile)||s,templateLabel:qH[Se]||"selected template"})})})]})},Fce=({profileData:e,templateText:t,templateType:r,onBack:n,onRequestEdit:i,onProfileAccepted:a,onProfileRejected:o})=>{const s=(e==null?void 0:e.profile)||e||{},l=(s==null?void 0:s.id)||(e==null?void 0:e.id),u=(e==null?void 0:e.templateText)||"",c=(e==null?void 0:e.templateCss)||"",A=e==null?void 0:e.templateIcon,d=e==null?void 0:e.templateName,f=e==null?void 0:e.templateDescription,p=r||(s==null?void 0:s.templateType)||(e==null?void 0:e.templateType)||"",[g,v]=E.useState(""),[m,y]=E.useState(!1),[w,b]=E.useState(null),[B,S]=E.useState(!1),[P,k]=E.useState(null),[I,O]=E.useState(!1),[F,N]=E.useState(null),[U,M]=E.useState(!1),V=E.useCallback(async()=>{if(!t||t.trim().length===0){b("No profile text available to enhance.");return}try{y(!0),b(null),v("");const Z=await LQ(t);Z.success?(v(Z.data),b(null)):(b(Z.error||"Failed to enhance profile"),v(""))}catch(Z){console.error("Error enhancing profile:",Z),b((Z==null?void 0:Z.message)||"An unexpected error occurred"),v("")}finally{y(!1)}},[t]);E.useEffect(()=>{V()},[V]);const Q=async()=>{var Z;if(!l){N({type:"error",text:"Profile ID is required to save."});return}try{if(O(!0),N(null),g&&g.trim().length>0)try{console.log("Saving enhanced profile text to backend...");const ne=await or.put(`/api/profiles/${l}`,{aiEnhancedTemplateText:g});console.log("Profile update response:",ne.data);const pe=await or.get("/api/profiles/my-profile"),ye=((Z=pe.data)==null?void 0:Z.data)||pe.data;ye&&console.log("Profile reloaded after save:",ye)}catch(ne){console.error("Error updating profile with enhanced text:",ne),N({type:"error",text:"Failed to save enhanced text. Please try again."}),setTimeout(()=>N(null),5e3),O(!1);return}const ce=await rN(l);ce.success?(N({type:"success",text:"Profile saved successfully! All enhancements have been saved."}),setTimeout(()=>N(null),5e3)):N({type:"error",text:ce.error||"Failed to save profile."})}catch(ce){console.error("Error saving profile:",ce),N({type:"error",text:(ce==null?void 0:ce.message)||"An unexpected error occurred."})}finally{O(!1)}},W=async()=>{if(!l){k("Profile ID is required to download PDF.");return}try{S(!0),k(null);const Z=localStorage.getItem("token"),ce={};Z&&(ce.Authorization=`Bearer ${Z}`);const ne=await or.get(`/api/profiles/${l}/download`,{responseType:"blob",headers:ce}),pe=ne.headers["content-type"]||ne.headers["Content-Type"]||"";if(pe.includes("application/json")){const De=await ne.data.text();let Y="Server returned an error";try{const Ae=JSON.parse(De);Y=Ae.message||Ae.error||Y}catch{Y=De||Y}throw new Error(Y)}if(pe&&!pe.includes("pdf")&&!pe.includes("application/pdf")){const De=await ne.data.text();throw new Error(De||"Server returned an error")}const ye=new Blob([ne.data],{type:"application/pdf"}),de=window.URL.createObjectURL(ye),Ie=document.createElement("a");Ie.href=de,Ie.setAttribute("download","profile.pdf"),document.body.appendChild(Ie),Ie.click(),document.body.removeChild(Ie),window.URL.revokeObjectURL(de),k(null)}catch(Z){console.error("Error downloading profile PDF:",Z);let ce="Failed to download PDF.";if(Z.response){const ne=Z.response.status;if(ne===401)ce="Authentication required. Please log in again.";else if(ne===404)ce="Profile not found.";else if(ne===500)ce="Server error. Please try again later.";else{const pe=Z.response.data;ce=(pe==null?void 0:pe.message)||(pe==null?void 0:pe.error)||`${ce} Server error (${ne}).`}}else Z.request?ce="Unable to connect to server. Please check your connection and ensure the server is running.":ce=(Z==null?void 0:Z.message)||ce;k(ce)}finally{S(!1)}},D=()=>{typeof i=="function"&&i()},K=async()=>{var Z,ce,ne;if(!l||!g){N({type:"error",text:"Enhanced profile is not available."});return}try{M(!0),N(null);const pe=await or.put(`/api/profiles/${l}`,{aiEnhancedTemplateText:g}),ye=await or.get("/api/profiles/my-profile"),de=((Z=ye.data)==null?void 0:Z.data)||ye.data;if(de){const Ie={...de,templateText:g};typeof a=="function"?a(Ie):n()}else N({type:"error",text:"Failed to load updated profile."})}catch(pe){console.error("Error accepting enhanced profile:",pe),N({type:"error",text:((ne=(ce=pe==null?void 0:pe.response)==null?void 0:ce.data)==null?void 0:ne.message)||"Failed to save enhanced profile. Please try again."})}finally{M(!1)}},ie=async()=>{v(""),b(null),typeof o=="function"&&o(),await V()},ee=(s==null?void 0:s.templateType)==="cover"?"Cover Letter":"Profile Details",L=g||u,j={marginTop:"30px",border:"2px solid #10b981",borderRadius:"24px",padding:"28px 32px",boxShadow:"0 18px 35px rgba(16, 185, 129, 0.15)",backgroundColor:"white",display:"flex",flexDirection:"column",gap:"12px"},z={display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px",paddingBottom:"12px",borderBottom:"1px solid #e5e7eb"},X={minHeight:"360px"},ae={lineHeight:"1.6",color:"#374151",fontSize:"1rem"};return h.jsxs("div",{className:"profile-container",children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"12px",flexWrap:"wrap",marginBottom:"24px"},children:[h.jsxs("button",{type:"button",onClick:n,className:"profile-btn",style:{backgroundColor:"#f3f4f6",color:"#1f2937",border:"1px solid #d1d5db",padding:"10px 16px",borderRadius:"6px",cursor:"pointer",fontWeight:"500"},children:[" Back to ",ee]}),h.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"12px"},children:[h.jsx("button",{type:"button",onClick:Q,disabled:!l||I,className:"profile-btn",style:{backgroundColor:"#3b82f6",color:"white",border:"none",padding:"10px 20px",borderRadius:"6px",cursor:!l||I?"not-allowed":"pointer",opacity:!l||I?.6:1,fontSize:"0.95rem",fontWeight:"500"},children:I?"Saving...":" Save Profile (JSON)"}),h.jsx("button",{type:"button",onClick:W,disabled:!l||B,className:"profile-btn btn-pdf",style:{padding:"10px 20px",borderRadius:"6px",fontWeight:"500",border:"1px solid #1f2937",backgroundColor:"white",cursor:!l||B?"not-allowed":"pointer"},children:B?"Downloading...":"Download Profile (PDF)"}),h.jsx("button",{type:"button",onClick:D,className:"profile-btn btn-edit",disabled:!l,style:{padding:"10px 20px",borderRadius:"6px",backgroundColor:"#374151",border:"none",color:"white",fontWeight:"500",cursor:l?"pointer":"not-allowed"},children:"Edit Profile"}),h.jsx("button",{type:"button",onClick:V,disabled:!t||m,className:"profile-btn",style:{backgroundColor:"#10b981",color:"white",border:"none",padding:"10px 20px",borderRadius:"6px",cursor:!t||m?"not-allowed":"pointer",opacity:!t||m?.6:1,fontSize:"0.95rem",fontWeight:"500"},children:m?"Enhancing...":" Enhance with AI"})]})]}),h.jsxs("div",{className:"profile-card",style:j,children:[h.jsxs("div",{style:z,children:[h.jsx("span",{style:{fontSize:"1.4rem"},children:""}),h.jsx("h3",{style:{margin:0,color:"#10b981",fontSize:"1.5rem",fontWeight:"600"},children:"AI-Enhanced Profile"})]}),h.jsx("div",{style:X,children:m?h.jsx("p",{style:{...ae,color:"#4b5563",textAlign:"center"},children:"Enhancing your profile with AI insights. This may take a few seconds."}):h.jsx(GH,{templateType:p,templateText:L,profile:s,templateIcon:A,templateName:d,templateDescription:f,templateCss:c,renderOnlyContent:!0,emptyMessage:"Enhanced profile preview will appear here once it is ready."})})]}),w&&h.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded text-red-700 text-sm",style:{marginTop:"20px"},children:w}),F&&h.jsx("div",{className:`p-3 border rounded text-sm ${F.type==="success"?"bg-green-50 border-green-200 text-green-700":"bg-red-50 border-red-200 text-red-700"}`,style:{marginTop:"20px"},children:F.text}),P&&h.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded text-red-700 text-sm",style:{marginTop:"20px"},children:P}),!t&&h.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded text-yellow-700 text-sm",style:{marginTop:"20px"},children:"Template text is missing. Please go back and select a template to enhance."}),!m&&g&&g.trim().length>0&&h.jsxs("div",{style:{marginTop:"30px",padding:"24px",backgroundColor:"#f9fafb",borderRadius:"12px",border:"2px solid #e5e7eb",textAlign:"center"},children:[h.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#111827",marginBottom:"16px"},children:"Do you like the profile?"}),h.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"16px",flexWrap:"wrap"},children:[h.jsx("button",{type:"button",onClick:K,disabled:U,style:{backgroundColor:"#10b981",color:"white",border:"none",padding:"12px 32px",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",cursor:U?"not-allowed":"pointer",opacity:U?.6:1,transition:"all 0.2s ease",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},onMouseEnter:Z=>{U||(Z.target.style.backgroundColor="#059669",Z.target.style.transform="translateY(-2px)")},onMouseLeave:Z=>{U||(Z.target.style.backgroundColor="#10b981",Z.target.style.transform="translateY(0)")},children:U?"Saving...":" Yes"}),h.jsx("button",{type:"button",onClick:ie,disabled:m||U,style:{backgroundColor:"#ef4444",color:"white",border:"none",padding:"12px 32px",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",cursor:m||U?"not-allowed":"pointer",opacity:m||U?.6:1,transition:"all 0.2s ease",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},onMouseEnter:Z=>{!m&&!U&&(Z.target.style.backgroundColor="#dc2626",Z.target.style.transform="translateY(-2px)")},onMouseLeave:Z=>{!m&&!U&&(Z.target.style.backgroundColor="#ef4444",Z.target.style.transform="translateY(0)")},children:m?"Regenerating...":" No, Create Again"})]})]})]})},XH=({onNavigateToStart:e})=>{const{isAuthenticated:t,logout:r}=t2(),n=()=>{r(),window.location.href="/"},i=()=>{e&&e()};return h.jsx("header",{className:"sticky top-0 z-50 bg-gradient-to-r from-white via-blue-50 to-white shadow-lg backdrop-blur-sm",children:h.jsxs("div",{className:"mx-auto flex h-16 sm:h-20 max-w-7xl items-center justify-between px-4 sm:px-6",children:[h.jsx("button",{onClick:i,className:"flex items-center gap-2 sm:gap-3 transition hover:scale-105 cursor-pointer",children:h.jsxs("span",{className:"text-xl sm:text-2xl font-bold text-gray-800",children:[h.jsx("span",{className:"text-[#151B54]",children:"Saarthi"}),h.jsx("span",{className:"text-gray-900",children:"X"})]})}),h.jsx("div",{className:"flex items-center gap-4",children:t()&&h.jsxs("button",{onClick:n,className:"inline-flex items-center gap-2 rounded-full bg-gradient-to-r from-[#151B54] to-blue-600 px-6 py-3 font-semibold text-white shadow-lg transition duration-300 hover:shadow-xl hover:scale-105",children:[h.jsx(Mte,{className:"h-4 w-4"}),h.jsx("span",{className:"text-sm",children:"Logout"})]})})]})})},YH={"professional-profile":"Professional Profile","designer-portrait":"Designer Portrait Showcase"},Ice=e=>!!YH[e];function _ce(){var ee;const{isAuthenticated:e,loading:t,login:r}=t2(),n=()=>localStorage.getItem("currentView")||"login",[i,a]=E.useState(n()),[o,s]=E.useState(null),[l,u]=E.useState(null),[c,A]=E.useState(null),[d,f]=E.useState(null),[p,g]=E.useState(!0),[v,m]=E.useState(!1),[y,w]=E.useState(!1),b=(L,j=!1)=>{a(L),j?window.history.replaceState({view:L},"",`/${L}`):window.history.pushState({view:L},"",`/${L}`)};E.useEffect(()=>{if(p){const L=window.location.pathname.replace("/","")||"login",j=localStorage.getItem("currentView"),ae=(["login","start","form","template","cover","image-upload","display","enhance"].includes(L)?L:null)||j||"login";a(ae),window.history.replaceState({view:ae},"",`/${ae}`),g(!1)}},[p]),E.useEffect(()=>{const L=j=>{j.state&&j.state.view?a(j.state.view):e()?a("start"):a("login")};return window.addEventListener("popstate",L),()=>{window.removeEventListener("popstate",L)}},[e]),E.useEffect(()=>{i&&i!=="login"?localStorage.setItem("currentView",i):localStorage.removeItem("currentView")},[i]),E.useEffect(()=>{const L=new URLSearchParams(window.location.search),j=L.get("token"),z=L.get("error");if((j||z)&&window.history.replaceState({},"","/"),j&&!e()){r(j,null).then(()=>{b("start",!0),f(null)}).catch(X=>{console.error("OAuth login failed:",X),f("Failed to complete Google login. Please try again."),b("login",!0)});return}if(z==="oauth_failed"){b("login",!0),f("Google login failed. Please try again.");return}t||(e()?i==="login"&&b("start",!0):(localStorage.removeItem("currentView"),b("login",!0)))},[t,e,r,i]),E.useEffect(()=>{(async()=>{if((i==="display"||i==="enhance")&&!l&&!t&&e())try{f(null);const z=await ME();z.success&&z.data?u(z.data):(f(z.error||"No saved profile found. Please create a profile first."),b("start",!0))}catch(z){console.error("Error loading saved profile:",z),f("Failed to load saved profile. Please try again."),b("start",!0)}})()},[t,e,i,l]);const B=()=>{if(!e()){b("login");return}try{localStorage.removeItem("saarthi_chatbot_state_v1")}catch(L){console.warn("Failed to clear chatbot state:",L)}b("form"),f(null),s(null),u(null),A(null)},S=L=>{s(L),b("template"),f(null)},P=async L=>{if(!o){f("Profile details are missing. Please complete the form again."),b("form");return}if(L==="cover"){b("cover");return}if(Ice(L)){A(L),b("image-upload");return}const j=await f1(o,L);j.success?(u(j.data),w(!0),b("display"),f(null)):(f(j.error),b("template"))},k=async L=>{if(!o){f("Profile details are missing. Please complete the form again."),b("form");return}const j={...o,...L},z=await f1(j,"cover");z.success?(u(z.data),w(!0),b("display"),f(null)):(f(z.error),b("cover"))},I=async L=>{if(!o){f("Profile details are missing. Please complete the form again."),b("form");return}if(!c){f("Please choose a template again to continue."),b("template");return}const j=await f1(L,c);j.success?(u(j.data),w(!0),b("display"),f(null),A(null)):(f(j.error),b("image-upload"))},O=()=>{f(null),A(null),b("template")},F=()=>{if(!e()){b("login");return}f(null),s(null),u(null),A(null),m(!1),w(!1),b("start")},N=()=>{f(null),A(null),b("form")},U=L=>{!l||!L||(f(null),b("enhance"))},M=()=>{f(null),m(!1),b("display")},V=()=>{f(null),m(!0),b("display")},Q=L=>{L&&u(L),f(null),m(!1),w(!1),b("display")},W=()=>{f(null)},D=()=>{m(!1)},K=async()=>{if(!e()){b("login");return}try{f(null);const L=await ME();L.success&&L.data?(u(L.data),w(!1),b("display")):(f(L.error||"No saved profile found. Please create a profile first."),b("start"))}catch(L){console.error("Error loading saved profile:",L),f("Failed to load saved profile. Please try again."),b("start")}},ie=()=>{if(!e()){b("login");return}window.location.href="/psychometric/saved-reports"};return t?h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:h.jsx("div",{className:"text-gray-600",children:"Loading..."})}):e()?h.jsxs("div",{className:"relative min-h-screen bg-gray-50",children:[i!=="login"&&h.jsx(XH,{onNavigateToStart:F}),i==="start"&&h.jsxs("div",{children:[d&&h.jsx("div",{className:"max-w-2xl mx-auto p-4 mt-4 bg-red-100 border border-red-400 text-red-700 rounded",children:d}),h.jsx(TP,{onStart:B,onViewSaved:K,onNavigateToStart:F,onPsychometricTest:()=>window.location.href="/psychometric/start",onViewSavedReports:ie})]}),i==="dashboard"&&h.jsx(TP,{onStart:B,onViewSaved:K,onNavigateToStart:F,onViewSavedReports:ie}),i==="form"&&h.jsxs("div",{children:[d&&h.jsxs("div",{className:"max-w-2xl mx-auto p-4 mt-4 bg-red-100 border border-red-400 text-red-700 rounded",children:["Error: ",d]}),h.jsx(Xte,{onSuccess:S,onBack:F,initialData:o})]}),i==="template"&&h.jsxs("div",{children:[d&&h.jsxs("div",{className:"max-w-4xl mx-auto p-4 mt-4 bg-red-100 border border-red-400 text-red-700 rounded",children:["Error: ",d]}),h.jsx(Zte,{onTemplateSelect:P,onCoverLetterSelect:()=>P("cover"),onBack:N})]}),i==="cover"&&h.jsxs("div",{children:[d&&h.jsxs("div",{className:"max-w-2xl mx-auto p-4 mt-4 bg-red-100 border border-red-400 text-red-700 rounded",children:["Error: ",d]}),h.jsx(ere,{onSubmit:k,onBack:O})]}),i==="image-upload"&&h.jsxs("div",{children:[d&&h.jsxs("div",{className:"max-w-2xl mx-auto p-4 mt-4 bg-red-100 border border-red-400 text-red-700 rounded",children:["Error: ",d]}),h.jsx(JQ,{onSubmit:I,onBack:O,profileData:o,templateLabel:YH[c]||"selected template"})]}),i==="display"&&l&&h.jsx(Nce,{profileData:l,onEnhanceRequest:U,forceEditMode:v,onForceEditHandled:D,onProfileUpdate:u,savedFormData:o,isNewProfile:y}),i==="enhance"&&l&&h.jsx(Fce,{profileData:l,templateText:l==null?void 0:l.templateText,templateType:((ee=l==null?void 0:l.profile)==null?void 0:ee.templateType)||(l==null?void 0:l.templateType),onBack:M,onRequestEdit:V,onProfileAccepted:Q,onProfileRejected:W})]}):h.jsx(qte,{initialError:d})}function kce(){return h.jsx(VQ,{children:h.jsx(_ce,{})})}const Pce="http://localhost:8080",xS="adminToken",Tu=Sn.create({baseURL:Pce,headers:{"Content-Type":"application/json"}}),JH=()=>typeof window>"u"?null:localStorage.getItem(xS),mg=e=>{typeof window>"u"||(e?(localStorage.setItem(xS,e),Tu.defaults.headers.common.Authorization=`Bearer ${e}`):(localStorage.removeItem(xS),delete Tu.defaults.headers.common.Authorization))},Rf=(e,t)=>{var i,a,o,s;const r=((a=(i=e==null?void 0:e.response)==null?void 0:i.data)==null?void 0:a.message)||((s=(o=e==null?void 0:e.response)==null?void 0:o.data)==null?void 0:s.error)||(e==null?void 0:e.message)||t;Ts(r);const n=new Error(r);throw n.response=e==null?void 0:e.response,n};mg(JH());const Oce=async(e,t)=>{var r;try{const i=(r=(await Tu.post("/api/admin/login",{email:e,password:t})).data)==null?void 0:r.data;if(!i)throw new Error("Invalid admin login response");return i.token&&mg(i.token),i}catch(n){return Rf(n,"Admin login failed")}},Tce=()=>{mg(null)},Lce=async()=>{var e;try{const r=(e=(await Tu.get("/api/admin/templates")).data)==null?void 0:e.data;return Array.isArray(r)?r:[]}catch(t){return Rf(t,"Failed to fetch templates")}},Uce=async e=>{var t;try{const r=await Tu.post("/api/admin/templates",e);return Lo("Template created"),(t=r.data)==null?void 0:t.data}catch(r){return Rf(r,"Failed to create template")}},Rce=async(e,t)=>{var r;try{const n=await Tu.put(`/api/admin/templates/${e}`,t);return Lo("Template updated"),(r=n.data)==null?void 0:r.data}catch(n){return Rf(n,"Failed to update template")}},Dce=async e=>{try{const t=await Tu.delete(`/api/admin/templates/${e}`);return Lo("Template deleted"),t.data}catch(t){return Rf(t,"Failed to delete template")}},jce=async(e,t)=>{var r;try{const n=await Tu.put(`/api/admin/templates/${e}`,{enabled:t});return Lo(`Template ${t?"enabled":"disabled"}`),(r=n.data)==null?void 0:r.data}catch(n){return Rf(n,`Failed to ${t?"enable":"disable"} template`)}},Mce=async(e,t)=>{var r;try{if(!e||!t)throw new Error("Template ID and file are required");const n=new FormData;n.append("file",t);const i=await Tu.post(`/api/admin/templates/uploadPreview/${e}`,n,{headers:{"Content-Type":"multipart/form-data"}});return Lo("Preview image uploaded successfully"),(r=i.data)==null?void 0:r.data}catch(n){return Rf(n,"Failed to upload preview image")}},TA={id:"",name:"",description:"",icon:"",content:"",css:""},Qce=()=>{const[e,t]=E.useState(()=>JH()),[r,n]=E.useState([]),[i,a]=E.useState(null),[o,s]=E.useState(TA),[l,u]=E.useState({email:"",password:""}),[c,A]=E.useState(""),[d,f]=E.useState(""),[p,g]=E.useState(""),[v,m]=E.useState(!1),[y,w]=E.useState(!1),[b,B]=E.useState(!1),[S,P]=E.useState(null),[k,I]=E.useState({}),[O,F]=E.useState(null),N=E.useCallback(async()=>{f(""),m(!0);try{const j=await Lce();n(j)}catch(j){f((j==null?void 0:j.message)||"Failed to load templates")}finally{m(!1)}},[]);E.useEffect(()=>{e?(mg(e),N()):(mg(null),n([]))},[e,N]);const U=async j=>{j.preventDefault(),A(""),w(!0);try{const z=await Oce(l.email.trim(),l.password);z!=null&&z.token&&t(z.token)}catch(z){A((z==null?void 0:z.message)||"Admin login failed")}finally{w(!1)}},M=()=>{t(null),Tce(),a(null),s(TA),u({email:"",password:""}),A(""),f("")},V=(j,z)=>{s(X=>({...X,[j]:z}))},Q=async j=>{j.preventDefault(),g("");const z=o.id.trim();if(!z){g("Template ID is required.");return}w(!0);try{if(i){const X=await Rce(i.id,{...o,id:z});n(ae=>ae.map(Z=>Z.id===X.id?X:Z)),a(X),s(ae=>({...ae,id:X.id}))}else{const X=await Uce({...o,id:z});n(ae=>[...ae.filter(Z=>Z.id!==X.id),X]),s(TA),B(!1)}g("")}catch(X){g((X==null?void 0:X.message)||"Failed to save template.")}finally{w(!1)}},W=j=>{a(j),s({id:j.id||"",name:j.name||"",description:j.description||"",icon:j.icon||"",content:j.content||"",css:j.css||""}),g(""),B(!0)},D=async j=>{if(window.confirm(`Delete template "${j.name}" permanently?`)){w(!0);try{await Dce(j.id),n(z=>z.filter(X=>X.id!==j.id)),(i==null?void 0:i.id)===j.id&&(a(null),s(TA)),f("")}catch(z){f((z==null?void 0:z.message)||"Failed to delete template.")}finally{w(!1)}}},K=async(j,z)=>{f(""),w(!0);try{const X=await jce(j.id,z);X&&(n(ae=>ae.map(Z=>Z.id===X.id?X:Z)),(i==null?void 0:i.id)===X.id&&a(X))}catch(X){f((X==null?void 0:X.message)||"Failed to update template status.")}finally{w(!1)}},ie=async(j,z)=>{var ae;z.stopPropagation();const X=(ae=z.target.files)==null?void 0:ae[0];if(X){if(!X.type.startsWith("image/")){f("Please select an image file");return}I(Z=>({...Z,[j.id]:!0})),f("");try{const Z=await Mce(j.id,X);Z&&(n(ce=>ce.map(ne=>ne.id===Z.id?Z:ne)),(i==null?void 0:i.id)===Z.id&&a(Z))}catch(Z){f((Z==null?void 0:Z.message)||"Failed to upload preview image.")}finally{I(Z=>({...Z,[j.id]:!1})),z.target.value=""}}},ee=!!i,L=ee?"Save template":"Create template";return h.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 px-4 py-8 relative overflow-hidden",children:[h.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[h.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-300 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob"}),h.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-indigo-300 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-2000"}),h.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-80 h-80 bg-blue-300 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-4000"})]}),h.jsxs("div",{className:"max-w-7xl mx-auto space-y-8 relative z-10",children:[h.jsxs("header",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 pb-6 border-b border-indigo-200/50 backdrop-blur-sm bg-white/30 rounded-2xl p-6 shadow-lg",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-600 to-purple-600 rounded-xl flex items-center justify-center shadow-lg transform hover:scale-110 transition-transform duration-300",children:h.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-xs uppercase tracking-wider text-indigo-600 font-bold mb-1",children:"Admin Dashboard"}),h.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:"Template Management"})]})]}),h.jsx("p",{className:"text-gray-600 ml-16",children:"Manage all global templates centrally"})]}),e&&h.jsxs("button",{type:"button",onClick:M,className:"inline-flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-xl text-sm font-semibold shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:[h.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Logout"]})]}),!e&&h.jsx("div",{className:"max-w-md mx-auto animate-fade-in",children:h.jsxs("form",{onSubmit:U,className:"bg-white/80 backdrop-blur-md border border-indigo-200/50 rounded-2xl p-8 space-y-6 shadow-2xl hover:shadow-3xl transition-all duration-300",children:[h.jsxs("div",{className:"text-center mb-6",children:[h.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-600 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:h.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),h.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Admin Access"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Use the credentials configured via environment variables"})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[h.jsx("svg",{className:"w-4 h-4 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})}),"Email"]}),h.jsx("input",{type:"email",required:!0,value:l.email,onChange:j=>u(z=>({...z,email:j.target.value})),className:"w-full rounded-xl bg-white border-2 border-gray-200 px-4 py-3 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 focus:outline-none transition-all duration-200 hover:border-indigo-300",placeholder:"admin@example.com"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[h.jsx("svg",{className:"w-4 h-4 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"Password"]}),h.jsx("input",{type:"password",required:!0,value:l.password,onChange:j=>u(z=>({...z,password:j.target.value})),className:"w-full rounded-xl bg-white border-2 border-gray-200 px-4 py-3 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 focus:outline-none transition-all duration-200 hover:border-indigo-300",placeholder:"Enter your password"})]}),c&&h.jsxs("div",{className:"bg-red-50 border-2 border-red-200 text-red-700 p-4 rounded-xl flex items-center gap-3 animate-shake",children:[h.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.jsx("p",{className:"text-sm font-medium",children:c})]}),h.jsx("button",{type:"submit",disabled:y,className:"w-full inline-flex justify-center items-center gap-2 py-3.5 px-4 rounded-xl bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white transition-all duration-200 disabled:opacity-60 font-semibold shadow-lg hover:shadow-xl transform hover:scale-[1.02] disabled:transform-none",children:y?h.jsxs(h.Fragment,{children:[h.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):h.jsxs(h.Fragment,{children:[h.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),"Sign in as admin"]})})]})]})}),e&&h.jsxs(h.Fragment,{children:[h.jsxs("section",{className:"bg-white/80 backdrop-blur-md border border-indigo-200/50 rounded-2xl p-6 space-y-5 shadow-xl hover:shadow-2xl transition-all duration-300",children:[h.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:ee?" Edit template":" Create new template"}),h.jsx("p",{className:"text-gray-600 text-sm",children:"Give the template a unique lower-case type id and fill out the details."})]}),!b&&!ee?h.jsxs("button",{type:"button",onClick:()=>{a(null),s(TA),g(""),B(!0)},className:"inline-flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white rounded-xl text-sm font-semibold shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:[h.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create template"]}):ee?h.jsxs("button",{type:"button",onClick:()=>{a(null),s(TA),g("")},className:"inline-flex items-center gap-2 px-5 py-2.5 border-2 border-gray-300 hover:border-indigo-400 text-gray-700 hover:text-indigo-600 rounded-xl text-sm font-semibold transition-all duration-200 hover:bg-indigo-50",children:[h.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Start new template"]}):h.jsxs("button",{type:"button",onClick:()=>{B(!1)},className:"inline-flex items-center gap-2 px-5 py-2.5 border-2 border-gray-300 hover:border-gray-400 text-gray-700 rounded-xl text-sm font-semibold transition-all duration-200 hover:bg-gray-50",children:[h.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Hide form"]})]}),(b||ee)&&h.jsxs("form",{onSubmit:Q,className:"grid gap-5 md:grid-cols-2 pt-6 border-t border-indigo-100 animate-slide-down",children:[h.jsxs("div",{className:"md:col-span-2",children:[h.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[h.jsx("span",{className:"text-indigo-600",children:""}),"Template ID"]}),h.jsx("input",{type:"text",value:o.id,onChange:j=>V("id",j.target.value),disabled:ee,required:!0,placeholder:"professional (lowercase, no spaces)",className:"w-full rounded-xl bg-white border-2 border-gray-200 px-4 py-3 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 focus:outline-none transition-all duration-200 hover:border-indigo-300 disabled:bg-gray-50 disabled:cursor-not-allowed"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[h.jsx("span",{className:"text-indigo-600",children:""}),"Name"]}),h.jsx("input",{type:"text",value:o.name,onChange:j=>V("name",j.target.value),required:!0,placeholder:"Template name",className:"w-full rounded-xl bg-white border-2 border-gray-200 px-4 py-3 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 focus:outline-none transition-all duration-200 hover:border-indigo-300"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[h.jsx("span",{className:"text-indigo-600",children:""}),"Icon"]}),h.jsx("input",{type:"text",value:o.icon,onChange:j=>V("icon",j.target.value),placeholder:"Emoji or text",className:"w-full rounded-xl bg-white border-2 border-gray-200 px-4 py-3 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 focus:outline-none transition-all duration-200 hover:border-indigo-300"})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[h.jsx("span",{className:"text-indigo-600",children:""}),"Description"]}),h.jsx("input",{type:"text",value:o.description,onChange:j=>V("description",j.target.value),placeholder:"Brief description of the template",className:"w-full rounded-xl bg-white border-2 border-gray-200 px-4 py-3 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 focus:outline-none transition-all duration-200 hover:border-indigo-300"})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[h.jsx("span",{className:"text-indigo-600",children:""}),"Content"]}),h.jsx("textarea",{value:o.content,onChange:j=>V("content",j.target.value),rows:6,required:!0,placeholder:"Template content...",className:"w-full rounded-xl bg-white border-2 border-gray-200 px-4 py-3 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 focus:outline-none transition-all duration-200 hover:border-indigo-300 resize-y"})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[h.jsx("span",{className:"text-indigo-600",children:""}),"CSS (optional)"]}),h.jsx("textarea",{value:o.css,onChange:j=>V("css",j.target.value),rows:4,placeholder:"Custom CSS styles...",className:"w-full rounded-xl bg-gray-900 text-green-400 border-2 border-gray-700 px-4 py-3 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-100 focus:outline-none transition-all duration-200 font-mono text-sm"})]}),ee&&h.jsxs("div",{className:"md:col-span-2",children:[h.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[h.jsx("span",{className:"text-indigo-600",children:""}),"Preview Image"]}),h.jsxs("div",{className:"space-y-3",children:[(i==null?void 0:i.previewImageUrl)&&h.jsx("div",{className:"relative",children:h.jsx("img",{src:i.previewImageUrl,alt:"Preview",className:"w-full max-w-md h-48 object-cover rounded-xl border-2 border-gray-200",onError:j=>{j.target.style.display="none"}})}),h.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[h.jsxs("label",{className:"inline-flex items-center gap-2 px-4 py-2.5 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white rounded-xl text-sm font-semibold shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 cursor-pointer",children:[h.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),k[i==null?void 0:i.id]?"Uploading...":"Upload Preview Image",h.jsx("input",{type:"file",accept:"image/*",onChange:j=>i&&ie(i,j),disabled:k[i==null?void 0:i.id],className:"hidden"})]}),(i==null?void 0:i.previewImageUrl)&&h.jsxs("button",{type:"button",onClick:()=>F(i),className:"inline-flex items-center gap-2 px-4 py-2.5 bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white rounded-xl text-sm font-semibold shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:[h.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"View Preview"]})]}),h.jsx("p",{className:"text-xs text-gray-500",children:"Upload a preview image that will be shown when users hover over this template card"})]})]}),p&&h.jsxs("div",{className:"md:col-span-2 bg-red-50 border-2 border-red-200 text-red-700 p-4 rounded-xl flex items-center gap-3 animate-shake",children:[h.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.jsx("p",{className:"text-sm font-medium",children:p})]}),h.jsxs("div",{className:"md:col-span-2 flex flex-wrap gap-3 pt-2",children:[h.jsx("button",{type:"submit",disabled:y,className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white rounded-xl font-semibold transition-all duration-200 disabled:opacity-60 shadow-lg hover:shadow-xl transform hover:scale-105 disabled:transform-none",children:y?h.jsxs(h.Fragment,{children:[h.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),L]})}),ee&&h.jsxs("button",{type:"button",onClick:()=>{a(null),s(TA),g("")},className:"inline-flex items-center gap-2 px-6 py-3 border-2 border-gray-300 hover:border-gray-400 text-gray-700 rounded-xl font-semibold transition-all duration-200 hover:bg-gray-50",children:[h.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Cancel edit"]})]})]})]}),h.jsxs("section",{className:"space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:"Template Library"}),!!r.length&&h.jsxs("span",{className:"text-sm text-gray-700 bg-gradient-to-r from-indigo-100 to-purple-100 px-4 py-1.5 rounded-full font-semibold border border-indigo-200 shadow-sm",children:[r.length," ",r.length===1?"template":"templates"]})]}),d&&h.jsxs("div",{className:"rounded-xl bg-red-50 border-2 border-red-200 px-4 py-3 text-sm text-red-700 flex items-center gap-3 animate-shake",children:[h.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.jsx("p",{className:"font-medium",children:d})]}),v?h.jsx("div",{className:"text-center py-16",children:h.jsxs("div",{className:"inline-block",children:[h.jsxs("svg",{className:"animate-spin h-12 w-12 text-indigo-600 mx-auto mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),h.jsx("p",{className:"text-gray-600 font-medium",children:"Loading templates..."})]})}):r.length===0?h.jsxs("div",{className:"text-center py-16 bg-white/80 backdrop-blur-md border-2 border-indigo-200/50 rounded-2xl shadow-lg",children:[h.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-indigo-100 to-purple-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:h.jsx("svg",{className:"w-10 h-10 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),h.jsx("p",{className:"text-gray-600 font-medium text-lg",children:"No templates yet"}),h.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Create your first template above"})]}):h.jsx("div",{className:"grid gap-5 md:grid-cols-2 lg:grid-cols-3",children:r.map((j,z)=>{const X=j.enabled!==!1;return h.jsxs("article",{onClick:()=>P(j),className:"group relative bg-white/80 backdrop-blur-md border-2 border-indigo-200/50 rounded-2xl p-6 shadow-lg hover:shadow-2xl hover:border-indigo-400 transition-all duration-300 cursor-pointer transform hover:scale-[1.02] hover:-translate-y-1 template-card-enter",style:{animationDelay:`${z*50}ms`},children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-50/0 to-purple-50/0 group-hover:from-indigo-50/50 group-hover:to-purple-50/50 rounded-2xl transition-all duration-300 pointer-events-none"}),h.jsx("header",{className:"flex items-start justify-between gap-3 mb-4 relative z-10",children:h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"text-xs text-indigo-600 uppercase tracking-wide font-bold mb-2 truncate",children:j.id}),h.jsx("div",{className:"flex items-center gap-2 flex-wrap mb-2",children:h.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2 group-hover:text-indigo-600 transition-colors",children:[h.jsx("span",{className:"text-2xl",children:j.icon}),h.jsx("span",{className:"truncate",children:j.name})]})}),h.jsxs("span",{className:`inline-flex items-center gap-1.5 text-[0.65rem] font-bold uppercase tracking-wider rounded-full px-2.5 py-1 ${X?"bg-green-100 text-green-700 border border-green-300":"bg-amber-100 text-amber-700 border border-amber-300"}`,children:[h.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${X?"bg-green-500":"bg-amber-500"} animate-pulse`}),X?"Active":"Inactive"]})]})}),j.description&&h.jsx("p",{className:"text-sm text-gray-600 mb-4 overflow-hidden relative z-10",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",maxHeight:"2.5rem"},children:j.description}),h.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100 relative z-10",onClick:ae=>ae.stopPropagation(),children:[h.jsxs("div",{className:"flex gap-2 flex-wrap",children:[h.jsx("button",{type:"button",onClick:()=>W(j),className:"px-3 py-1.5 text-xs font-semibold text-indigo-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-lg transition-all duration-200 transform hover:scale-105",title:"Edit template",children:" Edit"}),h.jsxs("label",{className:"px-3 py-1.5 text-xs font-semibold text-purple-600 hover:text-purple-700 hover:bg-purple-50 rounded-lg transition-all duration-200 transform hover:scale-105 cursor-pointer",children:[" ",k[j.id]?"Uploading...":"Upload Preview",h.jsx("input",{type:"file",accept:"image/*",onChange:ae=>ie(j,ae),disabled:k[j.id],className:"hidden"})]}),j.previewImageUrl&&h.jsx("button",{type:"button",onClick:()=>F(j),className:"px-3 py-1.5 text-xs font-semibold text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-all duration-200 transform hover:scale-105",title:"View preview image",children:" View Preview"}),h.jsx("button",{type:"button",onClick:()=>K(j,!X),disabled:y,className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-all duration-200 transform hover:scale-105 ${X?"text-amber-600 hover:text-amber-700 hover:bg-amber-50":"text-green-600 hover:text-green-700 hover:bg-green-50"}`,title:X?"Disable template":"Enable template",children:X?" Disable":" Enable"}),h.jsx("button",{type:"button",onClick:()=>D(j),className:"px-3 py-1.5 text-xs font-semibold text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition-all duration-200 transform hover:scale-105",title:"Delete template",children:" Delete"})]}),h.jsx("div",{className:"text-gray-400 group-hover:text-indigo-400 transition-colors",children:h.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]},j.id)})})]}),O&&h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4 animate-fade-in",onClick:()=>F(null),children:h.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden border-2 border-indigo-300 animate-scale-in",onClick:j=>j.stopPropagation(),children:[h.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-indigo-600 via-purple-600 to-indigo-600 text-white px-6 py-5 flex items-center justify-between z-10 shadow-lg",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center text-2xl",children:O.icon}),h.jsxs("div",{children:[h.jsx("p",{className:"text-xs uppercase tracking-wide text-indigo-100 mb-1 font-semibold",children:O.id}),h.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[O.name," - Preview Image"]})]})]}),h.jsx("button",{onClick:()=>F(null),className:"text-white hover:bg-white/20 rounded-full p-2 transition-all duration-200 transform hover:scale-110 hover:rotate-90","aria-label":"Close",children:h.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),h.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-100px)] flex items-center justify-center bg-gray-50",children:O.previewImageUrl?(()=>{const j="http://localhost:8080";let z=O.previewImageUrl,X=z;z.startsWith("http://")||z.startsWith("https://")||(z.startsWith("/")||(z="/"+z),z.startsWith("/uploads/")||(z="/uploads/"+z.replace(/^\/+/,""))),X=z,console.log("Preview image URL:",X);const ae=Z=>{if(console.error("Failed to load preview image:",X),!X.startsWith("http://")&&!X.startsWith("https://")){const ce=j+X;console.log("Trying backend URL:",ce),Z.target.src=ce;return}if(Z.target.style.display="none",!Z.target.parentNode.querySelector(".image-error")){const ce=document.createElement("div");ce.className="image-error text-center p-8 text-gray-500",ce.innerHTML=`
                            <p class="text-lg font-semibold mb-2">Image not found</p>
                            <p class="text-sm mb-2">The preview image could not be loaded.</p>
                            <p class="text-xs text-gray-400 mt-2 break-all">Tried URL: ${X}</p>
                            <p class="text-xs text-gray-400 mt-1">Please verify:</p>
                            <ul class="text-xs text-gray-400 mt-1 text-left list-disc list-inside">
                              <li>The backend server is running</li>
                              <li>The file exists at the path</li>
                              <li>You may need to re-upload the preview image</li>
                            </ul>
                          `,Z.target.parentNode.appendChild(ce)}};return h.jsx("img",{src:X,alt:`${O.name} preview`,className:"max-w-full max-h-[calc(90vh-200px)] object-contain rounded-xl shadow-2xl border-2 border-gray-200",onError:ae})})():h.jsxs("div",{className:"text-center p-8 text-gray-500",children:[h.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),h.jsx("p",{className:"text-lg font-semibold mb-2",children:"No preview image"}),h.jsx("p",{className:"text-sm",children:"Upload a preview image to see it here."})]})})]})}),S&&h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-fade-in",onClick:()=>P(null),children:h.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden border-2 border-indigo-300 animate-scale-in",onClick:j=>j.stopPropagation(),children:[h.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-indigo-600 via-purple-600 to-indigo-600 text-white px-6 py-5 flex items-center justify-between z-10 shadow-lg",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center text-2xl",children:S.icon}),h.jsxs("div",{children:[h.jsx("p",{className:"text-xs uppercase tracking-wide text-indigo-100 mb-1 font-semibold",children:S.id}),h.jsx("h3",{className:"text-xl font-bold flex items-center gap-2",children:S.name})]})]}),h.jsx("button",{onClick:()=>P(null),className:"text-white hover:bg-white/20 rounded-full p-2 transition-all duration-200 transform hover:scale-110 hover:rotate-90","aria-label":"Close",children:h.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),h.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto max-h-[calc(90vh-100px)]",children:[S.description&&h.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-xl p-5 border border-indigo-100",children:[h.jsxs("p",{className:"text-sm font-bold text-indigo-600 uppercase tracking-wide mb-3 flex items-center gap-2",children:[h.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Description"]}),h.jsx("p",{className:"text-base text-gray-700 leading-relaxed",children:S.description})]}),h.jsxs("div",{children:[h.jsxs("p",{className:"text-sm font-bold text-indigo-600 uppercase tracking-wide mb-3 flex items-center gap-2",children:[h.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Content Preview"]}),h.jsx("div",{className:"bg-gray-50 rounded-xl p-5 border-2 border-gray-200 hover:border-indigo-300 transition-colors",children:h.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap leading-relaxed",children:S.content||"No content available"})})]}),S.css&&h.jsxs("div",{children:[h.jsxs("p",{className:"text-sm font-bold text-indigo-600 uppercase tracking-wide mb-3 flex items-center gap-2",children:[h.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})}),"Custom CSS"]}),h.jsx("div",{className:"bg-gray-900 rounded-xl p-5 border-2 border-gray-700 overflow-x-auto shadow-inner",children:h.jsx("pre",{className:"text-xs text-green-400 font-mono leading-relaxed",children:h.jsx("code",{children:S.css})})})]}),h.jsxs("div",{className:"pt-4 border-t-2 border-gray-200 bg-gray-50 rounded-xl p-5",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),h.jsx("p",{className:"text-sm text-gray-600 font-medium",children:S.createdAt?`Created: ${new Date(S.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}`:"No creation date available"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:`w-2 h-2 rounded-full ${S.enabled!==!1?"bg-green-500":"bg-amber-500"} animate-pulse`}),h.jsxs("p",{className:"text-sm text-gray-600",children:["Status: ",h.jsx("span",{className:`font-bold ${S.enabled!==!1?"text-green-600":"text-amber-600"}`,children:S.enabled!==!1?"Enabled":"Disabled"})]})]})]})]})]})})]})]})]})},Hce=["B.Tech","BBA","B.Com","MBA","Other"],$ce={name:"",email:"",phone:"",age:"",degree:"B.Tech",specialization:"",careerInterest:""};function Wce(){const e=jo(),t=io(),[r,n]=E.useState(()=>{var F;return((F=t.state)==null?void 0:F.formData)||$ce}),[i,a]=E.useState({}),[o,s]=E.useState(!1),[l,u]=E.useState(null),[c,A]=E.useState([]),[d,f]=E.useState(!1),[p,g]=E.useState(!1),v=E.useRef(!1);E.useMemo(()=>"http://localhost:8080",[]),E.useEffect(()=>{(async()=>{if(v.current){console.log("Auto-submit already attempted, skipping duplicate execution...");return}try{const N=sessionStorage.getItem("psychometric_from_profile"),U=sessionStorage.getItem("psychometric_profile_data");if(console.log("Checking for profile data:",{fromProfile:N,hasData:!!U}),N==="true"&&U){v.current=!0;const M=JSON.parse(U);console.log(" Detected profile data, auto-creating session:",M),sessionStorage.removeItem("psychometric_from_profile"),sessionStorage.removeItem("psychometric_profile_data"),console.log(" Cleared sessionStorage flags"),s(!0),u("Creating your psychometric test session from profile data...");const{createPsychometricSession:V}=await Om(async()=>{const{createPsychometricSession:W}=await Promise.resolve().then(()=>Kce);return{createPsychometricSession:W}},void 0),Q=await V(M);console.log(" Auto-session creation result:",Q),Q&&Q.sessionId?(u(" Session created successfully! Redirecting..."),console.log(` Redirecting to /psychometric/instructions/${Q.sessionId}`),setTimeout(()=>{e(`/psychometric/instructions/${Q.sessionId}`,{replace:!0})},500)):(console.error(" No session ID in result:",Q),n({name:M.name||"",email:M.email||"",phone:M.phone||"",age:M.age||"",degree:M.degree||"B.Tech",specialization:M.specialization||"",careerInterest:M.careerInterest||""}),sessionStorage.setItem("psychometric_skills_data",JSON.stringify({certifications:M.certifications||"",achievements:M.achievements||"",technicalSkills:M.technicalSkills||"",softSkills:M.softSkills||"",interests:M.interests||"",hobbies:M.hobbies||""})),u(" Auto-session creation failed. Form pre-filled with your data. Please click Continue."),s(!1))}else console.log(" No profile data found in sessionStorage - showing normal form")}catch(N){console.error(" Error in profile data auto-submit:",N),sessionStorage.removeItem("psychometric_from_profile"),sessionStorage.removeItem("psychometric_profile_data"),u(`Error: ${N.message}. Please fill the form manually.`),s(!1)}})()},[]);const m=F=>{if(!F)return"";try{const N=new Date(F),U=new Date;let M=U.getFullYear()-N.getFullYear();const V=U.getMonth()-N.getMonth();return(V<0||V===0&&U.getDate()<N.getDate())&&M--,M>0?M.toString():""}catch{return""}},y=F=>{if(!F)return"B.Tech";const N=F.toLowerCase();return N.includes("b.tech")||N.includes("btech")||N.includes("bachelor of technology")?"B.Tech":N.includes("bba")||N.includes("bachelor of business")?"BBA":N.includes("b.com")||N.includes("bcom")||N.includes("bachelor of commerce")?"B.Com":N.includes("mba")||N.includes("master of business")?"MBA":"Other"},w=async()=>{g(!0);try{const F=await cg();F.success&&F.data&&Array.isArray(F.data)?(A(F.data),f(!0)):(A([]),u("No saved data found. Please fill in the form manually."))}catch(F){console.error("Error loading saved profiles:",F),u("Failed to load saved data. Please try again.")}finally{g(!1)}},b=F=>{const N=F.profile||F;n({name:N.name||"",email:N.email||"",phone:N.phone||"",age:m(N.dob)||"",degree:y(N.currentDegree||N.degree),specialization:N.branch||N.specialization||"",careerInterest:N.interests||N.careerInterest||""}),(N.technicalSkills||N.softSkills||N.interests||N.hobbies||N.certifications||N.achievements)&&sessionStorage.setItem("psychometric_skills_data",JSON.stringify({certifications:N.certifications||"",achievements:N.achievements||"",technicalSkills:N.technicalSkills||"",softSkills:N.softSkills||"",interests:N.interests||"",hobbies:N.hobbies||""})),f(!1),u(null)},B=F=>{const N={};return F.name.trim()||(N.name="Name is required"),F.email.match(/^[^@\s]+@[^@\s]+\.[^@\s]+$/)||(N.email="Enter a valid email"),(!F.phone||F.phone.length<7||F.phone.length>15)&&(N.phone="Phone must be 7-15 digits"),(!F.age||Number(F.age)<=0)&&(N.age="Age is required"),F.degree||(N.degree="Degree is required"),F.specialization.trim()||(N.specialization="Specialization is required"),F.careerInterest.trim()||(N.careerInterest="Career interest is required"),N},S=async F=>{F.preventDefault(),u(null);const N=B(r);a(N),!(Object.keys(N).length>0)&&e("/psychometric/skills",{state:{userInfo:{...r,age:Number(r.age)}}})},P="w-full rounded-2xl border border-slate-200 px-4 py-3 text-base focus:outline-none focus:ring-2 focus:ring-blue-500 transition bg-white",k=[[{id:"name",label:"Full name",type:"text",placeholder:""},{id:"email",label:"Email",type:"email",placeholder:""}],[{id:"phone",label:"Phone",type:"tel",placeholder:"e.g., (123) 456-7890"},{id:"age",label:"Age",type:"number",placeholder:"",min:15,max:80}],[{id:"degree",label:"Degree",type:"select"},{id:"specialization",label:"Specialization",type:"text",placeholder:"e.g., CSE, IT, Finance, Marketing"}],[{id:"careerInterest",label:"Career interest",type:"text",placeholder:"e.g., Product design, Data storytelling",span:!0}]],I=F=>{const N=i[F.id];return F.type==="select"?h.jsxs("div",{className:`flex flex-col gap-2 ${F.span?"md:col-span-2":""}`,children:[h.jsx("label",{className:"text-sm font-medium text-slate-600",htmlFor:F.id,children:F.label}),h.jsx("select",{id:F.id,name:F.id,value:r[F.id],onChange:U=>n({...r,[F.id]:U.target.value}),className:P,children:Hce.map(U=>h.jsx("option",{value:U,children:U},U))}),N&&h.jsx("p",{className:"rounded-xl bg-red-50 px-4 py-2 text-sm text-red-600 font-semibold",children:N})]},F.id):h.jsxs("div",{className:`flex flex-col gap-2 ${F.span?"md:col-span-2":""}`,children:[h.jsx("label",{className:"text-sm font-medium text-slate-600",htmlFor:F.id,children:F.label}),h.jsx("input",{id:F.id,name:F.id,type:F.type,min:F.min,max:F.max,value:r[F.id],onChange:U=>n({...r,[F.id]:F.type==="number"?U.target.value===""?"":Number(U.target.value):U.target.value}),placeholder:F.placeholder,className:P}),N&&h.jsx("p",{className:"rounded-xl bg-red-50 px-4 py-2 text-sm text-red-600 font-semibold",children:N})]},F.id)},O=[{label:"Length",value:"3 sections  120 questions"},{label:"Duration",value:"~35 mins average"},{label:"Output",value:"AI-personalized report"},{label:"Proctoring",value:"Camera & mic ready"}];return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sky-50 via-white to-indigo-50 px-4 py-10",children:h.jsxs("div",{className:"mx-auto max-w-6xl space-y-8",children:[h.jsx("div",{className:"flex flex-wrap items-center justify-between gap-3",children:h.jsxs("div",{className:"space-y-2",children:[h.jsx("p",{className:"text-sm uppercase tracking-wide text-blue-600 font-semibold",children:"Psychometric assessment"}),h.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Start your guided evaluation"}),h.jsx("p",{className:"max-w-3xl text-slate-600",children:"Share a few details to begin your tailored assessment. This comprehensive 3-section test evaluates your aptitude, behavioral traits, and domain knowledge, followed by a detailed AI-powered report with personalized insights."})]})}),h.jsxs("div",{className:"overflow-hidden rounded-3xl bg-white shadow-2xl shadow-slate-200/80 lg:grid lg:grid-cols-[minmax(0,1fr)_320px]",children:[h.jsxs("form",{onSubmit:S,className:"p-6 sm:p-10 space-y-8",noValidate:!0,children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-2xl font-semibold text-slate-900",children:"Tell us about yourself"}),h.jsx("p",{className:"mt-2 text-slate-500",children:"Provide your basic information to get started with the assessment."})]}),h.jsx("div",{className:"grid gap-5 md:grid-cols-2",children:k.flat().map(F=>I(F))}),l&&h.jsx("p",{className:"rounded-2xl bg-red-50 px-4 py-3 text-sm font-semibold text-red-600",children:l}),h.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 pt-2",children:[h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx("div",{className:"text-sm text-slate-500",children:"All fields are required to proceed with the assessment."}),h.jsx("button",{type:"button",onClick:w,disabled:p,className:"text-sm text-blue-600 hover:text-blue-700 font-medium transition flex items-center gap-2 self-start",children:p?h.jsxs(h.Fragment,{children:[h.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):h.jsxs(h.Fragment,{children:[h.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"Load from saved data"]})})]}),h.jsx("button",{type:"submit",disabled:o,className:"rounded-2xl bg-gradient-to-r from-blue-600 to-indigo-600 px-8 py-3 font-semibold text-white shadow-lg shadow-blue-200 transition hover:opacity-90 disabled:opacity-60",children:o?"Loading":"Continue"})]}),d&&c.length>0&&h.jsx("div",{className:"relative",children:h.jsx("div",{className:"absolute z-10 w-full mt-2 bg-white rounded-2xl shadow-xl border border-slate-200 max-h-64 overflow-y-auto",children:h.jsxs("div",{className:"p-2",children:[h.jsxs("div",{className:"flex items-center justify-between p-2 border-b border-slate-200",children:[h.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"Select saved information"}),h.jsx("button",{type:"button",onClick:()=>f(!1),className:"text-slate-400 hover:text-slate-600",children:h.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.map((F,N)=>{const U=F.profile||F,M=U.createdAt?new Date(U.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):`Entry ${N+1}`;return h.jsx("button",{type:"button",onClick:()=>b(F),className:"w-full text-left p-3 rounded-xl hover:bg-slate-50 transition border border-transparent hover:border-slate-200 mb-2",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"font-medium text-slate-900",children:U.name||"Unnamed Entry"}),h.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[U.currentDegree||U.degree||"No degree","  ",U.branch||U.specialization||"No specialization"]}),h.jsx("p",{className:"text-xs text-slate-400 mt-1",children:M})]}),h.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})},U.id||N)})]})})})]}),h.jsxs("aside",{className:"bg-slate-900 text-white p-8 space-y-6",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm uppercase tracking-widest text-slate-400",children:"What you get"}),h.jsx("h4",{className:"mt-2 text-2xl font-semibold",children:"Comprehensive Assessment"}),h.jsx("p",{className:"mt-3 text-sm text-slate-300",children:"Take a thorough psychometric evaluation that analyzes your aptitude, personality traits, and domain expertise. Receive a detailed AI-generated report with personalized insights and career recommendations."})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsx("p",{className:"text-xs uppercase tracking-wider text-slate-400",children:"Snapshot"}),h.jsx("div",{className:"space-y-3",children:O.map(F=>h.jsxs("div",{className:"rounded-2xl bg-white/5 px-4 py-3",children:[h.jsx("p",{className:"text-xs text-slate-400",children:F.label}),h.jsx("p",{className:"text-base font-semibold text-white",children:F.value})]},F.label))})]}),h.jsxs("div",{className:"rounded-2xl border border-white/10 p-4 space-y-2",children:[h.jsx("p",{className:"text-sm font-semibold text-white",children:"How it works"}),h.jsxs("ul",{className:"list-disc space-y-1 pl-4 text-xs text-slate-300",children:[h.jsx("li",{children:"Fill in your basic details to get started."}),h.jsx("li",{children:"Read the instructions while the test questions are being prepared."}),h.jsx("li",{children:"Complete all three sections to receive your personalized report."})]})]})]})]})]})})}const Jn="http://localhost:8080";async function ZH(e){try{const t=await fetch(`${Jn}/api/psychometric/sessions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userInfo:e})});if(!t.ok){let r="Unable to start session";try{const n=await t.json();r=typeof n=="string"?n:JSON.stringify(n)}catch{r=`Server error: ${t.status} ${t.statusText}`}throw new Error(r)}return t.json()}catch(t){throw t instanceof TypeError&&t.message.includes("fetch")?new Error(`Failed to connect to backend at ${Jn}. Please ensure the backend is running and accessible.`):t}}async function mN(e){try{const t=await fetch(`${Jn}/api/psychometric/sessions/${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok){let r="Unable to fetch session";try{const n=await t.json();r=typeof n=="string"?n:JSON.stringify(n)}catch{r=`Server error: ${t.status} ${t.statusText}`}throw new Error(r)}return t.json()}catch(t){throw t instanceof TypeError&&t.message.includes("fetch")?new Error(`Failed to connect to backend at ${Jn}. Please ensure the backend is running and accessible.`):t}}async function h2(e){try{const t=await fetch(`${Jn}/api/psychometric/sessions/${e}/status`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok){let r="Unable to fetch session status";try{const n=await t.json();r=typeof n=="string"?n:JSON.stringify(n)}catch{r=`Server error: ${t.status} ${t.statusText}`}throw new Error(r)}return t.json()}catch(t){throw t instanceof TypeError&&t.message.includes("fetch")?new Error(`Failed to connect to backend at ${Jn}. Please ensure the backend is running and accessible.`):t}}async function gN(e){try{const t=await fetch(`${Jn}/api/psychometric/sessions/${e}/questions`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok){let r="Unable to fetch questions";try{const n=await t.json();r=typeof n=="string"?n:JSON.stringify(n)}catch{r=`Server error: ${t.status} ${t.statusText}`}throw new Error(r)}return t.json()}catch(t){throw t instanceof TypeError&&t.message.includes("fetch")?new Error(`Failed to connect to backend at ${Jn}. Please ensure the backend is running and accessible.`):t}}async function bS(e,t){try{const r=await fetch(`${Jn}/api/test/submit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:e,...t})});if(!r.ok){let n="Unable to submit test";try{const i=await r.json();n=typeof i=="string"?i:JSON.stringify(i)}catch{n=`Server error: ${r.status} ${r.statusText}`}throw new Error(n)}return r.json()}catch(r){throw r instanceof TypeError&&r.message.includes("fetch")?new Error(`Failed to connect to backend at ${Jn}. Please ensure the backend is running and accessible.`):r}}async function vN(e){try{const t=await fetch(`${Jn}/api/psychometric/sessions/${e}/generate-report`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!t.ok){let r="Unable to generate report";try{const n=await t.json();r=typeof n=="string"?n:JSON.stringify(n)}catch{r=`Server error: ${t.status} ${t.statusText}`}throw new Error(r)}return t.json()}catch(t){throw t instanceof TypeError&&t.message.includes("fetch")?new Error(`Failed to connect to backend at ${Jn}. Please ensure the backend is running and accessible.`):t}}async function p2(e){try{const t=await fetch(`${Jn}/api/psychometric/sessions/${e}/report`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok){let r="Unable to fetch report";try{const n=await t.json();r=typeof n=="string"?n:JSON.stringify(n)}catch{r=`Server error: ${t.status} ${t.statusText}`}throw new Error(r)}return t.json()}catch(t){throw t instanceof TypeError&&t.message.includes("fetch")?new Error(`Failed to connect to backend at ${Jn}. Please ensure the backend is running and accessible.`):t}}async function e7(e,t){var r;try{t||(t=await p2(e));const n={userInfo:t.userInfo||{},scores:{correct:t.correct||0,totalQuestions:t.totalQuestions||0,candidatePercentile:t.candidatePercentile||0,aptitudeScore:t.aptitudeScore||0,behavioralScore:t.behavioralScore||0,domainScore:t.domainScore||0,overallScore:t.overallScore||0},swot:{strengths:t.strengths||[],weaknesses:t.weaknesses||[],opportunities:t.opportunities||[],threats:t.threats||[],swotAnalysis:t.swotAnalysis||""},analysis:{summaryBio:t.summaryBio||"",interviewSummary:t.interviewSummary||"",fitAnalysis:t.fitAnalysis||"",behavioralInsights:t.behavioralInsights||"",domainInsights:t.domainInsights||"",narrativeSummary:t.narrativeSummary||""},education:{university:t.university||"",yearOfGraduation:t.yearOfGraduation||null,degree:((r=t.userInfo)==null?void 0:r.degree)||t.degree||""},personality:{openness:t.openness||0,conscientiousness:t.conscientiousness||0,extraversion:t.extraversion||0,agreeableness:t.agreeableness||0,neuroticism:t.neuroticism||0},chartsData:t.chartsData||{},reportGeneratedAt:t.reportGeneratedAt||new Date().toISOString()},i=await fetch(`${Jn}/api/report/download`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!i.ok)throw new Error(`Failed to download PDF: ${i.status} ${i.statusText}`);const a=await i.blob(),o=window.URL.createObjectURL(a),s=document.createElement("a");s.href=o,s.download=`psychometric-report-${e}.pdf`,document.body.appendChild(s),s.click(),window.URL.revokeObjectURL(o),document.body.removeChild(s)}catch(n){throw console.error("Error downloading PDF:",n),n}}async function t7(e){try{const t=await fetch(`${Jn}/api/psychometric/sessions/${e}/answers/pdf`,{method:"GET",headers:{Accept:"application/pdf"}});if(!t.ok)throw t.status===400?new Error("Test must be completed before downloading answers."):new Error(`Failed to download answers PDF: ${t.status} ${t.statusText}`);const r=await t.blob(),n=window.URL.createObjectURL(r),i=document.createElement("a");i.href=n,i.download=`psychometric-answers-${e}.pdf`,document.body.appendChild(i),i.click(),window.URL.revokeObjectURL(n),document.body.removeChild(i)}catch(t){throw console.error("Error downloading answers PDF:",t),t}}async function r7(e,t=null){try{const r=localStorage.getItem("token");if(!r)throw new Error("Authentication required to save report");const n=await fetch(`${Jn}/api/psychometric/saved-reports`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({sessionId:e,reportTitle:t})});if(!n.ok)throw n.status===401?new Error("Please log in to save reports"):n.status===409?new Error("Report already saved"):new Error(`Failed to save report: ${n.status} ${n.statusText}`);return n.json()}catch(r){throw console.error("Error saving report:",r),r}}async function n7(){try{const e=localStorage.getItem("token");if(!e)throw new Error("Authentication required to view saved reports");const t=await fetch(`${Jn}/api/psychometric/saved-reports`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});if(!t.ok)throw t.status===401?new Error("Please log in to view saved reports"):new Error(`Failed to fetch saved reports: ${t.status} ${t.statusText}`);return t.json()}catch(e){throw console.error("Error fetching saved reports:",e),e}}async function i7(e){try{const t=localStorage.getItem("token");if(!t)return!1;const r=await fetch(`${Jn}/api/psychometric/saved-reports/check/${e}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});return r.ok?r.json():!1}catch(t){return console.error("Error checking if report is saved:",t),!1}}async function a7(e){try{const t=localStorage.getItem("token");if(!t)throw new Error("Authentication required to delete reports");const r=await fetch(`${Jn}/api/psychometric/saved-reports/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}});if(!r.ok)throw r.status===401?new Error("Please log in to delete reports"):new Error(`Failed to delete saved report: ${r.status} ${r.statusText}`);return!0}catch(t){throw console.error("Error deleting saved report:",t),t}}const Kce=Object.freeze(Object.defineProperty({__proto__:null,checkReportSaved:i7,createPsychometricSession:ZH,deleteSavedReport:a7,downloadAnswersPdf:t7,downloadReportPdf:e7,generateReport:vN,getPsychometricSession:mN,getReport:p2,getSavedReports:n7,getSessionQuestions:gN,getSessionStatus:h2,saveReport:r7,submitTest:bS},Symbol.toStringTag,{value:"Module"})),zce={certifications:"",achievements:"",technicalSkills:"",softSkills:"",interests:"",hobbies:""};function Vce(){var v;const e=jo(),t=io(),[r,n]=E.useState(()=>{try{const m=sessionStorage.getItem("psychometric_skills_data");if(m){const y=JSON.parse(m);return{certifications:y.certifications||"",achievements:y.achievements||"",technicalSkills:y.technicalSkills||"",softSkills:y.softSkills||"",interests:y.interests||"",hobbies:y.hobbies||""}}}catch(m){console.error("Error loading saved skills:",m)}return zce}),[i,a]=E.useState({}),[o,s]=E.useState(!1),[l,u]=E.useState(null),c=((v=t.state)==null?void 0:v.userInfo)||null;E.useEffect(()=>{c||e("/psychometric/start")},[c,e]),E.useEffect(()=>()=>{sessionStorage.removeItem("psychometric_skills_data")},[]);const A=m=>{const y={};return m.technicalSkills.trim()||(y.technicalSkills="Technical Skills is required"),m.softSkills.trim()||(y.softSkills="Soft Skills is required"),m.interests.trim()||(y.interests="Interests is required"),m.hobbies.trim()||(y.hobbies="Hobbies is required"),y},d=async m=>{m.preventDefault(),u(null);const y=A(r);if(a(y),!(Object.keys(y).length>0)){s(!0);try{const w=await ZH({...c,...r});e(`/psychometric/instructions/${w.sessionId}`)}catch(w){u(w instanceof Error?w.message:"Unable to start session"),s(!1)}}},f="w-full rounded-2xl border border-slate-200 px-4 py-3 text-base focus:outline-none focus:ring-2 focus:ring-blue-500 transition bg-white resize-y",p=[{id:"certifications",label:"Certifications",placeholder:"",required:!1,rows:2},{id:"achievements",label:"Achievements",placeholder:"",required:!1,rows:2},{id:"technicalSkills",label:"Technical Skills *",placeholder:"e.g., React, SQL, Canva",required:!0,rows:3},{id:"softSkills",label:"Soft Skills *",placeholder:"e.g., Leadership, Communication",required:!0,rows:3},{id:"interests",label:"Interests *",placeholder:"e.g., Product design, Data storytelling",required:!0,rows:3},{id:"hobbies",label:"Hobbies *",placeholder:"e.g., Photography, Learning new languages",required:!0,rows:3}],g=m=>{const y=i[m.id];return h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx("label",{className:"text-sm font-medium text-slate-600",htmlFor:m.id,children:m.label}),h.jsx("textarea",{id:m.id,name:m.id,rows:m.rows,value:r[m.id],onChange:w=>n({...r,[m.id]:w.target.value}),placeholder:m.placeholder,className:f}),y&&h.jsx("p",{className:"rounded-xl bg-red-50 px-4 py-2 text-sm text-red-600 font-semibold",children:y})]},m.id)};return c?h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sky-50 via-white to-indigo-50 px-4 py-10",children:h.jsxs("div",{className:"mx-auto max-w-6xl space-y-8",children:[h.jsx("div",{className:"flex flex-wrap items-center justify-between gap-3",children:h.jsxs("div",{className:"space-y-2",children:[h.jsx("p",{className:"text-sm uppercase tracking-wide text-blue-600 font-semibold",children:"Psychometric assessment"}),h.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Skills & highlights"}),h.jsx("p",{className:"max-w-3xl text-slate-600",children:"Share your skills, achievements, and interests to help personalize your assessment experience."})]})}),h.jsxs("div",{className:"overflow-hidden rounded-3xl bg-white shadow-2xl shadow-slate-200/80 lg:grid lg:grid-cols-[minmax(0,1fr)_320px]",children:[h.jsxs("form",{onSubmit:d,className:"p-6 sm:p-10 space-y-8",noValidate:!0,children:[h.jsx("div",{className:"grid gap-5 md:grid-cols-2",children:p.map(m=>g(m))}),l&&h.jsx("p",{className:"rounded-2xl bg-red-50 px-4 py-3 text-sm font-semibold text-red-600",children:l}),h.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 pt-2",children:[h.jsx("button",{type:"button",onClick:()=>e("/psychometric/start",{state:{formData:c}}),className:"rounded-2xl border border-slate-300 bg-white px-6 py-3 font-semibold text-slate-700 transition hover:bg-slate-50",children:"Back"}),h.jsx("button",{type:"submit",disabled:o,className:"rounded-2xl bg-gradient-to-r from-blue-600 to-indigo-600 px-8 py-3 font-semibold text-white shadow-lg shadow-blue-200 transition hover:opacity-90 disabled:opacity-60",children:o?"Creating session":"Start assessment"})]})]}),h.jsxs("aside",{className:"bg-slate-900 text-white p-8 space-y-6",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm uppercase tracking-widest text-slate-400",children:"What you get"}),h.jsx("h4",{className:"mt-2 text-2xl font-semibold",children:"Comprehensive Assessment"}),h.jsx("p",{className:"mt-3 text-sm text-slate-300",children:"Take a thorough psychometric evaluation that analyzes your aptitude, personality traits, and domain expertise. Receive a detailed AI-generated report with personalized insights and career recommendations."})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsx("p",{className:"text-xs uppercase tracking-wider text-slate-400",children:"Snapshot"}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"rounded-2xl bg-white/5 px-4 py-3",children:[h.jsx("p",{className:"text-xs text-slate-400",children:"Length"}),h.jsx("p",{className:"text-base font-semibold text-white",children:"3 sections  120 questions"})]}),h.jsxs("div",{className:"rounded-2xl bg-white/5 px-4 py-3",children:[h.jsx("p",{className:"text-xs text-slate-400",children:"Duration"}),h.jsx("p",{className:"text-base font-semibold text-white",children:"~35 mins average"})]}),h.jsxs("div",{className:"rounded-2xl bg-white/5 px-4 py-3",children:[h.jsx("p",{className:"text-xs text-slate-400",children:"Output"}),h.jsx("p",{className:"text-base font-semibold text-white",children:"AI-personalized report"})]}),h.jsxs("div",{className:"rounded-2xl bg-white/5 px-4 py-3",children:[h.jsx("p",{className:"text-xs text-slate-400",children:"Proctoring"}),h.jsx("p",{className:"text-base font-semibold text-white",children:"Camera & mic ready"})]})]})]}),h.jsxs("div",{className:"rounded-2xl border border-white/10 p-4 space-y-2",children:[h.jsx("p",{className:"text-sm font-semibold text-white",children:"How it works"}),h.jsxs("ul",{className:"list-disc space-y-1 pl-4 text-xs text-slate-300",children:[h.jsx("li",{children:"Fill in your skills and background information."}),h.jsx("li",{children:"Read the instructions while the test questions are being prepared."}),h.jsx("li",{children:"Complete all three sections to receive your personalized report."})]})]})]})]})]})}):null}const UC=40,RC=40,DC=40,Gce=3e3,Jp=1*60*1e3;function qce(){const{sessionId:e}=$h(),t=jo(),[r,n]=E.useState(!0),[i,a]=E.useState(!1),[o,s]=E.useState(null),[l,u]=E.useState("Preparing your assessment in the background..."),[c,A]=E.useState(0),[d,f]=E.useState([!1,!1,!1,!1,!1,!1,!1]),[p,g]=E.useState(0),[v,m]=E.useState(!1),[y,w]=E.useState(null),[b,B]=E.useState(!1),S=E.useRef(null),P=E.useRef(null),k=E.useRef(null),I=E.useRef(null);E.useMemo(()=>"http://localhost:8080",[]);const O=()=>{P.current&&(clearInterval(P.current),P.current=null)},F=()=>{k.current&&(clearInterval(k.current),k.current=null)};E.useEffect(()=>{const L=Date.now();return I.current=L,g(0),k.current=setInterval(()=>{const j=Date.now()-I.current;g(j)},100),()=>{k.current&&(clearInterval(k.current),k.current=null)}},[]);const N=L=>{const j=Math.floor(L/1e3),z=Math.floor(j/60),X=j%60;return`${z}:${X.toString().padStart(2,"0")}`},U=Math.max(0,Jp-p),M=d.every(L=>L)&&p>=Jp&&v,V=E.useCallback(async()=>{B(!0),w(null);try{const L=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:640},height:{ideal:480},facingMode:"user"},audio:!1});S.current=L,m(!0),B(!1),setTimeout(()=>{S.current&&(S.current.getTracks().forEach(j=>j.stop()),S.current=null)},500)}catch(L){console.error("Camera permission error:",L);let j="Failed to access camera. ";L.name==="NotAllowedError"?j+="Camera permission was denied. Please allow camera access to proceed with the test.":L.name==="NotFoundError"?j+="No camera found. Please connect a camera to proceed.":L.name==="NotReadableError"?j+="Camera is already in use by another application.":j+="Please check your camera and try again.",w(j),m(!1),B(!1)}},[]);E.useEffect(()=>()=>{S.current&&(S.current.getTracks().forEach(L=>L.stop()),S.current=null)},[]);const Q=L=>{if(L!==c)return;const j=[...d];j[L]=!j[L],f(j),j[L]&&L<6&&setTimeout(()=>{A(L+1)},300)},W=()=>{c>0&&A(c-1)},D=()=>{c<ee.length-1&&A(c+1)},K=async()=>{if(e)try{const L=await h2(e),j=(L==null?void 0:L.progress)||{},z=!!j.aptitude,X=!!j.behavioral,ae=!!j.domain,Z=await gN(e),ce=(Z||[]).filter(Ie=>Ie.sectionNumber===1).length,ne=(Z||[]).filter(Ie=>Ie.sectionNumber===2).length,pe=(Z||[]).filter(Ie=>Ie.sectionNumber===3).length;if(ce>=UC&&ne>=RC&&pe>=DC){a(!0),n(!1),u("All sections are ready. You may proceed when ready."),O();return}const de=[];ce<UC?de.push(`Aptitude: ${ce}/${UC}`):de.push("Aptitude: "),ne<RC?de.push(`Behavioral: ${ne}/${RC}`):de.push("Behavioral: "),pe<DC?de.push(`Domain: ${pe}/${DC}`):de.push("Domain: "),u(`Preparing sections... ${de.join(" | ")}`)}catch(L){console.error("Preparation error:",L),s(L instanceof Error?L.message:"Failed to prepare assessment"),n(!1),O()}};E.useEffect(()=>{if(e)return n(!0),s(null),K(),P.current=setInterval(K,Gce),()=>{O(),F()}},[e]);const ie=()=>{if(!v){alert("Camera permission is required to proceed with the test.");return}F(),t(`/psychometric/assessment/${e}`)},ee=[{title:"Test Overview & Structure",content:h.jsxs("div",{children:[h.jsx("p",{style:{marginBottom:"12px",fontWeight:"500"},children:"This comprehensive psychometric assessment evaluates your aptitude, behavioral traits, and domain knowledge."}),h.jsxs("ul",{style:{marginTop:"8px"},children:[h.jsxs("li",{children:[h.jsx("strong",{children:"Total Questions:"})," 120 questions divided into 3 sections"]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Section 1 - Aptitude (40 questions):"})," Tests logical reasoning, numerical ability, verbal reasoning, and analytical skills"]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Section 2 - Behavioral (40 questions):"})," Situational judgment tests that assess your personality traits, work style, and behavioral patterns"]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Section 3 - Domain Knowledge (40 questions):"})," Subject-specific questions relevant to your field of expertise"]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Total Duration:"})," 60 minutes (1 hour) for all 120 questions"]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Average Time Per Question:"})," 30 seconds"]})]})]})},{title:"Navigation & Question Palette",content:h.jsxs("div",{children:[h.jsx("p",{style:{marginBottom:"12px",fontWeight:"500"},children:"Multiple ways to navigate through the test efficiently:"}),h.jsxs("ul",{style:{marginTop:"8px"},children:[h.jsxs("li",{children:[h.jsx("strong",{children:"Next/Previous Buttons:"})," Located at the bottom of each question, use these to move sequentially"]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Question Palette (Right Sidebar):"})," Shows all 120 questions with color-coded status indicators:",h.jsxs("ul",{style:{marginTop:"6px",marginLeft:"20px"},children:[h.jsxs("li",{children:[h.jsx("span",{style:{color:"#10b981"},children:" Green"})," - Answered"]}),h.jsxs("li",{children:[h.jsx("span",{style:{color:"#8b5cf6"},children:" Purple"})," - Marked for Review (with or without answer)"]}),h.jsxs("li",{children:[h.jsx("span",{style:{color:"#f59e0b"},children:" Orange"})," - Visited but Not Answered"]}),h.jsxs("li",{children:[h.jsx("span",{style:{color:"#94a3b8"},children:" Grey"})," - Not Visited Yet"]})]})]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Direct Access:"})," Click any question number in the palette to jump directly to that question"]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Section Navigation:"})," Questions are organized by sections, but you can access any question at any time"]})]})]})},{title:"Answering Questions & Features",content:h.jsxs("div",{children:[h.jsx("p",{style:{marginBottom:"12px",fontWeight:"500"},children:"Understanding answer options and special features:"}),h.jsxs("ul",{style:{marginTop:"8px"},children:[h.jsxs("li",{children:[h.jsx("strong",{children:"Selecting Answers:"})," Click on any option (A, B, C, or D) to select your answer. The selected option will be highlighted."]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Changing Answers:"})," Click a different option to change your answer. You can change answers as many times as you want before final submission."]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Clear Response Button:"})," Removes your selected answer for the current question. Use this if you want to unselect your choice."]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Mark for Review Button:"})," Flags a question for later review without affecting your answer:",h.jsxs("ul",{style:{marginTop:"6px",marginLeft:"20px"},children:[h.jsx("li",{children:`If you haven't answered: Question marked as "Marked for Review" (purple)`}),h.jsx("li",{children:'If you have answered: Question marked as "Answered & Marked for Review" (purple with checkmark)'}),h.jsx("li",{children:"Useful for questions you're uncertain about or want to double-check later"})]})]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Important:"}),' Only questions with a selected option count as "Answered" for scoring purposes']})]})]})},{title:"Time Management & Timer",content:h.jsxs("div",{children:[h.jsx("p",{style:{marginBottom:"12px",fontWeight:"500"},children:"Critical timing information you need to know:"}),h.jsxs("ul",{style:{marginTop:"8px"},children:[h.jsxs("li",{children:[h.jsx("strong",{children:"Total Time:"})," 60 minutes (1 hour) for all 120 questions"]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Timer Display:"})," A countdown timer is always visible at the top of the screen showing remaining time"]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Time Warnings:"}),h.jsxs("ul",{style:{marginTop:"6px",marginLeft:"20px"},children:[h.jsx("li",{children:"Timer turns orange when 10 minutes remain"}),h.jsx("li",{children:"Timer turns red when 5 minutes remain"})]})]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Auto-Submit:"})," The test automatically submits when the timer reaches 00:00. Make sure to manage your time wisely!"]}),h.jsxs("li",{children:[h.jsx("strong",{children:"No Pause:"})," Once started, the timer cannot be paused or stopped. Browser refresh or closure does NOT stop the timer."]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Strategy Tip:"})," Aim for ~30 seconds per question. Don't spend too long on difficult questions - mark them for review and return later."]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Time Tracking:"})," Monitor your progress using the question palette to see how many questions remain"]})]})]})},{title:"Proctoring & Monitoring Rules",isWarning:!0,content:h.jsxs("div",{children:[h.jsx("p",{style:{marginBottom:"12px",fontWeight:"600",color:"#dc2626"},children:" STRICT ENFORCEMENT - Violations result in automatic warnings"}),h.jsxs("ul",{style:{marginTop:"8px"},children:[h.jsxs("li",{children:[h.jsx("strong",{children:"Webcam Requirements:"}),h.jsxs("ul",{style:{marginTop:"6px",marginLeft:"20px"},children:[h.jsx("li",{children:"Camera must be ON throughout the entire test"}),h.jsx("li",{children:"Your face must be clearly visible at all times"}),h.jsx("li",{children:"Ensure proper lighting - not too dark or too bright"}),h.jsx("li",{children:"Position yourself centered in the camera frame"}),h.jsx("li",{children:"Remove sunglasses, hats, or items that obscure your face"})]})]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Strictly Prohibited Actions:"}),h.jsxs("ul",{style:{marginTop:"6px",marginLeft:"20px"},children:[h.jsx("li",{children:" Tab switching or opening other browser tabs"}),h.jsx("li",{children:" Minimizing or switching windows"}),h.jsx("li",{children:" Multiple faces in camera view"}),h.jsx("li",{children:" Another person appearing in the frame"}),h.jsx("li",{children:" Looking away from screen for extended periods"}),h.jsx("li",{children:" Excessive head movement or leaving your seat"}),h.jsx("li",{children:" Using mobile phones, books, or reference materials"}),h.jsx("li",{children:" Opening developer tools or screen recording software"}),h.jsx("li",{children:" Copy/paste operations (blocked automatically)"}),h.jsx("li",{children:" Right-clicking or using keyboard shortcuts"})]})]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Warning System:"})," Maximum 5 warnings allowed. Each violation adds a warning:",h.jsxs("ul",{style:{marginTop:"6px",marginLeft:"20px"},children:[h.jsx("li",{children:"Warning 1-2: Low severity - be careful"}),h.jsx("li",{children:"Warning 3-4: High severity - immediate correction needed"}),h.jsx("li",{children:"Warning 5: Test automatically submitted and terminated"})]})]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Violations Tracked:"})," Face not detected, multiple faces, tab switching, window blur, excessive movement, camera failure"]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Snapshots:"})," Periodic photos are captured during the test for verification"]})]})]})},{title:"Technical Requirements & Setup",content:h.jsxs("div",{children:[h.jsx("p",{style:{marginBottom:"12px",fontWeight:"500"},children:"Ensure your system meets these requirements:"}),h.jsxs("ul",{style:{marginTop:"8px"},children:[h.jsxs("li",{children:[h.jsx("strong",{children:"Internet Connection:"}),h.jsxs("ul",{style:{marginTop:"6px",marginLeft:"20px"},children:[h.jsx("li",{children:"Stable broadband connection (minimum 2 Mbps recommended)"}),h.jsx("li",{children:"Avoid public WiFi - use secure, private connection"}),h.jsx("li",{children:"Close bandwidth-heavy applications (streaming, downloads)"})]})]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Browser Requirements:"}),h.jsxs("ul",{style:{marginTop:"6px",marginLeft:"20px"},children:[h.jsx("li",{children:"Latest version of Chrome, Firefox, Edge, or Safari"}),h.jsx("li",{children:"Camera and microphone permissions enabled"}),h.jsx("li",{children:"JavaScript enabled"}),h.jsx("li",{children:"Pop-up blocker disabled for this site"})]})]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Hardware:"}),h.jsxs("ul",{style:{marginTop:"6px",marginLeft:"20px"},children:[h.jsx("li",{children:"Working webcam (internal or external)"}),h.jsx("li",{children:"Adequate lighting in your testing area"}),h.jsx("li",{children:"Charged laptop/device or connected to power"}),h.jsx("li",{children:"Quiet, private room free from interruptions"})]})]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Before Starting:"}),h.jsxs("ul",{style:{marginTop:"6px",marginLeft:"20px"},children:[h.jsx("li",{children:"Close all unnecessary browser tabs and applications"}),h.jsx("li",{children:"Disable browser extensions that may interfere"}),h.jsx("li",{children:"Test your camera using the permission prompt"}),h.jsx("li",{children:"Keep water/drinks away from your computer"})]})]})]})]})},{title:"Scoring & Evaluation",content:h.jsxs("div",{children:[h.jsx("p",{style:{marginBottom:"12px",fontWeight:"500"},children:"Understanding how your test is evaluated:"}),h.jsxs("ul",{style:{marginTop:"8px"},children:[h.jsxs("li",{children:[h.jsx("strong",{children:"Section 1 (Aptitude):"}),h.jsxs("ul",{style:{marginTop:"6px",marginLeft:"20px"},children:[h.jsx("li",{children:"Each question has one correct answer"}),h.jsx("li",{children:"Score based on correct/incorrect responses"}),h.jsx("li",{children:"No negative marking - unanswered questions score 0"})]})]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Section 2 (Behavioral):"}),h.jsxs("ul",{style:{marginTop:"6px",marginLeft:"20px"},children:[h.jsx("li",{children:"No right or wrong answers - measures personality traits"}),h.jsx("li",{children:"Each option reflects different behavioral characteristics"}),h.jsx("li",{children:"Answer honestly - consistency is evaluated"})]})]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Section 3 (Domain):"}),h.jsxs("ul",{style:{marginTop:"6px",marginLeft:"20px"},children:[h.jsx("li",{children:"Field-specific knowledge assessment"}),h.jsx("li",{children:"Scored based on correct responses"})]})]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Final Report:"})," After submission, you'll receive a comprehensive report including:",h.jsxs("ul",{style:{marginTop:"6px",marginLeft:"20px"},children:[h.jsx("li",{children:"Overall score and section-wise breakdown"}),h.jsx("li",{children:"Personality trait analysis"}),h.jsx("li",{children:"Strengths and areas for improvement"}),h.jsx("li",{children:"Career recommendations"}),h.jsx("li",{children:"Detailed insights and suggestions"})]})]}),h.jsxs("li",{children:[h.jsx("strong",{children:"Report Generation:"})," Takes 2-5 minutes after submission. An AI-powered analysis provides personalized insights."]})]})]})}];return h.jsxs("div",{className:"page",children:[o&&h.jsxs("div",{className:"card",children:[h.jsx("p",{className:"error",children:o}),h.jsx("button",{className:"btn-primary",onClick:K,children:"Retry"})]}),!o&&h.jsxs("main",{className:"card instructions",children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"30px",padding:"20px",background:"#f8f9fa",borderRadius:"8px"},children:[h.jsx("h1",{style:{margin:0,fontSize:"28px",fontWeight:"600"},children:"Psychometric Test"}),h.jsx("div",{className:"instructions-timer",style:{margin:0},children:h.jsxs("div",{className:"timer-display",style:{padding:"12px 20px"},children:[h.jsx("span",{className:"timer-icon",style:{fontSize:"20px"},children:""}),h.jsxs("div",{className:"timer-text",children:[h.jsx("span",{className:"timer-label",style:{fontSize:"12px"},children:"Reading Time"}),h.jsx("span",{className:`timer-value ${p>=Jp?"timer-ready":""}`,style:{fontSize:"18px"},children:p<Jp?N(U):"Ready"})]})]})})]}),h.jsxs("div",{className:"instructions-header",style:{textAlign:"center",marginBottom:"20px"},children:[h.jsx("h4",{style:{margin:"0 0 8px 0"},children:"Test Instructions and Rules"}),h.jsx("p",{className:"muted",style:{margin:0},children:"Please read all rules carefully. You must read for at least 1 minute before proceeding."})]}),h.jsxs("div",{className:"instructions-cards-container",children:[ee.map((L,j)=>h.jsxs("div",{className:`instruction-card ${j===c?"card-active":"card-hidden"} ${L.isWarning?"card-warning":""}`,children:[h.jsxs("div",{className:"instruction-card-header",children:[h.jsx("h3",{children:L.title}),h.jsxs("label",{className:"instruction-checkbox-label",children:[h.jsx("input",{type:"checkbox",checked:d[j],onChange:()=>Q(j),disabled:j!==c}),h.jsx("span",{children:"I have read and understood"})]})]}),h.jsx("div",{className:"instruction-card-content",children:L.content}),d[j]&&h.jsx("div",{className:"card-progress-indicator",children:h.jsxs("span",{children:[" Card ",j+1," completed"]})})]},j)),h.jsxs("div",{className:"card-navigation",children:[h.jsxs("button",{className:"btn-card-nav btn-card-prev",onClick:W,disabled:c===0,type:"button",children:[h.jsx("span",{className:"nav-arrow",children:""}),h.jsx("span",{children:"Previous"})]}),h.jsxs("button",{className:"btn-card-nav btn-card-next",onClick:D,disabled:c===ee.length-1,type:"button",children:[h.jsx("span",{children:"Next"}),h.jsx("span",{className:"nav-arrow",children:""})]})]})]}),h.jsxs("div",{className:"instructions-progress",children:[h.jsx("div",{className:"progress-bar",children:h.jsx("div",{className:"progress-fill",style:{width:`${(c+1)/ee.length*100}%`}})}),h.jsxs("p",{className:"muted progress-text",children:["Card ",c+1," of ",ee.length]})]}),h.jsx("div",{className:"camera-permission-section",style:{marginTop:"30px",padding:"20px",background:v?"#dcfce7":"#fef3c7",border:`2px solid ${v?"#10b981":"#f59e0b"}`,borderRadius:"8px"},children:h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:[h.jsx("div",{style:{fontSize:"32px"},children:v?"":""}),h.jsxs("div",{style:{flex:1},children:[h.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:"16px"},children:v?"Camera Access Granted":"Camera Access Required"}),h.jsx("p",{style:{margin:0,fontSize:"14px",color:"#64748b"},children:v?"Your camera is ready for proctoring. You may now proceed with the test.":"This test requires camera access for proctoring. Please grant permission to continue."}),y&&h.jsx("p",{style:{margin:"8px 0 0 0",fontSize:"14px",color:"#ef4444"},children:y})]}),!v&&h.jsx("button",{className:"btn-primary",onClick:V,disabled:b,style:{minWidth:"140px"},children:b?"Checking...":"Grant Access"})]})}),h.jsx("div",{className:"instructions-actions",children:h.jsx("button",{className:"btn-primary",onClick:ie,disabled:!i||!M,title:v?"":"Camera permission required",children:i?v?M?"Begin Test":p<Jp?`Wait ${N(U)}`:"Please check all boxes":"Camera Access Required":"Preparing questions"})})]})]})}const Lt={NOT_VISITED:"NOT_VISITED",VISITED_NOT_ANSWERED:"VISITED_NOT_ANSWERED",ANSWERED:"ANSWERED",MARKED_FOR_REVIEW:"MARKED_FOR_REVIEW",ANSWERED_AND_MARKED_FOR_REVIEW:"ANSWERED_AND_MARKED_FOR_REVIEW"},o7={[Lt.NOT_VISITED]:"#ffffff",[Lt.VISITED_NOT_ANSWERED]:"#fb923c",[Lt.ANSWERED]:"#10b981",[Lt.MARKED_FOR_REVIEW]:"#8b5cf6",[Lt.ANSWERED_AND_MARKED_FOR_REVIEW]:"#8b5cf6"},Xce={[Lt.NOT_VISITED]:"Not Visited",[Lt.VISITED_NOT_ANSWERED]:"Seen but Not Answered",[Lt.ANSWERED]:"Answered",[Lt.MARKED_FOR_REVIEW]:"Marked for Review",[Lt.ANSWERED_AND_MARKED_FOR_REVIEW]:"Answered & Marked for Review"};function Yce({questionNumber:e,status:t,isCurrent:r,onClick:n}){const i=t===Lt.MARKED_FOR_REVIEW||t===Lt.ANSWERED_AND_MARKED_FOR_REVIEW,a=t===Lt.ANSWERED_AND_MARKED_FOR_REVIEW;let o="1px solid #e2e8f0";a?o="2px solid #10b981":r&&(o="2px solid #3b82f6");const s={width:"42px",height:"42px",display:"flex",alignItems:"center",justifyContent:"center",border:o,borderRadius:i?"50%":"8px",backgroundColor:o7[t]||"#ffffff",color:t===Lt.NOT_VISITED?"#475569":"#ffffff",cursor:"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.25s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05)"};return r&&!a?s.boxShadow="0 0 0 3px rgba(59, 130, 246, 0.2), 0 2px 8px rgba(59, 130, 246, 0.15)":r&&a&&(s.boxShadow="0 0 0 3px rgba(16, 185, 129, 0.2), 0 2px 8px rgba(16, 185, 129, 0.15)"),h.jsx("div",{className:"question-box",style:s,onClick:n,onMouseEnter:l=>{r||(l.currentTarget.style.transform="scale(1.1)",l.currentTarget.style.boxShadow="0 4px 8px rgba(0, 0, 0, 0.15)")},onMouseLeave:l=>{r||(l.currentTarget.style.transform="scale(1)",l.currentTarget.style.boxShadow="none")},children:e})}function my({status:e}){const t=e===Lt.MARKED_FOR_REVIEW||e===Lt.ANSWERED_AND_MARKED_FOR_REVIEW,r=e===Lt.ANSWERED_AND_MARKED_FOR_REVIEW;return h.jsxs("div",{className:"legend-item",children:[h.jsx("div",{className:"legend-box",style:{width:"26px",height:"26px",borderRadius:t?"50%":"4px",backgroundColor:o7[e]||"#ffffff",border:r?"2px solid #10b981":"1px solid #e2e8f0",flexShrink:0,boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05)"}}),h.jsx("span",{className:"legend-label",children:Xce[e]})]})}function Jce({questions:e,questionStatuses:t,currentQuestionId:r,onQuestionClick:n}){const i=o=>{var s;return((s=t[o])==null?void 0:s.status)||Lt.NOT_VISITED},a=(o,s)=>s+1;return h.jsxs("div",{className:"question-palette",children:[h.jsx("div",{className:"palette-header",children:h.jsx("h3",{children:"Question Palette"})}),h.jsxs("div",{className:"palette-legend",children:[h.jsx(my,{status:Lt.NOT_VISITED}),h.jsx(my,{status:Lt.VISITED_NOT_ANSWERED}),h.jsx(my,{status:Lt.ANSWERED}),h.jsx(my,{status:Lt.MARKED_FOR_REVIEW})]}),h.jsx("div",{className:"palette-grid",children:e.map((o,s)=>{const l=a(o,s),u=i(o.id),c=o.id===r;return h.jsx(Yce,{questionNumber:l,status:u,isCurrent:c,onClick:()=>n(o.id,s)},o.id)})})]})}function Zce({onClick:e,isMarked:t,disabled:r}){return h.jsx("button",{type:"button",onClick:e,disabled:r,className:`btn-mark-review ${t?"marked":""}`,children:t?"Unmark for Review":"Mark for Review"})}function eAe({onClick:e,disabled:t}){return h.jsx("button",{type:"button",onClick:e,disabled:t,className:"btn-clear-response",children:"Clear Response"})}function tAe({timeRemaining:e,formattedTime:t,isExpired:r}){const i=Math.floor(e/6e4)<5;return h.jsxs("div",{className:`timer-display ${i?"timer-low":""} ${r?"timer-expired":""}`,children:[h.jsx("div",{className:"timer-icon",children:""}),h.jsxs("div",{className:"timer-text",children:[h.jsx("div",{className:"timer-label",children:"Time Remaining"}),h.jsx("div",{className:"timer-value",children:t})]})]})}function rAe({warning:e,warnings:t,maxWarnings:r}){if(!e||t===0)return null;const n=t>=r-1;return h.jsxs("div",{className:`proctoring-warning ${n?"warning-critical":""}`,children:[h.jsx("div",{className:"warning-icon",children:""}),h.jsxs("div",{className:"warning-content",children:[h.jsxs("div",{className:"warning-title",children:["Warning ",t,"/",r,": ",e.reason]}),n&&h.jsx("div",{className:"warning-message",children:"One more violation will result in automatic test submission."})]})]})}function nAe({violations:e,totalViolations:t,onClose:r}){if(!e||e.length===0)return null;const n=e.reduce((a,o)=>{const s=o.reason;return a[s]||(a[s]=[]),a[s].push(o),a},{}),i=Object.entries(n).map(([a,o])=>{var s;return{type:a,count:o.length,lastTimestamp:(s=o[o.length-1])==null?void 0:s.timestamp}});return i.sort((a,o)=>o.count-a.count),h.jsx("div",{className:"violations-modal-backdrop",children:h.jsxs("div",{className:"violations-modal",children:[h.jsxs("div",{className:"violations-modal-header",children:[h.jsx("h2",{children:" Proctoring Violations Detected"}),h.jsx("button",{className:"violations-modal-close",onClick:r,"aria-label":"Close",children:""})]}),h.jsxs("div",{className:"violations-modal-body",children:[h.jsx("div",{className:"violations-summary",children:h.jsxs("div",{className:"violations-total",children:[h.jsx("div",{className:"violations-total-number",children:t}),h.jsx("div",{className:"violations-total-label",children:"Total Violations"})]})}),h.jsxs("div",{className:"violations-list-section",children:[h.jsx("h3",{children:"Violation Details"}),h.jsx("div",{className:"violations-list",children:i.map((a,o)=>h.jsxs("div",{className:"violation-item",children:[h.jsx("div",{className:"violation-item-icon",children:iAe(a.type)}),h.jsxs("div",{className:"violation-item-content",children:[h.jsx("div",{className:"violation-item-type",children:a.type}),h.jsxs("div",{className:"violation-item-meta",children:[a.count," occurrence",a.count!==1?"s":""]})]}),h.jsx("div",{className:"violation-item-count",children:a.count})]},o))})]}),t>0&&h.jsx("div",{className:"violations-warning-message",children:h.jsx("p",{children:"These violations have been recorded. Please ensure proper test conditions for the remainder of the assessment."})})]}),h.jsx("div",{className:"violations-modal-footer",children:h.jsx("button",{className:"violations-modal-button",onClick:r,children:"Continue Assessment"})})]})})}function iAe(e){const t=e.toLowerCase();return t.includes("face not detected")||t.includes("no face")?"":t.includes("multiple")?"":t.includes("covered")||t.includes("camera blocked")?"":t.includes("tab")||t.includes("window")?"":t.includes("focus")?"":""}function aAe({videoRef:e,isProctoring:t,webcamError:r,detectionStatus:n}){return r?h.jsxs("div",{className:"webcam-preview webcam-error",children:[h.jsx("div",{className:"webcam-error-icon",children:""}),h.jsxs("div",{className:"webcam-error-text",children:[h.jsx("div",{style:{fontWeight:600,marginBottom:"4px"},children:"Camera Error"}),h.jsx("div",{style:{fontSize:"11px"},children:r})]})]}):h.jsxs("div",{className:"webcam-preview",children:[h.jsx("video",{ref:e,autoPlay:!0,playsInline:!0,muted:!0,className:"webcam-video"}),!t&&h.jsx("div",{className:"webcam-overlay",children:h.jsx("div",{className:"webcam-status",children:"Proctoring inactive"})}),t&&n&&h.jsx("div",{className:"webcam-status-indicators",children:n.coveredCamera?h.jsx("div",{className:"status-indicator status-error",children:" Camera Blocked"}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:`status-indicator ${n.faceDetected?"status-ok":"status-warning"}`,children:[n.faceDetected?"":""," Face (",n.faceCount,")"]}),n.multipleFaces&&h.jsx("div",{className:"status-indicator status-error",children:" Multiple People"})]})})]})}const gy=60*60*1e3,oAe="test_timer_";function sAe(e,t){const[r,n]=E.useState(gy),[i,a]=E.useState(!1),[o,s]=E.useState(null),l=E.useRef(null),u=`${oAe}${e}`;E.useEffect(()=>{if(!e)return;const f=localStorage.getItem(u);if(f)try{const{startTime:p,isActive:g}=JSON.parse(f);if(g&&p){const v=Date.now()-p,m=Math.max(0,gy-v);m>0?(s(p),n(m),a(!0)):(localStorage.removeItem(u),t&&t())}}catch(p){console.error("Failed to load timer state:",p),localStorage.removeItem(u)}},[e,u,t]),E.useEffect(()=>{e&&o&&localStorage.setItem(u,JSON.stringify({startTime:o,isActive:i}))},[e,o,i,u]);const c=E.useCallback(()=>{if(i)return;const f=Date.now();s(f),a(!0),n(gy)},[i]),A=E.useCallback(()=>{a(!1),l.current&&(clearInterval(l.current),l.current=null),localStorage.removeItem(u)},[u]);E.useEffect(()=>{if(!i||!o){l.current&&(clearInterval(l.current),l.current=null);return}return l.current=setInterval(()=>{const f=Date.now()-o,p=Math.max(0,gy-f);n(p),p===0&&(A(),t&&t())},1e3),()=>{l.current&&(clearInterval(l.current),l.current=null)}},[i,o,t,A]);const d=E.useCallback(f=>{const p=Math.floor(f/1e3),g=Math.floor(p/60),v=p%60;return`${String(g).padStart(2,"0")}:${String(v).padStart(2,"0")}`},[]);return{timeRemaining:r,formattedTime:d(r),isActive:i,start:c,stop:A,isExpired:r===0}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var s7=function(e,t){return(s7=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])})(e,t)};function Js(e,t){function r(){this.constructor=e}s7(e,t),e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function ft(e,t,r,n){return new(r||(r=Promise))(function(i,a){function o(u){try{l(n.next(u))}catch(c){a(c)}}function s(u){try{l(n.throw(u))}catch(c){a(c)}}function l(u){u.done?i(u.value):new r(function(c){c(u.value)}).then(o,s)}l((n=n.apply(e,[])).next())})}function dt(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(u){return function(c){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&c[0]?n.return:c[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,c[1])).done)return i;switch(n=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){o=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){o.label=c[1];break}if(c[0]===6&&o.label<i[1]){o.label=i[1],i=c;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(c);break}i[2]&&o.ops.pop(),o.trys.pop();continue}c=t.call(e,o)}catch(A){c=[6,A],n=0}finally{r=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([l,u])}}}var lAe=function(){function e(t){this.global=t,this.flags={},this.flagRegistry={},this.urlFlags={},this.populateURLFlags()}return e.prototype.setPlatform=function(t,r){this.platform!=null&&console.warn("Platform "+this.platformName+" has already been set. Overwriting the platform with "+r+"."),this.platformName=t,this.platform=r},e.prototype.registerFlag=function(t,r,n){if(this.flagRegistry[t]={evaluationFn:r,setHook:n},this.urlFlags[t]!=null){var i=this.urlFlags[t];console.warn("Setting feature override from URL "+t+": "+i+"."),this.set(t,i)}},e.prototype.get=function(t){return t in this.flags?this.flags[t]:(this.flags[t]=this.evaluateFlag(t),this.flags[t])},e.prototype.getNumber=function(t){return this.get(t)},e.prototype.getBool=function(t){return this.get(t)},e.prototype.getFlags=function(){return this.flags},Object.defineProperty(e.prototype,"features",{get:function(){return this.flags},enumerable:!0,configurable:!0}),e.prototype.set=function(t,r){if(this.flagRegistry[t]==null)throw new Error("Cannot set flag "+t+" as it has not been registered.");this.flags[t]=r,this.flagRegistry[t].setHook!=null&&this.flagRegistry[t].setHook(r)},e.prototype.evaluateFlag=function(t){if(this.flagRegistry[t]==null)throw new Error("Cannot evaluate flag '"+t+"': no evaluation function found.");return this.flagRegistry[t].evaluationFn()},e.prototype.setFlags=function(t){this.flags=Object.assign({},t)},e.prototype.reset=function(){this.flags={},this.urlFlags={},this.populateURLFlags()},e.prototype.populateURLFlags=function(){var t=this;if(this.global!==void 0&&this.global.location!==void 0&&this.global.location.search!==void 0){var r,n,i=(r=this.global.location.search,n={},r.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,function(a){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];return uAe(n,o[0],o[1]),o.join("=")}),n);"tfjsflags"in i&&i.tfjsflags.split(",").forEach(function(a){var o=a.split(":"),s=o[0],l=o[1];t.urlFlags[s]=function(u,c){if((c=c.toLowerCase())==="true"||c==="false")return c==="true";if(""+ +c===c)return+c;throw new Error("Could not parse value flag value "+c+" for flag "+u+".")}(s,l)})}},e}();function uAe(e,t,r){e[decodeURIComponent(t)]=decodeURIComponent(r||"")}function Le(){return l7}var l7=null,pw=new Map,BS=new Map;function u7(e,t){var r=A7(e,t);return pw.get(r)}function cAe(e){return BS.get(e)}function JT(e){for(var t=pw.entries(),r=[];;){var n=t.next(),i=n.done,a=n.value;if(i)break;var o=a[0],s=a[1];o.split("_")[0]===e&&r.push(s)}return r}function c7(e){var t=e.kernelName,r=e.backendName,n=A7(t,r);if(pw.has(n))throw new Error("The kernel '"+t+"' for backend '"+r+"' is already registered");pw.set(n,e)}function AAe(e){var t=e.kernelName;BS.has(t)&&console.warn("Overriding the gradient for '"+t+"'"),BS.set(t,e)}function A7(e,t){return t+"_"+e}function CS(e,t,r){return Math.max(e,Math.min(t,r))}function f7(e){return e%2==0?e:e+1}function fAe(e){for(var t=0,r=0;r<e.length;r++)t+=e[r];return t}function oe(e,t){if(!e)throw new Error(typeof t=="string"?t:t())}function xr(e,t,r){r===void 0&&(r=""),oe(Pi(e,t),function(){return r+" Shapes "+e+" and "+t+" must match"})}function Gh(e){oe(e!=null,function(){return"The input to the tensor constructor must be a non-null value."})}function bh(e,t,r){if(t===void 0&&(t=[]),r===void 0&&(r=!1),t==null&&(t=[]),Array.isArray(e)||Fl(e)&&!r)for(var n=0;n<e.length;++n)bh(e[n],t,r);else t.push(e);return t}function yt(e){if(e.length===0)return 1;for(var t=e[0],r=1;r<e.length;r++)t*=e[r];return t}function Pi(e,t){if(e===t)return!0;if(e==null||t==null||e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function Mn(e){return e%1==0}function dAe(e){if(Math.tanh!=null)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return-1;var t=Math.exp(2*e);return(t-1)/(t+1)}function ES(e){var t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function nh(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function ZT(e,t,r){return t===void 0&&(t=function(n){return 0}),new Promise(function(n,i){var a=0,o=function(){if(e())n();else{a++;var s=t(a);r!=null&&a>=r?i():setTimeout(o,s)}};o()})}function hAe(e,t){for(var r=1,n=-1,i=0;i<e.length;++i)if(e[i]>=0)r*=e[i];else if(e[i]===-1){if(n!==-1)throw Error("Shapes can only have 1 implicit size. Found -1 at dim "+n+" and dim "+i);n=i}else if(e[i]<0)throw Error("Shapes can not be < 0. Found "+e[i]+" at dim "+i);if(n===-1){if(t>0&&t!==r)throw Error("Size("+t+") must match the product of shape "+e);return e}if(r===0)throw Error("Cannot infer the missing size in ["+e+"] when there are 0 elements");if(t%r!=0)throw Error("The implicit shape can't be a fractional number. Got "+t+" / "+r);var a=e.slice();return a[n]=t/r,a}function vi(e,t){var r=t.length;return oe((e=e==null?t.map(function(n,i){return i}):[].concat(e)).every(function(n){return n>=-r&&n<r}),function(){return"All values in axis param must be in range [-"+r+", "+r+") but got axis "+e}),oe(e.every(function(n){return Mn(n)}),function(){return"All values in axis param must be integers but got axis "+e}),e.map(function(n){return n<0?r+n:n})}function zA(e,t){for(var r=[],n=[],i=t!=null&&Array.isArray(t)&&t.length===0,a=t==null||i?null:vi(t,e).sort(),o=0,s=0;s<e.length;++s){if(a!=null){if(a[o]===s&&e[s]!==1)throw new Error("Can't squeeze axis "+s+" since its dim '"+e[s]+"' is not 1");(a[o]==null||a[o]>s)&&e[s]===1&&(r.push(e[s]),n.push(s)),a[o]<=s&&o++}e[s]!==1&&(r.push(e[s]),n.push(s))}return{newShape:r,keptDims:n}}function gg(e,t){var r=null;if(e==null||e==="float32")r=new Float32Array(t);else if(e==="int32")r=new Int32Array(t);else{if(e!=="bool")throw new Error("Unknown data type "+e);r=new Uint8Array(t)}return r}function mw(e,t){var r=null;if(e==null||e==="float32")r=new Float32Array(t);else if(e==="int32")r=new Int32Array(t);else if(e==="bool")r=new Uint8Array(t);else{if(e!=="string")throw new Error("Unknown data type "+e);r=new Array(t)}return r}function pAe(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(isNaN(n)||!isFinite(n))throw Error("A tensor of type "+t+" being uploaded contains "+n+".")}}function mAe(e){return e==="bool"||e==="complex64"||e==="float32"||e==="int32"||e==="string"}function gAe(e,t){return t!=="complex64"&&(t!=="float32"||e==="complex64")&&(t!=="int32"||e==="float32"||e==="complex64")&&(t!=="bool"||e!=="bool")}function Fl(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array}function d7(e){if(e==="float32"||e==="int32")return 4;if(e==="complex64")return 8;if(e==="bool")return 1;throw new Error("Unknown dtype "+e)}function vAe(e){if(e==null)return 0;var t=0;return e.forEach(function(r){return t+=r.length}),t}function yN(e){return typeof e=="string"||e instanceof String}function yAe(e){return typeof e=="boolean"}function wAe(e){return typeof e=="number"}function rv(e){return Array.isArray(e)?rv(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array?"int32":wAe(e)?"float32":yN(e)?"string":yAe(e)?"bool":"float32"}function SS(e){return!!(e&&e.constructor&&e.call&&e.apply)}function NS(e,t){for(var r=t;r<e;++r)if(e%r==0)return r;return e}function Il(e){var t=e.length;if(t<2)return[];var r=new Array(t-1);r[t-2]=e[t-1];for(var n=t-3;n>=0;--n)r[n]=r[n+1]*e[n+1];return r}function h7(e,t,r){if(t==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=bh(e)),r&&pAe(e,t),function(a,o){return a instanceof Float32Array&&o==="float32"||a instanceof Int32Array&&o==="int32"||a instanceof Uint8Array&&o==="bool"}(e,t))return e;if(t==null||t==="float32"||t==="complex64")return new Float32Array(e);if(t==="int32")return new Int32Array(e);if(t==="bool"){for(var n=new Uint8Array(e.length),i=0;i<n.length;++i)Math.round(e[i])!==0&&(n[i]=1);return n}throw new Error("Unknown data type "+t)}function eL(e,t){if(e.length===0)return t[0];var r=e.reduce(function(n,i){return n*i});if(r===0)return[];if(r!==t.length)throw new Error("["+e+"] does not match the input size.");return function n(i,a,o){var s=new Array;if(a.length===1)for(var l=a[0],u=0;u<l;u++)s[u]=o[i+u];else{l=a[0];var c=a.slice(1),A=c.reduce(function(d,f){return d*f});for(u=0;u<l;u++)s[u]=n(i+u*A,c,o)}return s}(0,e,t)}function p7(e,t){for(var r=nv(e,t),n=0;n<r.length;n++)r[n]=1;return r}function nv(e,t){if(t==null||t==="float32"||t==="complex64")return new Float32Array(e);if(t==="int32")return new Int32Array(e);if(t==="bool")return new Uint8Array(e);throw new Error("Unknown data type "+t)}function gl(){return Le().platform.now()}function m7(e){e.forEach(function(t){oe(Number.isInteger(t)&&t>=0,function(){return"Tensor must have a shape comprised of positive integers but got shape ["+e+"]."})})}function xAe(e,t){return t===void 0&&(t="utf-8"),t=t||"utf-8",Le().platform.encode(e,t)}function gw(e,t){return t===void 0&&(t="utf-8"),t=t||"utf-8",Le().platform.decode(e,t)}function tL(e,t,r){if(t===0)return 0;if(t===1)return e[0];for(var n=e[e.length-1],i=0;i<e.length-1;++i)n+=r[i]*e[i];return n}function bAe(e,t,r){if(t===0)return[];if(t===1)return[e];for(var n=new Array(t),i=0;i<n.length-1;++i)n[i]=Math.floor(e/r[i]),e-=n[i]*r[i];return n[n.length-1]=e,n}var BAe=function(){function e(t,r){this.backendTimer=t,this.logger=r,r==null&&(this.logger=new CAe)}return e.prototype.profileKernel=function(t,r,n){var i,a=this,o=this.backendTimer.time(function(){i=n()});return i.forEach(function(s){s.data().then(function(l){(function(u,c,A){if(c!=="float32")return!1;for(var d=0;d<u.length;d++){var f=u[d];if(isNaN(f)||!isFinite(f))return console.warn("Found "+f+" in the result of '"+A+"'"),!0}})(l,s.dtype,t),o.then(function(u){var c="";u.getExtraProfileInfo!=null&&(c=u.getExtraProfileInfo()),a.logger.logKernelProfile(t,s,l,u.kernelMs,r,c)})})}),i},e}(),CAe=function(){function e(){}return e.prototype.logKernelProfile=function(t,r,n,i,a,o){var s=typeof i=="number"?nh(i+"ms",9):i.error,l=nh(t,25),u=r.rank,c=r.size,A=nh(r.shape.toString(),14),d="";for(var f in a){var p=a[f].shape||r.shape,g=p.length;d+=f+": "+g+"D "+(g>0?p:"")+" "}console.log("%c"+l+"	%c"+s+"	%c"+u+"D "+A+"	%c"+c+"	%c"+d+"	%c"+o,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")},e}(),rL=20,Zp=3,jC=7;function EAe(e,t,r,n){var i=Il(t),a=function(u,c,A,d){var f=yt(c),p=d[d.length-1],g=new Array(p).fill(0),v=c.length,m=A==="complex64"?tm(u):u;if(v>1)for(var y=0;y<f/p;y++)for(var w=y*p,b=0;b<p;b++)g[b]=Math.max(g[b],em(m[w+b],0,A).length);return g}(e,t,r,i),o=t.length,s=function u(c,A,d,f,p,g){g===void 0&&(g=!0);var v=d==="complex64"?2:1,m=A[0],y=A.length;if(y===0)return d==="complex64"?[em(tm(c)[0],0,d)]:d==="bool"?[g7(c[0])]:[c[0].toString()];if(y===1){if(m>rL){var w=Zp*v,b=Array.from(c.slice(0,w)),B=Array.from(c.slice((m-Zp)*v,m*v));return d==="complex64"&&(b=tm(b),B=tm(B)),["["+b.map(function(V,Q){return em(V,p[Q],d)}).join(", ")+", ..., "+B.map(function(V,Q){return em(V,p[m-Zp+Q],d)}).join(", ")+"]"]}return["["+(d==="complex64"?tm(c):Array.from(c)).map(function(V,Q){return em(V,p[Q],d)}).join(", ")+"]"]}var S=A.slice(1),P=f.slice(1),k=f[0]*v,I=[];if(m>rL){for(var O=0;O<Zp;O++){var F=(N=O*k)+k;I.push.apply(I,u(c.slice(N,F),S,d,P,p,!1))}for(I.push("..."),O=m-Zp;O<m;O++)F=(N=O*k)+k,I.push.apply(I,u(c.slice(N,F),S,d,P,p,O===m-1))}else for(O=0;O<m;O++){var N;F=(N=O*k)+k,I.push.apply(I,u(c.slice(N,F),S,d,P,p,O===m-1))}var U=y===2?",":"";for(I[0]="["+I[0]+U,O=1;O<I.length-1;O++)I[O]=" "+I[O]+U;var M=`,
`;for(O=2;O<y;O++)M+=`
`;return I[I.length-1]=" "+I[I.length-1]+"]"+(g?"":M),I}(e,t,r,i,a),l=["Tensor"];return n&&(l.push("  dtype: "+r),l.push("  rank: "+o),l.push("  shape: ["+t+"]"),l.push("  values:")),l.push(s.map(function(u){return"    "+u}).join(`
`)),l.join(`
`)}function em(e,t,r){return nh(Array.isArray(e)?parseFloat(e[0].toFixed(jC))+" + "+parseFloat(e[1].toFixed(jC))+"j":yN(e)?"'"+e+"'":r==="bool"?g7(e):parseFloat(e.toFixed(jC)).toString(),t)}function g7(e){return e===0?"false":"true"}function tm(e){for(var t=[],r=0;r<e.length;r+=2)t.push([e[r],e[r+1]]);return t}var vg=function(){function e(t,r,n){var i=this;if(this.dtype=r,this.shape=t.slice(),this.size=yt(t),n!=null){var a=n.length;oe(a===this.size,function(){return"Length of values '"+a+"' does not match the size inferred by the shape '"+i.size+"'."})}if(r==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||mw(r,this.size),this.strides=Il(t)}return e.prototype.set=function(t){for(var r=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];n.length===0&&(n=[0]),oe(n.length===this.rank,function(){return"The number of provided coordinates ("+n.length+") must match the rank ("+r.rank+")"});var a=this.locToIndex(n);this.values[a]=t},e.prototype.get=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];t.length===0&&(t=[0]);for(var n=0,i=0,a=t;i<a.length;i++){var o=a[i];if(o<0||o>=this.shape[n]){var s="Requested out of range element at "+t+".   Buffer shape="+this.shape;throw new Error(s)}n++}for(var l=t[t.length-1],u=0;u<t.length-1;++u)l+=this.strides[u]*t[u];return this.values[l]},e.prototype.locToIndex=function(t){if(this.rank===0)return 0;if(this.rank===1)return t[0];for(var r=t[t.length-1],n=0;n<t.length-1;++n)r+=this.strides[n]*t[n];return r},e.prototype.indexToLoc=function(t){if(this.rank===0)return[];if(this.rank===1)return[t];for(var r=new Array(this.shape.length),n=0;n<r.length-1;++n)r[n]=Math.floor(t/this.strides[n]),t-=r[n]*this.strides[n];return r[r.length-1]=t,r},Object.defineProperty(e.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),e.prototype.toTensor=function(){return yl().makeTensor(this.values,this.shape,this.dtype)},e}(),yl=null,_e=null,v7=null,dn=function(){function e(t,r,n,i){this.kept=!1,this.isDisposedInternal=!1,this.shape=t.slice(),this.dtype=r||"float32",this.size=yt(t),this.strides=Il(t),this.dataId=n,this.id=i,this.rankType=this.rank<5?this.rank.toString():"higher"}return e.prototype.flatten=function(){return this.throwIfDisposed(),this.as1D()},e.prototype.asScalar=function(){return this.throwIfDisposed(),oe(this.size===1,function(){return"The array must have only 1 element."}),this.reshape([])},e.prototype.as1D=function(){return this.throwIfDisposed(),this.reshape([this.size])},e.prototype.as2D=function(t,r){return this.throwIfDisposed(),this.reshape([t,r])},e.prototype.as3D=function(t,r,n){return this.throwIfDisposed(),this.reshape([t,r,n])},e.prototype.as4D=function(t,r,n,i){return this.throwIfDisposed(),this.reshape([t,r,n,i])},e.prototype.as5D=function(t,r,n,i,a){return this.throwIfDisposed(),this.reshape([t,r,n,i,a])},e.prototype.asType=function(t){return this.throwIfDisposed(),_e.cast(this,t)},Object.defineProperty(e.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),e.prototype.buffer=function(){return ft(this,void 0,void 0,function(){var t;return dt(this,function(r){switch(r.label){case 0:return[4,this.data()];case 1:return t=r.sent(),[2,_e.buffer(this.shape,this.dtype,t)]}})})},e.prototype.bufferSync=function(){return _e.buffer(this.shape,this.dtype,this.dataSync())},e.prototype.array=function(){return ft(this,void 0,void 0,function(){var t;return dt(this,function(r){switch(r.label){case 0:return[4,this.data()];case 1:return t=r.sent(),[2,eL(this.shape,t)]}})})},e.prototype.arraySync=function(){return eL(this.shape,this.dataSync())},e.prototype.data=function(){return ft(this,void 0,void 0,function(){var t,r;return dt(this,function(n){switch(n.label){case 0:return this.throwIfDisposed(),t=yl().read(this.dataId),this.dtype!=="string"?[3,2]:[4,t];case 1:r=n.sent();try{return[2,r.map(function(i){return gw(i)})]}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}n.label=2;case 2:return[2,t]}})})},e.prototype.dataSync=function(){this.throwIfDisposed();var t=yl().readSync(this.dataId);if(this.dtype==="string")try{return t.map(function(r){return gw(r)})}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return t},e.prototype.bytes=function(){return ft(this,void 0,void 0,function(){var t;return dt(this,function(r){switch(r.label){case 0:return this.throwIfDisposed(),[4,yl().read(this.dataId)];case 1:return t=r.sent(),this.dtype==="string"?[2,t]:[2,new Uint8Array(t.buffer)]}})})},e.prototype.dispose=function(){this.isDisposed||(yl().disposeTensor(this),this.isDisposedInternal=!0)},Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this.isDisposedInternal},enumerable:!0,configurable:!0}),e.prototype.throwIfDisposed=function(){if(this.isDisposed)throw new Error("Tensor is disposed.")},e.prototype.toFloat=function(){return this.asType("float32")},e.prototype.toInt=function(){return this.asType("int32")},e.prototype.toBool=function(){return this.asType("bool")},e.prototype.print=function(t){return t===void 0&&(t=!1),_e.print(this,t)},e.prototype.reshape=function(t){return this.throwIfDisposed(),_e.reshape(this,t)},e.prototype.reshapeAs=function(t){return this.throwIfDisposed(),this.reshape(t.shape)},e.prototype.expandDims=function(t){return t===void 0&&(t=0),_e.expandDims(this,t)},e.prototype.cumsum=function(t,r,n){return t===void 0&&(t=0),r===void 0&&(r=!1),n===void 0&&(n=!1),_e.cumsum(this,t,r,n)},e.prototype.squeeze=function(t){return this.throwIfDisposed(),_e.squeeze(this,t)},e.prototype.clone=function(){return this.throwIfDisposed(),_e.clone(this)},e.prototype.oneHot=function(t,r,n){return this.throwIfDisposed(),_e.oneHot(this,t,r,n)},e.prototype.toString=function(t){return t===void 0&&(t=!1),EAe(this.dataSync(),this.shape,this.dtype,t)},e.prototype.tile=function(t){return this.throwIfDisposed(),_e.tile(this,t)},e.prototype.gather=function(t,r){return r===void 0&&(r=0),this.throwIfDisposed(),_e.gather(this,t,r)},e.prototype.matMul=function(t,r,n){return r===void 0&&(r=!1),n===void 0&&(n=!1),this.throwIfDisposed(),_e.matMul(this,t,r,n)},e.prototype.dot=function(t){return this.throwIfDisposed(),_e.dot(this,t)},e.prototype.norm=function(t,r,n){return t===void 0&&(t="euclidean"),r===void 0&&(r=null),n===void 0&&(n=!1),this.throwIfDisposed(),_e.norm(this,t,r,n)},e.prototype.slice=function(t,r){return this.throwIfDisposed(),_e.slice(this,t,r)},e.prototype.reverse=function(t){return this.throwIfDisposed(),_e.reverse(this,t)},e.prototype.concat=function(t,r){return r===void 0&&(r=0),this.throwIfDisposed(),t instanceof e&&(t=[t]),_e.concat([this].concat(t),r)},e.prototype.split=function(t,r){return r===void 0&&(r=0),this.throwIfDisposed(),_e.split(this,t,r)},e.prototype.stack=function(t,r){return r===void 0&&(r=0),_e.stack([this,t],r)},e.prototype.unstack=function(t){return t===void 0&&(t=0),_e.unstack(this,t)},e.prototype.pad=function(t,r){return r===void 0&&(r=0),_e.pad(this,t,r)},e.prototype.batchNormalization=function(t,r,n,i,a){return n===void 0&&(n=.001),v7("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon"),this.batchNorm(t,r,a,i,n)},e.prototype.batchNorm=function(t,r,n,i,a){return a===void 0&&(a=.001),this.throwIfDisposed(),_e.batchNorm(this,t,r,n,i,a)},e.prototype.all=function(t,r){return t===void 0&&(t=null),r===void 0&&(r=!1),this.throwIfDisposed(),_e.all(this,t,r)},e.prototype.any=function(t,r){return t===void 0&&(t=null),r===void 0&&(r=!1),this.throwIfDisposed(),_e.any(this,t,r)},e.prototype.logSumExp=function(t,r){return t===void 0&&(t=null),r===void 0&&(r=!1),this.throwIfDisposed(),_e.logSumExp(this,t,r)},e.prototype.sum=function(t,r){return t===void 0&&(t=null),r===void 0&&(r=!1),this.throwIfDisposed(),_e.sum(this,t,r)},e.prototype.prod=function(t,r){return t===void 0&&(t=null),r===void 0&&(r=!1),this.throwIfDisposed(),_e.prod(this,t,r)},e.prototype.mean=function(t,r){return t===void 0&&(t=null),r===void 0&&(r=!1),this.throwIfDisposed(),_e.mean(this,t,r)},e.prototype.min=function(t,r){return t===void 0&&(t=null),r===void 0&&(r=!1),this.throwIfDisposed(),_e.min(this,t,r)},e.prototype.max=function(t,r){return t===void 0&&(t=null),r===void 0&&(r=!1),this.throwIfDisposed(),_e.max(this,t,r)},e.prototype.argMin=function(t){return t===void 0&&(t=null),this.throwIfDisposed(),_e.argMin(this,t)},e.prototype.argMax=function(t){return t===void 0&&(t=null),this.throwIfDisposed(),_e.argMax(this,t)},e.prototype.cast=function(t){return this.throwIfDisposed(),_e.cast(this,t)},e.prototype.add=function(t){return this.throwIfDisposed(),_e.add(this,t)},e.prototype.addStrict=function(t){return this.throwIfDisposed(),_e.addStrict(this,t)},e.prototype.atan2=function(t){return this.throwIfDisposed(),_e.atan2(this,t)},e.prototype.sub=function(t){return this.throwIfDisposed(),_e.sub(this,t)},e.prototype.subStrict=function(t){return this.throwIfDisposed(),_e.subStrict(this,t)},e.prototype.pow=function(t){return this.throwIfDisposed(),_e.pow(this,t)},e.prototype.powStrict=function(t){return this.throwIfDisposed(),_e.powStrict(this,t)},e.prototype.mul=function(t){return this.throwIfDisposed(),_e.mul(this,t)},e.prototype.mulStrict=function(t){return this.throwIfDisposed(),_e.mulStrict(this,t)},e.prototype.div=function(t){return this.throwIfDisposed(),_e.div(this,t)},e.prototype.divNoNan=function(t){return this.throwIfDisposed(),_e.divNoNan(this,t)},e.prototype.floorDiv=function(t){return this.throwIfDisposed(),_e.floorDiv(this,t)},e.prototype.divStrict=function(t){return this.throwIfDisposed(),_e.divStrict(this,t)},e.prototype.minimum=function(t){return this.throwIfDisposed(),_e.minimum(this,t)},e.prototype.minimumStrict=function(t){return this.throwIfDisposed(),_e.minimumStrict(this,t)},e.prototype.maximum=function(t){return this.throwIfDisposed(),_e.maximum(this,t)},e.prototype.maximumStrict=function(t){return this.throwIfDisposed(),_e.maximumStrict(this,t)},e.prototype.mod=function(t){return this.throwIfDisposed(),_e.mod(this,t)},e.prototype.modStrict=function(t){return this.throwIfDisposed(),_e.modStrict(this,t)},e.prototype.squaredDifferenceStrict=function(t){return this.throwIfDisposed(),_e.squaredDifferenceStrict(this,t)},e.prototype.transpose=function(t){return this.throwIfDisposed(),_e.transpose(this,t)},e.prototype.notEqual=function(t){return this.throwIfDisposed(),_e.notEqual(this,t)},e.prototype.notEqualStrict=function(t){return this.throwIfDisposed(),_e.notEqualStrict(this,t)},e.prototype.less=function(t){return this.throwIfDisposed(),_e.less(this,t)},e.prototype.lessStrict=function(t){return this.throwIfDisposed(),_e.lessStrict(this,t)},e.prototype.equal=function(t){return this.throwIfDisposed(),_e.equal(this,t)},e.prototype.equalStrict=function(t){return this.throwIfDisposed(),_e.equalStrict(this,t)},e.prototype.lessEqual=function(t){return this.throwIfDisposed(),_e.lessEqual(this,t)},e.prototype.lessEqualStrict=function(t){return this.throwIfDisposed(),_e.lessEqualStrict(this,t)},e.prototype.greater=function(t){return this.throwIfDisposed(),_e.greater(this,t)},e.prototype.greaterStrict=function(t){return this.throwIfDisposed(),_e.greaterStrict(this,t)},e.prototype.greaterEqual=function(t){return this.throwIfDisposed(),_e.greaterEqual(this,t)},e.prototype.greaterEqualStrict=function(t){return this.throwIfDisposed(),_e.greaterEqualStrict(this,t)},e.prototype.logicalAnd=function(t){return this.throwIfDisposed(),_e.logicalAnd(this,t)},e.prototype.logicalOr=function(t){return this.throwIfDisposed(),_e.logicalOr(this,t)},e.prototype.logicalNot=function(){return this.throwIfDisposed(),_e.logicalNot(this)},e.prototype.logicalXor=function(t){return this.throwIfDisposed(),_e.logicalXor(this,t)},e.prototype.where=function(t,r){return this.throwIfDisposed(),_e.where(t,this,r)},e.prototype.neg=function(){return this.throwIfDisposed(),_e.neg(this)},e.prototype.ceil=function(){return this.throwIfDisposed(),_e.ceil(this)},e.prototype.floor=function(){return this.throwIfDisposed(),_e.floor(this)},e.prototype.sign=function(){return this.throwIfDisposed(),_e.sign(this)},e.prototype.isNaN=function(){return this.throwIfDisposed(),_e.isNaN(this)},e.prototype.isInf=function(){return this.throwIfDisposed(),_e.isInf(this)},e.prototype.isFinite=function(){return this.throwIfDisposed(),_e.isFinite(this)},e.prototype.exp=function(){return this.throwIfDisposed(),_e.exp(this)},e.prototype.expm1=function(){return this.throwIfDisposed(),_e.expm1(this)},e.prototype.log=function(){return this.throwIfDisposed(),_e.log(this)},e.prototype.log1p=function(){return this.throwIfDisposed(),_e.log1p(this)},e.prototype.sqrt=function(){return this.throwIfDisposed(),_e.sqrt(this)},e.prototype.rsqrt=function(){return this.throwIfDisposed(),_e.rsqrt(this)},e.prototype.square=function(){return this.throwIfDisposed(),_e.square(this)},e.prototype.reciprocal=function(){return this.throwIfDisposed(),_e.reciprocal(this)},e.prototype.abs=function(){return this.throwIfDisposed(),_e.abs(this)},e.prototype.clipByValue=function(t,r){return this.throwIfDisposed(),_e.clipByValue(this,t,r)},e.prototype.relu=function(){return this.throwIfDisposed(),_e.relu(this)},e.prototype.relu6=function(){return this.throwIfDisposed(),_e.relu6(this)},e.prototype.elu=function(){return this.throwIfDisposed(),_e.elu(this)},e.prototype.selu=function(){return this.throwIfDisposed(),_e.selu(this)},e.prototype.leakyRelu=function(t){return t===void 0&&(t=.2),this.throwIfDisposed(),_e.leakyRelu(this,t)},e.prototype.prelu=function(t){return this.throwIfDisposed(),_e.prelu(this,t)},e.prototype.sigmoid=function(){return this.throwIfDisposed(),_e.sigmoid(this)},e.prototype.logSigmoid=function(){return this.throwIfDisposed(),_e.logSigmoid(this)},e.prototype.softplus=function(){return this.throwIfDisposed(),_e.softplus(this)},e.prototype.zerosLike=function(){return this.throwIfDisposed(),_e.zerosLike(this)},e.prototype.onesLike=function(){return this.throwIfDisposed(),_e.onesLike(this)},e.prototype.sin=function(){return this.throwIfDisposed(),_e.sin(this)},e.prototype.cos=function(){return this.throwIfDisposed(),_e.cos(this)},e.prototype.tan=function(){return this.throwIfDisposed(),_e.tan(this)},e.prototype.asin=function(){return this.throwIfDisposed(),_e.asin(this)},e.prototype.acos=function(){return this.throwIfDisposed(),_e.acos(this)},e.prototype.atan=function(){return this.throwIfDisposed(),_e.atan(this)},e.prototype.sinh=function(){return this.throwIfDisposed(),_e.sinh(this)},e.prototype.cosh=function(){return this.throwIfDisposed(),_e.cosh(this)},e.prototype.tanh=function(){return this.throwIfDisposed(),_e.tanh(this)},e.prototype.asinh=function(){return this.throwIfDisposed(),_e.asinh(this)},e.prototype.acosh=function(){return this.throwIfDisposed(),_e.acosh(this)},e.prototype.atanh=function(){return this.throwIfDisposed(),_e.atanh(this)},e.prototype.erf=function(){return this.throwIfDisposed(),_e.erf(this)},e.prototype.round=function(){return this.throwIfDisposed(),_e.round(this)},e.prototype.step=function(t){return t===void 0&&(t=0),this.throwIfDisposed(),_e.step(this,t)},e.prototype.softmax=function(t){return t===void 0&&(t=-1),this.throwIfDisposed(),_e.softmax(this,t)},e.prototype.logSoftmax=function(t){return t===void 0&&(t=-1),this.throwIfDisposed(),_e.logSoftmax(this,t)},e.prototype.resizeBilinear=function(t,r){return r===void 0&&(r=!1),this.throwIfDisposed(),_e.image.resizeBilinear(this,t,r)},e.prototype.resizeNearestNeighbor=function(t,r){return r===void 0&&(r=!1),this.throwIfDisposed(),_e.image.resizeNearestNeighbor(this,t,r)},e.prototype.conv1d=function(t,r,n,i,a,o){return i===void 0&&(i="NWC"),a===void 0&&(a=1),this.throwIfDisposed(),_e.conv1d(this,t,r,n,i,a,o)},e.prototype.conv2d=function(t,r,n,i,a,o){return i===void 0&&(i="NHWC"),a===void 0&&(a=[1,1]),this.throwIfDisposed(),_e.conv2d(this,t,r,n,i,a,o)},e.prototype.conv2dTranspose=function(t,r,n,i,a){return this.throwIfDisposed(),_e.conv2dTranspose(this,t,r,n,i,a)},e.prototype.depthwiseConv2D=function(t,r,n,i,a,o){return i===void 0&&(i="NHWC"),a===void 0&&(a=[1,1]),this.throwIfDisposed(),_e.depthwiseConv2d(this,t,r,n,i,a,o)},e.prototype.separableConv2d=function(t,r,n,i,a,o){return a===void 0&&(a=[1,1]),o===void 0&&(o="NHWC"),this.throwIfDisposed(),_e.separableConv2d(this,t,r,n,i,a,o)},e.prototype.avgPool=function(t,r,n,i){return this.throwIfDisposed(),_e.avgPool(this,t,r,n,i)},e.prototype.maxPool=function(t,r,n,i){return this.throwIfDisposed(),_e.maxPool(this,t,r,n,i)},e.prototype.localResponseNormalization=function(t,r,n,i){return t===void 0&&(t=5),r===void 0&&(r=1),n===void 0&&(n=1),i===void 0&&(i=.5),_e.localResponseNormalization(this,t,r,n,i)},e.prototype.pool=function(t,r,n,i,a){return this.throwIfDisposed(),_e.pool(this,t,r,n,i,a)},e.prototype.variable=function(t,r,n){return t===void 0&&(t=!0),this.throwIfDisposed(),yl().makeVariable(this,t,r,n)},e.prototype.unsortedSegmentSum=function(t,r){return this.throwIfDisposed(),_e.unsortedSegmentSum(this,t,r)},e.prototype.batchToSpaceND=function(t,r){return this.throwIfDisposed(),_e.batchToSpaceND(this,t,r)},e.prototype.spaceToBatchND=function(t,r){return this.throwIfDisposed(),_e.spaceToBatchND(this,t,r)},e.prototype.topk=function(t,r){return t===void 0&&(t=1),r===void 0&&(r=!0),this.throwIfDisposed(),_e.topk(this,t,r)},e.prototype.stridedSlice=function(t,r,n,i,a,o,s,l){return i===void 0&&(i=0),a===void 0&&(a=0),o===void 0&&(o=0),s===void 0&&(s=0),l===void 0&&(l=0),this.throwIfDisposed(),_e.stridedSlice(this,t,r,n,i,a,o,s,l)},e.prototype.depthToSpace=function(t,r){return this.throwIfDisposed(),_e.depthToSpace(this,t,r)},e.prototype.fft=function(){return this.throwIfDisposed(),_e.spectral.fft(this)},e.prototype.ifft=function(){return this.throwIfDisposed(),_e.spectral.ifft(this)},e.prototype.rfft=function(){return this.throwIfDisposed(),_e.spectral.rfft(this)},e.prototype.irfft=function(){return this.throwIfDisposed(),_e.spectral.irfft(this)},e}();Object.defineProperty(dn,Symbol.hasInstance,{value:function(e){return!!e&&e.dataId!=null&&e.shape!=null&&e.dtype!=null}});var nL,FS,IS,_S,kS,Bh=function(e){function t(r,n,i,a){var o=e.call(this,r.shape,r.dtype,r.dataId,a)||this;return o.trainable=n,o.name=i,o}return Js(t,e),t.prototype.assign=function(r){if(r.dtype!==this.dtype)throw new Error("dtype of the new value ("+r.dtype+") and previous value ("+this.dtype+") must match");if(!Pi(r.shape,this.shape))throw new Error("shape of the new value ("+r.shape+") and previous value ("+this.shape+") must match");yl().disposeTensor(this),this.dataId=r.dataId,yl().incRef(this,null)},t.prototype.dispose=function(){yl().disposeVariable(this),this.isDisposedInternal=!0},t}(dn);Object.defineProperty(Bh,Symbol.hasInstance,{value:function(e){return e instanceof dn&&e.assign!=null&&e.assign instanceof Function}}),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(nL||(nL={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(FS||(FS={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(IS||(IS={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(_S||(_S={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(kS||(kS={}));var SAe={float32:_S,int32:FS,bool:IS,complex64:kS};function Gi(e,t){if(e==="string"||t==="string"){if(e==="string"&&t==="string")return"string";throw new Error("Can not upcast "+e+" with "+t)}return SAe[e][t]}function MC(e){return Gi(e,"int32")}function gn(e,t){if(e.dtype===t.dtype)return[e,t];var r=Gi(e.dtype,t.dtype);return[e.cast(r),t.cast(r)]}function NAe(e,t){oe(e.dtype===t.dtype,function(){return"The dtypes of the first("+e.dtype+") and second("+t.dtype+") input must match"})}function y7(e){var t=[];return function r(n,i,a){if(n!=null){if(n instanceof dn)return void i.push(n);if(o=n,!(!Array.isArray(o)&&typeof o!="object")){var o,s=n;for(var l in s){var u=s[l];a.has(u)||(a.add(u),r(u,i,a))}}}}(e,t,new Set),t}var QC,iL=function(){function e(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null}}return e.prototype.dispose=function(){for(var t in this.registeredVariables)this.registeredVariables[t].dispose()},e}(),FAe=function(){function e(t){this.ENV=t,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new iL}return e.prototype.ready=function(){return ft(this,void 0,void 0,function(){var t,r,n;return dt(this,function(i){switch(i.label){case 0:if(this.pendingBackendInit!=null)return[2,this.pendingBackendInit.then(function(){})];if(this.backendInstance!=null)return[2];t=this.getSortedBackends(),r=0,i.label=1;case 1:return r<t.length?(n=t[r],[4,this.initializeBackend(n).success]):[3,5];case 2:return i.sent()?[4,this.setBackend(n)]:[3,4];case 3:return i.sent(),[2];case 4:return r++,[3,1];case 5:throw new Error("Could not initialize any backends, all backend initializations failed.")}})})},Object.defineProperty(e.prototype,"backend",{get:function(){if(this.pendingBackendInit!=null)throw new Error("Backend '"+this.backendName+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");if(this.backendInstance==null){var t=this.initializeBackendsAndReturnBest(),r=t.name;if(t.asyncInit)throw new Error("The highest priority backend '"+r+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(r)}return this.backendInstance},enumerable:!0,configurable:!0}),e.prototype.backendNames=function(){return Object.keys(this.registryFactory)},e.prototype.findBackend=function(t){return!(t in this.registry)&&(!(t in this.registryFactory)||this.initializeBackend(t).asyncInit)?null:this.registry[t]},e.prototype.findBackendFactory=function(t){return t in this.registryFactory?this.registryFactory[t].factory:null},e.prototype.registerBackend=function(t,r,n){return n===void 0&&(n=1),t in this.registryFactory?(console.warn(t+" backend was already registered. Reusing existing backend factory."),!1):(this.registryFactory[t]={factory:r,priority:n},!0)},e.prototype.setBackend=function(t){return ft(this,void 0,void 0,function(){var r,n,i;return dt(this,function(a){switch(a.label){case 0:if(this.registryFactory[t]==null)throw new Error("Backend name '"+t+"' not found in registry");return this.backendName=t,this.registry[t]!=null?[3,4]:(this.backendInstance=null,r=this.initializeBackend(t),n=r.success,r.asyncInit?[4,n]:[3,2]);case 1:return i=a.sent(),[3,3];case 2:i=n,a.label=3;case 3:if(!i)return[2,!1];a.label=4;case 4:return this.backendInstance=this.registry[t],this.setupRegisteredKernels(),this.profiler=new BAe(this.backendInstance),[2,!0]}})})},e.prototype.setupRegisteredKernels=function(){var t=this;JT(this.backendName).forEach(function(r){r.setupFunc!=null&&r.setupFunc(t.backendInstance)})},e.prototype.disposeRegisteredKernels=function(t){var r=this;JT(t).forEach(function(n){n.disposeFunc!=null&&n.disposeFunc(r.registry[t])})},e.prototype.initializeBackend=function(t){var r=this,n=this.registryFactory[t];if(n==null)throw new Error("Cannot initialize backend "+t+", no registration found.");try{var i=n.factory();if(Promise.resolve(i)===i){var a=++this.pendingBackendInitId,o=i.then(function(s){return!(a<r.pendingBackendInitId)&&(r.registry[t]=s,r.pendingBackendInit=null,!0)}).catch(function(s){return!(a<r.pendingBackendInitId)&&(r.pendingBackendInit=null,console.warn("Initialization of backend "+t+" failed"),console.warn(s.stack||s.message),!1)});return this.pendingBackendInit=o,{success:o,asyncInit:!0}}return this.registry[t]=i,{success:!0,asyncInit:!1}}catch(s){return console.warn("Initialization of backend "+t+" failed"),console.warn(s.stack||s.message),{success:!1,asyncInit:!1}}},e.prototype.removeBackend=function(t){if(!(t in this.registryFactory))throw new Error(t+" backend not found in registry");this.backendName===t&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,t in this.registry&&(this.disposeRegisteredKernels(t),this.registry[t].dispose(),delete this.registry[t]),delete this.registryFactory[t],this.backendName===t&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)},e.prototype.getSortedBackends=function(){var t=this;if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(function(r,n){return t.registryFactory[n].priority-t.registryFactory[r].priority})},e.prototype.initializeBackendsAndReturnBest=function(){for(var t=this.getSortedBackends(),r=0;r<t.length;r++){var n=t[r],i=this.initializeBackend(n),a=i.success,o=i.asyncInit;if(o||a)return{name:n,asyncInit:o}}throw new Error("Could not initialize any backends, all backend initializations failed.")},e.prototype.moveData=function(t,r){var n=this.state.tensorInfo.get(r),i=n.backend,a=this.readSync(r);i.disposeData(r),n.backend=t,t.move(r,a,n.shape,n.dtype),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++},e.prototype.tidy=function(t,r){var n,i=this,a=null;if(r==null){if(typeof t!="function")throw new Error("Please provide a function to tidy()");r=t}else{if(typeof t!="string"&&!(t instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof r!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");a=t}return this.scopedRun(function(){return i.startScope(a)},function(){return i.endScope(n)},function(){return(n=r())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n})},e.prototype.scopedRun=function(t,r,n){t();try{var i=n();return r(),i}catch(a){throw r(),a}},e.prototype.nextTensorId=function(){return e.nextTensorId++},e.prototype.nextVariableId=function(){return e.nextVariableId++},e.prototype.clone=function(t){var r=this.makeTensorFromDataId(t.dataId,t.shape,t.dtype),n={x:t};return this.addTapeNode(this.state.activeScope.name,n,[r],function(i){return{x:function(){return i.toFloat()}}},[]),r},e.prototype.runKernel=function(t,r,n,i,a){return this.runKernelFunc(null,r,null,t,n,i,a)},e.prototype.shouldCheckForMemLeaks=function(){return this.ENV.getBool("IS_TEST")},e.prototype.checkKernelForMemLeak=function(t,r,n){var i=this.backend.numDataIds(),a=0;n.forEach(function(l){a+=l.dtype==="complex64"?3:1});var o=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],s=i-r-a-o;if(s>0)throw new Error("Backend '"+this.backendName+"' has an internal memory leak ("+s+" data ids) after running '"+t+"'")},e.prototype.runKernelFunc=function(t,r,n,i,a,o,s){var l,u=this;o===void 0&&(o=[]),s===void 0&&(s=[]);var c=[],A=this.isTapeOn();i==null&&(i=this.state.activeScope!=null?this.state.activeScope.name:"");var d,f=function(y){A&&(c=y.map(function(w){return u.keep(u.clone(w))}))},p=this.state.numBytes,g=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);var v,m=u7(i,this.backendName);return d=m!=null?function(){var y=u.backend.numDataIds();v=m.kernelFunc({inputs:r,attrs:a,backend:u.backend});var w=Array.isArray(v)?v:[v];u.shouldCheckForMemLeaks()&&u.checkKernelForMemLeak(i,y,w);var b=w.map(function(S){var P=S.dataId,k=S.shape,I=S.dtype;return u.makeTensorFromDataId(P,k,I)}),B=b.filter(function(S,P){return s[P]});return f((o||[]).slice().concat(B)),b}:function(){var y=u.backend.numDataIds();v=u.tidy(function(){return t(u.backend,f)});var w=Array.isArray(v)?v:[v];return u.shouldCheckForMemLeaks()&&u.checkKernelForMemLeak(i,y,w),w},this.scopedRun(function(){return u.state.kernelDepth++},function(){return u.state.kernelDepth--},function(){l=u.ENV.getBool("DEBUG")?u.profiler.profileKernel(i,r,function(){return d()}):d()}),A&&this.addTapeNode(i,r,l,n,c),this.state.profiling&&this.state.activeProfile.kernels.push({name:i,bytesAdded:this.state.numBytes-p,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-g,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(r).map(function(y){return r[y].shape}),outputShapes:l.map(function(y){return y.shape})}),Array.isArray(v)?l:l[0]},e.prototype.makeTensor=function(t,r,n,i){if(t==null)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",i=i||this.backend;var a=t;n==="string"&&yN(t[0])&&(a=t.map(function(c){return xAe(c)}));var o=i.write(a,r,n),s=new dn(r,n,o,this.nextTensorId());if(this.incRef(s,i),n==="string"){var l=this.state.tensorInfo.get(o),u=vAe(a);this.state.numBytes+=u-l.bytes,l.bytes=u}return s},e.prototype.makeTensorFromDataId=function(t,r,n,i){var a=new dn(r,n=n||"float32",t,this.nextTensorId());return this.incRef(a,i),a},e.prototype.makeVariable=function(t,r,n,i){r===void 0&&(r=!0),n=n||this.nextVariableId().toString(),i!=null&&i!==t.dtype&&(t=t.asType(i));var a=new Bh(t,r,n,this.nextTensorId());if(this.state.registeredVariables[a.name]!=null)throw new Error("Variable with name "+a.name+" was already registered");return this.state.registeredVariables[a.name]=a,this.incRef(a,this.backend),a},e.prototype.incRef=function(t,r){var n=this.state.tensorInfo.has(t.dataId)?this.state.tensorInfo.get(t.dataId).refCount:0;if(this.state.numTensors++,t.dtype==="string"&&this.state.numStringTensors++,n===0){this.state.numDataBuffers++;var i=0;t.dtype!=="complex64"&&t.dtype!=="string"&&(i=t.size*d7(t.dtype)),this.state.tensorInfo.set(t.dataId,{backend:r||this.backend,dtype:t.dtype,shape:t.shape,bytes:i,refCount:0}),this.state.numBytes+=i}this.state.tensorInfo.get(t.dataId).refCount++,t instanceof Bh||this.track(t)},e.prototype.disposeTensor=function(t){if(this.state.tensorInfo.has(t.dataId)){this.state.numTensors--,t.dtype==="string"&&this.state.numStringTensors--;var r=this.state.tensorInfo.get(t.dataId);r.refCount<=1?(t.dtype!=="complex64"&&(this.state.numBytes-=r.bytes),this.state.numDataBuffers--,r.backend.disposeData(t.dataId),this.state.tensorInfo.delete(t.dataId)):this.state.tensorInfo.get(t.dataId).refCount--}},e.prototype.disposeVariables=function(){for(var t in this.state.registeredVariables){var r=this.state.registeredVariables[t];this.disposeVariable(r)}},e.prototype.disposeVariable=function(t){this.disposeTensor(t),this.state.registeredVariables[t.name]!=null&&delete this.state.registeredVariables[t.name]},e.prototype.memory=function(){var t=this.backend.memory();return t.numTensors=this.state.numTensors,t.numDataBuffers=this.state.numDataBuffers,t.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(t.unreliable=!0,t.reasons==null&&(t.reasons=[]),t.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),t},e.prototype.profile=function(t){return ft(this,void 0,void 0,function(){var r,n;return dt(this,function(i){return this.state.profiling=!0,r=this.state.numBytes,n=this.state.numTensors,this.state.activeProfile.kernels=[],this.state.activeProfile.result=t(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,this.state.activeProfile.kernels.map(function(a){return a.totalBytesSnapshot})),this.state.activeProfile.newBytes=this.state.numBytes-r,this.state.activeProfile.newTensors=this.state.numTensors-n,[2,this.state.activeProfile]})})},e.prototype.isTapeOn=function(){return this.state.gradientDepth>0&&this.state.kernelDepth===0},e.prototype.addTapeNode=function(t,r,n,i,a){var o=this,s={id:this.state.nextTapeNodeId++,kernelName:t,inputs:r,outputs:n,saved:a},l=cAe(t);l!=null&&(i=l.gradFunc),i!=null&&(s.gradient=function(u){return u=u.map(function(c,A){if(c==null){var d=n[A],f=nv(d.size,d.dtype);return o.makeTensor(f,d.shape,d.dtype)}return c}),i(u.length>1?u:u[0],a)}),this.state.activeTape.push(s)},e.prototype.keep=function(t){return t.kept=!0,t},e.prototype.startTape=function(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++},e.prototype.endTape=function(){this.state.gradientDepth--},e.prototype.startScope=function(t){var r={track:[],name:"unnamed scope",id:this.state.nextScopeId++};t&&(r.name=t),this.state.scopeStack.push(r),this.state.activeScope=r},e.prototype.endScope=function(t){for(var r=this,n=y7(t),i=new Set(n.map(function(l){return l.id})),a=0;a<this.state.activeScope.track.length;a++){var o=this.state.activeScope.track[a];o.kept||i.has(o.id)||o.dispose()}var s=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach(function(l){l.kept||l.scopeId!==s.id||r.track(l)})},e.prototype.gradients=function(t,r,n,i){var a=this;if(i===void 0&&(i=!1),oe(r.length>0,function(){return"gradients() received an empty list of xs."}),n!=null&&n.dtype!=="float32")throw new Error("dy must have 'float32' dtype, but has '"+n.dtype+"'");var o=this.scopedRun(function(){return a.startTape()},function(){return a.endTape()},function(){return a.tidy("forward",t)});oe(o instanceof dn,function(){return"The result y returned by f() must be a tensor."});var s=function(l,u,c){for(var A={},d={},f=0;f<u.length;f++)A[u[f].id]=!0;for(f=0;f<l.length;f++){var p=(S=l[f]).inputs;for(var g in p){for(var v=p[g],m=!1,y=0;y<u.length;y++)if(A[v.id]){S.outputs.forEach(function(O){return A[O.id]=!0}),m=!0,d[S.id]=!0;break}if(m)break}}var w={};w[c.id]=!0;var b={};for(f=l.length-1;f>=0;f--)for(p=(S=l[f]).inputs,y=0;y<S.outputs.length;y++)if(w[S.outputs[y].id]){for(var g in p)w[p[g].id]=!0,b[S.id]=!0;break}var B=[];for(f=0;f<l.length;f++){var S;if(d[(S=l[f]).id]&&b[S.id]){var P={};for(var g in S.inputs){var k=S.inputs[g];A[k.id]&&(P[g]=k)}var I=Object.assign({},S);I.inputs=P,I.outputs=S.outputs,B.push(I)}}return B}(this.state.activeTape,r,o);if(!i&&s.length===0&&r.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",function(){var l,u,c={};c[o.id]=n??(l=o.shape,u=p7(yt(l),"float32"),ge.makeTensor(u,l,"float32")),function(d,f,p){for(var g=function(m){var y=f[m],w=[];if(y.outputs.forEach(function(P){var k=d[P.id];k!=null?w.push(k):w.push(null)}),y.gradient==null)throw new Error("Cannot compute gradient: gradient function not found for "+y.kernelName+".");var b=y.gradient(w),B=function(P){if(!(P in b))throw new Error("Cannot backprop through input "+P+". Available gradients found: "+Object.keys(b)+".");var k=p(function(){return b[P]()});if(k.dtype!=="float32")throw new Error("Error in gradient for op "+y.kernelName+". The gradient of input "+P+" must have 'float32' dtype, but has '"+k.dtype+"'");var I=y.inputs[P];if(!Pi(k.shape,I.shape))throw new Error("Error in gradient for op "+y.kernelName+". The gradient of input '"+P+"' has shape '"+k.shape+"', which does not match the shape of the input '"+I.shape+"'");if(d[I.id]==null)d[I.id]=k;else{var O=d[I.id];d[I.id]=O.add(k),O.dispose()}};for(var S in y.inputs)B(S)},v=f.length-1;v>=0;v--)g(v)}(c,s,function(d){return a.tidy(d)});var A=r.map(function(d){return c[d.id]});return a.state.gradientDepth===0&&(a.state.activeTape.forEach(function(d){for(var f=0,p=d.saved;f<p.length;f++)p[f].dispose()}),a.state.activeTape=null),{value:o,grads:A}})},e.prototype.customGrad=function(t){var r=this;return oe(SS(t),function(){return"The f passed in customGrad(f) must be a function."}),function(){for(var n,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];oe(i.every(function(s){return s instanceof dn}),function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"});var o={};return i.forEach(function(s,l){o[l]=s}),r.runKernelFunc(function(s,l){return oe((n=t.apply(void 0,i.concat([l]))).value instanceof dn,function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"}),oe(SS(n.gradFunc),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."}),n.value},o,function(s,l){var u=n.gradFunc(s,l),c=Array.isArray(u)?u:[u];oe(c.length===i.length,function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."}),oe(c.every(function(d){return d instanceof dn}),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."});var A={};return c.forEach(function(d,f){A[f]=function(){return d}}),A})}},e.prototype.readSync=function(t){return this.state.tensorInfo.get(t).backend.readSync(t)},e.prototype.read=function(t){return this.state.tensorInfo.get(t).backend.read(t)},e.prototype.time=function(t){return ft(this,void 0,void 0,function(){var r,n;return dt(this,function(i){switch(i.label){case 0:return r=gl(),[4,this.backend.time(t)];case 1:return(n=i.sent()).wallMs=gl()-r,[2,n]}})})},e.prototype.track=function(t){return this.state.activeScope!=null&&(t.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(t)),t},Object.defineProperty(e.prototype,"registeredVariables",{get:function(){return this.state.registeredVariables},enumerable:!0,configurable:!0}),e.prototype.reset=function(){for(var t in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new iL,this.registry)this.disposeRegisteredKernels(t),this.registry[t].dispose(),delete this.registry[t];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null},e.nextTensorId=0,e.nextVariableId=0,e}(),ge=function(){var e=function(){if(QC==null){var r=void 0;if(typeof window<"u")r=window;else if(typeof global<"u")r=global;else if(typeof process<"u")r=process;else{if(typeof self>"u")throw new Error("Could not find a global object");r=self}QC=r}return QC}();if(e._tfengine==null){var t=new lAe(e);e._tfengine=new FAe(t)}return function(r){l7=r}(e._tfengine.ENV),yl=function(){return e._tfengine},e._tfengine}();function w7(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}var uu=Le();uu.registerFlag("DEBUG",function(){return!1},function(e){e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")}),uu.registerFlag("IS_BROWSER",function(){return w7()}),uu.registerFlag("IS_NODE",function(){return typeof process<"u"&&process.versions!==void 0&&process.versions.node!==void 0}),uu.registerFlag("IS_CHROME",function(){return typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}),uu.registerFlag("PROD",function(){return!1}),uu.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",function(){return uu.getBool("DEBUG")}),uu.registerFlag("DEPRECATION_WARNINGS_ENABLED",function(){return!0}),uu.registerFlag("IS_TEST",function(){return!1});var yg,No,Bo,jA={},HC={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function IAe(e,t){jA[e]=t}function jl(e){e in jA||(jA[e]=function(r){if(r!==1&&r!==2)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var n=function(i){if(typeof OffscreenCanvas<"u"&&i===2)return new OffscreenCanvas(300,150);if(typeof document<"u")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(r);return n.addEventListener("webglcontextlost",function(i){i.preventDefault(),delete jA[r]},!1),r===1?n.getContext("webgl",HC)||n.getContext("experimental-webgl",HC):n.getContext("webgl2",HC)}(e));var t=jA[e];return t.isContextLost()?(delete jA[e],jl(e)):(t.disable(t.DEPTH_TEST),t.disable(t.STENCIL_TEST),t.disable(t.BLEND),t.disable(t.DITHER),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SAMPLE_COVERAGE),t.enable(t.SCISSOR_TEST),t.enable(t.CULL_FACE),t.cullFace(t.BACK),jA[e])}function m2(e,t){return[t,e]}function Qm(e){var t=yt(e);return ES(Math.ceil(t/4))}function iv(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function wN(e,t){var r,n,i,a,o,s,l,u,c,A=e;return Le().getNumber("WEBGL_VERSION")===2?(r=A.R32F,n=A.R16F,i=A.RGBA16F,a=A.RGBA32F,o=A.RED,s=4,l=1,u=A.HALF_FLOAT,c=A.FLOAT):(r=e.RGBA,n=e.RGBA,i=e.RGBA,a=A.RGBA,o=e.RGBA,s=4,l=4,u=t!=null?t.HALF_FLOAT_OES:null,c=e.FLOAT),{internalFormatFloat:r,internalFormatHalfFloat:n,internalFormatPackedHalfFloat:i,internalFormatPackedFloat:a,textureFormatFloat:o,downloadTextureFormat:e.RGBA,downloadUnpackNumChannels:s,defaultNumChannels:l,textureTypeHalfFloat:u,textureTypeFloat:c}}function wt(e,t,r){var n=r();return t&&function(i){var a=i.getError();if(a!==i.NO_ERROR)throw new Error("WebGL Error: "+OAe(i,a))}(e),n}(function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"})(yg||(yg={})),function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}(No||(No={})),function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(Bo||(Bo={}));var _Ae=596e-10,kAe=65504;function PAe(e){return!!(Le().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||e===0||_Ae<Math.abs(e)&&Math.abs(e)<kAe)}function OAe(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code "+t}}function vy(e,t,r){return $u(e,t,function(){return e.getExtension(r)},'Extension "'+r+'" not supported on this browser.')}function TAe(e,t,r){var n=$u(e,t,function(){return e.createShader(e.VERTEX_SHADER)},"Unable to create vertex WebGLShader.");if(wt(e,t,function(){return e.shaderSource(n,r)}),wt(e,t,function(){return e.compileShader(n)}),e.getShaderParameter(n,e.COMPILE_STATUS)===!1)throw console.log(e.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}function LAe(e,t,r){var n=$u(e,t,function(){return e.createShader(e.FRAGMENT_SHADER)},"Unable to create fragment WebGLShader.");if(wt(e,t,function(){return e.shaderSource(n,r)}),wt(e,t,function(){return e.compileShader(n)}),e.getShaderParameter(n,e.COMPILE_STATUS)===!1)throw function(i,a){var o=UAe.exec(a);if(o==null)return console.log("Couldn't parse line number in error: "+a),void console.log(i);for(var s=+o[1],l=i.split(`
`),u=l.length.toString().length+2,c=l.map(function(v,m){return nh((m+1).toString(),u)+v}),A=0,d=0;d<c.length;d++)A=Math.max(c[d].length,A);var f=c.slice(0,s-1),p=c.slice(s-1,s),g=c.slice(s);console.log(f.join(`
`)),console.log(a.split(`
`)[0]),console.log("%c "+nh(p[0],A),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(g.join(`
`))}(r,e.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}var $C,WC,UAe=/ERROR: [0-9]+:([0-9]+):/g;function RAe(e,t){return $u(e,t,function(){return e.createProgram()},"Unable to create WebGLProgram.")}function DAe(e,t,r){if(wt(e,t,function(){return e.linkProgram(r)}),e.getProgramParameter(r,e.LINK_STATUS)===!1)throw console.log(e.getProgramInfoLog(r)),new Error("Failed to link vertex and fragment shaders.")}function KC(e,t,r){if(wt(e,t,function(){return e.validateProgram(r)}),e.getProgramParameter(r,e.VALIDATE_STATUS)===!1)throw console.log(e.getProgramInfoLog(r)),new Error("Shader program validation failed.")}function jAe(e,t,r){var n=$u(e,t,function(){return e.createBuffer()},"Unable to create WebGLBuffer");return wt(e,t,function(){return e.bindBuffer(e.ARRAY_BUFFER,n)}),wt(e,t,function(){return e.bufferData(e.ARRAY_BUFFER,r,e.STATIC_DRAW)}),n}function MAe(e,t,r){var n=$u(e,t,function(){return e.createBuffer()},"Unable to create WebGLBuffer");return wt(e,t,function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n)}),wt(e,t,function(){return e.bufferData(e.ELEMENT_ARRAY_BUFFER,r,e.STATIC_DRAW)}),n}function QAe(e,t){return $u(e,t,function(){return e.createTexture()},"Unable to create WebGLTexture.")}function HAe(e,t){var r=Le().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0){var n="["+e+"x"+t+"]";throw new Error("Requested texture size "+n+" is invalid.")}if(e>r||t>r)throw n="["+e+"x"+t+"]",new Error("Requested texture size "+n+" greater than WebGL maximum on this browser / GPU "+("["+r+"x"+r+"]")+".")}function $Ae(e,t){return $u(e,t,function(){return e.createFramebuffer()},"Unable to create WebGLFramebuffer.")}function aL(e,t,r,n,i,a,o,s){var l=e.getAttribLocation(r,n);return l!==-1&&(wt(e,t,function(){return e.bindBuffer(e.ARRAY_BUFFER,i)}),wt(e,t,function(){return e.vertexAttribPointer(l,a,e.FLOAT,!1,o,s)}),wt(e,t,function(){return e.enableVertexAttribArray(l)}),!0)}function WAe(e,t,r,n){qAe(e,n),wt(e,t,function(){return e.activeTexture(e.TEXTURE0+n)}),wt(e,t,function(){return e.bindTexture(e.TEXTURE_2D,r)})}function KAe(e,t,r,n){return $u(e,t,function(){return e.getUniformLocation(r,n)},'uniform "'+n+'" not present in program.')}function zAe(e,t,r){return e.getUniformLocation(t,r)}function VAe(e,t,r,n,i,a){wt(e,t,function(){return WAe(e,t,n,a)}),wt(e,t,function(){return e.uniform1i(i,a)})}function zC(e,t,r,n){wt(e,t,function(){return e.bindFramebuffer(e.FRAMEBUFFER,n)}),wt(e,t,function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0)})}function oL(e,t,r){wt(e,t,function(){return e.bindFramebuffer(e.FRAMEBUFFER,r)}),wt(e,t,function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)})}function yy(e){var t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+GAe(e,t))}function GAe(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error "+t}}function $u(e,t,r,n){var i=wt(e,t,function(){return r()});if(i==null)throw new Error(n);return i}function qAe(e,t){var r=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,n=t+e.TEXTURE0;if(n<e.TEXTURE0||n>r)throw new Error("textureUnit must be in "+("[gl.TEXTURE0, gl.TEXTURE"+r+"]")+".")}function vw(e,t){return t===void 0&&(t=2),yt(e.slice(0,e.length-t))}function yw(e){if(e.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function VC(e){var t=[1,1,1];return e.length===0||e.length===1&&e[0]===1||(t=[vw(e)].concat(yw(e))),t}function XAe(e,t){var r;t===void 0&&(t=!1);var n=Le().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t&&(n*=2,(e=e.map(function(u,c){return c>=e.length-2?f7(e[c]):e[c]})).length===1&&(e=[2,e[0]])),e.length!==2){var i=zA(e);e=i.newShape}var a=yt(e);if(e.length<=1&&a<=n)return[1,a];if(e.length===2&&e[0]<=n&&e[1]<=n)return e;if(e.length===3&&e[0]*e[1]<=n&&e[2]<=n)return[e[0]*e[1],e[2]];if(e.length===3&&e[0]<=n&&e[1]*e[2]<=n)return[e[0],e[1]*e[2]];if(e.length===4&&e[0]*e[1]*e[2]<=n&&e[3]<=n)return[e[0]*e[1]*e[2],e[3]];if(e.length===4&&e[0]<=n&&e[1]*e[2]*e[3]<=n)return[e[0],e[1]*e[2]*e[3]];if(t){var o=vw(e),s=2,l=2;return e.length&&(s=(r=yw(e))[0],l=r[1]),ES(a=o*(s/2)*(l/2)).map(function(u){return 2*u})}return ES(a)}function wy(e){return e%2==0}function xy(e,t){if(Pi(e=e.slice(-2),t=t.slice(-2))||!e.length||!t.length||e[0]===0||e[1]===0||t[0]===0||t[1]===0)return!0;if(e.length!==t.length){var r=e.slice(-1)[0],n=t.slice(-1)[0];if(r===n||wy(r)&&wy(n)&&(e[0]===1||t[0]===1))return!0}return e[1]===t[1]&&wy(e[0])&&wy(t[0])}function YAe(e){if($C==null){var t=jl(e);$C=t.getParameter(t.MAX_TEXTURE_SIZE)}return $C}function JAe(e){if(WC==null){var t=jl(e);WC=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,WC)}function ZAe(e){if(e===0)return 0;var t=jl(e);return as(t,"EXT_disjoint_timer_query_webgl2")&&e===2?2:as(t,"EXT_disjoint_timer_query")?1:0}function as(e,t){return e.getExtension(t)!=null}function sL(e){try{if(jl(e)!=null)return!0}catch{return!1}return!1}function efe(e){if(e===0)return!1;var t=jl(e);if(e===1){if(!as(t,"OES_texture_float"))return!1}else if(!as(t,"EXT_color_buffer_float"))return!1;return PS(t)}function tfe(e){if(e===0)return!1;var t=jl(e);if(e!==1){if(as(t,"EXT_color_buffer_float"))return PS(t);if(as(t,"EXT_color_buffer_half_float")){var r=t.getExtension("EXT_color_buffer_half_float");return function(n,i){var a=wN(n,i),o=n.createTexture();n.bindTexture(n.TEXTURE_2D,o),n.texImage2D(n.TEXTURE_2D,0,a.internalFormatHalfFloat,1,1,0,a.textureFormatFloat,a.textureTypeHalfFloat,null);var s=n.createFramebuffer();n.bindFramebuffer(n.FRAMEBUFFER,s),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,o,0);var l=n.checkFramebufferStatus(n.FRAMEBUFFER)===n.FRAMEBUFFER_COMPLETE;return n.bindTexture(n.TEXTURE_2D,null),n.bindFramebuffer(n.FRAMEBUFFER,null),n.deleteTexture(o),n.deleteFramebuffer(s),l}(t,r)}return!1}return!!as(t,"OES_texture_float")&&!!as(t,"WEBGL_color_buffer_float")&&PS(t)}function PS(e){var t=wN(e),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r),e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);var n=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,n),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);var i=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(n),i}function rfe(e){return e===2&&jl(e).fenceSync!=null}var Rt=Le();function x7(e){Le().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function nt(e,t){return ge.tidy(e,t)}function to(e){y7(e).forEach(function(t){return t.dispose()})}function nfe(e){return ge.keep(e)}function ww(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Le().getBool("IS_TEST")||console.warn.apply(console,e)}function fA(e,t){var r=e;if(Fl(e))return t==="string"?[]:[e.length];if(!Array.isArray(e))return[];for(var n=[];Array.isArray(r)||Fl(r)&&t!=="string";)n.push(r.length),r=r[0];return Array.isArray(e)&&Le().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&function i(a,o,s){if(s=s||[],!Array.isArray(a)&&!Fl(a))return void oe(o.length===0,function(){return"Element arr["+s.join("][")+"] is a primitive, but should be an array/TypedArray of "+o[0]+" elements"});oe(o.length>0,function(){return"Element arr["+s.join("][")+"] should be a primitive, but is an array of "+a.length+" elements"}),oe(a.length===o[0],function(){return"Element arr["+s.join("][")+"] should have "+o[0]+" elements, but has "+a.length+" elements"});for(var l=o.slice(1),u=0;u<a.length;++u)i(a[u],l,s.concat(u))}(e,n,[]),n}function lL(e,t,r,n){if(e!=null&&(e!=="numeric"&&e!==t||e==="numeric"&&t==="string"))throw new Error("Argument '"+r+"' passed to '"+n+"' must be "+e+" tensor, but got "+t+" tensor")}function te(e,t,r,n){if(n===void 0&&(n="numeric"),e instanceof dn)return lL(n,e.dtype,t,r),e;var i=rv(e);if(i!=="string"&&["bool","int32","float32"].indexOf(n)>=0&&(i=n),lL(n,i,t,r),e==null||!Fl(e)&&!Array.isArray(e)&&typeof e!="number"&&typeof e!="boolean"&&typeof e!="string"){var a=e==null?"null":e.constructor.name;throw new Error("Argument '"+t+"' passed to '"+r+"' must be a Tensor or TensorLike, but got '"+a+"'")}var o=fA(e,i);Fl(e)||Array.isArray(e)||(e=[e]);var s=i!=="string"?h7(e,i,Le().getBool("DEBUG")):bh(e,[],!0);return ge.makeTensor(s,o,i)}function xw(e,t,r,n){if(n===void 0&&(n="numeric"),!Array.isArray(e))throw new Error("Argument "+t+" passed to "+r+" must be a `Tensor[]` or `TensorLike[]`");return e.map(function(i,a){return te(i,t+"["+a+"]",r)},n)}function b7(e,t){for(var r=0;r<e.length;++r)if(e[e.length-r-1]!==t-1-r)return!1;return!0}function ife(e,t,r){for(var n=e.length+t.length,i=[],a=0,o=0,s=0;s<n;s++)r.indexOf(s)===-1?i.push(e[a++]):i.push(t[o++]);return i}function ca(e,t){for(var r=[],n=e.length,i=0;i<n;i++)t.indexOf(i)===-1&&r.push(e[i]);return[r,t.map(function(a){return e[a]})]}function ro(e,t){return ife(e,t.map(function(r){return 1}),t)}function bo(e,t,r){oe(b7(t,r),function(){return e+" supports only inner-most axes for now. Got axes "+t+" and rank-"+r+" input."})}function Ml(e,t){if(b7(e,t))return null;for(var r=[],n=0;n<t;++n)e.indexOf(n)===-1&&r.push(n);return e.forEach(function(i){return r.push(i)}),r}function xN(e){return e.map(function(t,r){return[r,t]}).sort(function(t,r){return t[1]-r[1]}).map(function(t){return t[0]})}function Ql(e,t){for(var r=[],n=t-e;n<t;++n)r.push(n);return r}function afe(e,t){var r=e[0].length;e.forEach(function(i,a){oe(i.length===r,function(){return"Error in concat"+r+"D: rank of tensors["+a+"] must be the same as the rank of the rest ("+r+")"})}),oe(t>=0&&t<r,function(){return"Error in concat"+r+"D: axis must be between 0 and "+(r-1)+"."});var n=e[0];e.forEach(function(i,a){for(var o=0;o<r;o++)oe(o===t||i[o]===n[o],function(){return"Error in concat"+r+"D: Shape of tensors["+a+"] ("+i+") does not match the shape of the rest ("+n+") along the non-concatenated axis "+a+"."})})}function Ch(e,t){for(var r=e[0].slice(),n=1;n<e.length;n++)r[t]+=e[n][t];return r}function he(e){var t=Object.keys(e);if(t.length!==1)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+t.length+" keys.");var r=t[0],n=e[r];r.endsWith("_")&&(r=r.substring(0,r.length-1));var i=function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];ge.startScope(r);try{var s=n.apply(void 0,a);return s instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),ge.endScope(s),s}catch(l){throw ge.endScope(null),l}};return Object.defineProperty(i,"name",{value:r,configurable:!0}),i}Rt.registerFlag("HAS_WEBGL",function(){return Rt.getNumber("WEBGL_VERSION")>0}),Rt.registerFlag("WEBGL_VERSION",function(){return sL(2)?2:sL(1)?1:0}),Rt.registerFlag("WEBGL_BUFFER_SUPPORTED",function(){return Rt.get("WEBGL_VERSION")===2}),Rt.registerFlag("WEBGL_CPU_FORWARD",function(){return!0}),Rt.registerFlag("WEBGL_FORCE_F16_TEXTURES",function(){return!1}),Rt.registerFlag("WEBGL_PACK",function(){return Rt.getBool("HAS_WEBGL")}),Rt.registerFlag("WEBGL_PACK_NORMALIZATION",function(){return Rt.getBool("WEBGL_PACK")}),Rt.registerFlag("WEBGL_PACK_CLIP",function(){return Rt.getBool("WEBGL_PACK")}),Rt.registerFlag("WEBGL_PACK_DEPTHWISECONV",function(){return!1}),Rt.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",function(){return Rt.getBool("WEBGL_PACK")}),Rt.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",function(){return Rt.getBool("WEBGL_PACK")}),Rt.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",function(){return Rt.getBool("WEBGL_PACK")}),Rt.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",function(){return Rt.getBool("WEBGL_PACK")}),Rt.registerFlag("WEBGL_PACK_REDUCE",function(){return Rt.getBool("WEBGL_PACK")}),Rt.registerFlag("WEBGL_LAZILY_UNPACK",function(){return Rt.getBool("WEBGL_PACK")}),Rt.registerFlag("WEBGL_CONV_IM2COL",function(){return Rt.getBool("WEBGL_PACK")}),Rt.registerFlag("WEBGL_MAX_TEXTURE_SIZE",function(){return YAe(Rt.getNumber("WEBGL_VERSION"))}),Rt.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",function(){return JAe(Rt.getNumber("WEBGL_VERSION"))}),Rt.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",function(){var e=Rt.getNumber("WEBGL_VERSION");return e===0?0:ZAe(e)}),Rt.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",function(){return Rt.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&(e=navigator.userAgent||navigator.vendor||window.opera,!(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))));var e}),Rt.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",function(){return efe(Rt.getNumber("WEBGL_VERSION"))}),Rt.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",function(){return!Rt.getBool("WEBGL_FORCE_F16_TEXTURES")&&Rt.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")}),Rt.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",function(){return tfe(Rt.getNumber("WEBGL_VERSION"))}),Rt.registerFlag("WEBGL_FENCE_API_ENABLED",function(){return rfe(Rt.getNumber("WEBGL_VERSION"))}),Rt.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",function(){return Rt.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0}),v7=x7;var Vi=he({complex_:function(e,t){var r=te(e,"real","complex"),n=te(t,"imag","complex");return xr(r.shape,n.shape,"real and imag shapes, "+r.shape+" and "+n.shape+", must match in call to tf.complex()."),ge.runKernelFunc(function(i){return i.complex(r,n)},{$real:r,$imag:n})}}),ts=he({real_:function(e){var t=te(e,"input","real");return ge.runKernelFunc(function(r){return r.real(t)},{$input:t})}}),wl=he({imag_:function(e){var t=te(e,"input","imag");return ge.runKernelFunc(function(r){return r.imag(t)},{$input:t})}});function qi(e,t,r){return dA(e,t,fA(e,r),r)}function dA(e,t,r,n){if(n==null&&(n=rv(e)),n==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!Fl(e)&&!Array.isArray(e)&&typeof e!="number"&&typeof e!="boolean"&&typeof e!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(t!=null){m7(t);var i=yt(t),a=yt(r);oe(i===a,function(){return"Based on the provided shape, ["+t+"], the tensor should have "+i+" values but has "+a});for(var o=0;o<r.length;++o){var s=r[o],l=o!==r.length-1||s!==yt(t.slice(o));oe(r[o]===t[o]||!l,function(){return"Error creating a new Tensor. Inferred shape ("+r+") does not match the provided shape ("+t+"). "})}}return Fl(e)||Array.isArray(e)||(e=[e]),t=t||r,e=n!=="string"?h7(e,n,Le().getBool("DEBUG")):bh(e,[],!0),ge.makeTensor(e,t,n)}function Xe(e,t){if((Fl(e)&&t!=="string"||Array.isArray(e))&&t!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(t==="string"&&Fl(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return dA(e,[],[],t)}function Xn(e,t){Gh(e);var r=fA(e,t);if(r.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return dA(e,null,r,t)}function Jc(e,t,r){if(Gh(e),t!=null&&t.length!==2)throw new Error("tensor2d() requires shape to have two numbers");var n=fA(e,r);if(n.length!==2&&n.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(n.length===1&&t==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return dA(e,t,n,r)}function bN(e,t,r){if(Gh(e),t!=null&&t.length!==3)throw new Error("tensor3d() requires shape to have three numbers");var n=fA(e,r);if(n.length!==3&&n.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(n.length===1&&t==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return dA(e,t,n,r)}function Wa(e,t,r){if(Gh(e),t!=null&&t.length!==4)throw new Error("tensor4d() requires shape to have four numbers");var n=fA(e,r);if(n.length!==4&&n.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(n.length===1&&t==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return dA(e,t,n,r)}function ofe(e,t,r){if(Gh(e),t!=null&&t.length!==5)throw new Error("tensor5d() requires shape to have five numbers");var n=fA(e,r);if(n.length!==5&&n.length!==1)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(n.length===1&&t==null)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return dA(e,t,n,r)}function sfe(e,t,r){if(Gh(e),t!=null&&t.length!==6)throw new Error("tensor6d() requires shape to have six numbers");var n=fA(e,r);if(n.length!==6&&n.length!==1)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(n.length===1&&t==null)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return dA(e,t=t||n,n,r)}function lfe(e,t,r,n){return t===void 0&&(t=!0),ge.makeVariable(e,t,r,n)}function qh(e,t){if(t===void 0&&(t="float32"),t==="complex64"){var r=qh(e,"float32"),n=Yr(e,"float32");return Vi(r,n)}var i=p7(yt(e),t);return ge.makeTensor(i,e,t)}function Yr(e,t){if(t===void 0&&(t="float32"),t==="complex64"){var r=Yr(e,"float32"),n=Yr(e,"float32");return Vi(r,n)}var i=nv(yt(e),t);return ge.makeTensor(i,e,t)}function _l(e,t,r){return ge.runKernelFunc(function(n){return n.fill(e,t,r)},{})}function ufe(e,t,r){if(r<=0)throw new Error("The number of values should be positive.");return ge.runKernelFunc(function(n){return n.linspace(e,t,r)},{})}function bw(e,t,r,n){if(r===void 0&&(r=1),n===void 0&&(n="float32"),r===0)throw new Error("Cannot have a step of zero");if(e===t||e<t&&r<0||t<e&&r>1)return Yr([0],n);var i=nv(Math.abs(Math.ceil((t-e)/r)),n);t<e&&r===1&&(r=-1),i[0]=e;for(var a=1;a<i.length;a++)i[a]=i[a-1]+r;return Xn(i,n)}var B7=he({onesLike_:function(e){var t=te(e,"x","onesLike");if(t.dtype==="complex64"){var r=B7(ts(t)),n=Ar(wl(t));return Vi(r,n)}return ge.runKernelFunc(function(i){return i.onesLike(t)},{$x:t},function(i,a){return{$x:function(){return Ar(i)}}})}}),Ar=he({zerosLike_:function(e){var t=te(e,"x","zerosLike");return ge.runKernelFunc(function(r){return r.zerosLike(t)},{$x:t},function(r,n){return{$x:function(){return Ar(r)}}})}}),di=he({concat_:function(e,t){t===void 0&&(t=0),oe(e.length>=1,function(){return"Pass at least one tensor to concat"});var r=xw(e,"tensors","concat");r[0].dtype==="complex64"&&r.forEach(function(s){if(s.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype `+s.dtype+". ")}),t=vi(t,r[0].shape)[0];var n=Ch(r.map(function(s){return s.shape}),t);if(yt(n)===0)return qi([],n);if((r=r.filter(function(s){return s.size>0})).length===1)return r[0];var i=r.map(function(s){return s.shape});afe(i,t);var a=r,o={axis:t};return ge.runKernelFunc(function(s){return s.concat(r,t)},a,function(s){var l=i.map(function(u){return u[t]});return BN(s,l,t).map(function(u){return function(){return u}})},"Concat",o)}}),cfe=he({concat1d_:function(e){return di(e,0)}}),Afe=he({concat2d_:function(e,t){return di(e,t)}}),ffe=he({concat3d_:function(e,t){return di(e,t)}}),dfe=he({concat4d_:function(e,t){return di(e,t)}}),BN=he({split_:function(e,t,r){r===void 0&&(r=0);var n,i=te(e,"x","split");return r=vi(r,i.shape)[0],typeof t=="number"?(oe(i.shape[r]%t==0,function(){return"Number of splits must evenly divide the axis."}),n=new Array(t).fill(i.shape[r]/t)):(oe(i.shape[r]===t.reduce(function(a,o){return a+o}),function(){return"The sum of sizes must match the size of the axis dimension."}),n=t),ge.runKernelFunc(function(a){return a.split(i,n,r)},{$x:i},function(a){return{$x:function(){return di(a,r)}}})}});function Df(e,t){return e(t={exports:{}},t.exports),t.exports}var hfe=Df(function(e){(function(t,r,n){function i(s){var l,u=this,c=(l=4022871197,function(A){A=A.toString();for(var d=0;d<A.length;d++){var f=.02519603282416938*(l+=A.charCodeAt(d));f-=l=f>>>0,l=(f*=l)>>>0,l+=4294967296*(f-=l)}return 23283064365386963e-26*(l>>>0)});u.next=function(){var A=2091639*u.s0+23283064365386963e-26*u.c;return u.s0=u.s1,u.s1=u.s2,u.s2=A-(u.c=0|A)},u.c=1,u.s0=c(" "),u.s1=c(" "),u.s2=c(" "),u.s0-=c(s),u.s0<0&&(u.s0+=1),u.s1-=c(s),u.s1<0&&(u.s1+=1),u.s2-=c(s),u.s2<0&&(u.s2+=1),c=null}function a(s,l){return l.c=s.c,l.s0=s.s0,l.s1=s.s1,l.s2=s.s2,l}function o(s,l){var u=new i(s),c=l&&l.state,A=u.next;return A.int32=function(){return 4294967296*u.next()|0},A.double=function(){return A()+11102230246251565e-32*(2097152*A()|0)},A.quick=A,c&&(typeof c=="object"&&a(c,u),A.state=function(){return a(u,{})}),A}r&&r.exports?r.exports=o:this.alea=o})(0,e)}),pfe=Df(function(e){(function(t,r,n){function i(s){var l=this,u="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var A=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^A^A>>>8},s===(0|s)?l.x=s:u+=s;for(var c=0;c<u.length+64;c++)l.x^=0|u.charCodeAt(c),l.next()}function a(s,l){return l.x=s.x,l.y=s.y,l.z=s.z,l.w=s.w,l}function o(s,l){var u=new i(s),c=l&&l.state,A=function(){return(u.next()>>>0)/4294967296};return A.double=function(){do var d=((u.next()>>>11)+(u.next()>>>0)/4294967296)/2097152;while(d===0);return d},A.int32=u.next,A.quick=A,c&&(typeof c=="object"&&a(c,u),A.state=function(){return a(u,{})}),A}r&&r.exports?r.exports=o:this.xor128=o})(0,e)}),mfe=Df(function(e){(function(t,r,n){function i(s){var l=this,u="";l.next=function(){var A=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^A^A<<1)|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,s===(0|s)?l.x=s:u+=s;for(var c=0;c<u.length+64;c++)l.x^=0|u.charCodeAt(c),c==u.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function a(s,l){return l.x=s.x,l.y=s.y,l.z=s.z,l.w=s.w,l.v=s.v,l.d=s.d,l}function o(s,l){var u=new i(s),c=l&&l.state,A=function(){return(u.next()>>>0)/4294967296};return A.double=function(){do var d=((u.next()>>>11)+(u.next()>>>0)/4294967296)/2097152;while(d===0);return d},A.int32=u.next,A.quick=A,c&&(typeof c=="object"&&a(c,u),A.state=function(){return a(u,{})}),A}r&&r.exports?r.exports=o:this.xorwow=o})(0,e)}),gfe=Df(function(e){(function(t,r,n){function i(s){var l=this;l.next=function(){var u,c,A=l.x,d=l.i;return u=A[d],c=(u^=u>>>7)^u<<24,c^=(u=A[d+1&7])^u>>>10,c^=(u=A[d+3&7])^u>>>3,c^=(u=A[d+4&7])^u<<7,u=A[d+7&7],c^=(u^=u<<13)^u<<9,A[d]=c,l.i=d+1&7,c},function(u,c){var A,d=[];if(c===(0|c))d[0]=c;else for(c=""+c,A=0;A<c.length;++A)d[7&A]=d[7&A]<<15^c.charCodeAt(A)+d[A+1&7]<<13;for(;d.length<8;)d.push(0);for(A=0;A<8&&d[A]===0;++A);for(A==8?d[7]=-1:d[A],u.x=d,u.i=0,A=256;A>0;--A)u.next()}(l,s)}function a(s,l){return l.x=s.x.slice(),l.i=s.i,l}function o(s,l){s==null&&(s=+new Date);var u=new i(s),c=l&&l.state,A=function(){return(u.next()>>>0)/4294967296};return A.double=function(){do var d=((u.next()>>>11)+(u.next()>>>0)/4294967296)/2097152;while(d===0);return d},A.int32=u.next,A.quick=A,c&&(c.x&&a(c,u),A.state=function(){return a(u,{})}),A}r&&r.exports?r.exports=o:this.xorshift7=o})(0,e)}),vfe=Df(function(e){(function(t,r,n){function i(s){var l=this;l.next=function(){var u,c,A=l.w,d=l.X,f=l.i;return l.w=A=A+1640531527|0,c=d[f+34&127],u=d[f=f+1&127],c^=c<<13,u^=u<<17,c^=c>>>15,u^=u>>>12,c=d[f]=c^u,l.i=f,c+(A^A>>>16)|0},function(u,c){var A,d,f,p,g,v=[],m=128;for(c===(0|c)?(d=c,c=null):(c+="\0",d=0,m=Math.max(m,c.length)),f=0,p=-32;p<m;++p)c&&(d^=c.charCodeAt((p+32)%c.length)),p===0&&(g=d),d^=d<<10,d^=d>>>15,d^=d<<4,d^=d>>>13,p>=0&&(g=g+1640531527|0,f=(A=v[127&p]^=d+g)==0?f+1:0);for(f>=128&&(v[127&(c&&c.length||0)]=-1),f=127,p=512;p>0;--p)d=v[f+34&127],A=v[f=f+1&127],d^=d<<13,A^=A<<17,d^=d>>>15,A^=A>>>12,v[f]=d^A;u.w=g,u.X=v,u.i=f}(l,s)}function a(s,l){return l.i=s.i,l.w=s.w,l.X=s.X.slice(),l}function o(s,l){s==null&&(s=+new Date);var u=new i(s),c=l&&l.state,A=function(){return(u.next()>>>0)/4294967296};return A.double=function(){do var d=((u.next()>>>11)+(u.next()>>>0)/4294967296)/2097152;while(d===0);return d},A.int32=u.next,A.quick=A,c&&(c.X&&a(c,u),A.state=function(){return a(u,{})}),A}r&&r.exports?r.exports=o:this.xor4096=o})(0,e)}),yfe=Df(function(e){(function(t,r,n){function i(s){var l=this,u="";l.next=function(){var A=l.b,d=l.c,f=l.d,p=l.a;return A=A<<25^A>>>7^d,d=d-f|0,f=f<<24^f>>>8^p,p=p-A|0,l.b=A=A<<20^A>>>12^d,l.c=d=d-f|0,l.d=f<<16^d>>>16^p,l.a=p-A|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,s===Math.floor(s)?(l.a=s/4294967296|0,l.b=0|s):u+=s;for(var c=0;c<u.length+20;c++)l.b^=0|u.charCodeAt(c),l.next()}function a(s,l){return l.a=s.a,l.b=s.b,l.c=s.c,l.d=s.d,l}function o(s,l){var u=new i(s),c=l&&l.state,A=function(){return(u.next()>>>0)/4294967296};return A.double=function(){do var d=((u.next()>>>11)+(u.next()>>>0)/4294967296)/2097152;while(d===0);return d},A.int32=u.next,A.quick=A,c&&(typeof c=="object"&&a(c,u),A.state=function(){return a(u,{})}),A}r&&r.exports?r.exports=o:this.tychei=o})(0,e)}),MA=Df(function(e){(function(t,r){var n,i=this,a=256,o=6,s="random",l=r.pow(a,o),u=r.pow(2,52),c=2*u,A=a-1;function d(m,y,w){var b=[],B=g(function k(I,O){var F,N=[],U=typeof I;if(O&&U=="object")for(F in I)try{N.push(k(I[F],O-1))}catch{}return N.length?N:U=="string"?I:I+"\0"}((y=y==1?{entropy:!0}:y||{}).entropy?[m,v(t)]:m??function(){try{var k;return n&&(k=n.randomBytes)?k=k(a):(k=new Uint8Array(a),(i.crypto||i.msCrypto).getRandomValues(k)),v(k)}catch{var I=i.navigator,O=I&&I.plugins;return[+new Date,i,O,i.screen,v(t)]}}(),3),b),S=new f(b),P=function(){for(var k=S.g(o),I=l,O=0;k<u;)k=(k+O)*a,I*=a,O=S.g(1);for(;k>=c;)k/=2,I/=2,O>>>=1;return(k+O)/I};return P.int32=function(){return 0|S.g(4)},P.quick=function(){return S.g(4)/4294967296},P.double=P,g(v(S.S),t),(y.pass||w||function(k,I,O,F){return F&&(F.S&&p(F,S),k.state=function(){return p(S,{})}),O?(r[s]=k,I):k})(P,B,"global"in y?y.global:this==r,y.state)}function f(m){var y,w=m.length,b=this,B=0,S=b.i=b.j=0,P=b.S=[];for(w||(m=[w++]);B<a;)P[B]=B++;for(B=0;B<a;B++)P[B]=P[S=A&S+m[B%w]+(y=P[B])],P[S]=y;(b.g=function(k){for(var I,O=0,F=b.i,N=b.j,U=b.S;k--;)I=U[F=A&F+1],O=O*a+U[A&(U[F]=U[N=A&N+I])+(U[N]=I)];return b.i=F,b.j=N,O})(a)}function p(m,y){return y.i=m.i,y.j=m.j,y.S=m.S.slice(),y}function g(m,y){for(var w,b=m+"",B=0;B<b.length;)y[A&B]=A&(w^=19*y[A&B])+b.charCodeAt(B++);return v(y)}function v(m){return String.fromCharCode.apply(0,m)}if(r["seed"+s]=d,g(r.random(),t),e.exports){e.exports=d;try{n=require("crypto")}catch{}}})([],Math)});MA.alea=hfe,MA.xor128=pfe,MA.xorwow=mfe,MA.xorshift7=gfe,MA.xor4096=vfe,MA.tychei=yfe;var g2=MA.alea,CN=function(){function e(t,r,n,i,a){this.mean=t,this.stdDev=r,this.dtype=n,this.nextVal=NaN,this.truncated=i,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var o=a||Math.random();this.random=g2(o.toString())}return e.prototype.nextValue=function(){if(!isNaN(this.nextVal)){var t=this.nextVal;return this.nextVal=NaN,t}for(var r,n,i=!1;!i;){var a=void 0,o=void 0,s=void 0;do s=(a=2*this.random()-1)*a+(o=2*this.random()-1)*o;while(s>=1||s===0);var l=Math.sqrt(-2*Math.log(s)/s);r=this.mean+this.stdDev*a*l,n=this.mean+this.stdDev*o*l,this.truncated&&!this.isValidTruncated(r)||(i=!0)}return this.truncated&&!this.isValidTruncated(n)||(this.nextVal=this.convertValue(n)),this.convertValue(r)},e.prototype.convertValue=function(t){return this.dtype==null||this.dtype==="float32"?t:Math.round(t)},e.prototype.isValidTruncated=function(t){return t<=this.upper&&t>=this.lower},e}(),wfe=function(){function e(t,r,n,i){this.alpha=t,this.beta=1/r,this.dtype=n;var a=i||Math.random();this.randu=g2(a.toString()),this.randn=new CN(0,1,n,!1,this.randu()),this.d=t<1?t+2/3:t-1/3,this.c=1/Math.sqrt(9*this.d)}return e.prototype.nextValue=function(){for(var t,r,n,i,a,o;;){do i=this.randn.nextValue(),o=1+this.c*i;while(o<=0);if(o*=o*o,r=1-.331*(t=i*i)*t,n=.5*t+this.d*(1-o+Math.log(o)),(a=this.randu())<r||Math.log(a)<n)break}return o=1/this.beta*this.d*o,this.alpha<1&&(o*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(o)},e.prototype.convertValue=function(t){return this.dtype==="float32"?t:Math.round(t)},e}(),xfe=function(){function e(t,r,n,i){var a=this;if(t===void 0&&(t=0),r===void 0&&(r=1),this.canReturnFloat=function(){return a.dtype==null||a.dtype==="float32"},this.min=t,this.range=r-t,this.dtype=n,i==null&&(i=Math.random()),typeof i=="number"&&(i=i.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between "+t+" - "+r+" <= 1 and dtype is not float");this.random=g2(i)}return e.prototype.convertValue=function(t){return this.canReturnFloat()?t:Math.round(t)},e.prototype.nextValue=function(){return this.convertValue(this.min+this.range*this.random())},e}();function zt(e,t,r){return t===void 0&&(t="float32"),t=t||"float32",m7(e),new vg(e,t,r)}function bfe(e,t){t===void 0&&(t=!1),console.log(e.toString(t))}var C7=he({batchToSpaceND_:function(e,t,r){var n=te(e,"x","batchToSpaceND"),i=t.reduce(function(a,o){return a*o});return oe(n.rank>=1+t.length,function(){return"input rank is "+n.rank+" but should be > than blockShape.length "+t.length}),oe(r.length===t.length,function(){return"crops.length is "+r.length+" but should be equal to blockShape.length  "+t.length}),oe(n.shape[0]%i==0,function(){return"input tensor batch is "+n.shape[0]+" but is not divisible by the product of the elements of blockShape "+t.join(" * ")+" === "+i}),ge.runKernelFunc(function(a){return a.batchToSpaceND(n,t,r)},{$x:n},function(a){return{$x:function(){return a.spaceToBatchND(t,r)}}})}}),Bfe=he({broadcastTo_:function(e,t){var r=te(e,"broadcastTo","x"),n=r.shape;if(t.some(function(l){return!(l>0)||l%1!=0}))throw new Error("broadcastTo(): Invalid broadcast shape ["+t+"].");if(t.length<r.rank)throw new Error("broadcastTo(): shape.length="+t.length+" < input.rank="+r.rank+".");if(t.length>r.rank){for(var i=r.shape.slice();i.length<t.length;)i.unshift(1);r=r.reshape(i)}for(var a=Array.from(t),o=t.length-1;o>=0;o--)if(r.shape[o]===t[o])a[o]=1;else if(r.shape[o]!==1)throw new Error("broadcastTo(): ["+n+"] cannot be broadcast to ["+t+"].");var s=a.map(function(l,u){return l>1?u:-1}).filter(function(l){return l>=0});return s.length===0?r.clone():ge.runKernelFunc(function(l){return l.tile(r,a)},{input:r},function(l){return{input:function(){return l.sum(s,!0)}}})}}),Cfe=he({cast_:function(e,t){var r=te(e,"x","cast");if(!mAe(t))throw new Error("Failed to cast to unknown dtype "+t);if(t==="string"&&r.dtype!=="string"||t!=="string"&&r.dtype==="string")throw new Error("Only strings can be casted to strings");var n={dtype:t};return ge.runKernelFunc(function(i){return i.cast(r,t)},{x:r},function(i){return{x:function(){return i.clone()}}},"Cast",n)}}),Efe=he({clone_:function(e){var t=te(e,"x","clone",null);return ge.runKernelFunc(function(){return ge.makeTensorFromDataId(t.dataId,t.shape,t.dtype)},{$x:t},function(r){return{$x:function(){return r.toFloat()}}})}}),Sfe=he({cumsum_:function(e,t,r,n){t===void 0&&(t=0),r===void 0&&(r=!1),n===void 0&&(n=!1);var i=te(e,"x","cumsum"),a=Ml([t|=0],i.rank),o=i;a!=null&&(o=i.transpose(a));var s=Ql(1,i.rank)[0],l=ge.runKernelFunc(function(u){return u.cumsum(o,s,r,n)},{permutedX:o},function(u){return{permutedX:function(){return u.cumsum(t,r,!n)}}});return a!=null&&(l=l.transpose(a)),l}}),Nfe=he({depthToSpace_:function(e,t,r){r===void 0&&(r="NHWC");var n=te(e,"x","depthToSpace"),i=r==="NHWC"?n.shape[1]:n.shape[2],a=r==="NHWC"?n.shape[2]:n.shape[3],o=r==="NHWC"?n.shape[3]:n.shape[1];return oe(i*t>=0,function(){return`Negative dimension size caused by overflow when multiplying
      `+i+" and "+t+`  for depthToSpace with input shape
      `+n.shape}),oe(a*t>=0,function(){return`Negative dimension size caused by overflow when multiplying
      `+a+" and "+t+` for depthToSpace with input shape
          `+n.shape}),oe(o%(t*t)==0,function(){return"Dimension size must be evenly divisible by "+t*t+" but is "+o+" for depthToSpace with input shape "+n.shape}),ge.runKernelFunc(function(s){return s.depthToSpace(n,t,r)},{$x:n})}}),es=he({expandDims_:function(e,t){t===void 0&&(t=0);var r=te(e,"x","expandDims",null);oe(t<=r.rank,function(){return"Axis must be <= rank of the tensor"});var n=r.shape.slice();return t<0&&(oe(-(r.rank+1)<=t,function(){return"Axis must be in the interval ["+-(r.rank+1)+", "+r.rank+"]"}),t=r.rank+t+1),n.splice(t,0,1),Ls(r,n)}}),E7=he({eye_:function(e,t,r,n){n===void 0&&(n="float32"),t==null&&(t=e);for(var i=zt([e,t],n),a=e<=t?e:t,o=0;o<a;++o)i.set(1,o,o);var s=i.toTensor().as2D(e,t);if(r==null)return s;if(r.length===1)return ih(es(s,0),[r[0],1,1]);if(r.length===2)return ih(es(es(s,0),0),[r[0],r[1],1,1]);if(r.length===3)return ih(es(es(es(s,0),0),0),[r[0],r[1],r[2],1,1]);throw new Error("eye() currently supports only 1D and 2D batchShapes, but received "+r.length+"D.")}}),Ffe=he({multinomial_:function(e,t,r,n){n===void 0&&(n=!1);var i=te(e,"logits","multinomial"),a=i.size,o=i.rank;if(a<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+a+".");if(o>2)throw new Error("Rank of probabilities must be 1 or 2, but is "+o);r=r||Math.random();var s=o===1?i.as2D(1,-1):i,l=ge.runKernelFunc(function(u){return u.multinomial(s,n,t,r)},{logits2D:s});return o===1?l.as1D():l}}),OS=he({oneHot_:function(e,t,r,n){if(r===void 0&&(r=1),n===void 0&&(n=0),t<2)throw new Error("Error in oneHot: depth must be >=2, but it is "+t);var i=te(e,"indices","oneHot","int32"),a=i.shape.concat([t]);return i=i.flatten(),ge.runKernelFunc(function(o){return o.oneHot(i,t,r,n)},{$indices:i},function(o){return{$indices:function(){return Yr(i.shape,"float32")}}}).reshape(a)}}),jf=he({pad_:function(e,t,r){r===void 0&&(r=0);var n=te(e,"x","pad");if(n.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var i={paddings:t,constantValue:r};return ge.runKernelFunc(function(a){return a.pad(n,t,r)},{x:n},function(a){var o=t.map(function(s){return s[0]});return{x:function(){return a.slice(o,n.shape)}}},"PadV2",i)}}),Ife=he({pad1d_:function(e,t,r){return r===void 0&&(r=0),oe(t.length===2,function(){return"Invalid number of paddings. Must be length of 2."}),jf(e,[t],r)}}),_fe=he({pad2d_:function(e,t,r){return r===void 0&&(r=0),oe(t.length===2&&t[0].length===2&&t[1].length===2,function(){return"Invalid number of paddings. Must be length of 2 each."}),jf(e,t,r)}}),kfe=he({pad3d_:function(e,t,r){return r===void 0&&(r=0),oe(t.length===3&&t[0].length===2&&t[1].length===2&&t[2].length===2,function(){return"Invalid number of paddings. Must be length of 2 each."}),jf(e,t,r)}}),Pfe=he({pad4d_:function(e,t,r){return r===void 0&&(r=0),oe(t.length===4&&t[0].length===2&&t[1].length===2&&t[2].length===2&&t[3].length===2,function(){return"Invalid number of paddings. Must be length of 2 each."}),jf(e,t,r)}}),Ofe=he({rand_:function(e,t,r){var n=yt(e),i=null;if(r==null||r==="float32")i=new Float32Array(n);else if(r==="int32")i=new Int32Array(n);else{if(r!=="bool")throw new Error("Unknown data type "+r);i=new Uint8Array(n)}for(var a=0;a<n;a++)i[a]=t();return ge.makeTensor(i,e,r)}}),Tfe=he({randomNormal_:function(e,t,r,n,i){if(t===void 0&&(t=0),r===void 0&&(r=1),n!=null&&n==="bool")throw new Error("Unsupported data type "+n);for(var a=new CN(t,r,n,!1,i),o=zt(e,n),s=0;s<o.values.length;s++)o.values[s]=a.nextValue();return o.toTensor()}}),Lfe=he({randomGamma_:function(e,t,r,n,i){if(r===void 0&&(r=1),n===void 0&&(n="float32"),r==null&&(r=1),n==null&&(n="float32"),n!=="float32"&&n!=="int32")throw new Error("Unsupported data type "+n);for(var a=new wfe(t,r,n,i),o=zt(e,n),s=0;s<o.values.length;s++)o.values[s]=a.nextValue();return o.toTensor()}}),S7=he({randomUniform_:function(e,t,r,n,i){t===void 0&&(t=0),r===void 0&&(r=1),n===void 0&&(n="float32");for(var a=zt(e,n),o=new xfe(t,r,null,i),s=0;s<a.values.length;s++)a.values[s]=o.nextValue();return a.toTensor()}}),Ls=he({reshape_:function(e,t){var r=te(e,"x","reshape",null);t=hAe(t,r.size),oe(r.size===yt(t),function(){return"new shape and old shape must have the same number of elements."});var n={shape:t};return ge.runKernelFunc(function(i){return i.reshape(r,t)},{x:r},function(i){return{x:function(){return i.reshape(r.shape)}}},"Reshape",n)}}),N7=he({spaceToBatchND_:function(e,t,r){var n=te(e,"x","spaceToBatchND");return oe(n.rank>=1+t.length,function(){return"input rank "+n.rank+" should be > than [blockShape] "+t.length}),oe(r.length===t.length,function(){return"paddings.shape[0] "+r.length+" must be equal to [blockShape] "+t.length}),oe(n.shape.reduce(function(i,a,o){return o>0&&o<=t.length?i&&(a+r[o-1][0]+r[o-1][1])%t[o-1]==0:i},!0),function(){return"input spatial dimensions "+n.shape.slice(1)+" with paddings "+r.toString()+" must be divisible by blockShapes "+t.toString()}),ge.runKernelFunc(function(i){return i.spaceToBatchND(n,t,r)},{$x:n},function(i){return{$x:function(){return i.batchToSpaceND(t,r)}}})}}),F7=he({squeeze_:function(e,t){var r=te(e,"x","squeeze");return Ls(r,zA(r.shape,t).newShape)}}),Po=he({stack_:function(e,t){t===void 0&&(t=0);var r=xw(e,"tensors","stack");if(oe(r.length>=1,function(){return"Pass at least one tensor to tf.stack"}),r.length===1)return r[0].expandDims(t);var n=r[0].rank,i=r[0].shape,a=r[0].dtype;oe(t<=n,function(){return"Axis must be <= rank of the tensor"}),r.forEach(function(s){xr(i,s.shape,"All tensors passed to stack must have matching shapes")}),r.forEach(function(s){oe(a===s.dtype,function(){return"All tensors passed to stack must have matching dtypes"})});var o=r.map(function(s){return s.expandDims(t)});return di(o,t)}}),ih=he({tile_:function(e,t){var r=te(e,"x","tile",null);oe(r.rank===t.length,function(){return"Error in transpose: rank of input "+r.rank+" must match length of reps "+t+"."});var n=[r],i={reps:t};return ge.runKernelFunc(function(a,o){var s=a.tile(r,t);return o([r]),s},{x:r},function(a,o){var s=o[0];return{x:function(){var l=Ar(s);if(s.rank===1)for(var u=0;u<t[0];++u)l=l.add(a.slice([u*s.shape[0]],[s.shape[0]]));else if(s.rank===2)for(u=0;u<t[0];++u)for(var c=0;c<t[1];++c)l=l.add(a.slice([u*s.shape[0],c*s.shape[1]],[s.shape[0],s.shape[1]]));else if(s.rank===3)for(u=0;u<t[0];++u)for(c=0;c<t[1];++c)for(var A=0;A<t[2];++A)l=l.add(a.slice([u*s.shape[0],c*s.shape[1],A*s.shape[2]],[s.shape[0],s.shape[1],s.shape[2]]));else{if(s.rank!==4)throw new Error("Gradient for tile operation is not implemented for rank-"+s.rank+" tensors yet.");for(u=0;u<t[0];++u)for(c=0;c<t[1];++c)for(A=0;A<t[2];++A)for(var d=0;d<t[3];++d)l=l.add(a.slice([u*s.shape[0],c*s.shape[1],A*s.shape[2],d*s.shape[3]],[s.shape[0],s.shape[1],s.shape[2],s.shape[3]]))}return l}}},"Tile",i,n)}}),Ufe=he({truncatedNormal_:function(e,t,r,n,i){if(t===void 0&&(t=0),r===void 0&&(r=1),n!=null&&n==="bool")throw new Error("Unsupported data type "+n);for(var a=new CN(t,r,n,!0,i),o=zt(e,n),s=0;s<o.values.length;s++)o.values[s]=a.nextValue();return o.toTensor()}}),hi=he({unstack_:function(e,t){t===void 0&&(t=0),t=t||0;var r=te(e,"x","unstack");oe(t>=-r.shape.length&&t<r.shape.length,function(){return"Axis = "+t+" is not in [-"+r.shape.length+", "+r.shape.length+")"}),t<0&&(t+=r.shape.length);var n={axis:t};return ge.runKernelFunc(function(i){return i.unstack(r,t)},{x:r},function(i){return{x:function(){return Po(i,t)}}},"Unpack",n)}}),Rfe=function(e,t){return ft(this,void 0,void 0,function(){var r,n,i,a,o,s,l,u,c,A;return dt(this,function(d){switch(d.label){case 0:return r=te(e,"x","setdiff1d"),n=te(t,"y","setdiff1d"),oe(r.dtype===n.dtype,function(){return"x and y should have the same dtype, but got x ("+r.dtype+") and y ("+n.dtype+")."}),oe(r.rank===1,function(){return"x should be 1D tensor, but got x ("+r.shape+")."}),oe(n.rank===1,function(){return"y should be 1D tensor, but got y ("+n.shape+")."}),[4,r.data()];case 1:return i=d.sent(),[4,n.data()];case 2:for(a=d.sent(),o=new Set(a),s=0,c=0;c<i.length;c++)o.has(i[c])||s++;for(l=new vg([s],r.dtype),u=new vg([s],"int32"),c=0,A=0;c<i.length;c++)o.has(i[c])||(l.values[A]=i[c],u.values[A]=c,A++);return[2,[l.toTensor(),u.toTensor()]]}})})};function Bw(e,t,r,n){n===void 0&&(n=!0);var i=[];if(n)(i=i.concat(t.slice(0))).push(e[0]/r),i=i.concat(e.slice(1));else{i=i.concat(e[0]);for(var a=t.length,o=0;o<a;++o)i=i.concat([e[o+1]/t[o],t[o]]);i=i.concat(e.slice(a+1))}return i}function Cw(e,t,r){r===void 0&&(r=!0);var n=[];if(r){n.push(t);for(var i=t+1;i<e;++i)i<=2*t?(n.push(i),n.push(i-(t+1))):n.push(i)}else{var a=[],o=[];for(i=1;i<e;++i)i>=2*t+1||i%2==1?o.push(i):a.push(i);n.push.apply(n,a),n.push(0),n.push.apply(n,o)}return n}function Ew(e,t,r,n){n===void 0&&(n=!0);var i=[];n?i.push(e[0]/r):i.push(e[0]*r);for(var a=1;a<e.length;++a)a<=t.length?n?i.push(t[a-1]*e[a]):i.push(e[a]/t[a-1]):i.push(e[a]);return i}function I7(e,t){for(var r=[0],n=0;n<t;++n)r.push(e[n][0]);return r}function _7(e,t,r){for(var n=e.slice(0,1),i=0;i<r;++i)n.push(e[i+1]-t[i][0]-t[i][1]);return n}function k7(e,t){if(e.rank<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher, but the rank was "+e.rank+".");if(t.rank<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher, but the rank was "+t.rank+".");if(t.dtype!=="int32")throw new Error("tf.gatherND() expects the indices to be int32 type, but the dtype was "+t.dtype+".");if(t.shape[t.rank-1]>e.rank)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+t.shape[t.rank-1]+" vs. "+e.rank);if(e.size===0)throw new Error("Requested more than 0 entries, but input is empty. Input shape: "+e.shape+".");for(var r=t.shape,n=r[r.length-1],i=1,a=0;a<r.length-1;++a)i*=r[a];var o=e.shape,s=r.slice();s.pop();var l=1;for(a=n;a<e.rank;++a)l*=o[a],s.push(o[a]);var u=Il(e.shape).map(function(c){return c/l}).concat([1]).slice(0,n);return[s,i,l,u]}var P7=30;function GC(e){return e<=P7?e:NS(e,Math.floor(Math.sqrt(e)))}function Dfe(e,t,r){var n=t.rank>1?t.shape[t.rank-1]:1,i=t.rank>1?t.rank-1:1,a="Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: "+r.shape+", indices.shape: "+t.shape+", shape: "+e+", sliceDim: "+n+", and batchDim: "+i+".";if(r.rank<i)throw new Error(a+" update.rank < "+i+". ");if(e.length<n+(r.rank-i))throw new Error(a+" Output shape length < "+(n+(r.rank-i)));if(r.rank!==i+e.length-n)throw new Error(a+" update.rank != "+(i+e.length-n));for(var o=0;o<i;++o)if(r.shape[o]!==t.shape[o])throw new Error(a+" updates.shape["+o+"] ("+r.shape[o]+") != indices.shape["+o+"] ("+t.shape[o]+").");for(o=0;o<r.rank-i;++o)if(r.shape[o+i]!==e[o+n])throw new Error(a+" updates.shape["+(o+i)+"] ("+r.shape[o+i]+") != shape["+(o+i)+"] ("+e[o+i]+")")}function jfe(e,t,r){if(t.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher, but the rank was "+t.rank+".");if(e.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher, but the rank was "+e.rank+".");if(t.dtype!=="int32")throw new Error("The dtype of 'indices' should be int32, but got dtype: "+t.dtype);if(r.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: "+r);if(r.length===0){if(t.size===0)throw new Error("Indices specified for empty output. indices shape: "+t.shape);if(e.size===0)throw new Error("Updates specified for empty output. updates shape: "+e.shape)}Dfe(r,t,e)}function Sw(e,t,r){for(var n=t.shape.length,i=n>1?t.shape[n-1]:1,a=r.length,o=1,s=i;s<a;++s)o*=r[s];var l=i<1?1:i;return{sliceRank:i,numUpdates:yt(t.shape)/l,sliceSize:o,strides:Il(r.slice(0,i)).concat([1]),outputSize:yt(r)}}function Mfe(e,t,r){oe(e.rank===t.length,function(){return"Error in slice"+e.rank+"D: Length of begin "+t+" must match the rank of the array ("+e.rank+")."}),oe(e.rank===r.length,function(){return"Error in slice"+e.rank+"D: Length of size "+r+" must match the rank of the array ("+e.rank+")."});for(var n=function(a){oe(t[a]+r[a]<=e.shape[a],function(){return"Error in slice"+e.rank+"D: begin["+a+"] + size["+a+"] ("+(t[a]+r[a])+") would overflow input.shape["+a+"] ("+e.shape[a]+")"})},i=0;i<e.rank;++i)n(i)}function uL(e){for(var t=[],r=0;e>0;)1&e&&t.push(r),e/=2,r++;return t}function EN(e,t,r){for(var n=[],i=0;i<e.length;i++)n[i]=Math.ceil((t[i]-e[i])/r[i]);return n}function Qfe(e,t,r,n,i){var a=t[i],o=r[i]||1;(e&1<<i||a==null)&&(a=o>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var s=n[i];return a<0&&(a+=s),a=CS(0,a,s-1)}function Hfe(e,t,r,n,i){var a=t[i],o=r[i]||1;(e&1<<i||a==null)&&(a=o>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var s=n[i];return a<0&&(a+=s),a=o>0?CS(0,a,s):CS(-1,a,s-1)}function O7(e,t,r){for(var n=r.length,i=0;i<r.length;i++)if(r[i]>1){n=i;break}for(i=n+1;i<r.length;i++)if(t[i]>0||r[i]!==e[i])return!1;return!0}function T7(e,t){for(var r=e.length>0?e[e.length-1]:1,n=0;n<e.length-1;n++)r+=e[n]*t[n];return r}function $fe(e,t){oe(SS(e),function(){return"The f passed in variableGrads(f) must be a function"}),oe(t==null||Array.isArray(t)&&t.every(function(c){return c instanceof Bh}),function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"});var r=t!=null;if(!r)for(var n in t=[],ge.registeredVariables)t.push(ge.registeredVariables[n]);var i=r?t.filter(function(c){return!c.trainable}):null,a=t.length;oe((t=t.filter(function(c){return c.trainable})).length>0,function(){return"variableGrads() expects at least one of the input variables to be trainable, but none of the "+a+" variables is trainable."});var o=ge.gradients(e,t,null,!0),s=o.value,l=o.grads;oe(l.some(function(c){return c!=null}),function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."}),oe(s.rank===0,function(){return"The f passed in variableGrads(f) must return a scalar, but it returned a rank-"+s.rank+" tensor"});var u={};return t.forEach(function(c,A){l[A]!=null&&(u[c.name]=l[A])}),i!=null&&i.forEach(function(c){return u[c.name]=null}),{value:s,grads:u}}function v2(e){return ge.customGrad(e)}var Wu=he({softmax_:function(e,t){t===void 0&&(t=-1);var r=te(e,"logits","softmax","float32");if(t===-1&&(t=r.rank-1),t!==r.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. Logits was rank "+r.rank+" and dim was "+t);return ge.runKernelFunc(function(n,i){var a=n.softmax(r,t);return i([a]),a},{logits:r},function(n,i){var a=i[0],o=n.mul(a);return{logits:function(){return o.sub(o.sum([t],!0).mul(a))}}},"Softmax",{dim:t},[],[!0])}}),Wfe=he({logSoftmax_:function(e,t){t===void 0&&(t=-1);var r=te(e,"logits","logSoftmax");if(t===-1&&(t=r.rank-1),t!==r.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. Logits was rank "+r.rank+" and axis was "+t);return v2(function(n,i){var a=n.max(t,!0),o=n.sub(a),s=o.toFloat().sub(o.exp().sum(t,!0).log());return i([s]),{value:s,gradFunc:function(l,u){var c=u[0].exp();return l.sub(l.sum(t,!0).mul(c))}}})(r)}}),L7=function(){function e(t,r){this.backend=t,this.dataMover=r,this.data=new WeakMap,this.dataIdsCount=0}return e.prototype.get=function(t){return this.data.has(t)||this.dataMover.moveData(this.backend,t),this.data.get(t)},e.prototype.set=function(t,r){this.dataIdsCount++,this.data.set(t,r)},e.prototype.has=function(t){return this.data.has(t)},e.prototype.delete=function(t){return this.dataIdsCount--,this.data.delete(t)},e.prototype.numDataIds=function(){return this.dataIdsCount},e}(),U7=function(){function e(){}return e.prototype.time=function(t){return Ne("time")},e.prototype.read=function(t){return Ne("read")},e.prototype.readSync=function(t){return Ne("readSync")},e.prototype.numDataIds=function(){return Ne("numDataIds")},e.prototype.disposeData=function(t){return Ne("disposeData")},e.prototype.write=function(t,r,n){return Ne("write")},e.prototype.move=function(t,r,n,i){return Ne("move")},e.prototype.memory=function(){return Ne("memory")},e.prototype.floatPrecision=function(){return Ne("floatPrecision")},e.prototype.epsilon=function(){return this.floatPrecision()===32?1e-7:1e-4},e.prototype.batchMatMul=function(t,r,n,i){return Ne("batchMatMul")},e.prototype.fusedBatchMatMul=function(t){return t.a,t.b,t.transposeA,t.transposeB,t.bias,t.activation,t.preluActivationWeights,Ne("fusedBatchMatMul")},e.prototype.slice=function(t,r,n){return Ne("slice")},e.prototype.stridedSlice=function(t,r,n,i){return Ne("stridedSlice")},e.prototype.unstack=function(t,r){return Ne("unstack")},e.prototype.reverse=function(t,r){return Ne("reverse")},e.prototype.concat=function(t,r){return Ne("concat")},e.prototype.neg=function(t){return Ne("neg")},e.prototype.add=function(t,r){return Ne("add")},e.prototype.addN=function(t){return Ne("addN")},e.prototype.subtract=function(t,r){return Ne("subtract")},e.prototype.multiply=function(t,r){return Ne("multiply")},e.prototype.realDivide=function(t,r){return Ne("realDivide")},e.prototype.floorDiv=function(t,r){return Ne("floorDiv")},e.prototype.sum=function(t,r){return Ne("sum")},e.prototype.prod=function(t,r){return Ne("prod")},e.prototype.unsortedSegmentSum=function(t,r,n){return Ne("unsortedSegmentSum")},e.prototype.argMin=function(t,r){return Ne("argMin")},e.prototype.argMax=function(t,r){return Ne("argMax")},e.prototype.equal=function(t,r){return Ne("equal")},e.prototype.notEqual=function(t,r){return Ne("notEqual")},e.prototype.less=function(t,r){return Ne("less")},e.prototype.lessEqual=function(t,r){return Ne("lessEqual")},e.prototype.greater=function(t,r){return Ne("greater")},e.prototype.greaterEqual=function(t,r){return Ne("greaterEqual")},e.prototype.logicalNot=function(t){return Ne("logicalNot")},e.prototype.logicalAnd=function(t,r){return Ne("logicalAnd")},e.prototype.logicalOr=function(t,r){return Ne("logicalOr")},e.prototype.where=function(t){return Ne("where")},e.prototype.select=function(t,r,n){return Ne("select")},e.prototype.topk=function(t,r,n){return Ne("topk")},e.prototype.min=function(t,r){return Ne("min")},e.prototype.minimum=function(t,r){return Ne("minimum")},e.prototype.mod=function(t,r){return Ne("mod")},e.prototype.max=function(t,r){return Ne("max")},e.prototype.maximum=function(t,r){return Ne("maximum")},e.prototype.all=function(t,r){return Ne("all")},e.prototype.any=function(t,r){return Ne("any")},e.prototype.squaredDifference=function(t,r){return Ne("squaredDifference")},e.prototype.ceil=function(t){return Ne("ceil")},e.prototype.floor=function(t){return Ne("floor")},e.prototype.round=function(t){return Ne("round")},e.prototype.sign=function(t){return Ne("sign")},e.prototype.isNaN=function(t){return Ne("isNaN")},e.prototype.isInf=function(t){return Ne("isInf")},e.prototype.isFinite=function(t){return Ne("isFinite")},e.prototype.pow=function(t,r){return Ne("pow")},e.prototype.exp=function(t){return Ne("exp")},e.prototype.expm1=function(t){return Ne("expm1")},e.prototype.softmax=function(t,r){return Ne("softmax")},e.prototype.log=function(t){return Ne("log")},e.prototype.log1p=function(t){return Ne("log1p")},e.prototype.sqrt=function(t){return Ne("sqrt")},e.prototype.rsqrt=function(t){return Ne("rsqrt")},e.prototype.square=function(t){return Ne("square")},e.prototype.reciprocal=function(t){return Ne("reciprocal")},e.prototype.relu=function(t){return Ne("relu")},e.prototype.relu6=function(t){return Ne("relu6")},e.prototype.prelu=function(t,r){return Ne("prelu")},e.prototype.elu=function(t){return Ne("elu")},e.prototype.eluDer=function(t,r){return Ne("eluDer")},e.prototype.selu=function(t){return Ne("selu")},e.prototype.int=function(t){return Ne("int")},e.prototype.clip=function(t,r,n){return Ne("clip")},e.prototype.abs=function(t){return Ne("abs")},e.prototype.complexAbs=function(t){return Ne("complexAbs")},e.prototype.sigmoid=function(t){return Ne("sigmoid")},e.prototype.softplus=function(t){return Ne("softplus")},e.prototype.sin=function(t){return Ne("sin")},e.prototype.cos=function(t){return Ne("cos")},e.prototype.tan=function(t){return Ne("tan")},e.prototype.asin=function(t){return Ne("asin")},e.prototype.acos=function(t){return Ne("acos")},e.prototype.atan=function(t){return Ne("atan")},e.prototype.atan2=function(t,r){return Ne("atan2")},e.prototype.sinh=function(t){return Ne("sinh")},e.prototype.cosh=function(t){return Ne("cosh")},e.prototype.tanh=function(t){return Ne("tanh")},e.prototype.asinh=function(t){return Ne("asinh")},e.prototype.acosh=function(t){return Ne("acosh")},e.prototype.atanh=function(t){return Ne("atanh")},e.prototype.erf=function(t){return Ne("erf")},e.prototype.step=function(t,r){return Ne("step")},e.prototype.fusedConv2d=function(t){return t.input,t.filter,t.convInfo,t.bias,t.activation,t.preluActivationWeights,Ne("fusedConv2d")},e.prototype.conv2d=function(t,r,n){return Ne("conv2d")},e.prototype.conv2dDerInput=function(t,r,n){return Ne("conv2dDerInput")},e.prototype.conv2dDerFilter=function(t,r,n){return Ne("conv2dDerFilter")},e.prototype.fusedDepthwiseConv2D=function(t){return t.input,t.filter,t.convInfo,t.bias,t.activation,t.preluActivationWeights,Ne("fusedDepthwiseConv2D")},e.prototype.depthwiseConv2D=function(t,r,n){return Ne("depthwiseConv2D")},e.prototype.depthwiseConv2DDerInput=function(t,r,n){return Ne("depthwiseConv2DDerInput")},e.prototype.depthwiseConv2DDerFilter=function(t,r,n){return Ne("depthwiseConv2DDerFilter")},e.prototype.conv3d=function(t,r,n){return Ne("conv3d")},e.prototype.conv3dDerInput=function(t,r,n){return Ne("conv3dDerInput")},e.prototype.conv3dDerFilter=function(t,r,n){return Ne("conv3dDerFilter")},e.prototype.maxPool=function(t,r){return Ne("maxPool")},e.prototype.maxPoolBackprop=function(t,r,n,i){return Ne("maxPoolBackprop")},e.prototype.avgPool=function(t,r){return Ne("avgPool")},e.prototype.avgPoolBackprop=function(t,r,n){return Ne("avgPoolBackprop")},e.prototype.avgPool3d=function(t,r){return Ne("avgPool3d")},e.prototype.avgPool3dBackprop=function(t,r,n){return Ne("avgPool3dBackprop")},e.prototype.maxPool3d=function(t,r){return Ne("maxPool3d")},e.prototype.maxPool3dBackprop=function(t,r,n,i){return Ne("maxPool3dBackprop")},e.prototype.reshape=function(t,r){return Ne("reshape")},e.prototype.cast=function(t,r){return Ne("cast")},e.prototype.tile=function(t,r){return Ne("tile")},e.prototype.pad=function(t,r,n){return Ne("pad")},e.prototype.transpose=function(t,r){return Ne("transpose")},e.prototype.gather=function(t,r,n){return Ne("gather")},e.prototype.gatherND=function(t,r){return Ne("gatherND")},e.prototype.scatterND=function(t,r,n){return Ne("scatterND")},e.prototype.batchToSpaceND=function(t,r,n){return Ne("batchToSpaceND")},e.prototype.spaceToBatchND=function(t,r,n){return Ne("spaceToBatchND")},e.prototype.resizeBilinear=function(t,r,n,i){return Ne("resizeBilinear")},e.prototype.resizeBilinearBackprop=function(t,r,n){return Ne("resizeBilinearBackprop")},e.prototype.resizeNearestNeighbor=function(t,r,n,i){return Ne("resizeNearestNeighbor")},e.prototype.resizeNearestNeighborBackprop=function(t,r,n){return Ne("resizeNearestNeighborBackprop")},e.prototype.batchNormalization=function(t,r,n,i,a,o){return Ne("batchNormalization")},e.prototype.localResponseNormalization4D=function(t,r,n,i,a){return Ne("localResponseNormalization4D")},e.prototype.LRNGrad=function(t,r,n,i,a,o,s){return Ne("LRNGrad")},e.prototype.multinomial=function(t,r,n,i){return Ne("multinomial")},e.prototype.oneHot=function(t,r,n,i){return Ne("oneHot")},e.prototype.cumsum=function(t,r,n,i){return Ne("cumsum")},e.prototype.nonMaxSuppression=function(t,r,n,i,a){return Ne("nonMaxSuppression")},e.prototype.fft=function(t){return Ne("fft")},e.prototype.ifft=function(t){return Ne("ifft")},e.prototype.complex=function(t,r){return Ne("complex")},e.prototype.real=function(t){return Ne("real")},e.prototype.imag=function(t){return Ne("imag")},e.prototype.cropAndResize=function(t,r,n,i,a,o){return Ne("cropAndResize")},e.prototype.depthToSpace=function(t,r,n){return Ne("depthToSpace")},e.prototype.split=function(t,r,n){return Ne("split")},e.prototype.sparseToDense=function(t,r,n,i){return Ne("sparseToDense")},e.prototype.diag=function(t){return Ne("diag")},e.prototype.fill=function(t,r,n){return Ne("fill")},e.prototype.onesLike=function(t){return Ne("onesLike")},e.prototype.zerosLike=function(t){return Ne("zerosLike")},e.prototype.linspace=function(t,r,n){return Ne("linspace")},e.prototype.dispose=function(){return Ne("dispose")},e}();function Ne(e){throw new Error("'"+e+"' not yet implemented or not found in the registry. Did you forget to import the kernel?")}function Dc(e,t){for(var r=e.length,n=[],i=0;i<r;i++){var a=r-1-i,o=e[a]||1;(t[t.length-1-i]||1)>1&&o===1&&n.unshift(a)}return n}function pi(e,t){for(var r=[],n=0;n<t.length;n++){var i=e[e.length-n-1],a=t.length-n-1,o=t[a];(i==null||i===1&&o>1)&&r.unshift(a)}return r}function nr(e,t){for(var r=[],n=Math.max(e.length,t.length),i=0;i<n;i++){var a=e[e.length-i-1];a==null&&(a=1);var o=t[t.length-i-1];if(o==null&&(o=1),a===1)r.unshift(o);else if(o===1)r.unshift(a);else{if(a!==o)throw Error("Operands could not be broadcast together with shapes "+e+" and "+t+".");r.unshift(a)}}return r}function wg(e,t,r,n,i,a,o){o===void 0&&(o="channelsLast");var s,l=Iw(t),u=l[0],c=l[1];if(o==="channelsLast")s=[u,c,e[3],e[3]];else{if(o!=="channelsFirst")throw new Error("Unknown dataFormat "+o);s=[u,c,e[1],e[1]]}return Mf(e,s,r,n,i,a,!1,o)}function Nw(e,t,r,n,i,a,o){o===void 0&&(o="NDHWC");var s,l,u=TS(t),c=u[0],A=u[1],d=u[2];if(o==="NDHWC")l="channelsLast",s=[c,A,d,e[4],e[4]];else{if(o!=="NCDHW")throw new Error("Unknown dataFormat "+o);l="channelsFirst",s=[c,A,d,e[1],e[1]]}return Fw(e,s,r,n,i,!1,l,a)}function Mf(e,t,r,n,i,a,o,s){o===void 0&&(o=!1),s===void 0&&(s="channelsLast");var l=[-1,-1,-1,-1],u=l[0],c=l[1],A=l[2],d=l[3];if(s==="channelsLast")u=e[0],c=e[1],A=e[2],d=e[3];else{if(s!=="channelsFirst")throw new Error("Unknown dataFormat "+s);u=e[0],d=e[1],c=e[2],A=e[3]}var f,p=t[0],g=t[1],v=t[3],m=Iw(r),y=m[0],w=m[1],b=Iw(n),B=b[0],S=b[1],P=ah(p,B),k=ah(g,S),I=function(M,V,Q,W,D,K,ie,ee){var L,j,z;if(typeof M=="number"){L={top:M,bottom:M,left:M,right:M,type:M===0?"VALID":"NUMBER"};var X=function(ye,de,Ie,De,Y){De==null&&(De=R7(ye,de,Ie));var Ae=ye[0],Ee=ye[1],Pe=Hm((Ae-de+2*De)/Ie+1,Y);oe(Mn(Pe),function(){return"The output # of rows ("+Pe+") must be an integer. Change the stride and/or zero pad parameters"});var Se=Hm((Ee-de+2*De)/Ie+1,Y);return oe(Mn(Se),function(){return"The output # of columns ("+Se+") must be an integer. Change the stride and/or zero pad parameters"}),[Pe,Se]}([V,Q],K,W,M,ee);j=X[0],z=X[1]}else if(M==="same"){j=Math.ceil(V/W),z=Math.ceil(Q/D);var ae=Math.max(0,(j-1)*W+K-V),Z=Math.max(0,(z-1)*D+ie-Q),ce=Math.floor(ae/2),ne=ae-ce,pe=Math.floor(Z/2);L={top:ce,bottom:ne,left:pe,right:Z-pe,type:"SAME"}}else{if(M!=="valid")throw Error("Unknown padding parameter: "+M);L={top:0,bottom:0,left:0,right:0,type:"VALID"},j=Math.ceil((V-K+1)/W),z=Math.ceil((Q-ie+1)/D)}return{padInfo:L,outHeight:j,outWidth:z}}(i,c,A,y,w,P,k,a),O=I.padInfo,F=I.outHeight,N=I.outWidth,U=o?v*d:v;return s==="channelsFirst"?f=[u,U,F,N]:s==="channelsLast"&&(f=[u,F,N,U]),{batchSize:u,dataFormat:s,inHeight:c,inWidth:A,inChannels:d,outHeight:F,outWidth:N,outChannels:U,padInfo:O,strideHeight:y,strideWidth:w,filterHeight:p,filterWidth:g,effectiveFilterHeight:P,effectiveFilterWidth:k,dilationHeight:B,dilationWidth:S,inShape:e,outShape:f,filterShape:t}}function Fw(e,t,r,n,i,a,o,s){a===void 0&&(a=!1),o===void 0&&(o="channelsLast");var l=[-1,-1,-1,-1,-1],u=l[0],c=l[1],A=l[2],d=l[3],f=l[4];if(o==="channelsLast")u=e[0],c=e[1],A=e[2],d=e[3],f=e[4];else{if(o!=="channelsFirst")throw new Error("Unknown dataFormat "+o);u=e[0],f=e[1],c=e[2],A=e[3],d=e[4]}var p,g=t[0],v=t[1],m=t[2],y=t[4],w=TS(r),b=w[0],B=w[1],S=w[2],P=TS(n),k=P[0],I=P[1],O=P[2],F=ah(g,k),N=ah(v,I),U=ah(m,O),M=function(ie,ee,L,j,z,X,ae,Z,ce,ne,pe){var ye,de,Ie,De;if(typeof ie=="number"){ye={top:ie,bottom:ie,left:ie,right:ie,front:ie,back:ie,type:ie===0?"VALID":"NUMBER"};var Y=function(Ge,Nt,St,Ot,Ye,Je){Ye==null&&(Ye=R7(Ge,Nt,Ot));var ut=Ge[0],ct=Ge[1],Vr=Ge[2],Xt=Hm((ut-Nt+2*Ye)/Ot+1,Je);oe(Mn(Xt),function(){return"The output # of depths ("+Xt+") must be an integer. Change the stride and/or zero pad parameters"});var Mt=Hm((ct-Nt+2*Ye)/Ot+1,Je);oe(Mn(Mt),function(){return"The output # of rows ("+Mt+") must be an integer. Change the stride and/or zero pad parameters"});var Qt=Hm((Vr-Nt+2*Ye)/Ot+1,Je);return oe(Mn(Qt),function(){return"The output # of columns ("+Qt+") must be an integer. Change the stride and/or zero pad parameters"}),[Xt,Mt,Qt,St]}([ee,L,j,1],Z,1,z,ie,pe);de=Y[0],Ie=Y[1],De=Y[2]}else if(ie==="same"){de=Math.ceil(ee/z),Ie=Math.ceil(L/X),De=Math.ceil(j/ae);var Ae=(de-1)*z+Z-ee,Ee=(Ie-1)*X+ce-L,Pe=(De-1)*ae+ne-j,Se=Math.floor(Ae/2),Ke=Ae-Se,Ve=Math.floor(Ee/2),Oe=Ee-Ve,et=Math.floor(Pe/2);ye={top:Ve,bottom:Oe,left:et,right:Pe-et,front:Se,back:Ke,type:"SAME"}}else{if(ie!=="valid")throw Error("Unknown padding parameter: "+ie);ye={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},de=Math.ceil((ee-Z+1)/z),Ie=Math.ceil((L-ce+1)/X),De=Math.ceil((j-ne+1)/ae)}return{padInfo:ye,outDepth:de,outHeight:Ie,outWidth:De}}(i,c,A,d,b,B,S,F,N,U,s),V=M.padInfo,Q=M.outDepth,W=M.outHeight,D=M.outWidth,K=a?y*f:y;return o==="channelsFirst"?p=[u,K,Q,W,D]:o==="channelsLast"&&(p=[u,Q,W,D,K]),{batchSize:u,dataFormat:o,inDepth:c,inHeight:A,inWidth:d,inChannels:f,outDepth:Q,outHeight:W,outWidth:D,outChannels:K,padInfo:V,strideDepth:b,strideHeight:B,strideWidth:S,filterDepth:g,filterHeight:v,filterWidth:m,effectiveFilterDepth:F,effectiveFilterHeight:N,effectiveFilterWidth:U,dilationDepth:k,dilationHeight:I,dilationWidth:O,inShape:e,outShape:p,filterShape:t}}function R7(e,t,r,n){n===void 0&&(n=1);var i=ah(t,n);return Math.floor((e[0]*(r-1)-r+i)/2)}function Iw(e){return typeof e=="number"?[e,e,e]:e.length===2?[e[0],e[1],1]:e}function TS(e){return typeof e=="number"?[e,e,e]:e}function ah(e,t){return t<=1?e:e+(e-1)*(t-1)}function Hm(e,t){if(!t)return e;switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error("Unknown roundingMode "+t)}}function Eh(e){var t=Iw(e),r=t[0],n=t[1],i=t[2];return r===1&&n===1&&i===1}function no(e,t){return Eh(e)||Eh(t)}function SN(e){if(e==="NHWC")return"channelsLast";if(e==="NCHW")return"channelsFirst";throw new Error("Unknown dataFormat "+e)}function D7(e,t,r){if(t==="complex64"){if(e.dtype==="complex64")return e.clone();var n=Yr(e.shape),i=e.toFloat(),a=r.complex(i,n);return n.dispose(),i.dispose(),a}if(!gAe(e.dtype,t))return ge.makeTensorFromDataId(e.dataId,e.shape,t);if(e.dtype==="complex64"){var o=r.real(e);return a=o.cast(t),o.dispose(),a}if(t==="int32")return r.int(e);if(t==="bool"){var s=Xe(0,e.dtype);return a=r.notEqual(e,s),s.dispose(),a}throw new Error("Error in Cast: failed to cast "+e.dtype+" to "+t)}function LS(e,t){return ge.makeTensorFromDataId(e.dataId,t,e.dtype)}function j7(e,t,r){var n=(t-e)/(r-1),i=nv(r,"float32");i[0]=e;for(var a=1;a<i.length;a++)i[a]=i[a-1]+n;return Xn(i,"float32")}function US(e,t){if(e.length!==t.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+e.length+", imag: "+t.length+".");for(var r=new Float32Array(2*e.length),n=0;n<r.length;n+=2)r[n]=e[n/2],r[n+1]=t[n/2];return r}function cL(e,t){return{real:e[2*t],imag:e[2*t+1]}}function Kfe(e,t,r,n){e[2*n]=t,e[2*n+1]=r}function zfe(e,t,r){var n=(r?2:-2)*Math.PI*(e/t);return{real:Math.cos(n),imag:Math.sin(n)}}function Vfe(e,t,r){var n=function(a,o,s){return function(l,u,c){for(var A=0,d=l.length,f=0,p=!1;A<d;){var g=c(u,l[f=A+(d-A>>>1)]);g>0?A=f+1:(d=f,p=!g)}return p?A:-A-1}(a,o,s||Gfe)}(e,t,r),i=n<0?-(n+1):n;e.splice(i,0,t)}function Gfe(e,t){return e>t?1:e<t?-1:0}function NN(e,t,r,n,i){return M7(e,t,r,n,i,0).selectedIndices}function FN(e,t,r,n,i,a){var o=M7(e,t,r,n,i,a);return o.numValidOutputs.dispose(),{selectedIndices:o.selectedIndices,selectedScores:o.selectedScores}}function M7(e,t,r,n,i,a,o,s){s===void 0&&(s=!1);for(var l=Array.from(t).map(function(b,B){return{score:b,boxIndex:B,suppressBeginIndex:0}}).filter(function(b){return b.score>i}).sort(AL),u=a>0?-.5/a:0,c=[],A=[];c.length<r&&l.length>0;){var d=l.pop(),f=d.score,p=d.boxIndex,g=d.suppressBeginIndex;if(f<i)break;for(var v=!1,m=c.length-1;m>=g;--m){var y=qfe(e,p,c[m]);if(y>=n){v=!0;break}if(d.score=d.score*Xfe(n,u,y),d.score<=i)break}d.suppressBeginIndex=c.length,v||(d.score===f?(c.push(p),A.push(d.score)):d.score>i&&Vfe(l,d,AL))}var w=c.length;return s&&(c.fill(0,w),A.fill(0,w)),{selectedIndices:Xn(c,"int32"),selectedScores:Xn(A,"float32"),numValidOutputs:Xe(w,"int32")}}function qfe(e,t,r){var n=e.subarray(4*t,4*t+4),i=e.subarray(4*r,4*r+4),a=Math.min(n[0],n[2]),o=Math.min(n[1],n[3]),s=Math.max(n[0],n[2]),l=Math.max(n[1],n[3]),u=Math.min(i[0],i[2]),c=Math.min(i[1],i[3]),A=Math.max(i[0],i[2]),d=Math.max(i[1],i[3]),f=(s-a)*(l-o),p=(A-u)*(d-c);if(f<=0||p<=0)return 0;var g=Math.max(a,u),v=Math.max(o,c),m=Math.min(s,A),y=Math.min(l,d),w=Math.max(m-g,0)*Math.max(y-v,0);return w/(f+p-w)}function Xfe(e,t,r){var n=Math.exp(t*r*r);return r<=e?n:0}function AL(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}function Q7(e,t,r){var n=new Array(e.rank).fill(0),i=e.shape.slice();return t.map(function(a){i[r]=a;var o=e.slice(n,i);return n[r]+=a,o})}function H7(e,t){for(var r=new Array(e.rank),n=0;n<r.length;n++)r[n]=e.shape[n]*t[n];var i=zt(r,e.dtype);for(n=0;n<i.values.length;++n){for(var a=i.indexToLoc(n),o=new Array(e.rank),s=0;s<o.length;s++)o[s]=a[s]%e.shape[s];var l=e.locToIndex(o);i.values[n]=e.values[l]}return i.toTensor()}function $7(e,t,r,n,i){for(var a=t[t.length-1],o=[e.length/a,a],s=o[0],l=o[1],u=gg(r,s*n),c=gg("int32",s*n),A=0;A<s;A++){for(var d=A*l,f=e.subarray(d,d+l),p=[],g=0;g<f.length;g++)p.push({value:f[g],index:g});p.sort(function(b,B){return B.value-b.value});var v=A*n,m=u.subarray(v,v+n),y=c.subarray(v,v+n);for(g=0;g<n;g++)m[g]=p[g].value,y[g]=p[g].index}var w=t.slice();return w[w.length-1]=n,[qi(u,w,r),qi(c,w,"int32")]}function IN(e,t){for(var r=[],n=0;n<t.length;n++)t[n]&&r.push(n);var i=zt(e,"int32"),a=zt([r.length,e.length],"int32");for(n=0;n<r.length;n++){var o=i.indexToLoc(r[n]),s=n*e.length;a.values.set(o,s)}return a.toTensor()}var Yfe=function(e,t){this.outputShape=[],this.outputShape=e,this.variableNames=t.map(function(i,a){return"T"+a});var r=[];this.variableNames.forEach(function(i){r.push("float v"+i+" = get"+i+"AtOutCoords();")});var n=this.variableNames.map(function(i){return"v"+i}).join(" + ");this.userCode=`
      void main() {
        `+r.join(`
        `)+`

        float result = `+n+`;
        setOutput(result);
      }
    `},Jfe=function(e,t){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=t.map(function(i,a){return"T"+a});var r=[];this.variableNames.forEach(function(i){r.push("vec4 v"+i+" = get"+i+"AtOutCoords();")});var n=this.variableNames.map(function(i){return"v"+i}).join(" + ");this.userCode=`
      void main() {
        `+r.join(`
        `)+`

        vec4 result = `+n+`;
        setOutput(result);
      }
    `},Zfe=function(e,t,r){this.variableNames=["A"];var n=e.windowSize,i=e.batchSize,a=e.inSize,o=Math.ceil(a/n);r||this.variableNames.push("bestIndicesA"),this.outputShape=[i,o];var s=t==="max"?">":"<",l=r?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * `+n+`;

        int bestIndex = inOffset;
        float bestValue = getA(batch, bestIndex);

        for (int i = 0; i < `+n+`; i++) {
          int inIdx = `+l+`;
          float candidate = getA(batch, inIdx);
          if (candidate `+s+` bestValue) {
            bestValue = candidate;
            bestIndex = inIdx;
          }
        }
        setOutput(float(bestIndex));
      }
    `};function W7(e,t){return["x","y","z","w","u","v"].slice(0,t).map(function(r){return e+"."+r})}function Ka(e,t){return t===1?[e]:W7(e,t)}function ma(){var e,t,r,n,i,a,o,s,l,u;return Le().getNumber("WEBGL_VERSION")===2?(e="#version 300 es",t="in",r="out",n="in",i="texture",a="outputColor",o="out vec4 outputColor;",s=`
      bool isnan_custom(float val) {
        return (val > 0.0 || val < 0.0) ? false : val != 0.0;
      }

      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan_custom(val.x),
          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));
      }

      #define isnan(value) isnan_custom(value)
    `,l="",u=`
      #define round(value) newRound(value)
      int newRound(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 newRound(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `):(e="",t="attribute",r="varying",n="varying",i="texture2D",a="gl_FragColor",o="",s=`
      #define isnan(value) isnan_custom(value)
      bool isnan_custom(float val) {
        return (val > 0. || val < 1. || val == 0.) ? false : true;
      }
      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));
      }
    `,l=`
      uniform float INFINITY;

      bool isinf(float val) {
        return abs(val) == INFINITY;
      }
      bvec4 isinf(vec4 val) {
        return equal(abs(val), vec4(INFINITY));
      }
    `,u=`
      int round(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 round(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `),{version:e,attribute:t,varyingVs:r,varyingFs:n,texture2D:i,output:a,defineOutput:o,defineSpecialNaN:s,defineSpecialInf:l,defineRound:u}}function JA(e,t,r){r===void 0&&(r="index");var n=Il(t);return n.map(function(i,a){return"int "+e[a]+" = "+r+" / "+i+"; "+(a===n.length-1?"int "+e[a+1]+" = "+r+" - "+e[a]+" * "+i:"index -= "+e[a]+" * "+i)+";"}).join("")}function _N(e){var t=Il(e).map(function(r){return r.toString()});return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * `+t[0]+" + coords.y * "+t[1]+` + coords.z;
  }
`}var K7=`
  const float FLOAT_MAX = 1.70141184e38;
  const float FLOAT_MIN = 1.17549435e-38;

  lowp vec4 encode_float(highp float v) {
    if (isnan(v)) {
      return vec4(255, 255, 255, 255);
    }

    highp float av = abs(v);

    if(av < FLOAT_MIN) {
      return vec4(0.0, 0.0, 0.0, 0.0);
    } else if(v > FLOAT_MAX) {
      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
    } else if(v < -FLOAT_MAX) {
      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
    }

    highp vec4 c = vec4(0,0,0,0);

    highp float e = floor(log2(av));
    highp float m = exp2(fract(log2(av))) - 1.0;

    c[2] = floor(128.0 * m);
    m -= c[2] / 128.0;
    c[1] = floor(32768.0 * m);
    m -= c[1] / 32768.0;
    c[0] = floor(8388608.0 * m);

    highp float ebias = e + 127.0;
    c[3] = floor(ebias / 2.0);
    ebias -= c[3] * 2.0;
    c[2] += floor(ebias) * 128.0;

    c[3] += 128.0 * step(0.0, -v);

    return c / 255.0;
  }
`;function ede(e,t,r,n){var i=[];e.forEach(function(f){var p=yt(f.shapeInfo.logicalShape);f.shapeInfo.isUniform?i.push("uniform float "+f.name+(p>1?"["+p+"]":"")+";"):(i.push("uniform sampler2D "+f.name+";"),i.push("uniform int offset"+f.name+";"))});var a,o,s=i.join(`
`),l=e.map(function(f){return function(p,g,v){v===void 0&&(v=!1);var m="";m+=v?z7(p):Cd(p);var y=p.shapeInfo.logicalShape,w=g.logicalShape;return y.length<=w.length&&(m+=v?function(b,B){var S,P=b.name,k=P.charAt(0).toUpperCase()+P.slice(1),I="get"+k+"AtOutCoords",O=b.shapeInfo.logicalShape.length,F=B.logicalShape.length,N=Dc(b.shapeInfo.logicalShape,B.logicalShape),U=Kr(F),M=F-O,V=["x","y","z","w","u","v"];S=O===0?"":F<2&&N.length>=1?"coords = 0;":N.map(function(L){return"coords."+V[L+M]+" = 0;"}).join(`
`);var Q="";Q=F<2&&O>0?"coords":b.shapeInfo.logicalShape.map(function(L,j){return"coords."+V[j+M]}).join(", ");var W="return outputValue;",D=yt(b.shapeInfo.logicalShape)===1,K=yt(B.logicalShape)===1;if(O!==1||D||K){if(D&&!K)W=F===1?`
        return vec4(outputValue.x, outputValue.x, 0., 0.);
      `:`
        return vec4(outputValue.x);
      `;else if(N.length){var ie=O-2,ee=O-1;N.indexOf(ie)>-1&&N.indexOf(ee)>-1?W="return vec4(outputValue.x);":N.indexOf(ie)>-1?W="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":N.indexOf(ee)>-1&&(W="return vec4(outputValue.xx, outputValue.zz);")}}else W=`
      return vec4(outputValue.xy, outputValue.xy);
    `;return`
    vec4 `+I+`() {
      `+U+` coords = getOutputCoords();
      `+S+`
      vec4 outputValue = get`+k+"("+Q+`);
      `+W+`
    }
  `}(p,g):function(b,B){var S=b.name,P=S.charAt(0).toUpperCase()+S.slice(1),k="get"+P+"AtOutCoords",I=B.texShape,O=b.shapeInfo.texShape,F=b.shapeInfo.logicalShape.length,N=B.logicalShape.length;if(!b.shapeInfo.isUniform&&F===N&&b.shapeInfo.flatOffset==null&&Pi(O,I))return`
      float `+k+`() {
        return sampleTexture(`+S+`, resultUV);
      }
    `;var U,M=Kr(N),V=Dc(b.shapeInfo.logicalShape,B.logicalShape),Q=N-F,W=["x","y","z","w","u","v"];U=F===0?"":N<2&&V.length>=1?"coords = 0;":V.map(function(K){return"coords."+W[K+Q]+" = 0;"}).join(`
`);var D="";return D=N<2&&F>0?"coords":b.shapeInfo.logicalShape.map(function(K,ie){return"coords."+W[ie+Q]}).join(", "),`
    float `+k+`() {
      `+M+` coords = getOutputCoords();
      `+U+`
      return get`+P+"("+D+`);
    }
  `}(p,g)),m}(f,t,n)}).join(`
`),u=t.texShape,c=ma(),A=function(f){return`
    float sampleTexture(sampler2D textureSampler, vec2 uv) {
      return `+f.texture2D+`(textureSampler, uv).r;
    }
  `}(c),d=function(f){return f.version+`
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    `+f.varyingFs+` vec2 resultUV;
    `+f.defineOutput+`
    const vec2 halfCR = vec2(0.5, 0.5);

    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    uniform float NAN;
    `+f.defineSpecialNaN+`
    `+f.defineSpecialInf+`
    `+f.defineRound+`

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    int idiv(int a, int b, float sign) {
      int res = a / b;
      int mod = imod(a, b);
      if (sign < 0. && mod != 0) {
        res -= 1;
      }
      return res;
    }

    //Based on the work of Dave Hoskins
    //https://www.shadertoy.com/view/4djSRW
    #define HASHSCALE1 443.8975
    float random(float seed){
      vec2 p = resultUV * seed;
      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);
      p3 += dot(p3, p3.yzx + 19.19);
      return fract((p3.x + p3.y) * p3.z);
    }

    `+tde+`
    `+rde+`
    `+nde+`
  `}(c);return t.isPacked?(a=function(f,p){switch(f.length){case 0:return`
    int getOutputCoords() {
      return 0;
    }
  `;case 1:return function(b,B){var S=[Math.ceil(B[0]/2),Math.ceil(B[1]/2)];return S[0]===1?`
      int getOutputCoords() {
        return 2 * int(resultUV.x * `+S[1]+`.0);
      }
    `:S[1]===1?`
      int getOutputCoords() {
        return 2 * int(resultUV.y * `+S[0]+`.0);
      }
    `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+S[0]+", "+S[1]+`));
      return 2 * (resTexRC.x * `+S[1]+` + resTexRC.y);
    }
  `}(0,p);case 2:return function(b,B){var S=[Math.ceil(B[0]/2),Math.ceil(B[1]/2)];if(Pi(b,B))return`
      ivec2 getOutputCoords() {
        return 2 * ivec2(resultUV.yx * vec2(`+S[0]+", "+S[1]+`));
      }
    `;var P=Math.ceil(b[1]/2);return`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+S[0]+", "+S[1]+`));

      int index = resTexRC.x * `+S[1]+` + resTexRC.y;
      int r = 2 * (index / `+P+`);
      int c = imod(index, `+P+`) * 2;

      return ivec2(r, c);
    }
  `}(f,p);case 3:return g=f,v=p,m=[Math.ceil(v[0]/2),Math.ceil(v[1]/2)],y=Math.ceil(g[2]/2),w=y*Math.ceil(g[1]/2),`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+m[0]+", "+m[1]+`));
      int index = resTexRC.x * `+m[1]+` + resTexRC.y;

      int b = index / `+w+`;
      index -= b * `+w+`;

      int r = 2 * (index / `+y+`);
      int c = imod(index, `+y+`) * 2;

      return ivec3(b, r, c);
    }
  `;default:return function(b,B){for(var S=[Math.ceil(B[0]/2),Math.ceil(B[1]/2)],P=Math.ceil(b[b.length-1]/2),k=P*Math.ceil(b[b.length-2]/2),I=k,O="",F="b, r, c",N=2;N<b.length-1;N++)I*=b[b.length-N-1],O=`
      int b`+N+" = index / "+I+`;
      index -= b`+N+" * "+I+`;
    `+O,F="b"+N+", "+F;return`
    ivec`+b.length+` getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+S[0]+", "+S[1]+`));
      int index = resTexRC.x * `+S[1]+` + resTexRC.y;

      `+O+`

      int b = index / `+k+`;
      index -= b * `+k+`;

      int r = 2 * (index / `+P+`);
      int c = imod(index, `+P+`) * 2;

      return ivec`+b.length+"("+F+`);
    }
  `}(f,p)}var g,v,m,y,w}(t.logicalShape,u),o=function(f){return`
    void setOutput(vec4 val) {
      `+f.output+` = val;
    }
  `}(c)):(a=function(f,p){switch(f.length){case 0:return`
    int getOutputCoords() {
      return 0;
    }
  `;case 1:return function(m,y){return y[0]===1?`
      int getOutputCoords() {
        return int(resultUV.x * `+y[1]+`.0);
      }
    `:y[1]===1?`
      int getOutputCoords() {
        return int(resultUV.y * `+y[0]+`.0);
      }
    `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+y[0]+", "+y[1]+`));
      return resTexRC.x * `+y[1]+` + resTexRC.y;
    }
  `}(0,p);case 2:return function(m,y){return Pi(m,y)?`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(`+y[0]+", "+y[1]+`));
      }
    `:m[1]===1?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(`+y[0]+", "+y[1]+`));
        int index = resTexRC.x * `+y[1]+` + resTexRC.y;
        return ivec2(index, 0);
      }
    `:m[0]===1?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(`+y[0]+", "+y[1]+`));
        int index = resTexRC.x * `+y[1]+` + resTexRC.y;
        return ivec2(0, index);
      }
    `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+y[0]+", "+y[1]+`));
      int index = resTexRC.x * `+y[1]+` + resTexRC.y;
      int r = index / `+m[1]+`;
      int c = index - r * `+m[1]+`;
      return ivec2(r, c);
    }
  `}(f,p);case 3:return g=p,v=JA(["r","c","d"],f),`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+g[0]+", "+g[1]+`));
      int index = resTexRC.x * `+g[1]+` + resTexRC.y;
      `+v+`
      return ivec3(r, c, d);
    }
  `;case 4:return function(m,y){var w=JA(["r","c","d","d2"],m);return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(`+y[0]+", "+y[1]+`));
      int index = resTexRC.x * `+y[1]+` + resTexRC.y;
      `+w+`
      return ivec4(r, c, d, d2);
    }
  `}(f,p);case 5:return function(m,y){var w=JA(["r","c","d","d2","d3"],m);return`
    ivec5 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx * vec2(`+y[0]+`,
                             `+y[1]+`));

      int index = resTexRC.x * `+y[1]+` + resTexRC.y;

      `+w+`

      ivec5 outShape = ivec5(r, c, d, d2, d3);
      return outShape;
    }
  `}(f,p);case 6:return function(m,y){var w=JA(["r","c","d","d2","d3","d4"],m);return`
    ivec6 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(`+y[0]+", "+y[1]+`));
      int index = resTexRC.x * `+y[1]+` + resTexRC.y;

      `+w+`

      ivec6 result = ivec6(r, c, d, d2, d3, d4);
      return result;
    }
  `}(f,p);default:throw new Error(f.length+"-D output sampling is not yet supported")}var g,v}(t.logicalShape,u),o=function(f){return`
    void setOutput(float val) {
      `+f.output+` = vec4(val, 0, 0, 0);
    }
  `}(c)),n&&(d+=ide),[d,A,o,s,a,l,r].join(`
`)}function Cd(e){var t=e.shapeInfo.logicalShape;switch(t.length){case 0:return function(r){var n=r.name,i="get"+n.charAt(0).toUpperCase()+n.slice(1);if(r.shapeInfo.isUniform)return"float "+i+"() {return "+n+";}";var a=r.shapeInfo.texShape,o=a[0],s=a[1];if(o===1&&s===1)return`
      float `+i+`() {
        return sampleTexture(`+n+`, halfCR);
      }
    `;var l=r.shapeInfo.texShape,u=l[0],c=l[1],A=LA(n);return`
    float `+i+`() {
      vec2 uv = uvFromFlat(`+u+", "+c+", "+A+`);
      return sampleTexture(`+n+`, uv);
    }
  `}(e);case 1:return function(r){var n=r.name,i="get"+n.charAt(0).toUpperCase()+n.slice(1);if(r.shapeInfo.isUniform)return`
      float `+i+`(int index) {
        `+dd(r)+`
      }
    `;var a=r.shapeInfo.texShape,o=a[0],s=a[1];if(s===1&&o===1)return`
      float `+i+`(int index) {
        return sampleTexture(`+n+`, halfCR);
      }
    `;var l=LA(n);return s===1?`
      float `+i+`(int index) {
        vec2 uv = vec2(0.5, (float(index + `+l+") + 0.5) / "+o+`.0);
        return sampleTexture(`+n+`, uv);
      }
    `:o===1?`
      float `+i+`(int index) {
        vec2 uv = vec2((float(index + `+l+") + 0.5) / "+s+`.0, 0.5);
        return sampleTexture(`+n+`, uv);
      }
    `:`
    float `+i+`(int index) {
      vec2 uv = uvFromFlat(`+o+", "+s+", index + "+l+`);
      return sampleTexture(`+n+`, uv);
    }
  `}(e);case 2:return function(r){var n=r.shapeInfo.logicalShape,i=r.name,a="get"+i.charAt(0).toUpperCase()+i.slice(1),o=r.shapeInfo.texShape;if(o!=null&&Pi(n,o)){var s=o[0],l=o[1];return`
    float `+a+`(int row, int col) {
      vec2 uv = (vec2(col, row) + halfCR) / vec2(`+l+".0, "+s+`.0);
      return sampleTexture(`+i+`, uv);
    }
  `}var u=zA(n),c=u.newShape,A=u.keptDims,d=c;if(d.length<n.length){var f=Ed(r,d);return`
      `+Cd(f)+`
      float `+a+`(int row, int col) {
        return `+a+"("+Sd(["row","col"],A)+`);
      }
    `}if(r.shapeInfo.isUniform)return`
      float `+a+`(int row, int col) {
        int index = round(dot(vec2(row, col), vec2(`+n[1]+`, 1)));
        `+dd(r)+`
      }
    `;var p=o[0],g=o[1],v=LA(i);return g===1?`
    float `+a+`(int row, int col) {
      float index = dot(vec3(row, col, `+v+"), vec3("+n[1]+`, 1, 1));
      vec2 uv = vec2(0.5, (index + 0.5) / `+p+`.0);
      return sampleTexture(`+i+`, uv);
    }
  `:p===1?`
    float `+a+`(int row, int col) {
      float index = dot(vec3(row, col, `+v+"), vec3("+n[1]+`, 1, 1));
      vec2 uv = vec2((index + 0.5) / `+g+`.0, 0.5);
      return sampleTexture(`+i+`, uv);
    }
  `:`
  float `+a+`(int row, int col) {
    // Explicitly use integer operations as dot() only works on floats.
    int index = row * `+n[1]+" + col + "+v+`;
    vec2 uv = uvFromFlat(`+p+", "+g+`, index);
    return sampleTexture(`+i+`, uv);
  }
`}(e);case 3:return function(r){var n=r.shapeInfo.logicalShape,i=r.name,a="get"+i.charAt(0).toUpperCase()+i.slice(1),o=n[1]*n[2],s=n[2],l=zA(n),u=l.newShape,c=l.keptDims,A=u;if(A.length<n.length){var d=Ed(r,A);return`
        `+Cd(d)+`
        float `+a+`(int row, int col, int depth) {
          return `+a+"("+Sd(["row","col","depth"],c)+`);
        }
      `}if(r.shapeInfo.isUniform)return`
      float `+a+`(int row, int col, int depth) {
        int index = round(dot(vec3(row, col, depth),
                          vec3(`+o+", "+s+`, 1)));
        `+dd(r)+`
      }
    `;var f=r.shapeInfo.texShape,p=f[0],g=f[1],v=r.shapeInfo.flatOffset;if(g===o&&v==null)return`
        float `+a+`(int row, int col, int depth) {
          float texR = float(row);
          float texC = dot(vec2(col, depth), vec2(`+s+`, 1));
          vec2 uv = (vec2(texC, texR) + halfCR) /
                     vec2(`+g+".0, "+p+`.0);
          return sampleTexture(`+i+`, uv);
        }
      `;if(g===s&&v==null)return`
    float `+a+`(int row, int col, int depth) {
      float texR = dot(vec2(row, col), vec2(`+n[1]+`, 1));
      float texC = float(depth);
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(`+g+".0, "+p+`.0);
      return sampleTexture(`+i+`, uv);
    }
  `;var m=LA(i);return`
      float `+a+`(int row, int col, int depth) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * `+o+" + col * "+s+" + depth + "+m+`;
        vec2 uv = uvFromFlat(`+p+", "+g+`, index);
        return sampleTexture(`+i+`, uv);
      }
  `}(e);case 4:return function(r){var n=r.shapeInfo.logicalShape,i=r.name,a="get"+i.charAt(0).toUpperCase()+i.slice(1),o=n[3],s=n[2]*o,l=n[1]*s,u=zA(n),c=u.newShape,A=u.keptDims;if(c.length<n.length){var d=Ed(r,c);return`
      `+Cd(d)+`
      float `+a+`(int row, int col, int depth, int depth2) {
        return `+a+"("+Sd(["row","col","depth","depth2"],A)+`);
      }
    `}if(r.shapeInfo.isUniform)return`
      float `+a+`(int row, int col, int depth, int depth2) {
        int index = round(dot(vec4(row, col, depth, depth2),
                          vec4(`+l+", "+s+", "+o+`, 1)));
        `+dd(r)+`
      }
    `;var f=r.shapeInfo.flatOffset,p=r.shapeInfo.texShape,g=p[0],v=p[1];if(v===l&&f==null)return`
      float `+a+`(int row, int col, int depth, int depth2) {
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(`+s+", "+o+`, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(`+v+".0, "+g+`.0);
        return sampleTexture(`+i+`, uv);
      }
    `;if(v===o&&f==null)return`
      float `+a+`(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(`+n[1]*n[2]+", "+n[2]+`, 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(`+v+".0, "+g+`.0);
        return sampleTexture(`+i+`, uv);
      }
    `;var m=LA(i);return`
    float `+a+`(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * `+l+" + col * "+s+` +
          depth * `+o+` + depth2;
      vec2 uv = uvFromFlat(`+g+", "+v+", index + "+m+`);
      return sampleTexture(`+i+`, uv);
    }
  `}(e);case 5:return function(r){var n=r.shapeInfo.logicalShape,i=r.name,a="get"+i.charAt(0).toUpperCase()+i.slice(1),o=n[4],s=n[3]*o,l=n[2]*s,u=n[1]*l,c=zA(n),A=c.newShape,d=c.keptDims;if(A.length<n.length){var f=Ed(r,A);return`
      `+Cd(f)+`
      float `+a+`(int row, int col, int depth, int depth2, int depth3) {
        return `+a+"("+Sd(["row","col","depth","depth2","depth3"],d)+`);
      }
    `}if(r.shapeInfo.isUniform)return`
      float `+a+`(int row, int col, int depth, int depth2, int depth3) {
        float index = dot(
          vec4(row, col, depth, depth2),
          vec4(`+u+", "+l+", "+s+", "+o+`)) +
          depth3;
        `+dd(r)+`
      }
    `;var p=r.shapeInfo.flatOffset,g=r.shapeInfo.texShape,v=g[0],m=g[1];if(m===u&&p==null)return`
      float `+a+`(int row, int col, int depth, int depth2, int depth3) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
                         vec4(`+l+", "+s+", "+o+`, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(`+m+".0, "+v+`.0);
        return sampleTexture(`+i+`, uv);
      }
    `;if(m===o&&p==null)return`
      float `+a+`(int row, int col, int depth, int depth2, int depth3) {
        float texR = dot(
          vec4(row, col, depth, depth2),
          vec4(`+n[1]*n[2]*n[3]+`,
               `+n[2]*n[3]+", "+n[3]+`, 1));
        int texC = depth3;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(`+m+".0, "+v+`.0);
        return sampleTexture(`+i+`, uv);
      }
    `;var y=LA(i);return`
    float `+a+`(int row, int col, int depth, int depth2, int depth3) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * `+u+" + col * "+l+" + depth * "+s+` +
          depth2 * `+o+" + depth3 + "+y+`;
      vec2 uv = uvFromFlat(`+v+", "+m+`, index);
      return sampleTexture(`+i+`, uv);
    }
  `}(e);case 6:return function(r){var n=r.shapeInfo.logicalShape,i=r.name,a="get"+i.charAt(0).toUpperCase()+i.slice(1),o=zA(n),s=o.newShape,l=o.keptDims;if(s.length<n.length){var u=Ed(r,s);return`
      `+Cd(u)+`
      float `+a+`(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        return `+a+"("+Sd(["row","col","depth","depth2","depth3","depth4"],l)+`);
      }
    `}var c=n[5],A=n[4]*c,d=n[3]*A,f=n[2]*d,p=n[1]*f;if(r.shapeInfo.isUniform)return`
      float `+a+`(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
        int index = round(dot(
          vec4(row, col, depth, depth2),
          vec4(`+p+", "+f+", "+d+", "+A+`)) +
          dot(
            vec2(depth3, depth4),
            vec2(`+c+`, 1)));
        `+dd(r)+`
      }
    `;var g=r.shapeInfo.flatOffset,v=r.shapeInfo.texShape,m=v[0],y=v[1];if(y===p&&g==null)return`
      float `+a+`(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
          vec4(`+f+", "+d+", "+A+", "+c+`)) +
               float(depth4);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(`+y+".0, "+m+`.0);
        return sampleTexture(`+i+`, uv);
      }
    `;if(y===c&&g==null)return`
      float `+a+`(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        float texR = dot(vec4(row, col, depth, depth2),
          vec4(`+n[1]*n[2]*n[3]*n[4]+`,
               `+n[2]*n[3]*n[4]+`,
               `+n[3]*n[4]+`,
               `+n[4]+`)) + float(depth3);
        int texC = depth4;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(`+y+".0, "+m+`.0);
        return sampleTexture(`+i+`, uv);
      }
    `;var w=LA(i);return`
    float `+a+`(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * `+p+" + col * "+f+" + depth * "+d+` +
          depth2 * `+A+" + depth3 * "+c+" + depth4 + "+w+`;
      vec2 uv = uvFromFlat(`+m+", "+y+`, index);
      return sampleTexture(`+i+`, uv);
    }
  `}(e);default:throw new Error(t.length+"-D input sampling is not yet supported")}}function z7(e){var t,r,n;switch(e.shapeInfo.logicalShape.length){case 0:return t=e.name,r="get"+t.charAt(0).toUpperCase()+t.slice(1),n=ma(),`
    vec4 `+r+`() {
      return `+n.texture2D+"("+t+`, halfCR);
    }
  `;case 1:return function(i){var a=i.name,o="get"+a.charAt(0).toUpperCase()+a.slice(1),s=i.shapeInfo.texShape,l=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)],u=ma();return`
    vec4 `+o+`(int index) {
      vec2 uv = packedUVfrom1D(
        `+l[0]+", "+l[1]+`, index);
      return `+u.texture2D+"("+a+`, uv);
    }
  `}(e);case 2:return function(i){var a=i.shapeInfo.logicalShape,o=i.name,s="get"+o.charAt(0).toUpperCase()+o.slice(1),l=i.shapeInfo.texShape,u=l[0],c=l[1],A=ma();if(l!=null&&Pi(a,l))return`
      vec4 `+s+`(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(`+c+".0, "+u+`.0);

        return `+A.texture2D+"("+o+`, uv);
      }
    `;var d=[Math.ceil(l[0]/2),Math.ceil(l[1]/2)],f=Math.ceil(a[1]/2);return`
    vec4 `+s+`(int row, int col) {
      vec2 uv = packedUVfrom2D(`+f+", "+d[0]+", "+d[1]+`, row, col);
      return `+A.texture2D+"("+o+`, uv);
    }
  `}(e);case 3:return function(i){var a=i.shapeInfo.logicalShape,o=i.name,s="get"+o.charAt(0).toUpperCase()+o.slice(1),l=i.shapeInfo.texShape,u=[Math.ceil(l[0]/2),Math.ceil(l[1]/2)];if(a[0]===1){var c=a.slice(1),A=Ed(i,c);return`
        `+z7(A)+`
        vec4 `+s+`(int b, int row, int col) {
          return `+s+"("+Sd(["b","row","col"],[1,2])+`);
        }
      `}var d=u[0],f=u[1],p=Math.ceil(a[2]/2),g=p*Math.ceil(a[1]/2),v=ma();return`
    vec4 `+s+`(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        `+d+", "+f+", "+g+", "+p+`, b, row, col);
      return `+v.texture2D+"("+o+`, uv);
    }
  `}(e);default:return function(i){for(var a=i.shapeInfo.logicalShape,o=a.length,s=i.name,l="get"+s.charAt(0).toUpperCase()+s.slice(1),u=i.shapeInfo.texShape,c=[Math.ceil(u[0]/2),Math.ceil(u[1]/2)],A=c[0],d=c[1],f=Math.ceil(a[o-1]/2),p=f*Math.ceil(a[o-2]/2),g="int b, int row, int col",v="b * "+p+" + (row / 2) * "+f+" + (col / 2)",m=2;m<o-1;m++)g="int b"+m+", "+g,p*=a[o-m-1],v="b"+m+" * "+p+" + "+v;var y=ma();return`
    vec4 `+l+"("+g+`) {
      int index = `+v+`;
      int texR = index / `+d+`;
      int texC = index - texR * `+d+`;
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(`+d+", "+A+`);
      return `+y.texture2D+"("+s+`, uv);
    }
  `}(e)}}var tde=`
vec2 uvFromFlat(int texNumR, int texNumC, int index) {
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
  int texelIndex = index / 2;
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,rde=`
vec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,
  int texNumC, int row, int col) {
  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,nde=`
vec2 packedUVfrom3D(int texNumR, int texNumC,
    int texelsInBatch, int texelsInLogicalRow, int b,
    int row, int col) {
  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,ide=`
  float getChannel(vec4 frag, vec2 innerDims) {
    vec2 modCoord = mod(innerDims, 2.);
    return modCoord.x == 0. ?
      (modCoord.y == 0. ? frag.r : frag.g) :
      (modCoord.y == 0. ? frag.b : frag.a);
  }
  float getChannel(vec4 frag, int dim) {
    float modCoord = mod(float(dim), 2.);
    return modCoord == 0. ? frag.r : frag.g;
  }
`;function LA(e){return"offset"+e}function dd(e){var t=e.name,r=yt(e.shapeInfo.logicalShape);return r<2?"return "+t+";":`
    for (int i = 0; i < `+r+`; i++) {
      if (i == index) {
        return `+t+`[i];
      }
    }
  `}function Kr(e){if(e<=1)return"int";if(e===2)return"ivec2";if(e===3)return"ivec3";if(e===4)return"ivec4";if(e===5)return"ivec5";if(e===6)return"ivec6";throw Error("GPU for rank "+e+" is not yet supported")}function Ed(e,t){var r=JSON.parse(JSON.stringify(e));return r.shapeInfo.logicalShape=t,r}function Sd(e,t){return t.map(function(r){return e[r]}).join(", ")}var ade=function(e,t,r,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,oe(e.length>2,function(){return"Packed arg"+(r.charAt(0).toUpperCase()+r.slice(1))+" supports only inputs with rank above 2."});var i=e[e.length-1],a=Math.ceil(i/t);this.outputShape=e.slice(0,-1),a>1&&this.outputShape.push(a),n||this.variableNames.push("bestIndicesA");var o,s,l=this.outputShape,u=l.length,c=Kr(u),A=Ka("coords",u);if(a===1){var d=Kr(s=u+1);o=`
        `+d+" sourceLocR = "+d+"("+A.join()+`, 0);
        ++`+A[u-1]+`;
        `+d+" sourceLocG = "+d+"("+A.join()+`, 0);
        ++`+A[u-2]+`;
        `+d+" sourceLocA = "+d+"("+A.join()+`, 0);
        --`+A[u-1]+`;
        `+d+" sourceLocB = "+d+"("+A.join()+`, 0);
        --`+A[u-2]+";"}else s=u,o=`
        `+c+` sourceLocR = coords;
        ++`+A[u-1]+`;
        `+c+` sourceLocG = coords;
        ++`+A[u-2]+`;
        `+c+` sourceLocA = coords;
        --`+A[u-1]+`;
        `+c+` sourceLocB = coords;
        --`+A[u-2]+";";var f=["x","y","z","w","u","v"].slice(0,s),p="."+f[s-1],g=f.map(function(k){return"int "+k}),v=Ka("sourceLocR",s-1).concat("inIdx.r"),m=Ka("sourceLocG",s-1).concat("inIdx.g"),y=Ka("sourceLocB",s-1).concat("inIdx.b"),w=Ka("sourceLocA",s-1).concat("inIdx.a"),b=r==="max"?"greaterThan":"lessThan",B=n?"":`
          inIdx = round(vec4(getBestIndicesAChannel(`+v.join()+`),
                             getBestIndicesAChannel(`+m.join()+`),
                             getBestIndicesAChannel(`+y.join()+`),
                             getBestIndicesAChannel(`+w.join()+")));",S=`vec4(
            getAChannel(`+v.join()+`),
            hasNextCol ? getAChannel(`+m.join()+`) : 0.,
            hasNextRow ? getAChannel(`+y.join()+`) : 0.,
            hasNextRow && hasNextCol ? getAChannel(`+w.join()+") : 0.)",P=n?"":`
      float getBestIndicesAChannel(`+g.join()+`) {
        return getChannel(getBestIndicesA(`+f.join()+`),
                                          vec2(`+f.slice(-2).join()+`));
      }`;this.userCode=`
      float getAChannel(`+g.join()+`) {
        return getChannel(getA(`+f.join()+`),
                               vec2(`+f.slice(-2).join()+`));
      }
      `+P+`
      void main() {
        `+c+` coords = getOutputCoords();
        bool hasNextCol = `+A[u-1]+" < "+(l[u-1]-1)+`;
        bool hasNextRow = `+A[u-2]+" < "+(l[u-2]-1)+`;
        `+o+`
        ivec4 srcIdx = ivec4(sourceLocR`+p+", sourceLocG"+p+`,
          sourceLocB`+p+", sourceLocA"+p+") * "+t+`;
        ivec4 inIdx = srcIdx;
        vec4 bestIndex = vec4(inIdx);
        vec4 bestValue = `+S+`;

        for (int i = 0; i < `+t+`; i++) {
          inIdx = srcIdx;
          `+B+`
          vec4 candidate = `+S+`;
          bvec4 nan = isnan(candidate);
          bvec4 replace = bvec4(
            vec4(`+b+`(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));

          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,
                           replace.y  ? candidate.y : bestValue.y,
                           replace.z  ? candidate.z : bestValue.z,
                           replace.w  ? candidate.w : bestValue.w);
          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));
          srcIdx++;
        }
        setOutput(bestIndex);
      }
    `},ode=function(e){this.variableNames=["dy"],this.outputShape=e.inShape;var t=e.filterHeight,r=e.filterWidth,n=e.strideHeight,i=e.strideWidth,a=e.dilationHeight,o=e.dilationWidth,s=e.effectiveFilterHeight,l=e.effectiveFilterWidth,u=s-1-e.padInfo.top,c=l-1-e.padInfo.left,A=1/(t*r);this.userCode=`
      const ivec2 pads = ivec2(`+u+", "+c+`);
      const float avgMultiplier = float(`+A+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+s+`;
            wR += `+a+`) {
          float dyR = float(dyRCorner + wR) / `+n+`.0;

          if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < `+l+`;
            wC+= `+o+`) {
            float dyC = float(dyCCorner + wC) / `+i+`.0;

            if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);

            dotProd += dyValue * avgMultiplier;
          }
        }
        setOutput(dotProd);
      }
    `},sde=function(e){this.variableNames=["dy"],this.outputShape=e.inShape;var t=e.filterDepth,r=e.filterHeight,n=e.filterWidth,i=e.strideDepth,a=e.strideHeight,o=e.strideWidth,s=e.dilationDepth,l=e.dilationHeight,u=e.dilationWidth,c=e.effectiveFilterDepth,A=e.effectiveFilterHeight,d=e.effectiveFilterWidth,f=c-1-e.padInfo.front,p=A-1-e.padInfo.top,g=d-1-e.padInfo.left,v=1/(t*r*n);this.userCode=`
      const ivec3 pads = ivec3(`+f+", "+p+", "+g+`);
      const float avgMultiplier = float(`+v+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < `+c+`;
            wD += `+s+`) {
          float dyD = float(dyDCorner + wD) / `+i+`.0;

          if (dyD < 0.0 || dyD >= `+e.outDepth+`.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < `+A+`;
              wR += `+l+`) {
            float dyR = float(dyRCorner + wR) / `+a+`.0;

            if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < `+d+`;
                wC += `+u+`) {
              float dyC = float(dyCCorner + wC) / `+o+`.0;

              if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);

              dotProd += dyValue * avgMultiplier;
            }
          }
        }
        setOutput(dotProd);
      }
    `},lde=function(e,t,r,n,i,a){this.outputShape=[],this.variableNames=["x","mean","variance"],nr(e,t),nr(e,r);var o="0.0";n!=null&&(nr(e,n),this.variableNames.push("offset"),o="getOffsetAtOutCoords()");var s="1.0";i!=null&&(nr(e,i),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        float x = getXAtOutCoords();
        float mean = getMeanAtOutCoords();
        float variance = getVarianceAtOutCoords();
        float offset = `+o+`;
        float scale = `+s+`;
        float inv = scale * inversesqrt(variance + float(`+a+`));
        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));
      }
    `},ude=function(e,t,r,n,i,a){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],nr(e,t),nr(e,r);var o="vec4(0.0)";n!=null&&(nr(e,n),this.variableNames.push("offset"),o="getOffsetAtOutCoords()");var s="vec4(1.0)";i!=null&&(nr(e,i),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        vec4 offset = `+o+`;
        vec4 scale = `+s+`;

        vec4 x = getXAtOutCoords();
        vec4 mean = getMeanAtOutCoords();
        vec4 variance = getVarianceAtOutCoords();

        vec4 inv = scale * inversesqrt(variance + vec4(`+a+`));

        setOutput((x - mean) * inv + offset);
      }
    `},cde="return areal * breal - aimag * bimag;",Ade="return areal * bimag + aimag * breal;",fL=function(e,t,r){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=nr(t,r),this.userCode=`
      float binaryOpComplex(
          float areal, float aimag, float breal, float bimag) {
        `+e+`
      }

      void main() {
        float areal = getARealAtOutCoords();
        float aimag = getAImagAtOutCoords();
        float breal = getBRealAtOutCoords();
        float bimag = getBImagAtOutCoords();
        setOutput(binaryOpComplex(areal, aimag, breal, bimag));
      }
    `},qC="return a + b;",XC="return a - b;",dL="return a * b;",V7="return (a < 0.) ? b * a : a;",Bn=function(e,t,r){this.variableNames=["A","B"],this.outputShape=nr(t,r),this.userCode=`
      float binaryOperation(float a, float b) {
        `+e+`
      }

      void main() {
        float a = getAAtOutCoords();
        float b = getBAtOutCoords();
        setOutput(binaryOperation(a, b));
      }
    `},G7=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`,cu=function(e,t,r,n){n===void 0&&(n=!1),this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=nr(t,r);var i=this.outputShape.length,a="";if(n)if(i===0||yt(this.outputShape)===1)a=`
          result.y = 0.;
          result.z = 0.;
          result.w = 0.;
        `;else if(a=`
          `+Kr(i)+` coords = getOutputCoords();
        `,i===1)a+=`
            result.y = (coords + 1) >= `+this.outputShape[0]+` ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `;else{var o=Ka("coords",i);a+=`
            bool nextRowOutOfBounds =
              (`+o[i-2]+" + 1) >= "+this.outputShape[i-2]+`;
            bool nextColOutOfBounds =
              (`+o[i-1]+" + 1) >= "+this.outputShape[i-1]+`;
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `}this.userCode=`
      vec4 binaryOperation(vec4 a, vec4 b) {
        `+e+`
      }

      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();

        vec4 result = binaryOperation(a, b);
        `+a+`

        setOutput(result);
      }
    `},fde=function(){function e(t){this.variableNames=["A"],this.outputShape=t,this.userCode=`
      uniform float minVal;
      uniform float maxVal;

      void main() {
        float value = getAAtOutCoords();
        if (isnan(value)) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, minVal, maxVal));
      }
    `}return e.prototype.getCustomSetupFunc=function(t,r){var n=this;return function(i,a){n.minLoc==null&&(n.minLoc=i.getUniformLocationNoThrow(a,"minVal"),n.maxLoc=i.getUniformLocationNoThrow(a,"maxVal")),i.gl.uniform1f(n.minLoc,t),i.gl.uniform1f(n.maxLoc,r)}},e}(),dde=function(){function e(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.userCode=`
      uniform float minVal;
      uniform float maxVal;

      void main() {
        vec4 value = getAAtOutCoords();

        if (any(isnan(value))) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));
      }
    `}return e.prototype.getCustomSetupFunc=function(t,r){var n=this;return function(i,a){n.minLoc==null&&(n.minLoc=i.getUniformLocationNoThrow(a,"minVal"),n.maxLoc=i.getUniformLocationNoThrow(a,"maxVal")),i.gl.uniform1f(n.minLoc,t),i.gl.uniform1f(n.maxLoc,r)}},e}(),hde=function(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode=`
      void main() {
        float re = abs(getRealAtOutCoords());
        float im = abs(getImagAtOutCoords());
        float mx = max(re, im);

        // sadly the length function in glsl is not underflow-safe
        // (at least not on Intel GPUs). So the safe solution is
        // to ensure underflow-safety in all cases.
        setOutput(
          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))
        );
      }
    `},pde=function(e){this.outputShape=[],this.outputShape=Ch(e,1),this.variableNames=e.map(function(s,l){return"T"+l});var t=new Array(e.length-1);t[0]=e[0][1];for(var r=1;r<t.length;r++)t[r]=t[r-1]+e[r][1];var n=["if (yC < "+t[0]+") setOutput(getT0(yR, yC));"];for(r=1;r<t.length;r++){var i=t[r-1];n.push("else if (yC < "+t[r]+") setOutput(getT"+r+"(yR, yC-"+i+"));")}var a=t.length,o=t[t.length-1];n.push("else setOutput(getT"+a+"(yR, yC-"+o+"));"),this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int yR = coords.x;
        int yC = coords.y;

        `+n.join(`
        `)+`
      }
    `},mde=function(e,t){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=Ch(e,t);var r=this.outputShape,n=r.length,i=Kr(n),a=Ka("coords",n),o=["x","y","z","w","u","v"].slice(0,n);this.variableNames=e.map(function(v,m){return"T"+m});var s=new Array(e.length-1);s[0]=e[0][t];for(var l=1;l<s.length;l++)s[l]=s[l-1]+e[l][t];var u=o[t],c=o.slice(-2),A=o.join(),d="if ("+u+" < "+s[0]+`) {
        return getChannel(
            getT0(`+A+"), vec2("+c.join()+`));
        }`;for(l=1;l<s.length;l++){var f=s[l-1];d+=`
        if (`+u+" < "+s[l]+"  && "+u+" >= "+s[l-1]+`) {
          return getChannel(
            getT`+l+"("+by(o,u,f)+`),
            vec2(`+by(c,u,f)+`));
        }`}var p=s.length,g=s[s.length-1];d+=`
        return getChannel(
          getT`+p+"("+by(o,u,g)+`),
          vec2(`+by(c,u,g)+"));",this.userCode=`
      float getValue(`+o.map(function(v){return"int "+v})+`) {
        `+d+`
      }

      void main() {
        `+i+` coords = getOutputCoords();
        vec4 result = vec4(getValue(`+a+`), 0., 0., 0.);

        `+a[n-1]+" = "+a[n-1]+` + 1;
        if (`+a[n-1]+" < "+r[n-1]+`) {
          result.g = getValue(`+a+`);
        }

        `+a[n-2]+" = "+a[n-2]+` + 1;
        if (`+a[n-2]+" < "+r[n-2]+`) {
          result.a = getValue(`+a+`);
        }

        `+a[n-1]+" = "+a[n-1]+` - 1;
        if (`+a[n-2]+" < "+r[n-2]+` &&
            `+a[n-1]+" < "+r[n-1]+`) {
          result.b = getValue(`+a+`);
        }
        setOutput(result);
      }
    `};function by(e,t,r){var n=e.indexOf(t);return e.map(function(i,a){return a===n?i+" - "+r:i}).join()}var gde=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideHeight,r=e.strideWidth,n=e.padInfo.top,i=e.padInfo.left,a=e.dataFormat==="channelsLast";this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int d2 = coords.w;

        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int b = 0; b < `+e.batchSize+`; b++) {
          for (int yR = 0; yR < `+e.outHeight+`; yR++) {
            int xR = wR + yR * `+t+" - "+n+`;

            if (xR < 0 || xR >= `+e.inHeight+`) {
              continue;
            }

            for (int yC = 0; yC < `+e.outWidth+`; yC++) {
              int xC = wC + yC * `+r+" - "+i+`;

              if (xC < 0 || xC >= `+e.inWidth+`) {
                continue;
              }

              if (`+a+`) {
                float dyValue = getDy(b, yR, yC, d2);
                float xValue = getX(b, xR, xC, d1);
                dotProd += (xValue * dyValue);
              } else {
                float dyValue = getDy(b, d2, yR, yC);
                float xValue = getX(b, d1, xR, xC);
                dotProd += (xValue * dyValue);
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `},vde=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterHeight,r=e.filterWidth,n=e.strideHeight,i=e.strideWidth,a=e.dataFormat==="channelsLast",o=t-1-e.padInfo.top,s=r-1-e.padInfo.left,l=a?1:2,u=a?2:3,c=a?3:1;this.userCode=`
      const ivec2 pads = ivec2(`+o+", "+s+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[`+c+`];

        ivec2 dyCorner = ivec2(coords[`+l+"], coords["+u+`]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+t+`; wR++) {
          float dyR = float(dyRCorner + wR) / `+n+`.0;

          if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = `+t+` - 1 - wR;

          for (int wC = 0; wC < `+r+`; wC++) {
            float dyC = float(dyCCorner + wC) / `+i+`.0;

            if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = `+r+` - 1 - wC;

            for (int d2 = 0; d2 < `+e.outChannels+`; d2++) {

              if (`+a+`) {
                float xValue = getDy(batch, idyR, idyC, d2);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              } else {
                float xValue = getDy(batch, d2, idyR, idyC);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `},yde=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideDepth,r=e.strideHeight,n=e.strideWidth,i=e.padInfo.front,a=e.padInfo.top,o=e.padInfo.left;this.userCode=`
      void main() {
        ivec5 coords = getOutputCoords();
        int wF = coords.x;
        int wR = coords.y;
        int wC = coords.z;
        int d1 = coords.w;
        int d2 = coords.u;

        float dotProd = 0.0;

        for (int b = 0; b < `+e.batchSize+`; b++) {
          for (int yF = 0; yF < `+e.outDepth+`; yF++) {
            int xF = wF + yF * `+t+" - "+i+`;

            if (xF < 0 || xF >= `+e.inDepth+`) {
              continue;
            }

            for (int yR = 0; yR < `+e.outHeight+`; yR++) {
              int xR = wR + yR * `+r+" - "+a+`;

              if (xR < 0 || xR >= `+e.inHeight+`) {
                continue;
              }

              for (int yC = 0; yC < `+e.outWidth+`; yC++) {
                int xC = wC + yC * `+n+" - "+o+`;

                if (xC < 0 || xC >= `+e.inWidth+`) {
                  continue;
                }

                float dyValue = getDy(b, yF, yR, yC, d2);
                float xValue = getX(b, xF, xR, xC, d1);
                dotProd += (xValue * dyValue);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `},wde=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterDepth,r=e.filterHeight,n=e.filterWidth,i=e.strideDepth,a=e.strideHeight,o=e.strideWidth,s=t-1-e.padInfo.front,l=r-1-e.padInfo.top,u=n-1-e.padInfo.left;this.userCode=`
      const ivec3 pads = ivec3(`+s+", "+l+", "+u+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.u;


        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyFCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        float dotProd = 0.0;
        for (int wF = 0; wF < `+t+`; wF++) {
          float dyF = float(dyFCorner + wF) / `+i+`.0;

          if (dyF < 0.0 || dyF >= `+e.outDepth+`.0 || fract(dyF) > 0.0) {
            continue;
          }
          int idyF = int(dyF);

          int wFPerm = `+t+` - 1 - wF;

          for (int wR = 0; wR < `+r+`; wR++) {
            float dyR = float(dyRCorner + wR) / `+a+`.0;

            if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 ||
              fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            int wRPerm = `+r+` - 1 - wR;

            for (int wC = 0; wC < `+n+`; wC++) {
              float dyC = float(dyCCorner + wC) / `+o+`.0;

              if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              int wCPerm = `+n+` - 1 - wC;

              for (int d2 = 0; d2 < `+e.outChannels+`; d2++) {
                float xValue = getDy(batch, idyF, idyR, idyC, d2);
                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `},xde=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideHeight,r=e.strideWidth,n=e.padInfo.top,i=e.padInfo.left,a=e.outChannels/e.inChannels;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int dm = coords.w;
        int d2 = d1 * `+a+` + dm;

        float dotProd = 0.0;

        // TO DO: Vec4 over the batch size
        for (int b = 0; b < `+e.batchSize+`; b++) {
          for (int yR = 0; yR < `+e.outHeight+`; yR++) {
            int xR = wR + yR * `+t+" - "+n+`;

            if (xR < 0 || xR >= `+e.inHeight+`) {
              continue;
            }

            for (int yC = 0; yC < `+e.outWidth+`; yC++) {
              int xC = wC + yC * `+r+" - "+i+`;

              if (xC < 0 || xC >= `+e.inWidth+`) {
                continue;
              }

              float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);
            }
          }
        }
        setOutput(dotProd);
      }
    `},bde=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterHeight,r=e.filterWidth,n=e.strideHeight,i=e.strideWidth,a=t-1-e.padInfo.top,o=r-1-e.padInfo.left,s=e.outChannels/e.inChannels;this.userCode=`
      const ivec2 pads = ivec2(`+a+", "+o+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];
        ivec2 dyCorner = coords.yz - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        float dotProd = 0.0;

        for (int wR = 0; wR < `+t+`; wR++) {
          float dyR = float(dyRCorner + wR) / `+n+`.0;

          if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = `+t+` - 1 - wR;

          for (int wC = 0; wC < `+r+`; wC++) {
            float dyC = float(dyCCorner + wC) / `+i+`.0;

            if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = `+r+` - 1 - wC;

            // TO DO: Vec4 over the channelMul
            for (int dm = 0; dm < `+s+`; dm++) {
              int d2 = d1 * `+s+` + dm;
              float xValue = getDy(batch, idyR, idyC, d2);
              float wValue = getW(wRPerm, wCPerm, d1, dm);
              dotProd += xValue * wValue;
            }
          }
        }
        setOutput(dotProd);
      }
    `},hL=function(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=null),n===void 0&&(n=!1),this.variableNames=["x","W"],this.outputShape=e.outShape;var i=e.padInfo.top,a=e.padInfo.left,o=e.strideHeight,s=e.strideWidth,l=e.dilationHeight,u=e.dilationWidth,c=e.filterHeight,A=e.filterWidth,d=4*Math.floor(e.inChannels/4),f=e.inChannels%4,p=e.dataFormat==="channelsLast",g=p?1:2,v=p?2:3,m=p?3:1,y="",w="";r&&(y=n?`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          `+r+`
        }`:`
          float activation(float x) {
            `+r+`
          }
        `,w="result = activation(result);");var b=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),n&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+y+`

      const ivec2 strides = ivec2(`+o+", "+s+`);
      const ivec2 pads = ivec2(`+i+", "+a+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d2 = coords[`+m+`];

        ivec2 xRCCorner =
            ivec2(coords[`+g+"], coords["+v+`]) * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+c+`; wR++) {
          int xR = xRCorner + wR * `+l+`;

          if (xR < 0 || xR >= `+e.inHeight+`) {
            continue;
          }

          for (int wC = 0; wC < `+A+`; wC++) {
            int xC = xCCorner + wC * `+u+`;

            if (xC < 0 || xC >= `+e.inWidth+`) {
              continue;
            }

            for (int d1 = 0; d1 < `+d+`; d1 += 4) {
              vec4 wValues = vec4(
                getW(wR, wC, d1, d2),
                getW(wR, wC, d1 + 1, d2),
                getW(wR, wC, d1 + 2, d2),
                getW(wR, wC, d1 + 3, d2)
              );

              if (`+p+`) {
                vec4 xValues = vec4(
                  getX(batch, xR, xC, d1),
                  getX(batch, xR, xC, d1 + 1),
                  getX(batch, xR, xC, d1 + 2),
                  getX(batch, xR, xC, d1 + 3)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec4 xValues = vec4(
                  getX(batch, d1, xR, xC),
                  getX(batch, d1 + 1, xR, xC),
                  getX(batch, d1 + 2, xR, xC),
                  getX(batch, d1 + 3, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }
            }

            if (`+(f===1)+`) {

              if (`+p+`) {
                dotProd +=
                    getX(batch, xR, xC, `+d+`) *
                    getW(wR, wC, `+d+`, d2);
              } else {
                dotProd +=
                    getX(batch, `+d+`, xR, xC) *
                    getW(wR, wC, `+d+`, d2);
              }

            } else if (`+(f===2)+`) {
              vec2 wValues = vec2(
                getW(wR, wC, `+d+`, d2),
                getW(wR, wC, `+d+` + 1, d2)
              );

              if (`+p+`) {
                vec2 xValues = vec2(
                  getX(batch, xR, xC, `+d+`),
                  getX(batch, xR, xC, `+d+` + 1)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec2 xValues = vec2(
                  getX(batch, `+d+`, xR, xC),
                  getX(batch, `+d+` + 1, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            } else if (`+(f===3)+`) {
              vec3 wValues = vec3(
                getW(wR, wC, `+d+`, d2),
                getW(wR, wC, `+d+` + 1, d2),
                getW(wR, wC, `+d+` + 2, d2)
              );

              if (`+p+`) {
                vec3 xValues = vec3(
                  getX(batch, xR, xC, `+d+`),
                  getX(batch, xR, xC, `+d+` + 1),
                  getX(batch, xR, xC, `+d+` + 2)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec3 xValues = vec3(
                  getX(batch, `+d+`, xR, xC),
                  getX(batch, `+d+` + 1, xR, xC),
                  getX(batch, `+d+` + 2, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            }
          }
        }

        float result = dotProd;
        `+b+`
        `+w+`
        setOutput(result);
      }
    `},Bde=function(e){this.variableNames=["x","W"],this.outputShape=e.outShape;var t=e.padInfo.front,r=e.padInfo.top,n=e.padInfo.left,i=e.strideDepth,a=e.strideHeight,o=e.strideWidth,s=e.dilationDepth,l=e.dilationHeight,u=e.dilationWidth,c=e.filterDepth,A=e.filterHeight,d=e.filterWidth,f=4*Math.floor(e.inChannels/4),p=e.inChannels%4;this.userCode=`
      const ivec3 strides = ivec3(`+i+", "+a+", "+o+`);
      const ivec3 pads = ivec3(`+t+", "+r+", "+n+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d2 = coords.u;

        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xFCorner = xFRCCorner.x;
        int xRCorner = xFRCCorner.y;
        int xCCorner = xFRCCorner.z;

        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get
        // y(yF, yR, yC, d2). ? = to be determined. : = across all
        // values in that axis.
        float dotProd = 0.0;
        for (int wF = 0; wF < `+c+`; wF++) {
          int xF = xFCorner + wF * `+s+`;

          if (xF < 0 || xF >= `+e.inDepth+`) {
            continue;
          }

          for (int wR = 0; wR < `+A+`; wR++) {
            int xR = xRCorner + wR * `+l+`;

            if (xR < 0 || xR >= `+e.inHeight+`) {
              continue;
            }

            for (int wC = 0; wC < `+d+`; wC++) {
              int xC = xCCorner + wC * `+u+`;

              if (xC < 0 || xC >= `+e.inWidth+`) {
                continue;
              }

              for (int d1 = 0; d1 < `+f+`; d1 += 4) {
                vec4 xValues = vec4(
                  getX(batch, xF, xR, xC, d1),
                  getX(batch, xF, xR, xC, d1 + 1),
                  getX(batch, xF, xR, xC, d1 + 2),
                  getX(batch, xF, xR, xC, d1 + 3)
                );
                vec4 wValues = vec4(
                  getW(wF, wR, wC, d1, d2),
                  getW(wF, wR, wC, d1 + 1, d2),
                  getW(wF, wR, wC, d1 + 2, d2),
                  getW(wF, wR, wC, d1 + 3, d2)
                );

                dotProd += dot(xValues, wValues);
              }

              if (`+(p===1)+`) {
                dotProd +=
                  getX(batch, xF, xR, xC, `+f+`) *
                  getW(wF, wR, wC, `+f+`, d2);
              } else if (`+(p===2)+`) {
                vec2 xValues = vec2(
                  getX(batch, xF, xR, xC, `+f+`),
                  getX(batch, xF, xR, xC, `+f+` + 1)
                );
                vec2 wValues = vec2(
                  getW(wF, wR, wC, `+f+`, d2),
                  getW(wF, wR, wC, `+f+` + 1, d2)
                );
                dotProd += dot(xValues, wValues);
              } else if (`+(p===3)+`) {
                vec3 xValues = vec3(
                  getX(batch, xF, xR, xC, `+f+`),
                  getX(batch, xF, xR, xC, `+f+` + 1),
                  getX(batch, xF, xR, xC, `+f+` + 2)
                );
                vec3 wValues = vec3(
                  getW(wF, wR, wC, `+f+`, d2),
                  getW(wF, wR, wC, `+f+` + 1, d2),
                  getW(wF, wR, wC, `+f+` + 2, d2)
                );
                dotProd += dot(xValues, wValues);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `},pL=function(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=null),n===void 0&&(n=!1),this.variableNames=["x","W"],this.outputShape=e.outShape;var i=e.inHeight,a=e.inWidth,o=e.padInfo.top,s=e.padInfo.left,l=e.strideHeight,u=e.strideWidth,c=e.dilationHeight,A=e.dilationWidth,d=e.filterHeight,f=e.filterWidth,p=e.outChannels/e.inChannels,g="",v="";r&&(g=n?`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          `+r+`
        }`:`
          float activation(float x) {
            `+r+`
          }
        `,v="result = activation(result);");var m=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),n&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+g+`

      const ivec2 strides = ivec2(`+l+", "+u+`);
      const ivec2 pads = ivec2(`+o+", "+s+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / `+p+`;
        int q = d2 - d1 * `+p+`;

        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.
        for (int wR = 0; wR < `+d+`; wR++) {
          int xR = xRCorner + wR * `+c+`;

          if (xR < 0 || xR >= `+i+`) {
            continue;
          }

          for (int wC = 0; wC < `+f+`; wC++) {
            int xC = xCCorner + wC * `+A+`;

            if (xC < 0 || xC >= `+a+`) {
              continue;
            }

            float xVal = getX(batch, xR, xC, d1);
            float wVal = getW(wR, wC, d1, q);
            dotProd += xVal * wVal;
          }
        }

        float result = dotProd;
        `+m+`
        `+v+`
        setOutput(result);
      }
    `},mL=function(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=null),n===void 0&&(n=!1),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e.outShape;for(var i=e.inHeight,a=e.inWidth,o=e.padInfo.top,s=e.padInfo.left,l=e.strideHeight,u=e.strideWidth,c=e.dilationHeight,A=e.dilationWidth,d=e.filterHeight,f=e.filterWidth,p=f,g="int xR; int xC; int xCOffset;",v=0;v<d;v++)for(var m=0;m<f;m++)g+=`
          vec4 xTexelR`+v+"C"+2*m+` = vec4(0.);
          vec4 wR`+v+"C"+m+` = vec4(0.);
          vec4 xR`+v+"C"+m+" = vec4(0.);";for(v=0;v<d;v++)for(var y=0;y<p;y++){if(g+=`
          xR = xRCorner + `+v*c+`;
          xC = xCCorner + `+(m=2*y)*A+`;
        `,u===1){if(m<f&&(g+=s%2==1?`
                xCOffset = xC + 1;
                if(xR >= 0 && xR < `+i+" && xCOffset >= 0 && xCOffset < "+a+`) {
                  xTexelR`+v+"C"+m+` = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if(xCOffset + 1 >= `+a+`) {
                    xTexelR`+v+"C"+m+`.zw = vec2(0.);
                  }
                } else {
                  xTexelR`+v+"C"+m+` = vec4(0.);
                }

                xCOffset = xC + 1 - 2;
                if(xR >= 0 && xR < `+i+" && xCOffset >= 0 && xCOffset < "+a+`) {
                  vec4 previous = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if(xCOffset + 1 >= `+a+`) {
                    previous.zw = vec2(0.);
                  }

                  xR`+v+"C"+m+" = vec4(previous.zw, xTexelR"+v+"C"+m+`.xy);
                } else {
                  xR`+v+"C"+m+" = vec4(0, 0, xTexelR"+v+"C"+m+`.xy);
                }
              `:`
                if(xR >= 0 && xR < `+i+" && xC >= 0 && xC < "+a+`) {
                  xTexelR`+v+"C"+m+` = getX(batch, xR, xC, d1);
                } else {
                  xTexelR`+v+"C"+m+` = vec4(0.);
                }

                xR`+v+"C"+m+" = xTexelR"+v+"C"+m+`;
              `,m+1<f)){var w=s%2==0?f7(A):A;A%2==0&&s%2==1||A%2!=0&&s%2!=1?(g+=`
                  xCOffset = xC + `+s%2+" + "+w+`;

                  if(xR >= 0 && xR < `+i+` &&
                    xCOffset >= 0 && xCOffset < `+a+`) {
                    xTexelR`+v+"C"+(m+2)+` = getX(batch, xR, xCOffset, d1);
                  }
                `,A>1&&(g+=`
                    xCOffset -= 2;
                    if(xR >= 0 && xR < `+i+` &&
                      xCOffset >= 0 && xCOffset < `+a+`) {
                      xTexelR`+v+"C"+m+` = getX(batch, xR, xCOffset, d1);
                    } else {
                      xTexelR`+v+"C"+m+` = vec4(0.);
                    }
                  `),g+=`
                  xR`+v+"C"+(m+1)+` = vec4(
                    xTexelR`+v+"C"+m+".zw, xTexelR"+v+"C"+(m+2)+`.xy);
                `):g+=`
                  xCOffset = xC + `+w+`;

                  if(xR >= 0 && xR < `+i+` &&
                    xCOffset >= 0 && xCOffset < `+a+`) {
                    xTexelR`+v+"C"+(m+2)+` = getX(batch, xR, xCOffset, d1);
                  }

                  xR`+v+"C"+(m+1)+" = xTexelR"+v+"C"+(m+2)+`;
                `}}else m<f&&(g+=`
              if(xR >= 0 && xR < `+i+`) {
            `,s%2==1?(g+=`
                xCOffset = xC + 1 - `+u+`;
                if(xCOffset >= 0 && xCOffset < `+a+`) {
                  xTexelR`+v+"C"+m+` = getX(batch, xR, xCOffset, d1);
                } else {
                  xTexelR`+v+"C"+m+` = vec4(0.);
                }

                if(xC + 1 >= 0 && xC + 1 < `+a+`) {
                  xTexelR`+v+"C"+(m+2)+` = getX(batch, xR, xC + 1, d1);
                } else {
                  xTexelR`+v+"C"+(m+2)+` = vec4(0.);
                }

                xR`+v+"C"+m+` = vec4(
                  xTexelR`+v+"C"+m+".zw, xTexelR"+v+"C"+(m+2)+`.zw);
              `,m+1<f&&(g+=`
                  vec4 final = vec4(0.);
                  xCOffset = xC + 1 + `+u+`;
                  if(xCOffset >= 0 && xCOffset < `+a+`) {
                    final = getX(batch, xR, xCOffset, d1);
                  }
                  xR`+v+"C"+(m+1)+" = vec4(xTexelR"+v+"C"+(m+2)+`.xy, final.xy);
                `)):(g+=`
                if(xC >= 0 && xC < `+a+`) {
                  xTexelR`+v+"C"+m+` = getX(batch, xR, xC, d1);
                } else {
                  xTexelR`+v+"C"+m+` = vec4(0.);
                }

                xCOffset = xC + `+u+`;
                if(xCOffset >= 0 && xCOffset < `+a+`) {
                  xTexelR`+v+"C"+(m+2)+` = getX(batch, xR, xCOffset, d1);
                } else {
                  xTexelR`+v+"C"+(m+2)+` = vec4(0.);
                }

                xR`+v+"C"+m+` = vec4(
                  xTexelR`+v+"C"+m+".xy, xTexelR"+v+"C"+(m+2)+`.xy);
              `,m+1<f&&(g+=`
                  xR`+v+"C"+(m+1)+` = vec4(
                    xTexelR`+v+"C"+m+".zw, xTexelR"+v+"C"+(m+2)+`.zw);
                `)),g+="}");m<f&&(g+=`
            vec4 wTexelR`+v+"C"+m+" = getW("+v+", "+m+`, d1, q);
            wR`+v+"C"+m+" = vec4(wTexelR"+v+"C"+m+".xz, wTexelR"+v+"C"+m+`.xz);
          `,m+1<f&&(g+=`
              vec4 wTexelR`+v+"C"+(m+1)+" = getW("+v+", "+(m+1)+`, d1, q);
              wR`+v+"C"+(m+1)+` =
                vec4(wTexelR`+v+"C"+(m+1)+".xz, wTexelR"+v+"C"+(m+1)+".xz);"))}for(v=0;v<d;v++)for(m=0;m<f;m++)g+="dotProd += xR"+v+"C"+m+" * wR"+v+"C"+m+";";var b="",B="";r&&(b=n?`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          `+r+`
        }`:`vec4 activation(vec4 x) {
          `+r+`
        }`,B="result = activation(result);");var S=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),n&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+b+`

      const ivec2 strides = ivec2(`+l+", "+u+`);
      const ivec2 pads = ivec2(`+o+", "+s+`);

      void main() {

        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2;
        int q = 0;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        vec4 dotProd = vec4(0.);

        `+g+`

        vec4 result = dotProd;
        `+S+`
        `+B+`
        setOutput(result);
      }
    `},Cde=function(e,t,r,n,i){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var a=e[0],o=e[1],s=e[2],l=e[3],u=t[0],c=r[0],A=r[1];this.outputShape=[u,c,A,l];var d=n==="bilinear"?1:0,f=[o-1+".0",s-1+".0"],p=f[0],g=f[1],v=c>1?[""+(o-1)/(c-1),"(y2-y1) * height_ratio","y1*"+p+" + float(y)*(height_scale)"]:["0.0","0.0","0.5 * (y1+y2) * "+p],m=v[0],y=v[1],w=v[2],b=A>1?[""+(s-1)/(A-1),"(x2-x1) * width_ratio","x1*"+g+" + float(x)*(width_scale)"]:["0.0","0.0","0.5 * (x1+x2) * "+g],B=b[0],S=b[1],P=b[2];this.userCode=`
      const float height_ratio = float(`+m+`);
      const float width_ratio = float(`+B+`);
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int y = coords[1];
        int x = coords[2];
        int d = coords[3];

        // get box vals
        float y1 = getBoxes(b,0);
        float x1 = getBoxes(b,1);
        float y2 = getBoxes(b,2);
        float x2 = getBoxes(b,3);

        // get image in batch index
        int bInd = round(getBoxInd(b));
        if(bInd < 0 || bInd >= `+a+`) {
          return;
        }

        float height_scale = `+y+`;
        float width_scale = `+S+`;

        float in_y = `+w+`;
        if( in_y < 0.0 || in_y > `+p+` ) {
          setOutput(float(`+i+`));
          return;
        }
        float in_x = `+P+`;
        if( in_x < 0.0 || in_x > `+g+` ) {
          setOutput(float(`+i+`));
          return;
        }

        vec2 sourceFracIndexCR = vec2(in_x,in_y);
        if(`+d+` == 1) {
          // Compute the four integer indices.
          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);
          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));

          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);
          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);
          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);
          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);

          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);

          float top = topLeft + (topRight - topLeft) * fracCR.x;
          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;
          float newValue = top + (bottom - top) * fracCR.y;
          setOutput(newValue);
        } else {
          // Compute the coordinators of nearest neighbor point.
          ivec2 sourceNearestCR = ivec2(floor(
            sourceFracIndexCR + vec2(0.5,0.5)));
          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);
          setOutput(newValue);
        }
      }
    `},Ede=function(e,t,r){this.variableNames=["x"],this.outputShape=e;var n=e.length,i=e[e.length-1],a=r?"<":">";this.userCode=`
      int getIndex(int i) {
        `+(r?"return "+i+" -i - 1;":"return i;")+`
      }

      void main() {
        `+Kr(n)+` coords = getOutputCoords();
        int end = `+gL(n,"coords")+`;
        float val = 0.0;
        for (int i = `+i+` - 1; i >= 0; i -= 1) {
          int idx = getIndex(i);
          if (idx `+a+` end) {
            continue;
          }
          if (idx == end && `+t+`) {
            continue;
          }
          `+gL(n,"coords")+` = idx;
          val += getX(`+function(o,s){if(o===1)return""+s;if(o===2)return s+".x, "+s+".y";if(o===3)return s+".x, "+s+".y, "+s+".z";if(o===4)return s+".x, "+s+".y, "+s+".z, "+s+".w";throw Error("Cumulative sum for rank "+o+" is not yet supported")}(n,"coords")+`);
        }
        setOutput(val);
      }
    `};function gL(e,t){if(e===1)return""+t;if(e===2)return t+".y";if(e===3)return t+".z";if(e===4)return t+".w";throw Error("Cumulative sum for rank "+e+" is not yet supported")}var Sde=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=yg.DENSE;var t=Qm(e),r=ma();this.outputShape=e,this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        `+JA(["r","c","d"],e)+`
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx *
          vec2(`+t[0]+", "+t[1]+`));
        int index = 4 * (resTexRC.x * `+t[1]+` + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getA(rc.x, rc.y, rc.z);
        }

        `+r.output+` = result;
      }
    `},Nde=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=yg.DENSE;var t=Qm(e),r=ma();this.outputShape=e,this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        `+JA(["r","c","d"],e)+`
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx *
          vec2(`+t[0]+", "+t[1]+`));
        int index = 4 * (resTexRC.x * `+t[1]+` + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));
        }

        `+r.output+` = result;
      }
    `},Fde=function(){function e(t,r,n){this.variableNames=["x"],this.outputShape=[],this.outputShape=t,this.blockSize=r,this.dataFormat=n,this.userCode=`
    void main() {
      ivec4 coords = getOutputCoords();
      int b = coords[0];
      int h = `+this.getHeightCoordString()+`;
      int w = `+this.getWidthCoordString()+`;
      int d = `+this.getDepthCoordString()+`;

      int in_h = h / `+r+`;
      int offset_h = imod(h, `+r+`);
      int in_w = w / `+r+`;
      int offset_w = imod(w, `+r+`);
      int offset_d = (offset_h * `+r+` + offset_w) *
        `+this.getOutputDepthSize()+`;
      int in_d = d + offset_d;

      float result = `+this.getInputSamplingString()+`;
      setOutput(result);
    }
  `}return e.prototype.getHeightCoordString=function(){return this.dataFormat==="NHWC"?"coords[1]":"coords[2]"},e.prototype.getWidthCoordString=function(){return this.dataFormat==="NHWC"?"coords[2]":"coords[3]"},e.prototype.getDepthCoordString=function(){return this.dataFormat==="NHWC"?"coords[3]":"coords[1]"},e.prototype.getOutputDepthSize=function(){return this.dataFormat==="NHWC"?this.outputShape[3]:this.outputShape[1]},e.prototype.getInputSamplingString=function(){return this.dataFormat==="NHWC"?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"},e}(),Ide=function(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode=`
      void main() {
          ivec2 coords = getOutputCoords();
          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;
          setOutput(val);
      }
    `},_de=function(e){this.variableNames=["A"],this.outTexUsage=No.DOWNLOAD;var t=ma();this.outputShape=e,this.userCode=`
      `+K7+`

      void main() {
        float x = getAAtOutCoords();
        `+t.output+` = encode_float(x);
      }
    `},kde=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=No.DOWNLOAD;var t=ma();this.outputShape=e,this.userCode=`
      `+K7+`

      void main() {
        ivec3 coords = getOutputCoords();
        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));
        `+t.output+` = encode_float(x);
      }
    `},Pde=function(e,t,r){r===void 0&&(r=!1),this.variableNames=["A"];var n=ma(),i=t[0],a=t[1];this.outputShape=e;var o="result";r&&(o="floor(result * 255. + 0.5)"),this.userCode=`
      `+_N(e)+`

      void main() {
        ivec3 coords = getOutputCoords();

        int flatIndex = getFlatIndex(coords);
        int offset = imod(flatIndex, 4);

        flatIndex = idiv(flatIndex, 4, 1.);
        
        int r = flatIndex / `+a+`;
        int c = imod(flatIndex, `+a+`);
        vec2 uv = (vec2(c, r) + halfCR) / vec2(`+a+".0, "+i+`.0);
        vec4 values = `+n.texture2D+`(A, uv);

        float result;

        if(offset == 0) {
          result = values[0];
        } else if(offset == 1) {
          result = values[1];
        } else if(offset == 2) {
          result = values[2];
        } else {
          result = values[3];
        }

        `+n.output+" = vec4("+o+`, 0., 0., 0.);
      }
    `},Ode=function(e,t,r){r===void 0&&(r=!1),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var n=ma(),i=t[0],a=t[1];this.outputShape=e;var o="",s="result";r&&(s="floor(result * 255. + 0.5)");for(var l=0;l<=1;l++)for(var u=0;u<=1;u++){var c=2*l+u;o+=`
          localCoords = coords;
          if(localCoords[2] + `+u+" < "+e[2]+`) {
            localCoords[2] += `+u+`;
            if(localCoords[1] + `+l+" < "+e[1]+`) {
              localCoords[1] += `+l+`;

              flatIndex = getFlatIndex(localCoords);
              offset = imod(flatIndex, 4);

              flatIndex = idiv(flatIndex, 4, 1.);

              r = flatIndex / `+a+`;
              c = imod(flatIndex, `+a+`);
              uv = (vec2(c, r) + halfCR) / vec2(`+a+".0, "+i+`.0);
              values = `+n.texture2D+`(A, uv);

              if(offset == 0) {
                result[`+c+`] = values[0];
              } else if(offset == 1) {
                result[`+c+`] = values[1];
              } else if(offset == 2) {
                result[`+c+`] = values[2];
              } else {
                result[`+c+`] = values[3];
              }
            }
          }
        `}this.userCode=`
      `+_N(e)+`

      void main() {
        ivec3 coords = getOutputCoords();

        vec4 result = vec4(0.);
        int flatIndex, r, c, offset;
        ivec3 localCoords;
        vec2 uv;
        vec4 values;

        `+o+`

        `+n.output+" = "+s+`;
      }
    `},Tde="return real * expR - imag * expI;",Lde="return real * expI + imag * expR;",vL=function(e,t,r){this.variableNames=["real","imag"];var n=t[1];this.outputShape=t;var i=r?"2.0 * "+Math.PI:"-2.0 * "+Math.PI,a=r?n+".0":"1.0";this.userCode=`
      const float exponentMultiplier = `+i+`;

      float unaryOpComplex(float real, float expR, float imag, float expI) {
        `+e+`
      }

      float mulMatDFT(int batch, int index) {
        float indexRatio = float(index) / float(`+n+`);
        float exponentMultiplierTimesIndexRatio =
            exponentMultiplier * indexRatio;

        float result = 0.0;

        for (int i = 0; i < `+n+`; i++) {
          // x = (-2|2 * PI / N) * index * i;
          float x = exponentMultiplierTimesIndexRatio * float(i);
          float expR = cos(x);
          float expI = sin(x);
          float real = getReal(batch, i);
          float imag = getImag(batch, i);

          result +=
              unaryOpComplex(real, expR, imag, expI) / `+a+`;
        }

        return result;
      }

      void main() {
        ivec2 coords = getOutputCoords();
        setOutput(mulMatDFT(coords[0], coords[1]));
      }
    `},Ude=function(){function e(t,r){this.outputShape=[],this.variableNames=["x"],this.outputShape=t,this.userCode=`
      uniform float value;
      void main() {
        // Input can be obtained from uniform value.
        setOutput(value);
      }
    `}return e.prototype.getCustomSetupFunc=function(t){var r=this;return function(n,i){r.valueLoc==null&&(r.valueLoc=n.getUniformLocationNoThrow(i,"value")),n.gl.uniform1f(r.valueLoc,t)}},e}(),Rde=function(e,t,r){this.variableNames=["A","indices"];var n=e.slice();n[r]=t,this.outputShape=n,this.rank=n.length;var i=Kr(this.rank),a=function(o,s){var l=o.length;if(l>4)throw Error("Gather for rank "+l+" is not yet supported");if(l===1)return"int(getIndices(resRC))";for(var u=["resRC.x","resRC.y","resRC.z","resRC.w"],c=[],A=0;A<o.length;A++)A===s?c.push("int(getIndices("+u[A]+"))"):c.push(""+u[A]);return c.join()}(e,r);this.userCode=`
      void main() {
        `+i+` resRC = getOutputCoords();
        setOutput(getA(`+a+`));
      }
    `},Dde=function(e,t,r){this.sliceDim=e,this.strides=t,this.variableNames=["x","indices"],this.outputShape=r;var n=Kr(t.length),i=Kr(r.length),a=this.sliceDim>1?"strides[j]":"strides";this.userCode=`
        `+n+" strides = "+n+"("+this.strides+`);
         void main() {
          `+i+` coords = getOutputCoords();
          int flattenIndex = 0;
          for (int j = 0; j < `+this.sliceDim+`; j++) {
            int index = round(getIndices(coords[0], j));
            flattenIndex += index * `+a+`;
          }
          setOutput(getX(flattenIndex, coords[1]));
        }
      `};function jde(e,t){var r=ma();return TAe(e,t,r.version+`
    precision highp float;
    `+r.attribute+` vec3 clipSpacePos;
    `+r.attribute+` vec2 uv;
    `+r.varyingVs+` vec2 resultUV;

    void main() {
      gl_Position = vec4(clipSpacePos, 1);
      resultUV = uv;
    }`)}function Mde(e,t){return jAe(e,t,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function Qde(e,t){return MAe(e,t,new Uint16Array([0,1,2,2,1,3]))}function av(e,t,r,n,i,a,o){HAe(r,n);var s=QAe(e,t),l=e.TEXTURE_2D;return wt(e,t,function(){return e.bindTexture(l,s)}),wt(e,t,function(){return e.texParameteri(l,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)}),wt(e,t,function(){return e.texParameteri(l,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)}),wt(e,t,function(){return e.texParameteri(l,e.TEXTURE_MIN_FILTER,e.NEAREST)}),wt(e,t,function(){return e.texParameteri(l,e.TEXTURE_MAG_FILTER,e.NEAREST)}),wt(e,t,function(){return e.texImage2D(l,0,i,r,n,0,a,o,null)}),wt(e,t,function(){return e.bindTexture(e.TEXTURE_2D,null)}),s}function Hde(e,t,r,n,i){var a=m2(r,n);return av(e,t,a[0],a[1],i.internalFormatFloat,i.textureFormatFloat,e.FLOAT)}function $de(e,t,r,n,i){var a=m2(r,n);return av(e,t,a[0],a[1],i.internalFormatHalfFloat,i.textureFormatFloat,i.textureTypeHalfFloat)}function Wde(e,t,r,n,i){var a=m2(r,n);return av(e,t,a[0],a[1],e.RGBA,e.RGBA,e.UNSIGNED_BYTE)}function Kde(e,t,r,n,i){var a=iv(r,n);return av(e,t,a[0],a[1],i.internalFormatPackedFloat,e.RGBA,e.FLOAT)}function zde(e,t,r,n,i){var a=iv(r,n);return av(e,t,a[0],a[1],i.internalFormatPackedHalfFloat,e.RGBA,i.textureTypeHalfFloat)}function Vde(e,t,r,n){return wt(e,t,function(){return e.bindBuffer(e.ARRAY_BUFFER,n)}),aL(e,t,r,"clipSpacePos",n,3,20,0)&&aL(e,t,r,"uv",n,2,20,12)}function Gde(e,t,r,n,i,a,o){var s,l,u;wt(e,t,function(){return e.bindTexture(e.TEXTURE_2D,r)}),a instanceof Uint8Array?(s=new Uint8Array(n*i*4),l=e.UNSIGNED_BYTE,u=e.RGBA):(s=new Float32Array(n*i*4),l=e.FLOAT,u=o.internalFormatPackedFloat),s.set(a),wt(e,t,function(){return e.texImage2D(e.TEXTURE_2D,0,u,n,i,0,e.RGBA,l,s)}),wt(e,t,function(){return e.bindTexture(e.TEXTURE_2D,null)})}function qde(e,t,r,n){wt(e,t,function(){return e.bindTexture(e.TEXTURE_2D,r)}),n.data instanceof Uint8Array?wt(e,t,function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n.width,n.height,0,e.RGBA,e.UNSIGNED_BYTE,n.data)}):wt(e,t,function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n)}),wt(e,t,function(){return e.bindTexture(e.TEXTURE_2D,null)})}function Xde(e,t,r,n,i){var a=e.createBuffer();wt(e,t,function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,a)});var o=16*r*n;return wt(e,t,function(){return e.bufferData(e.PIXEL_PACK_BUFFER,o,e.STREAM_READ)}),wt(e,t,function(){return e.readPixels(0,0,n,r,e.RGBA,e.FLOAT,0)}),wt(e,t,function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,null)}),a}function Yde(e,t,r){var n=e,i=new Float32Array(r);return n.bindBuffer(n.PIXEL_PACK_BUFFER,t),n.getBufferSubData(n.PIXEL_PACK_BUFFER,0,i),n.bindBuffer(n.PIXEL_PACK_BUFFER,null),i}function Jde(e,t,r,n,i){var a=m2(r,n),o=a[0],s=a[1],l=new Uint8Array(r*n*4);return wt(e,t,function(){return e.readPixels(0,0,o,s,i.downloadTextureFormat,e.UNSIGNED_BYTE,l)}),new Float32Array(l.buffer)}function Zde(e,t,r,n,i,a,o,s){var l=e,u=new Float32Array(function(c,A){var d=iv(c,A);return d[0]*d[1]*4}(a,o));return l.bindBuffer(l.PIXEL_PACK_BUFFER,t),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,u),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),u}function ehe(e,t,r,n){var i=new Float32Array(r*n*4);return wt(e,t,function(){return e.readPixels(0,0,n,r,e.RGBA,e.FLOAT,i)}),i}var the=function(){function e(t){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];var r=Le().getNumber("WEBGL_VERSION");t!=null?(this.gl=t,IAe(r,t)):this.gl=jl(r);var n="WEBGL_color_buffer_float";if(Le().getNumber("WEBGL_VERSION")===1){if(this.textureFloatExtension=vy(this.gl,this.debug,"OES_texture_float"),as(this.gl,"OES_texture_half_float"))this.textureHalfFloatExtension=vy(this.gl,this.debug,"OES_texture_half_float");else if(Le().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(n),as(this.gl,"EXT_color_buffer_half_float"))this.colorBufferHalfFloatExtension=vy(this.gl,this.debug,"EXT_color_buffer_half_float");else if(Le().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(n="EXT_color_buffer_float",as(this.gl,n))this.colorBufferFloatExtension=this.gl.getExtension(n);else{if(!as(this.gl,"EXT_color_buffer_half_float"))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension("EXT_color_buffer_half_float")}this.vertexBuffer=Mde(this.gl,this.debug),this.indexBuffer=Qde(this.gl,this.debug),this.framebuffer=$Ae(this.gl,this.debug),this.textureConfig=wN(this.gl,this.textureHalfFloatExtension)}return Object.defineProperty(e.prototype,"debug",{get:function(){return Le().getBool("DEBUG")},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){var t=this;if(!this.disposed){this.program!=null&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),this.outputTexture!=null&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var r=this.gl;wt(r,this.debug,function(){return r.finish()}),wt(r,this.debug,function(){return r.bindFramebuffer(r.FRAMEBUFFER,null)}),wt(r,this.debug,function(){return r.deleteFramebuffer(t.framebuffer)}),wt(r,this.debug,function(){return r.bindBuffer(r.ARRAY_BUFFER,null)}),wt(r,this.debug,function(){return r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,null)}),wt(r,this.debug,function(){return r.deleteBuffer(t.indexBuffer)}),this.disposed=!0}},e.prototype.createFloat32MatrixTexture=function(t,r){return this.throwIfDisposed(),Hde(this.gl,this.debug,t,r,this.textureConfig)},e.prototype.createFloat16MatrixTexture=function(t,r){return this.throwIfDisposed(),$de(this.gl,this.debug,t,r,this.textureConfig)},e.prototype.createUnsignedBytesMatrixTexture=function(t,r){return this.throwIfDisposed(),Wde(this.gl,this.debug,t,r,this.textureConfig)},e.prototype.uploadPixelDataToTexture=function(t,r){this.throwIfDisposed(),qde(this.gl,this.debug,t,r)},e.prototype.uploadDenseMatrixToTexture=function(t,r,n,i){this.throwIfDisposed(),Gde(this.gl,this.debug,t,r,n,i,this.textureConfig)},e.prototype.createFloat16PackedMatrixTexture=function(t,r){return this.throwIfDisposed(),zde(this.gl,this.debug,t,r,this.textureConfig)},e.prototype.createPackedMatrixTexture=function(t,r){return this.throwIfDisposed(),Kde(this.gl,this.debug,t,r,this.textureConfig)},e.prototype.deleteMatrixTexture=function(t){var r=this;this.throwIfDisposed(),this.outputTexture===t&&(oL(this.gl,this.debug,this.framebuffer),this.outputTexture=null),wt(this.gl,this.debug,function(){return r.gl.deleteTexture(t)})},e.prototype.downloadByteEncodedFloatMatrixFromOutputTexture=function(t,r,n){var i=this;return this.downloadMatrixDriver(t,function(){return Jde(i.gl,i.debug,r,n,i.textureConfig)})},e.prototype.downloadPackedMatrixFromBuffer=function(t,r,n,i,a,o){return Zde(this.gl,t,0,0,0,a,o,this.textureConfig)},e.prototype.downloadFloat32MatrixFromBuffer=function(t,r){return Yde(this.gl,t,r)},e.prototype.createBufferFromTexture=function(t,r,n){this.bindTextureToFrameBuffer(t);var i=Xde(this.gl,this.debug,r,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),i},e.prototype.createAndWaitForFence=function(){var t=this.createFence(this.gl);return this.pollFence(t)},e.prototype.createFence=function(t){var r,n,i=this;if(Le().getBool("WEBGL_FENCE_API_ENABLED")){var a=t,o=a.fenceSync(a.SYNC_GPU_COMMANDS_COMPLETE,0);t.flush(),n=function(){var s=a.clientWaitSync(o,0,0);return s===a.ALREADY_SIGNALED||s===a.CONDITION_SATISFIED},r=o}else Le().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(r=this.beginQuery(),this.endQuery(),n=function(){return i.isQueryAvailable(r,Le().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):n=function(){return!0};return{query:r,isFencePassed:n}},e.prototype.downloadMatrixFromPackedTexture=function(t,r,n){var i=this;return this.downloadMatrixDriver(t,function(){return ehe(i.gl,i.debug,r,n)})},e.prototype.createProgram=function(t){this.throwIfDisposed();var r=this.gl,n=LAe(r,this.debug,t),i=jde(r,this.debug),a=RAe(r,this.debug);return wt(r,this.debug,function(){return r.attachShader(a,i)}),wt(r,this.debug,function(){return r.attachShader(a,n)}),DAe(r,this.debug,a),this.debug&&KC(r,this.debug,a),this.vertexAttrsAreBound||(this.setProgram(a),this.vertexAttrsAreBound=Vde(r,this.debug,this.program,this.vertexBuffer)),a},e.prototype.deleteProgram=function(t){var r=this;this.throwIfDisposed(),t===this.program&&(this.program=null),t!=null&&wt(this.gl,this.debug,function(){return r.gl.deleteProgram(t)})},e.prototype.setProgram=function(t){var r=this;this.throwIfDisposed(),this.program=t,this.program!=null&&this.debug&&KC(this.gl,this.debug,this.program),wt(this.gl,this.debug,function(){return r.gl.useProgram(t)})},e.prototype.getUniformLocation=function(t,r,n){return n===void 0&&(n=!0),this.throwIfDisposed(),n?KAe(this.gl,this.debug,t,r):zAe(this.gl,t,r)},e.prototype.getAttributeLocation=function(t,r){var n=this;return this.throwIfDisposed(),wt(this.gl,this.debug,function(){return n.gl.getAttribLocation(t,r)})},e.prototype.getUniformLocationNoThrow=function(t,r){return this.throwIfDisposed(),this.gl.getUniformLocation(t,r)},e.prototype.setInputMatrixTexture=function(t,r,n){this.throwIfDisposed(),this.throwIfNoProgram(),VAe(this.gl,this.debug,this.program,t,r,n)},e.prototype.setOutputMatrixTexture=function(t,r,n){this.setOutputMatrixTextureDriver(t,n,r)},e.prototype.setOutputPackedMatrixTexture=function(t,r,n){this.throwIfDisposed();var i=iv(r,n),a=i[0],o=i[1];this.setOutputMatrixTextureDriver(t,a,o)},e.prototype.setOutputMatrixWriteRegion=function(t,r,n,i){this.setOutputMatrixWriteRegionDriver(n,t,i,r)},e.prototype.setOutputPackedMatrixWriteRegion=function(t,r,n,i){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")},e.prototype.debugValidate=function(){this.program!=null&&KC(this.gl,this.debug,this.program),yy(this.gl)},e.prototype.executeProgram=function(){this.throwIfDisposed(),this.throwIfNoProgram();var t=this.gl;this.debug&&this.debugValidate(),wt(t,this.debug,function(){return t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0)})},e.prototype.blockUntilAllProgramsCompleted=function(){var t=this;this.throwIfDisposed(),wt(this.gl,this.debug,function(){return t.gl.finish()})},e.prototype.getQueryTimerExtension=function(){return this.disjointQueryTimerExtension==null&&(this.disjointQueryTimerExtension=vy(this.gl,this.debug,Le().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension},e.prototype.getQueryTimerExtensionWebGL2=function(){return this.getQueryTimerExtension()},e.prototype.getQueryTimerExtensionWebGL1=function(){return this.getQueryTimerExtension()},e.prototype.beginQuery=function(){if(Le().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){var t=this.gl,r=this.getQueryTimerExtensionWebGL2(),n=t.createQuery();return t.beginQuery(r.TIME_ELAPSED_EXT,n),n}var i=this.getQueryTimerExtensionWebGL1(),a=i.createQueryEXT();return i.beginQueryEXT(i.TIME_ELAPSED_EXT,a),a},e.prototype.endQuery=function(){if(Le().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")!==2){var t=this.getQueryTimerExtensionWebGL1();t.endQueryEXT(t.TIME_ELAPSED_EXT)}else{var r=this.gl,n=this.getQueryTimerExtensionWebGL2();r.endQuery(n.TIME_ELAPSED_EXT)}},e.prototype.waitForQueryAndGetTime=function(t){return ft(this,void 0,void 0,function(){var r=this;return dt(this,function(n){switch(n.label){case 0:return[4,ZT(function(){return r.disposed||r.isQueryAvailable(t,Le().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))})];case 1:return n.sent(),[2,this.getQueryTime(t,Le().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))]}})})},e.prototype.getQueryTime=function(t,r){if(r===0)return null;if(r===2){var n=this.gl;return n.getQueryParameter(t,n.QUERY_RESULT)/1e6}var i=this.getQueryTimerExtensionWebGL1();return i.getQueryObjectEXT(t,i.QUERY_RESULT_EXT)/1e6},e.prototype.isQueryAvailable=function(t,r){if(r===0)return!0;if(r===2){var n=this.gl,i=this.getQueryTimerExtensionWebGL2(),a=n.getQueryParameter(t,n.QUERY_RESULT_AVAILABLE);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(i.GPU_DISJOINT_EXT)),a&&!this.disjoint}return a=(i=this.getQueryTimerExtensionWebGL1()).getQueryObjectEXT(t,i.QUERY_RESULT_AVAILABLE_EXT),this.disjoint==null&&(this.disjoint=this.gl.getParameter(i.GPU_DISJOINT_EXT)),a&&!this.disjoint},e.prototype.pollFence=function(t){var r=this;return new Promise(function(n){r.addItemToPoll(function(){return t.isFencePassed()},function(){return n()})})},e.prototype.pollItems=function(){for(var t=function(n){for(var i=0;i<n.length&&n[i]();++i);return i-1}(this.itemsToPoll.map(function(n){return n.isDoneFn})),r=0;r<=t;++r)(0,this.itemsToPoll[r].resolveFn)();this.itemsToPoll=this.itemsToPoll.slice(t+1)},e.prototype.addItemToPoll=function(t,r){var n=this;this.itemsToPoll.push({isDoneFn:t,resolveFn:r}),this.itemsToPoll.length>1||ZT(function(){return n.pollItems(),n.itemsToPoll.length===0})},e.prototype.bindTextureToFrameBuffer=function(t){this.throwIfDisposed(),zC(this.gl,this.debug,t,this.framebuffer),this.debug&&yy(this.gl)},e.prototype.unbindTextureToFrameBuffer=function(){this.outputTexture!=null?(zC(this.gl,this.debug,this.outputTexture,this.framebuffer),this.debug&&yy(this.gl)):oL(this.gl,this.debug,this.framebuffer)},e.prototype.downloadMatrixDriver=function(t,r){this.bindTextureToFrameBuffer(t);var n=r();return this.unbindTextureToFrameBuffer(),n},e.prototype.setOutputMatrixTextureDriver=function(t,r,n){this.throwIfDisposed();var i=this.gl;zC(i,this.debug,t,this.framebuffer),this.debug&&yy(i),this.outputTexture=t,wt(i,this.debug,function(){return i.viewport(0,0,r,n)}),wt(i,this.debug,function(){return i.scissor(0,0,r,n)})},e.prototype.setOutputMatrixWriteRegionDriver=function(t,r,n,i){var a=this;this.throwIfDisposed(),wt(this.gl,this.debug,function(){return a.gl.scissor(t,r,n,i)})},e.prototype.throwIfDisposed=function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")},e.prototype.throwIfNoProgram=function(){if(this.program==null)throw new Error("No GPU program is currently set.")},e}();function yL(e,t){if(e.length!==t.length)throw Error("Binary was compiled with "+e.length+" inputs, but was executed with "+t.length+" inputs");e.forEach(function(r,n){var i=r.logicalShape,a=t[n],o=a.shape;if(!Pi(i,o))throw Error("Binary was compiled with different shapes than the current args. Shapes "+i+" and "+o+" must match");if(!r.isUniform||!a.isUniform){var s=r.texShape,l=a.isUniform?null:a.texData.texShape;if(!Pi(s,l))throw Error("Binary was compiled with different texture shapes than the current args. Shape "+s+" and "+l+" must match")}})}var rhe=function(e,t,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;for(var n=r.filterWidth,i=r.inChannels,a=r.strideWidth,o=r.strideHeight,s=r.padInfo,l=r.outWidth,u=r.dilationWidth,c=r.dilationHeight,A=r.dataFormat,d=s.left,f=s.top,p=i*n,g=ma(),v=A==="channelsLast",m=v?0:1,y=v?1:2,w="",b=0;b<=1;b++)for(var B=0;B<=1;B++)w+=`
          blockIndex = rc.y + `+B+`;
          pos = rc.x + `+b+`;

          if(blockIndex < `+e[1]+" && pos < "+e[0]+`) {
            offsetY = int(blockIndex / (`+l+")) * "+o+" - "+f+`;
            d0 = offsetY + `+c+" * (pos / "+p+`);

            if(d0 < `+t[m]+` && d0 >= 0) {

              offsetX = int(mod(float(blockIndex), `+l+".) * "+a+". - "+d+`.);
              d1 = offsetX + `+u+" * (int(mod(float(pos), "+p+".) / "+i+`.));

              if(d1 < `+t[y]+` && d1 >= 0) {

                ch = int(mod(float(pos), `+i+`.));

                if (`+v+`) {
                  innerDims = vec2(d1, ch);
                  result[`+(2*b+B)+`] = getChannel(
                    getA(d0, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                } else {
                  innerDims = vec2(d0, d1);
                  result[`+(2*b+B)+`] = getChannel(
                    getA(ch, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                }
              }
            }
          }
        `;this.userCode=`
      void main() {
        ivec2 rc = getOutputCoords();

        vec4 result = vec4(0);

        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
        vec2 innerDims;

        `+w+`

        `+g.output+` = result;
      }
    `},nhe=function(e,t,r,n,i){this.variableNames=["x"],this.outputShape=[];var a,o=t,s=e[3]-1;this.outputShape=e;var l="float("+r+") + float("+n+") * sum";a=i===.5?"inversesqrt("+l+")":i===1?"1.0/("+l+")":"exp(log("+l+") * float(-"+i+"));",this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];
        int d = coords[3];
        float x = getX(b, r, c, d);
        float sum = 0.0;
        for (int j = -`+o+"; j <= "+o+`; j++) {
          int idx = d + j;
          if (idx >= 0 && idx <=  `+s+`) {
            float z = getX(b, r, c, idx);
            sum += z * z;
          }
        }
        float val = x * `+a+`;
        setOutput(val);
      }
    `},ihe=function(e,t,r,n,i){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=t,this.bias=r,this.alpha=n,this.beta=i,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];

        float result = 0.0;
        for (int d = 0; d < `+this.depth+`; ++d) {
          int depthBegin = int(max(0.0, float(d - `+t+`)));
          int depthEnd = int(min(float(`+this.depth+`),
              float(d + `+t+` + 1)));

          const int MIN_DEPTH_BEGIN = 0;
          const int MAX_DEPTH_END = `+this.depth+`;

          float norm = 0.0;
          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd) {
              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);
            }
            else {
              break;
            }
          }

          norm = float(`+n+") * norm + float("+r+`);

          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd){
              float dyi = -2.0 * float(`+n+`)
                * float(`+i+`)
                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)
                / norm;
              if (k == d) {
                dyi += pow(norm, -1.0 * `+i+`);
              }
              if (k == coords[3]) {
                dyi *= getDy(b, r, c, d);
                result += dyi;
              }
            }
            else {
              break;
            }
          }
      }
      setOutput(result);
      }
    `},ahe=function(e,t,r,n,i){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;var a,o=t,s=e[3]-1;this.outputShape=e;var l="float("+r+") + float("+n+") * sum";a=i===.5?"inversesqrt("+l+")":i===1?"1.0/("+l+")":"exp(log("+l+") * float(-"+i+"));",this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords.x;
        int r = coords.y;
        int c = coords.z;
        int d = coords.w;

        bool hasNextCol = d < `+this.outputShape[3]+`;
        bool hasNextRow = c < `+this.outputShape[2]+`;

        vec4 sum = vec4(0.);
        vec4 xFragAtOutputCoords = getX(b, r, c, d);

        vec4 xAtOutputCoords = vec4(
          getChannel(xFragAtOutputCoords, vec2(c, d)),
          hasNextCol ?
            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,
          hasNextRow ?
            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,
          (hasNextRow && hasNextCol) ?
            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0
        );

        int firstChannel = d - `+o+`;
        vec2 cache = vec2(0.);
        if(firstChannel >= 0){
          vec4 firstChannelFrag = getX(b, r, c, firstChannel);
          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));
            if(hasNextRow){
              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));
            }
        }

        ivec2 depth = ivec2(d, d + 1);
        for (int j = - `+o+"; j <= "+o+`; j++) {
          ivec2 idx = depth + j;
          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));
          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(`+s+`));

          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;
          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;

          if(depthInRange || depthPlusOneInRange){
            vec4 z = vec4(0.);
            vec4 xFragAtCurrentDepth;
            z.xz = cache.xy;
            if(depthPlusOneInRange && hasNextCol){
              xFragAtCurrentDepth = idx.y != d ?
                getX(b, r, c, idx.y) : xFragAtOutputCoords;
              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));
              if(hasNextRow){
                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));
              }
            }
            cache.xy = z.yw;
            sum += z * z;
          }
        }
        vec4 result = xAtOutputCoords * `+a+`;
        setOutput(result);
      }
    `},ohe=function(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;var t=e.strideHeight,r=e.strideWidth,n=e.dilationHeight,i=e.effectiveFilterHeight,a=e.effectiveFilterWidth,o=i-1-e.padInfo.top,s=a-1-e.padInfo.left,l=i*a-1;this.userCode=`
      const ivec2 pads = ivec2(`+o+", "+s+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+i+`;
          wR += `+n+`) {
          float dyR = float(dyRCorner + wR) / `+t+`.0;

          if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < `+a+`; wC++) {
            float dyC = float(dyCCorner + wC) / `+r+`.0;

            if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);
            int maxPosValue = `+l+` - int(getMaxPos(b, idyR, idyC, d));

            // Get the current value, check it against the value from the
            // position matrix.
            int curPosValue = wR * `+a+` + wC;
            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

            dotProd += dyValue * mask;
          }
        }
        setOutput(dotProd);
      }
    `},she=function(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;var t=e.strideDepth,r=e.strideHeight,n=e.strideWidth,i=e.dilationDepth,a=e.dilationHeight,o=e.dilationWidth,s=e.effectiveFilterDepth,l=e.effectiveFilterHeight,u=e.effectiveFilterWidth,c=s-1-e.padInfo.front,A=l-1-e.padInfo.top,d=u-1-e.padInfo.left,f=s*l*u-1;this.userCode=`
      const ivec3 pads = ivec3(`+c+", "+A+", "+d+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < `+s+`;
           wD += `+i+`) {
          float dyD = float(dyDCorner + wD) / `+t+`.0;

          if (dyD < 0.0 || dyD >= `+e.outDepth+`.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < `+l+`;
              wR += `+a+`) {
            float dyR = float(dyRCorner + wR) / `+r+`.0;

            if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < `+u+`;
                wC += `+o+`) {
              float dyC = float(dyCCorner + wC) / `+n+`.0;

              if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);
              int maxPosValue = `+f+` -
                  int(getMaxPos(batch, idyD, idyR, idyC, ch));

              // Get the current value, check it against the value from the
              // position matrix.
              int curPosValue =
                  wD * `+l+" * "+u+` +
                  wR * `+u+` + wC;
              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

              dotProd += dyValue * mask;
            }
          }
        }
        setOutput(dotProd);
      }
    `},YC=function(e,t,r,n,i,a,o){r===void 0&&(r=!1),n===void 0&&(n=!1),i===void 0&&(i=!1),a===void 0&&(a=null),o===void 0&&(o=!1),this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t;var s=r?e[1]:e[2],l=Math.ceil(s/2),u=r?"i * 2, rc.y":"rc.y, i * 2",c=n?"rc.z, i * 2":"i * 2, rc.z",A=r?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],d=n?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],f="",p="";a&&(f=o?`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          `+a+`
        }`:`vec4 activation(vec4 x) {
          `+a+`
        }`,p="result = activation(result);");var g=i?"result += getBiasAtOutCoords();":"";i&&this.variableNames.push("bias"),o&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+f+`

      const float sharedDimension = `+l+`.0;

      vec4 dot2x2ARowBCol(ivec3 rc) {
        vec4 result = vec4(0);
        for (int i = 0; i < `+l+`; i++) {
          vec4 a = getMatrixA(rc.x, `+u+`);
          vec4 b = getMatrixB(rc.x, `+c+`);

          // These swizzled products need to be separately added.
          // See: https://github.com/tensorflow/tfjs/issues/1735
          result += (`+A[0]+" * "+d[0]+`);
          result += (`+A[1]+" * "+d[1]+`);
        }
        return result;
      }

      void main() {
        ivec3 rc = getOutputCoords();
        vec4 result = dot2x2ARowBCol(rc);

        `+g+`

        `+p+`

        setOutput(result);
      }
    `},lhe=function(){function e(t,r,n){this.variableNames=["probs"],this.outputShape=[t,n],this.userCode=`
      uniform float seed;

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];

        float r = random(seed);
        float cdf = 0.0;

        for (int i = 0; i < `+(r-1)+`; i++) {
          cdf += getProbs(batch, i);

          if (r < cdf) {
            setOutput(float(i));
            return;
          }
        }

        // If no other event happened, last event happened.
        setOutput(float(`+(r-1)+`));
      }
    `}return e.prototype.getCustomSetupFunc=function(t){var r=this;return function(n,i){r.seedLoc==null&&(r.seedLoc=n.getUniformLocation(i,"seed")),n.gl.uniform1f(r.seedLoc,t)}},e}(),uhe=function(e,t,r,n){this.variableNames=["indices"],this.outputShape=[e,t],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int index = round(getIndices(coords.x));
        setOutput(mix(float(`+n+"), float("+r+`),
                      float(index == coords.y)));
      }
    `},che=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e;var t=e.length;if(t===0)this.userCode=`
        void main() {
          setOutput(vec4(getA(), 0., 0., 0.));
        }
      `;else{var r=Ka("rc",t),n=Kr(t),i=function(s,l,u){if(s===1)return"rc > "+l[0];for(var c="",A=s-2;A<s;A++)c+=u[A]+" >= "+l[A],A<s-1&&(c+="||");return c}(t,e,r),a=function(s,l,u,c){if(s===1)return"";var A=c.slice(-2);return`
    int r = `+A[0]+`;
    int c = `+A[1]+`;
    int rp1 = r + 1;
    int cp1 = c + 1;

    bool cEdge = cp1 >= `+l+`;
    bool rEdge = rp1 >= `+u+`;
  `}(t,e[e.length-1],e[e.length-2],r),o=function(s,l){var u=s.length,c=function(A,d){for(var f=[],p=0;p<=1;p++)for(var g=0;g<=1;g++){for(var v=(p===0?"r":"rp1")+", "+(g===0?"c":"cp1"),m=2;m<A;m++)v=d[d.length-1-m]+","+v;f.push(v)}return f}(u,l);return u===1?`getA(rc),
            rc + 1 >= `+s[0]+` ? 0. : getA(rc + 1),
            0, 0`:"getA("+c[0]+`),
          cEdge ? 0. : getA(`+c[1]+`),
          rEdge ? 0. : getA(`+c[2]+`),
          rEdge || cEdge ? 0. : getA(`+c[3]+")"}(e,r);this.userCode=`
        void main() {
          `+n+` rc = getOutputCoords();

          if(`+i+`) {
            setOutput(vec4(0));
          } else {
            `+a+`

            setOutput(vec4(`+o+`));
          }
        }
      `}},Ahe=function(e,t,r){this.variableNames=["x"],this.outputShape=t.map(function(l,u){return l[0]+e[u]+l[1]});var n=e.length,i=Kr(n),a=t.map(function(l){return l[0]}).join(","),o=t.map(function(l,u){return l[0]+e[u]}).join(","),s=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,n);this.userCode=n!==1?`
      `+i+" start = "+i+"("+a+`);
      `+i+" end = "+i+"("+o+`);

      void main() {
        `+i+` outC = getOutputCoords();
        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {
          setOutput(float(`+r+`));
        } else {
          `+i+` coords = outC - start;
          setOutput(getX(`+s+`));
        }
      }
    `:`
        int start = `+a+`;
        int end = `+o+`;

        void main() {
          int outC = getOutputCoords();
          if (outC < start || outC >= end) {
            setOutput(float(`+r+`));
          } else {
            setOutput(getX(outC - start));
          }
        }
      `},fhe=function(e,t,r){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.map(function(v,m){return v[0]+e[m]+v[1]});for(var n=e.length,i=Kr(n),a=t.map(function(v){return v[0]}).join(","),o=t.map(function(v,m){return v[0]+e[m]}).join(","),s=Ka("rc",n),l=Ka("source",n),u=s[n-1]+" < "+this.outputShape[n-1],c=n===1?"source":"vec2("+l.slice(-2).join()+")",A=[i+" rc = outputLoc;",s[n-1]+` += 1;
       if(`+u+`) {
      `,n===1?"":`}
       rc = outputLoc;
       `+s[n-2]+` += 1;
       if(`+s[n-2]+" < "+this.outputShape[n-2]+") {",n===1?"":"  "+s[n-1]+` += 1;
         if(`+u+") {"],d=n===1?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",f="",p=0,g=n===1?2:4;p<g;p++)f+=`
        `+A[p]+`
        if (`+d+`) {
          result[`+p+"] = float("+r+`);
        } else {
          `+i+` source = rc - start;
          result[`+p+"] = getChannel(getX("+l.join()+"), "+c+`);
        }
      `;f+=n===1?"} ":"}}",this.userCode=`
      const `+i+" start = "+i+"("+a+`);
      const `+i+" end = "+i+"("+o+`);

      void main() {
        `+i+` outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        `+f+`
        setOutput(result);
      }
    `},JC=function(e,t,r){if(this.variableNames=["x"],t==="avg"&&r)throw new Error("Cannot compute positions for average pool.");var n=e.filterWidth,i=e.strideHeight,a=e.strideWidth,o=e.dilationHeight,s=e.dilationWidth,l=e.effectiveFilterHeight,u=e.effectiveFilterWidth,c=e.padInfo.top,A=e.padInfo.left;this.outputShape=e.outShape;var d=t==="avg",f="0.0";if(d||(f="-1.0 / 1e-20"),r)this.userCode=`
        const ivec2 strides = ivec2(`+i+", "+a+`);
        const ivec2 pads = ivec2(`+c+", "+A+`);

        void main() {
          ivec4 coords = getOutputCoords();
          int batch = coords[0];
          int d = coords[3];

          ivec2 xRCCorner = coords.yz * strides - pads;
          int xRCorner = xRCCorner.x;
          int xCCorner = xRCCorner.y;

          // max/min x(?, ?, d) to get y(yR, yC, d).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;
          float avgValue = 0.0;

          for (int wR = 0; wR < `+l+`;
              wR += `+o+`) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= `+e.inHeight+`) {
              continue;
            }

            for (int wC = 0; wC < `+u+`;
                wC += `+s+`) {
              int xC = xCCorner + wC;

              if (xC < 0 || xC >= `+e.inWidth+`) {
                continue;
              }

              float value = getX(batch, xR, xC, d);

              // If a min / max value has already been found, use it. If not,
              // use the current value.
              float currMinMaxValue = mix(
                  value, minMaxValue, minMaxValueFound);
              if (value >= currMinMaxValue) {
                minMaxValue = value;
                minMaxValueFound = 1.0;
                minMaxPosition = wR * `+u+` + wC;
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;else{var p=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";t==="avg"&&(p="avgValue / count");var g=4*Math.floor(n/4),v=n%4,m=`
      if (`+d+`) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = max(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec2 strides = ivec2(`+i+", "+a+`);
      const ivec2 pads = ivec2(`+c+", "+A+`);
      const float initializationValue = `+f+`;
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xR, int xC, int d) {
        if (xC < 0 || xC >= `+e.inWidth+`) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xR, xC, d);
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d = coords[3];

        ivec2 xRCCorner = coords.yz * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // max/min x(?, ?, d) to get y(yR, yC, d).
        // ? = to be determined
        vec4 minMaxValue = vec4(`+f+`);
        float avgValue = 0.0;
        count = 0.0;

        for (int wR = 0; wR < `+l+`;
            wR += `+o+`) {
          int xR = xRCorner + wR;

          if (xR < 0 || xR >= `+e.inHeight+`) {
            continue;
          }

          for (int wC = 0; wC < `+g+`; wC += 4) {
            int xC = xCCorner + wC * `+s+`;

            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + `+s+`, d),
              getValue(batch, xR, xC + 2 * `+s+`, d),
              getValue(batch, xR, xC + 3 * `+s+`, d)
            );

            `+m+`
          }

          int xC = xCCorner + `+g+`;
          if (`+(v===1)+`) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              initializationValue,
              initializationValue,
              initializationValue
            );

            `+m+`
          } else if (`+(v===2)+`) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + `+s+`, d),
              initializationValue,
              initializationValue
            );

            `+m+`
          } else if (`+(v===3)+`) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + `+s+`, d),
              getValue(batch, xR, xC + 2 * `+s+`, d),
              initializationValue
            );

            `+m+`
          }
        }
        setOutput(`+p+`);
      }
    `}},ZC=function(e,t,r){if(this.variableNames=["x"],t==="avg"&&r)throw new Error("Cannot compute positions for average pool.");var n=e.filterWidth,i=e.strideDepth,a=e.strideHeight,o=e.strideWidth,s=e.dilationDepth,l=e.dilationHeight,u=e.dilationWidth,c=e.effectiveFilterDepth,A=e.effectiveFilterHeight,d=e.effectiveFilterWidth,f=e.padInfo.front,p=e.padInfo.top,g=e.padInfo.left;this.outputShape=e.outShape;var v=t==="avg",m="0.0";if(v||(m="-1.0 / 1e-20"),r)this.userCode=`
        const ivec3 strides =
            ivec3(`+i+", "+a+", "+o+`);
        const ivec3 pads = ivec3(`+f+", "+p+", "+g+`);

        void main() {
          ivec5 coords = getOutputCoords();
          int batch = coords.x;
          int ch = coords.u;

          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
          int xDCorner = xCorner.x;
          int xRCorner = xCorner.y;
          int xCCorner = xCorner.z;

          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;

          for (int wD = 0; wD < `+c+`;
              wD += `+s+`) {
            int xD = xDCorner + wD;

            if (xD < 0 || xD >= `+e.inDepth+`) {
              continue;
            }

            for (int wR = 0; wR < `+A+`;
                wR += `+l+`) {
              int xR = xRCorner + wR;

              if (xR < 0 || xR >= `+e.inHeight+`) {
                continue;
              }

              for (int wC = 0; wC < `+d+`;
                  wC += `+u+`) {
                int xC = xCCorner + wC;

                if (xC < 0 || xC >= `+e.inWidth+`) {
                  continue;
                }

                float value = getX(batch, xD, xR, xC, ch);

                // If a min / max value has already been found, use it. If not,
                // use the current value.
                float currMinMaxValue = mix(
                    value, minMaxValue, minMaxValueFound);
                if (value >= currMinMaxValue) {
                  minMaxValue = value;
                  minMaxValueFound = 1.0;
                  minMaxPosition =
                      wD * `+A+" * "+d+` +
                      wR * `+d+` + wC;;
                }
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;else{var y=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";t==="avg"&&(y="avgValue / count");var w=4*Math.floor(n/4),b=n%4,B=`
      if (`+v+`) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = max(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec3 strides =
        ivec3(`+i+", "+a+", "+o+`);
      const ivec3 pads = ivec3(`+f+", "+p+", "+g+`);
      const float initializationValue = `+m+`;
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xD, int xR, int xC, int ch) {
        if (xC < 0 || xC >= `+e.inWidth+`) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xD, xR, xC, ch);
      }

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xDCorner = xCorner.x;
        int xRCorner = xCorner.y;
        int xCCorner = xCorner.z;

        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).
        // ? = to be determined
        vec4 minMaxValue = vec4(`+m+`);
        float avgValue = 0.0;
        count = 0.0;

        for (int wD = 0; wD < `+c+`;
            wD += `+s+`) {
          int xD = xDCorner + wD;

          if (xD < 0 || xD >= `+e.inDepth+`) {
            continue;
          }

          for (int wR = 0; wR < `+A+`;
            wR += `+l+`) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= `+e.inHeight+`) {
              continue;
            }

            for (int wC = 0; wC < `+w+`; wC += 4) {
              int xC = xCCorner + wC * `+u+`;

              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + `+u+`, ch),
                getValue(batch, xD, xR, xC + 2 * `+u+`, ch),
                getValue(batch, xD, xR, xC + 3 * `+u+`, ch)
              );

              `+B+`
            }

            int xC = xCCorner + `+w+`;
            if (`+(b===1)+`) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                initializationValue,
                initializationValue,
                initializationValue
              );

              `+B+`
            } else if (`+(b===2)+`) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + `+u+`, ch),
                initializationValue,
                initializationValue
              );

              `+B+`
            } else if (`+(b===3)+`) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + `+u+`, ch),
                getValue(batch, xD, xR, xC + 2 * `+u+`, ch),
                initializationValue
              );

              `+B+`
            }
          }
          setOutput(`+y+`);
        }
      }
    `}},dhe=function(e,t){this.variableNames=["x"];var r=e.windowSize,n=e.batchSize,i=e.inSize,a=Math.ceil(i/r);this.outputShape=[n,a];var o="0.0",s="";t==="prod"?o="1.0":t==="min"?(o="1.0 / 1e-20",s="min"):t==="max"&&(o="-1.0 / 1e-20",s="max");var l=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";t==="sum"?l="sumValue":t==="prod"?l="prodValue":t==="all"?l="allValue":t==="any"&&(l="anyValue");var u=4*Math.floor(r/4),c=r%4,A=`
      if (`+(t==="sum")+`) {
        sumValue += dot(values, ones);
      } else if (`+(t==="prod")+`) {
        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);
        prodValue *= tmp[0] * tmp[1];
      } else {
        minMaxValue = `+s+`(values, minMaxValue);
      }
    `,d="vec4";t==="all"?(o="1.0",A=`
        bool reducedAllValue = all(values);
        float floatedReducedAllValue = float(reducedAllValue);
        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);
      `,d="bvec4"):t==="any"&&(o="0.0",A=`
        bool reducedAnyValue = any(values);
        float floatedReducedAnyValue = float(reducedAnyValue);
        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);
      `,d="bvec4");var f="";i%r>0&&(f=`
        if (inIdx < 0 || inIdx >= `+i+`) {
          return initializationValue;
        }
      `),this.userCode=`
      const float initializationValue = `+o+`;
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        `+f+`
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * `+r+`;

        vec4 minMaxValue = vec4(`+o+`);
        float prodValue = 1.0;
        float sumValue = 0.0;
        float allValue = 1.0;
        float anyValue = 0.0;

        for (int i = 0; i < `+u+`; i += 4) {
          int inIdx = inOffset + i;
          `+d+" values = "+d+`(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          `+A+`
        }

        int inIdx = inOffset + `+u+`;
        if (`+(c===1)+`) {
          `+d+" values = "+d+`(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          `+A+`
        } else if (`+(c===2)+`) {
          `+d+" values = "+d+`(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          `+A+`
        } else if (`+(c===3)+`) {
          `+d+" values = "+d+`(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          `+A+`
        }
        setOutput(`+l+`);
      }
    `},hhe=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;for(var r="",n=0;n<4;n++){var i="thisRC = rc;";n%2==1&&(i+="thisRC.z += 1;"),n>1&&(i+="thisRC.y += 1;"),r+=`
        `+i+`
        `+(n>0?"if(thisRC.y < rows && thisRC.z < cols){":"")+`
          int flatIndex = getFlatIndex(thisRC);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);
          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[`+n+`] =
            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);
        `+(n>0?"}":"")+`
      `}this.userCode=`
      
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      `+JA(["r","c","d"],t)+`
      return ivec3(r, c, d);
    }
  
      `+_N(e)+`

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.);

        ivec3 thisRC;
        int rows = `+e[1]+`;
        int cols = `+e[2]+`;

        `+r+`

        setOutput(result);
      }
    `},phe=function(e,t,r){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t.shape;var n=t.shape,i=n[1],a=n[2],o=e.shape,s=o[1],l=o[2],u=[r&&s>1?i-1:i,r&&l>1?a-1:a],c=[r&&s>1?s-1:s,r&&l>1?l-1:l],A=u[0]/c[0],d=u[1]/c[1],f=1/A,p=1/d,g=2*Math.ceil(f)+2,v=2*Math.ceil(p)+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(`+A+`);
        const float widthScale = float(`+d+`);

        const float invHeightScale = float(`+f+`);
        const float invWidthScale = float(`+p+`);

        const int winHeight = int(`+g+`);
        const int winWidth = int(`+v+`);

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(startRLerp - float(winHeight / 2));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(startCLerp - float(winWidth / 2));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= `+s+`) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= `+l+`) {
              continue;
            }

            float dxR = float(dyR) * heightScale;
            int topDxRIndex = int(floor(dxR));
            int bottomDxRIndex = int(min(ceil(dxR), `+(i-1)+`.0));
            float dxRLerp = dxR - float(topDxRIndex);
            float inverseDxRLerp = 1.0 - dxRLerp;

            float dxC = float(dyC) * widthScale;
            int leftDxCIndex = int(floor(dxC));
            int rightDxCIndex = int(min(ceil(dxC), `+(a-1)+`.0));
            float dxCLerp = dxC - float(leftDxCIndex);
            float inverseDxCLerp = 1.0 - dxCLerp;

            if (r == topDxRIndex && c == leftDxCIndex) {
              // topLeft
              accumulator +=
                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;
            }

            if (r == topDxRIndex && c == rightDxCIndex) {
              // topRight
              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;
            }

            if (r == bottomDxRIndex && c == leftDxCIndex) {
              // bottomLeft
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;
            }

            if (r == bottomDxRIndex && c == rightDxCIndex) {
              // bottomRight
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `},mhe=function(e,t,r,n){this.variableNames=["A"],this.outputShape=[];var i=e[0],a=e[1],o=e[2],s=e[3];this.outputShape=[i,t,r,s];var l=[n&&t>1?a-1:a,n&&r>1?o-1:o],u=[n&&t>1?t-1:t,n&&r>1?r-1:r];this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          `+l[0]/u[0]+`,
          `+l[1]/u[1]+`);
      const vec2 inputShapeRC = vec2(`+a+".0, "+o+`.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;

        // Compute the four integer indices.
        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);
        ivec2 sourceCeilRC = ivec2(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);
        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);
        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);
        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);

        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);

        float top = topLeft + (topRight - topLeft) * fracRC.y;
        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;
        float newValue = top + (bottom - top) * fracRC.x;

        setOutput(newValue);
      }
    `},ghe=function(e,t,r,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var i=e[0],a=e[1],o=e[2],s=e[3];this.outputShape=[i,t,r,s];var l=[n&&t>1?a-1:a,n&&r>1?o-1:o],u=[n&&t>1?t-1:t,n&&r>1?r-1:r];this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          `+l[0]/u[0]+`,
          `+l[1]/u[1]+`,
          `+l[1]/u[1]+`);
      const vec3 inputShapeRC = vec3(`+a+".0, "+o+`.0,
                                     `+o+`.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = vec3(yRC) * effectiveInputOverOutputRatioRC;

        // Compute the four integer indices.
        ivec3 sourceFloorRC = ivec3(sourceFracIndexRC);
        ivec3 sourceCeilRC = ivec3(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < `+(s-1)+`;
        bool hasNextRow = coords.z < `+(r-1)+`;

        // In parallel, construct four corners for all four components in
        // packed 2x2 cell.
        vec4 topLeft = vec4(
          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 bottomLeft = vec4(
          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 topRight = vec4(
          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec4 bottomRight = vec4(
          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);

        vec4 top = mix(topLeft, topRight, fracRC.yyzz);
        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);
        vec4 newValue = mix(top, bottom, fracRC.x);

        setOutput(newValue);
      }
    `},vhe=function(e,t,r){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t.shape;var n=t.shape,i=n[1],a=n[2],o=e.shape,s=o[1],l=o[2],u=[r&&s>1?i-1:i,r&&l>1?a-1:a],c=[r&&s>1?s-1:s,r&&l>1?l-1:l],A=u[0]/c[0],d=u[1]/c[1],f=1/A,p=1/d,g=2*Math.ceil(f)+2,v=2*Math.ceil(p)+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(`+A+`);
        const float widthScale = float(`+d+`);

        const float invHeightScale = float(`+f+`);
        const float invWidthScale = float(`+p+`);

        const int winHeight = int(`+g+`);
        const int winWidth = int(`+v+`);

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(floor(startRLerp - float(winHeight / 2)));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(floor(startCLerp - float(winWidth / 2)));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= `+s+`) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= `+l+`) {
              continue;
            }

            float sourceFracRow =
              float(`+u[0]+`) *
                (float(dyR) / float(`+c[0]+`));

            float sourceFracCol =
                float(`+u[1]+`) *
                  (float(dyC) / float(`+c[1]+`));

            int sourceNearestRow = int(min(
                float(int(`+i+`) - 1),
                `+r+` ? float(round(sourceFracRow)) :
                                  float(floor(sourceFracRow))));

            int sourceNearestCol = int(min(
                float(int(`+a+`) - 1),
                `+r+` ? float(round(sourceFracCol)) :
                                  float(floor(sourceFracCol))));

            if (r == sourceNearestRow && c == sourceNearestCol) {
              accumulator += getDy(b, dyR, dyC, d);
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `},yhe=function(e,t,r,n){this.variableNames=["A"],this.outputShape=[];var i=e[0],a=e[1],o=e[2],s=e[3];this.outputShape=[i,t,r,s];var l=[n&&t>1?a-1:a,n&&r>1?o-1:o],u=[n&&t>1?t-1:t,n&&r>1?r-1:r],c=n?"0.5":"0.0";this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          `+l[0]/u[0]+`,
          `+l[1]/u[1]+`);
      const vec2 inputShapeRC = vec2(`+a+".0, "+o+`.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;

        // Compute the coordinators of nearest neighbor point.
        ivec2 sourceNearestRC = ivec2(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + `+c+`)));

        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);

        setOutput(newValue);
      }
    `},whe=function(e,t){this.variableNames=["x"];var r=e.length;if(r>4)throw new Error("WebGL backend: Reverse of rank-"+r+" tensor is not yet supported");if(this.outputShape=e,r!==1){var n=e.map(function(a,o){return function(s){return t.indexOf(s)!==-1&&e[s]!==1?e[s]+" - coords["+s+"] - 1":"coords["+s+"]"}(o)}).join(","),i=Kr(r);this.userCode=`
      void main() {
        `+i+` coords = getOutputCoords();
        setOutput(getX(`+n+`));
      }
    `}else this.userCode=`
        void main() {
          int coord = getOutputCoords();
          setOutput(getX(`+e[0]+` - coord - 1));
        }
      `},xhe=function(e,t){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;var r=e.length;if(r>4)throw new Error("WebGL backend: Reverse of rank-"+r+" tensor is not yet supported");this.outputShape=e;var n=Ka("rc",r),i=n[r-1]+" + 1 < "+this.outputShape[r-1],a=n[r-2]+" + 1 < "+this.outputShape[r-2],o=Kr(r);function s(l){var u=e.map(function(c,A){return function(d,f){return t.indexOf(d)!==-1&&e[d]!==1?e[d]+" - "+f[d]+" - 1":""+f[d]}(A,l)});return"getChannel(getX("+u.join(",")+"), vec2("+u.slice(-2).join(",")+"))"}this.userCode=r===1?`
        void main(){
          int rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = getChannel(getX(`+e[0]+` - rc - 1),
            `+e[0]+` - rc - 1);
          if(`+i+`){
              result.g = getChannel(getX(`+e[0]+` - (rc  + 1) - 1),
                `+e[0]+` - (rc  + 1) - 1);
          }
          setOutput(result);
        }
      `:`
        void main() {
          `+o+` rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = `+function(l){return s(l)}(n.slice())+`;
          if(`+i+`){
            result.g = `+function(l){return l[r-1]="("+l[r-1]+" + 1)",s(l)}(n.slice())+`;
          }
          if(`+a+`) {
            result.b = `+function(l){return l[r-2]="("+l[r-2]+" + 1)",s(l)}(n.slice())+`;
            if(`+i+`) {
              result.a = `+function(l){return l[r-1]="("+l[r-1]+" + 1)",l[r-2]="("+l[r-2]+" + 1)",s(l)}(n.slice())+`;
            }
          }
          setOutput(result);
        }
    `},wL=function(e,t,r,n,i,a,o){this.variableNames=["updates","indices","defaultValue"],this.outputShape=a;var s=Kr(i.length),l=Kr(a.length),u="";r===1?u="i":r===2&&(u="i, j");var c="getIndices("+u+")",A="";n===1?A="i":n===2&&(A="i, coords[1]");var d="getUpdates("+A+")",f=t>1?"strides[j]":"strides";this.userCode=`
        `+s+" strides = "+s+"("+i+`);

        void main() {
          `+l+` coords = getOutputCoords();
          float sum = 0.0;
          bool found = false;
          for (int i = 0; i < `+e+`; i++) {
            int flattenedIndex = 0;
            for (int j = 0; j < `+t+`; j++) {
              int index = round(`+c+`);
              flattenedIndex += index * `+f+`;
            }
            if (flattenedIndex == coords[0]) {
              sum += `+d+`;
              found = true;
            }
          }
          setOutput(mix(getDefaultValue(), sum, float(found)));
        }
      `},bhe=function(e,t){this.variableNames=["x","segmentIds"];var r=e.windowSize,n=e.batchSize,i=e.inSize,a=e.numSegments,o=a*Math.ceil(i/r);this.outputShape=[n,o];var s=4*Math.floor(r/4),l=r%4,u=`
        sumValue += dot(values, segFilter);
    `,c="";i%r>0&&(c=`
        if (inIdx < 0 || inIdx >= `+i+`) {
          return initializationValue;
        }
      `);var A="";i%r>0&&(A=`
        if (inIdx < 0 || inIdx >= `+i+`) {
          return -1.0;
        }
      `),this.userCode=`
      const float initializationValue = 0.0;

      float getValue(int batch, int inIdx) {
        `+c+`
        return getX(batch, inIdx);
      }

      float getSegmentIdAtIndex(int inIdx) {
        `+A+`
        return getSegmentIds(inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = int(floor(float(outIdx) / float(
          `+a+")) * float("+r+`));
        int currentSeg = int(mod(float(outIdx), float(`+a+`)));

        float sumValue = 0.0;

        for (int i = 0; i < `+s+`; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0
          );

          `+u+`
        }

        int inIdx = inOffset + `+s+`;
        if (`+(l===1)+`) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            0,
            0,
            0
          );

          `+u+`
        } else if (`+(l===2)+`) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
              0,
              0
          );

          `+u+`
        } else if (`+(l===3)+`) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            0
          );

          `+u+`
        }
        setOutput(sumValue);
      }
    `},Bhe=function(e,t,r){var n,i;if(this.variableNames=["c","a","b"],this.outputShape=t,r>4)throw Error("Where for rank "+r+" is not yet supported");if(r===1)i="resRC",n="resRC";else{for(var a=["resRC.x","resRC.y","resRC.z","resRC.w"],o=[],s=[],l=0;l<t.length;l++)s.push(""+a[l]),l<e&&o.push(""+a[l]);n=o.join(),i=s.join()}var u=Kr(r);this.userCode=`
      void main() {
        `+u+` resRC = getOutputCoords();
        float cVal = getC(`+n+`);
        if (cVal >= 1.0) {
          setOutput(getA(`+i+`));
        } else {
          setOutput(getB(`+i+`));
        }
      }
    `},Che=function(){function e(t){this.variableNames=["source"],this.outputShape=t,this.rank=t.length;var r,n=Kr(this.rank),i="uniform int start["+this.rank+"];",a=function(o){if(o===1)return"sourceLoc";if(o<=6)return e5.slice(0,o).map(function(s){return"sourceLoc."+s}).join(",");throw Error("Slicing for rank "+o+" is not yet supported")}(this.rank);r=`
        `+n+` sourceLoc;
        `+n+` coords = getOutputCoords();
        `+t.map(function(o,s){return"sourceLoc."+e5[s]+" = start["+s+"] + coords."+e5[s]+";"}).join(`
`)+`
      `,this.userCode=`
      `+i+`
      void main() {
        `+r+`
        setOutput(getSource(`+a+`));
      }
    `}return e.prototype.getCustomSetupFunc=function(t){var r=this;if(t.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+t.length+")");return function(n,i){r.startLoc==null&&(r.startLoc=n.getUniformLocationNoThrow(i,"start"),r.startLoc==null)||n.gl.uniform1iv(r.startLoc,t)}},e}(),e5=["x","y","z","w","u","v"],Ehe=function(){function e(t){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.rank=t.length;var r=Kr(this.rank),n=Ka("coords",this.rank),i=Ka("sourceLoc",this.rank),a=this.rank===1?"sourceLoc":"vec2("+i.slice(-2).join()+")",o="getChannel(getSource("+i.join()+"), "+a+")",s=`
      result.x = `+o+`;
      if (++`+n[this.rank-1]+" < "+t[this.rank-1]+`) {
        ++`+i[this.rank-1]+`;
        result.y = `+o+`;
        --`+i[this.rank-1]+`;
      }
    `,l=this.rank===1?"":`
      --`+n[this.rank-1]+`;
      if (++`+n[this.rank-2]+" < "+t[this.rank-2]+`) {
        ++`+i[this.rank-2]+`;
        result.z = `+o+`;
        if (++`+n[this.rank-1]+" < "+t[this.rank-1]+`) {
          ++`+i[this.rank-1]+`;
          result.w = `+o+`;
        }
      }
    `,u=this.rank<=4?`sourceLoc = coords +
            `+r+"("+t.map(function(c,A){return"start["+A+"]"}).join()+");":t.map(function(c,A){return i[A]+" = "+n[A]+" + start["+A+"];"}).join(`
`);this.userCode=`
      uniform int start[`+this.rank+`];
      void main() {
        `+r+` coords = getOutputCoords();
        `+r+` sourceLoc;
        `+u+`
        vec4 result = vec4(0.);
        `+s+`
        `+l+`
        setOutput(result);
      }
    `}return e.prototype.getCustomSetupFunc=function(t){var r=this;if(t.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+t.length+")");return function(n,i){r.startLoc==null&&(r.startLoc=n.getUniformLocationNoThrow(i,"start"),r.startLoc==null)||n.gl.uniform1iv(r.startLoc,t)}},e}(),She=function(e,t,r){this.variableNames=["x"],this.outputShape=r;var n=r.length,i=Kr(r.length),a=Kr(r.length),o="";if(n===1)o="coords * strides + begin";else{var s=0;o=r.map(function(l,u){return s++,r.length===1?"coords * strides["+u+"] + begin["+u+"]":"coords["+(s-1)+"] * strides["+u+"] + begin["+u+"]"}).join(",")}this.userCode=`
      `+i+" begin = "+i+"("+e+`);
      `+i+" strides = "+i+"("+t+`);

      void main() {
        `+a+` coords = getOutputCoords();
        setOutput(getX(`+o+`));
      }
    `},Nhe=function(){function e(t){this.gpgpu=t,this.numUsedTextures=0,this.numFreeTextures=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return e.prototype.acquireTexture=function(t,r,n){var i,a=xL(r,n),o=bL(t,a,n);if(o in this.freeTextures||(this.freeTextures[o]=[]),o in this.usedTextures||(this.usedTextures[o]=[]),this.freeTextures[o].length>0){this.numFreeTextures--,this.numUsedTextures++,this.log();var s=this.freeTextures[o].shift();return this.usedTextures[o].push(s),s}return this.numUsedTextures++,this.log(),a===Bo.PACKED_2X2_FLOAT32?i=this.gpgpu.createPackedMatrixTexture(t[0],t[1]):a===Bo.PACKED_2X2_FLOAT16?i=this.gpgpu.createFloat16PackedMatrixTexture(t[0],t[1]):a===Bo.UNPACKED_FLOAT32?i=this.gpgpu.createFloat32MatrixTexture(t[0],t[1]):a===Bo.UNPACKED_FLOAT16?i=this.gpgpu.createFloat16MatrixTexture(t[0],t[1]):a===Bo.PACKED_4X1_UNSIGNED_BYTE&&(i=this.gpgpu.createUnsignedBytesMatrixTexture(t[0],t[1])),this.usedTextures[o].push(i),i},e.prototype.releaseTexture=function(t,r,n,i){if(this.freeTextures!=null){var a=bL(r,xL(n,i),i);a in this.freeTextures||(this.freeTextures[a]=[]),this.freeTextures[a].push(t),this.numFreeTextures++,this.numUsedTextures--;var o=this.usedTextures[a],s=o.indexOf(t);if(s<0)throw new Error("Cannot release a texture that was never provided by this texture manager");o.splice(s,1),this.log()}},e.prototype.log=function(){if(this.logEnabled){var t=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",this.numFreeTextures+" / "+this.numUsedTextures,"("+t+")")}},e.prototype.getNumUsedTextures=function(){return this.numUsedTextures},e.prototype.getNumFreeTextures=function(){return this.numFreeTextures},e.prototype.dispose=function(){var t=this;if(this.freeTextures!=null){for(var r in this.freeTextures)this.freeTextures[r].forEach(function(n){t.gpgpu.deleteMatrixTexture(n)});for(var r in this.usedTextures)this.usedTextures[r].forEach(function(i){t.gpgpu.deleteMatrixTexture(i)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0}},e}();function xL(e,t){if(e===No.UPLOAD)return Bo.PACKED_2X2_FLOAT32;if(e===No.RENDER||e==null)return function(r){return Le().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?r?Bo.PACKED_2X2_FLOAT32:Bo.UNPACKED_FLOAT32:r?Bo.PACKED_2X2_FLOAT16:Bo.UNPACKED_FLOAT16}(t);if(e===No.DOWNLOAD||e===No.PIXELS)return Bo.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type "+e)}function bL(e,t,r){return e[0]+"_"+e[1]+"_"+t+"_"+r}var Fhe=function(e,t){this.variableNames=["A"];for(var r=new Array(e.length),n=0;n<r.length;n++)r[n]=e[n]*t[n];this.outputShape=r,this.rank=r.length;var i=Kr(this.rank),a=function(o){var s=o.length;if(s>5)throw Error("Tile for rank "+s+" is not yet supported");if(s===1)return"imod(resRC, "+o[0]+")";for(var l=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],u=[],c=0;c<o.length;c++)u.push("imod("+l[c]+", "+o[c]+")");return u.join()}(e);this.userCode=`
      void main() {
        `+i+` resRC = getOutputCoords();
        setOutput(getA(`+a+`));
      }
    `},Ihe=function(e,t){this.variableNames=["A"];for(var r=new Array(e.length),n=0;n<r.length;n++)r[n]=e[t[n]];this.outputShape=r,this.rank=r.length;var i=Kr(this.rank),a=function(o){var s=o.length;if(s>6)throw Error("Transpose for rank "+s+" is not yet supported");for(var l=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],u=new Array(s),c=0;c<o.length;c++)u[o[c]]=l[c];return u.join()}(t);this.userCode=`
    void main() {
      `+i+` resRC = getOutputCoords();
      setOutput(getA(`+a+`));
    }
    `},_he=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;for(var r=new Array(e.length),n=0;n<r.length;n++)r[n]=e[t[n]];if(this.outputShape=r,this.rank=r.length,this.rank>6)throw Error("Packed transpose for rank "+this.rank+" is not yet supported.");var i=Kr(this.rank),a=W7("rc",this.rank),o=new Array(this.rank);for(n=0;n<t.length;n++)o[t[n]]=a[n];var s="vec2("+o.slice(-2).join()+")",l="++"+a[this.rank-1]+" < "+r[this.rank-1],u="getChannel(getA("+o.join()+"), "+s+")";this.userCode=`
    void main() {
      `+i+` rc = getOutputCoords();
      vec4 result = vec4(0.);
      result[0] = `+u+`;
      if(`+l+`) {
        result[1] = `+u+`;
      }
      --`+a[this.rank-1]+`;
      if(++`+a[this.rank-2]+" < "+r[this.rank-2]+`) {
        result[2] = `+u+`;
        if(`+l+`) {
          result[3] = `+u+`;
        }
      }
      setOutput(result);
    }
    `},kN=1.7580993408473768,PN=1.0507009873554805,Zt=function(e,t){this.variableNames=["A"],this.outputShape=e,this.userCode=`
      float unaryOperation(float x) {
        `+t+`
      }

      void main() {
        float x = getAAtOutCoords();
        float y = unaryOperation(x);

        setOutput(y);
      }
    `},Zs="if (isnan(x)) return x;",khe="return x;",BL="return abs(x);",q7=Zs+`
  return (x < 0.0) ? 0.0 : x;
`,X7=Zs+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,Y7="return (x >= 0.0) ? x : (exp(x) - 1.0);",Phe=`
  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.
  // see: https://arxiv.org/abs/1706.02515
  float scaleAlpha = `+kN+`;
  float scale = `+PN+`;
  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);
`,CL="return -x;",EL="return ceil(x);",SL="return floor(x);",NL="return exp(x);",FL="return exp(x) - 1.0;",Ohe=Zs+`
  return sin(x);
`,The=Zs+`
  return cos(x);
`,Lhe=Zs+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return asin(x);
`,Uhe=Zs+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return acos(x);
`,Rhe=Zs+`
  return atan(x);
`,Dhe=Zs+"return log(x + sqrt(x * x + 1.0));",jhe=Zs+`
  if (x < 1.0) return NAN;
  return log(x + sqrt(x * x - 1.0));`,Mhe=Zs+`
  if ((x < -1.0) || (x > 1.0)) return NAN;
  return (log(1.0 + x) - log(1.0 - x)) / 2.0;`,By="return x;",Qhe="return x;",J7=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,Z7=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,e9=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,rm=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.userCode=`
      vec4 unaryOperation(vec4 x) {
        `+t+`
      }

      void main() {
        vec4 x = getAAtOutCoords();
        vec4 y = unaryOperation(x);

        setOutput(y);
      }
    `},Hhe=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e;var t=e.length,r=Ka("rc",t),n=Kr(t),i=function(s,l){if(s===1)return"rc";for(var u="",c=0;c<s;c++)u+=l[c],c<s-1&&(u+=",");return u}(t,r),a=r.slice(-2),o=t<=1?"rc":"vec2("+a.join(",")+")";this.userCode=`
      void main() {
        `+n+` rc = getOutputCoords();
        vec4 packedInput = getA(`+i+`);

        setOutput(getChannel(packedInput, `+o+`));
      }
    `},Cy={};function Ey(e,t){if(t===void 0&&(t=!1),e==="linear")return t?Qhe:khe;if(e==="relu")return t?J7:q7;if(e==="elu")return t?e9:Y7;if(e==="relu6")return t?Z7:X7;if(e==="prelu")return t?G7:V7;throw new Error("Activation "+e+" has not been implemented for the WebGL backend.")}var $he=600,Whe=function(e){function t(r){var n,i=e.call(this)||this;if(i.pendingRead=new WeakMap,i.pendingDisposal=new WeakSet,i.dataRefCount=new WeakMap,i.numBytesInGPU=0,i.uploadWaitMs=0,i.downloadWaitMs=0,i.warnedAboutMemory=!1,i.pendingDeletes=0,i.disposed=!1,!Le().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(r==null){var a=jl(Le().getNumber("WEBGL_VERSION"));i.binaryCache=((n=Le().getNumber("WEBGL_VERSION"))in Cy||(Cy[n]={}),Cy[n]),i.gpgpu=new the(a),i.canvas=a.canvas,i.gpgpuCreatedLocally=!0}else i.gpgpu=r,i.binaryCache={},i.gpgpuCreatedLocally=!1,i.canvas=r.gl.canvas;return i.textureManager=new Nhe(i.gpgpu),i.numMBBeforeWarning=Le().global.screen==null?1024:Le().global.screen.height*Le().global.screen.width*window.devicePixelRatio*$he/1024/1024,i.texData=new L7(i,ge),i}return Js(t,e),t.prototype.numDataIds=function(){return this.texData.numDataIds()+(this.cpuBackend?this.cpuBackend.numDataIds():0)-this.pendingDeletes},t.prototype.write=function(r,n,i){if(Le().getBool("DEBUG")&&this.checkNumericalProblems(r),i==="complex64"&&r!=null)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");var a={};return this.texData.set(a,{shape:n,dtype:i,values:r,usage:No.UPLOAD}),a},t.prototype.move=function(r,n,i,a){if(Le().getBool("DEBUG")&&this.checkNumericalProblems(n),a==="complex64")throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(r,{shape:i,dtype:a,values:n,usage:No.UPLOAD})},t.prototype.readSync=function(r){var n=this.texData.get(r),i=n.values,a=n.dtype,o=n.complexTensors,s=n.slice,l=n.shape,u=n.isPacked;if(s!=null){var c=void 0;c=u?new rm(l,By):new Zt(l,By);var A=this.runWebGLProgram(c,[{dataId:r,shape:l,dtype:a}],a),d=this.readSync(A.dataId);return this.disposeData(A.dataId),d}if(i!=null)return this.convertAndCacheOnCPU(r);if(a==="string")return i;var f,p,g=this.activeTimers!=null;return g&&(f=gl()),a==="complex64"?p=US(o.real.dataSync(),o.imag.dataSync()):p=this.getValuesFromTexture(r),g&&(this.downloadWaitMs+=gl()-f),this.convertAndCacheOnCPU(r,p)},t.prototype.read=function(r){return ft(this,void 0,void 0,function(){var n,i,a,o,s,l,u,c,A,d,f,p,g,v,m,y,w,b,B,S,P,k;return dt(this,function(I){switch(I.label){case 0:if(this.pendingRead.has(r))return n=this.pendingRead.get(r),[2,new Promise(function(O){return n.push(O)})];if(i=this.texData.get(r),a=i.values,o=i.shape,s=i.slice,l=i.dtype,u=i.complexTensors,c=i.isPacked,s!=null)return A=void 0,A=c?new rm(o,By):new Zt(o,By),d=this.runWebGLProgram(A,[{dataId:r,shape:o,dtype:l}],l),f=this.read(d.dataId),this.disposeData(d.dataId),[2,f];if(a!=null)return[2,this.convertAndCacheOnCPU(r)];if(!Le().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&Le().getNumber("WEBGL_VERSION")===2)throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");return p=null,l!=="complex64"&&Le().get("WEBGL_BUFFER_SUPPORTED")&&(g=this.decode(r),v=this.texData.get(g.dataId),p=(k=this.gpgpu).createBufferFromTexture.apply(k,[v.texture].concat(Qm(o)))),this.pendingRead.set(r,[]),l==="complex64"?[3,2]:[4,this.gpgpu.createAndWaitForFence()];case 1:I.sent(),I.label=2;case 2:return l!=="complex64"?[3,4]:[4,Promise.all([u.real.data(),u.imag.data()])];case 3:return y=I.sent(),w=y[0],b=y[1],m=US(w,b),[3,5];case 4:p==null?m=this.getValuesFromTexture(r):(B=yt(o),m=this.gpgpu.downloadFloat32MatrixFromBuffer(p,B)),I.label=5;case 5:return g!=null&&this.disposeData(g.dataId),S=this.convertAndCacheOnCPU(r,m),P=this.pendingRead.get(r),this.pendingRead.delete(r),P.forEach(function(O){return O(S)}),this.pendingDisposal.has(r)&&(this.pendingDisposal.delete(r),this.disposeData(r),this.pendingDeletes--),[2,S]}})})},t.prototype.checkNumericalProblems=function(r){if(r!=null)for(var n=0;n<r.length;n++){var i=r[n];if(!PAe(i))throw Le().getBool("WEBGL_RENDER_FLOAT32_CAPABLE")?Error("The value "+i+" cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'"):Error("The value "+i+" cannot be represented on this device.")}},t.prototype.getValuesFromTexture=function(r){var n,i=this.texData.get(r),a=i.shape,o=i.dtype,s=i.isPacked,l=yt(a);if(Le().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){var u=this.decode(r),c=this.texData.get(u.dataId),A=(n=this.gpgpu).downloadMatrixFromPackedTexture.apply(n,[c.texture].concat(Qm(a))).subarray(0,l);return this.disposeData(u.dataId),A}var d=Le().getBool("WEBGL_PACK")&&s===!0,f=d?VC(a):a,p=d?new kde(f):new _de(f),g=this.runWebGLProgram(p,[{shape:f,dtype:o,dataId:r}],"float32"),v=this.texData.get(g.dataId),m=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(v.texture,v.texShape[0],v.texShape[1]).subarray(0,l);return this.disposeData(g.dataId),m},t.prototype.time=function(r){return ft(this,void 0,void 0,function(){var n,i,a,o,s,l,u;return dt(this,function(c){switch(c.label){case 0:return n=this.activeTimers,i=[],a=!1,this.programTimersStack==null?(this.programTimersStack=i,a=!0):this.activeTimers.push(i),this.activeTimers=i,r(),o=bh(this.activeTimers.map(function(A){return A.query})).filter(function(A){return A!=null}),s=bh(this.activeTimers.map(function(A){return A.name})).filter(function(A){return A!=null}),this.activeTimers=n,a&&(this.programTimersStack=null),l={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null},Le().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[4,Promise.all(o)]:[3,2];case 1:return u=c.sent(),l.kernelMs=fAe(u),l.getExtraProfileInfo=function(){return u.map(function(A,d){return{name:s[d],ms:A}}).map(function(A){return A.name+": "+A.ms}).join(", ")},[3,3];case 2:l.kernelMs={error:"WebGL query timers are not supported in this environment."},c.label=3;case 3:return this.uploadWaitMs=0,this.downloadWaitMs=0,[2,l]}})})},t.prototype.memory=function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU}},t.prototype.startTimer=function(){return Le().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:gl(),endMs:null}},t.prototype.endTimer=function(r){return Le().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),r):(r.endMs=gl(),r)},t.prototype.getQueryTime=function(r){return ft(this,void 0,void 0,function(){var n;return dt(this,function(i){return Le().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[2,this.gpgpu.waitForQueryAndGetTime(r)]:[2,(n=r).endMs-n.startMs]})})},t.prototype.disposeData=function(r){if(!this.pendingDisposal.has(r)){if(this.pendingRead.has(r))return this.pendingDisposal.add(r),void this.pendingDeletes++;if(this.texData.has(r)){this.releaseGPUData(r);var n=this.texData.get(r).complexTensors;n!=null&&(n.real.dispose(),n.imag.dispose()),this.texData.delete(r)}}},t.prototype.releaseGPUData=function(r){var n=this.texData.get(r),i=n.texture,a=n.dtype,o=n.texShape,s=n.usage,l=n.isPacked,u=n.slice,c=u&&u.origDataId||r,A=this.dataRefCount.get(c);A>1?this.dataRefCount.set(c,A-1):(this.dataRefCount.delete(c),i!=null&&(this.numBytesInGPU-=this.computeBytes(o,a),this.textureManager.releaseTexture(i,o,s,l)));var d=this.texData.get(r);d.texture=null,d.texShape=null,d.isPacked=!1,d.slice=null},t.prototype.getTexture=function(r){return this.uploadToGPU(r),this.texData.get(r).texture},t.prototype.getDataInfo=function(r){return this.texData.get(r)},t.prototype.getCPUBackend=function(){return Le().getBool("WEBGL_CPU_FORWARD")?(this.cpuBackend==null&&(this.cpuBackend=ge.findBackend("cpu")),this.cpuBackend):null},t.prototype.shouldExecuteOnCPU=function(r,n){var i=this;return n===void 0&&(n=128),this.getCPUBackend()!=null&&r.every(function(a){return i.texData.get(a.dataId).texture==null&&a.size<n})},t.prototype.getGPGPUContext=function(){return this.gpgpu},t.prototype.complex=function(r,n){var i=this.makeOutput(r.shape,"complex64");return this.texData.get(i.dataId).complexTensors={real:ge.keep(r.clone()),imag:ge.keep(n.clone())},i},t.prototype.real=function(r){return this.texData.get(r.dataId).complexTensors.real.clone()},t.prototype.imag=function(r){return this.texData.get(r.dataId).complexTensors.imag.clone()},t.prototype.slice=function(r,n,i){if(this.shouldExecuteOnCPU([r]))return this.cpuBackend.slice(r,n,i);if(yt(i)===0)return qi([],i,r.dtype);var a=this.texData.get(r.dataId).isPacked,o=O7(r.shape,n,i);if(a||!o){var s=Le().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Ehe(i):new Che(i),l=s.getCustomSetupFunc(n);return this.compileAndRun(s,[r],null,l)}return this.uploadToGPU(r.dataId),this.shallowSlice(r,n,i)},t.prototype.shallowSlice=function(r,n,i){var a=this.texData.get(r.dataId),o=this.makeOutput(i,r.dtype),s=this.texData.get(o.dataId);Object.assign(s,a),s.shape=i,s.dtype=r.dtype;var l=T7(n,r.strides);a.slice&&(l+=a.slice.flatOffset),s.slice={flatOffset:l,origDataId:a.slice&&a.slice.origDataId||r.dataId};var u=this.dataRefCount.get(s.slice.origDataId)||1;return this.dataRefCount.set(s.slice.origDataId,u+1),o},t.prototype.stridedSlice=function(r,n,i,a){if(this.shouldExecuteOnCPU([r]))return this.cpuBackend.stridedSlice(r,n,i,a);var o=EN(n,i,a);if(o.some(function(l){return l===0}))return qi([],o);var s=new She(n,a,o);return this.compileAndRun(s,[r])},t.prototype.reverse=function(r,n){var i=Le().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new xhe(r.shape,n):new whe(r.shape,n);return this.compileAndRun(i,[r])},t.prototype.concat=function(r,n){if(r[0].dtype==="complex64"){var i=r.map(function(f){return ts(f)}),a=r.map(function(f){return wl(f)});return Vi(this.concat(i,n),this.concat(a,n))}if(this.shouldExecuteOnCPU(r))return this.cpuBackend.concat(r,n);if(r.length===1)return r[0];if(r.length>Le().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){var o=Math.floor(r.length/2),s=this.concat(r.slice(0,o),n),l=this.concat(r.slice(o),n);return this.concat([s,l],n)}if(Le().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&r[0].rank>1){var u=new mde(r.map(function(f){return f.shape}),n);return this.compileAndRun(u,r)}var c=Ch(r.map(function(f){return f.shape}),n),A=r.map(function(f){return f.as2D(-1,yt(f.shape.slice(n)))}),d=new pde(A.map(function(f){return f.shape}));return this.compileAndRun(d,A).reshape(c)},t.prototype.neg=function(r){if(this.shouldExecuteOnCPU([r]))return this.cpuBackend.neg(r);if(Le().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(r,CL,r.dtype);var n=new Zt(r.shape,CL);return this.compileAndRun(n,[r])},t.prototype.batchMatMul=function(r,n,i,a){var o=i?r.shape[2]:r.shape[1],s=a?n.shape[1]:n.shape[2],l=i?r.shape[1]:r.shape[2],u=r.shape[0];if((o===1||s===1)&&l>1e3){i&&(r=r.transpose([0,2,1])),a&&(n=n.transpose([0,2,1]));var c=s===1?r:r.as3D(u,l,1),A=s===1?2:1,d=s===1?n.as3D(u,1,l):n;return this.multiply(c,d).sum(A,!0)}var f=Gi(r.dtype,n.dtype),p=new YC(r.shape,[u,o,s],i,a);return this.compileAndRun(p,[r,n],f)},t.prototype.fusedBatchMatMul=function(r){var n=r.a,i=r.b,a=r.transposeA,o=r.transposeB,s=r.bias,l=r.activation,u=r.preluActivationWeights,c=a?n.shape[2]:n.shape[1],A=o?i.shape[1]:i.shape[2],d=n.shape[0],f=Gi(n.dtype,i.dtype),p=s!=null,g=u!=null,v=l?Ey(l,!0):null,m=new YC(n.shape,[d,c,A],a,o,p,v,g),y=[n,i];return s&&y.push(s),u&&y.push(u),this.compileAndRun(m,y,f)},t.prototype.multiply=function(r,n){if(r.dtype==="complex64"){var i=this.texData.get(r.dataId),a=this.texData.get(n.dataId),o=new fL(cde,r.shape,n.shape),s=new fL(Ade,r.shape,n.shape),l=[this.makeComplexComponentTensorInfo(r,i.complexTensors.real),this.makeComplexComponentTensorInfo(r,i.complexTensors.imag),this.makeComplexComponentTensorInfo(n,a.complexTensors.real),this.makeComplexComponentTensorInfo(n,a.complexTensors.imag)],u=this.compileAndRun(o,l),c=this.compileAndRun(s,l),A=this.complex(u,c);return u.dispose(),c.dispose(),A}if(this.shouldExecuteOnCPU([r,n]))return this.cpuBackend.multiply(r,n);if(Le().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(r,n,dL,r.dtype);var d=new Bn(dL,r.shape,n.shape);return this.compileAndRun(d,[r,n],r.dtype)},t.prototype.batchNormalization=function(r,n,i,a,o,s){var l=[r,n,i],u=null;s!=null&&(u=s.shape,l.push(s));var c=null;if(o!=null&&(c=o.shape,l.push(o)),Le().getBool("WEBGL_PACK_NORMALIZATION")){var A=new ude(r.shape,n.shape,i.shape,u,c,a);return this.compileAndRun(A,l)}var d=new lde(r.shape,n.shape,i.shape,u,c,a);return this.compileAndRun(d,l)},t.prototype.localResponseNormalization4D=function(r,n,i,a,o){var s=Le().getBool("WEBGL_PACK_NORMALIZATION")?new ahe(r.shape,n,i,a,o):new nhe(r.shape,n,i,a,o);return this.compileAndRun(s,[r])},t.prototype.LRNGrad=function(r,n,i,a,o,s,l){var u=new ihe(n.shape,a,o,s,l);return this.compileAndRun(u,[n,i,r])},t.prototype.tile=function(r,n){if(r.dtype==="string"){var i=this.readSync(r.dataId).map(function(o){return gw(o)});return H7(zt(r.shape,r.dtype,i),n)}var a=new Fhe(r.shape,n);return this.compileAndRun(a,[r])},t.prototype.pad=function(r,n,i){var a=Le().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new fhe(r.shape,n,i):new Ahe(r.shape,n,i);return this.compileAndRun(a,[r])},t.prototype.transpose=function(r,n){if(this.shouldExecuteOnCPU([r]))return this.cpuBackend.transpose(r,n);var i=Le().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new _he(r.shape,n):new Ihe(r.shape,n);return this.compileAndRun(i,[r])},t.prototype.gather=function(r,n,i){if(this.shouldExecuteOnCPU([r,n]))return this.cpuBackend.gather(r,n,i);var a=new Rde(r.shape,n.size,i);return this.compileAndRun(a,[r,n])},t.prototype.batchToSpaceND=function(r,n,i){oe(r.rank<=4,function(){return"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"});var a=n.reduce(function(A,d){return A*d}),o=Bw(r.shape,n,a),s=Cw(o.length,n.length),l=Ew(r.shape,n,a),u=I7(i,n.length),c=_7(l,i,n.length);return r.reshape(o).transpose(s).reshape(l).slice(u,c)},t.prototype.spaceToBatchND=function(r,n,i){oe(r.rank<=4,function(){return"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"});var a=n.reduce(function(d,f){return d*f}),o=[[0,0]];o.push.apply(o,i);for(var s=1+n.length;s<r.shape.length;++s)o.push([0,0]);var l=r.pad(o),u=Bw(l.shape,n,a,!1),c=Cw(u.length,n.length,!1),A=Ew(l.shape,n,a,!1);return l.reshape(u).transpose(c).reshape(A)},t.prototype.reduce=function(r,n,i){var a=r.shape[0],o=r.shape[1],s=GC(o),l=new dhe({windowSize:s,inSize:o,batchSize:a},n),u=this.compileAndRun(l,[r],i);return u.shape[1]===1?u:this.reduce(u,n,i)},t.prototype.argReduce=function(r,n,i){i===void 0&&(i=null);var a=r.shape[0],o=r.shape[1];i!=null&&(a=i.shape[0],o=i.shape[1]);var s=GC(o),l=new Zfe({windowSize:s,inSize:o,batchSize:a},n,i==null),u=[r];i!=null&&u.push(i);var c=this.compileAndRun(l,u,"int32");return c.shape[1]===1?c:this.argReduce(r,n,c)},t.prototype.argReducePacked=function(r,n,i){i===void 0&&(i=null);var a=i!=null?i.shape:r.shape,o=GC(a[a.length-1]),s=new ade(a,o,n,i==null),l=i==null?[r]:[r,i],u=this.compileAndRun(s,l,"int32");return u.rank===r.rank?this.argReducePacked(r,n,u):u},t.prototype.sum=function(r,n){bo("sum",n,r.rank);var i=ca(r.shape,n),a=i[0],o=yt(i[1]),s=r.as2D(-1,o),l=MC(r.dtype);return this.reduce(s,"sum",l).reshape(a)},t.prototype.prod=function(r,n){if(this.shouldExecuteOnCPU([r]))return this.cpuBackend.prod(r,n);var i=ca(r.shape,n),a=i[0],o=yt(i[1]),s=r.as2D(-1,o),l=MC(r.dtype);return this.reduce(s,"prod",l).reshape(a)},t.prototype.unsortedSegmentSum=function(r,n,i){var a=0,o=Ml([a],r.rank),s=r;o!=null&&(s=r.transpose(o),a=Ql(1,r.rank)[0]);var l=function(f,p,g){for(var v=[],m=f.length,y=0;y<m;y++)y!==p?v.push(f[y]):v.push(g);return v}(s.shape,a,i),u=yt([s.shape[a]]),c=s.as2D(-1,u),A=MC(r.dtype),d=this.segOpCompute(c,"unsortedSegmentSum",n,A,i).reshape(l);return o!=null&&(d=d.transpose(xN(o))),d},t.prototype.segOpCompute=function(r,n,i,a,o){var s=r.shape[0],l=r.shape[1],u=function(d,f){var p,g=!1;for(d<=P7?(p=d,g=!0):p=NS(d,Math.floor(Math.sqrt(d)));!g;)p>f||p===d?g=!0:p=NS(d,p+1);return p}(l,o),c=new bhe({windowSize:u,inSize:l,batchSize:s,numSegments:o}),A=this.compileAndRun(c,[r,i],a);return A.shape[1]===o?A:(i=bw(0,o).tile([l/u]),this.segOpCompute(A,n,i,a,o))},t.prototype.argMinMaxReduce=function(r,n,i){var a=[n];if(bo("arg"+i.charAt(0).toUpperCase()+i.slice(1),a,r.rank),!Le().getBool("WEBGL_PACK_REDUCE")||r.rank<=2){var o=ca(r.shape,a),s=o[0],l=yt(o[1]),u=r.as2D(-1,l);return this.argReduce(u,i).reshape(s)}return this.argReducePacked(r,i)},t.prototype.argMin=function(r,n){return this.argMinMaxReduce(r,n,"min")},t.prototype.argMax=function(r,n){return this.argMinMaxReduce(r,n,"max")},t.prototype.cumsum=function(r,n,i,a){if(n!==r.rank-1)throw new Error("WebGL cumsum shader expects an inner-most axis="+(r.rank-1)+" but got axis="+n);var o=new Ede(r.shape,i,a);return this.compileAndRun(o,[r])},t.prototype.equal=function(r,n){if(Le().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(r,n,`
  return vec4(equal(a, b));
`,"bool");var i=new Bn("return float(a == b);",r.shape,n.shape);return this.compileAndRun(i,[r,n],"bool")},t.prototype.notEqual=function(r,n){if(Le().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(r,n,`
  return vec4(notEqual(a, b));
`,"bool");var i=new Bn("return float(a != b);",r.shape,n.shape);return this.compileAndRun(i,[r,n],"bool")},t.prototype.less=function(r,n){if(this.shouldExecuteOnCPU([r,n]))return this.cpuBackend.less(r,n);if(Le().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(r,n,`
  return vec4(lessThan(a, b));
`,"bool");var i=new Bn("return float(a < b);",r.shape,n.shape);return this.compileAndRun(i,[r,n],"bool")},t.prototype.lessEqual=function(r,n){if(Le().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(r,n,`
  return vec4(lessThanEqual(a, b));
`,"bool");var i=new Bn("return float(a <= b);",r.shape,n.shape);return this.compileAndRun(i,[r,n],"bool")},t.prototype.greater=function(r,n){if(this.shouldExecuteOnCPU([r,n]))return this.cpuBackend.greater(r,n);if(Le().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(r,n,`
  return vec4(greaterThan(a, b));
`,"bool");var i=new Bn("return float(a > b);",r.shape,n.shape);return this.compileAndRun(i,[r,n],"bool")},t.prototype.greaterEqual=function(r,n){if(Le().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(r,n,`
  return vec4(greaterThanEqual(a, b));
`,"bool");var i=new Bn("return float(a >= b);",r.shape,n.shape);return this.compileAndRun(i,[r,n],"bool")},t.prototype.logicalNot=function(r){var n=new Zt(r.shape,"return float(!(x >= 1.0));");return this.compileAndRun(n,[r])},t.prototype.logicalAnd=function(r,n){if(Le().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(r,n,`
  return vec4(
    vec4(greaterThanEqual(a, vec4(1.0))) *
    vec4(greaterThanEqual(b, vec4(1.0))));
`,"bool");var i=new Bn("return float(a >= 1.0 && b >= 1.0);",r.shape,n.shape);return this.compileAndRun(i,[r,n],"bool")},t.prototype.logicalOr=function(r,n){if(Le().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(r,n,`
  return min(
    vec4(greaterThanEqual(a, vec4(1.0))) +
    vec4(greaterThanEqual(b, vec4(1.0))),
    vec4(1.0));
`,"bool");var i=new Bn("return float(a >= 1.0 || b >= 1.0);",r.shape,n.shape);return this.compileAndRun(i,[r,n],"bool")},t.prototype.select=function(r,n,i){var a=new Bhe(r.rank,n.shape,n.rank);return this.compileAndRun(a,[r,n,i],Gi(n.dtype,i.dtype))},t.prototype.where=function(r){ww("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var n=r.dataSync();return IN(r.shape,n)},t.prototype.topk=function(r,n,i){return $7(r.dataSync(),r.shape,r.dtype,n)},t.prototype.min=function(r,n){bo("min",n,r.rank);var i=ca(r.shape,n),a=i[0],o=yt(i[1]),s=r.as2D(-1,o);return this.reduce(s,"min",s.dtype).reshape(a)},t.prototype.minimum=function(r,n){if(this.shouldExecuteOnCPU([r,n]))return this.cpuBackend.minimum(r,n);var i=Le().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new cu(`
  vec4 result = vec4(min(a, b));
  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,r.shape,n.shape):new Bn(`
  if (isnan(a)) return a;
  if (isnan(b)) return b;

  return min(a, b);
`,r.shape,n.shape);return this.compileAndRun(i,[r,n])},t.prototype.mod=function(r,n){var i=Le().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new cu(`
  vec4 result = mod(a, b);
  vec4 isNaN = vec4(equal(b, vec4(0.0)));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,r.shape,n.shape):new Bn(`if (b == 0.0) return NAN;
  return mod(a, b);`,r.shape,n.shape);return this.compileAndRun(i,[r,n])},t.prototype.max=function(r,n){if(this.shouldExecuteOnCPU([r]))return this.cpuBackend.max(r,n);bo("max",n,r.rank);var i=ca(r.shape,n),a=i[0],o=yt(i[1]),s=r.as2D(-1,o);return this.reduce(s,"max",s.dtype).reshape(a)},t.prototype.maximum=function(r,n){if(this.shouldExecuteOnCPU([r,n]))return this.cpuBackend.maximum(r,n);var i=Le().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new cu(`
  vec4 result = vec4(max(a, b));
  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,r.shape,n.shape):new Bn(`
  if (isnan(a)) return a;
  if (isnan(b)) return b;

  return max(a, b);
`,r.shape,n.shape);return this.compileAndRun(i,[r,n])},t.prototype.all=function(r,n){bo("all",n,r.rank);var i=ca(r.shape,n),a=i[0],o=yt(i[1]),s=r.as2D(-1,o);return this.reduce(s,"all",s.dtype).reshape(a)},t.prototype.any=function(r,n){bo("any",n,r.rank);var i=ca(r.shape,n),a=i[0],o=yt(i[1]),s=r.as2D(-1,o);return this.reduce(s,"any",s.dtype).reshape(a)},t.prototype.realDivide=function(r,n){if(Le().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(r,n,`
  // vec4 one = vec4(equal(a, b));
  // return one + (vec4(1.0) - one) * a / b;
  vec4 result = a / b;
  if(a.x == b.x) {
    result.x = 1.;
  }
  if(a.y == b.y) {
    result.y = 1.;
  }
  if(a.z == b.z) {
    result.z = 1.;
  }
  if(a.w == b.w) {
    result.w = 1.;
  }

  return result;
`,"float32",!0);var i=new Bn(`
if (a == b) {
  return 1.0;
};
return a / b;`,r.shape,n.shape);return this.compileAndRun(i,[r,n],"float32")},t.prototype.floorDiv=function(r,n){if(Le().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(r,n,`
  ivec4 ia = round(a);
  ivec4 ib = round(b);
  bvec4 cond = notEqual(ib, ivec4(0));
  ivec4 result = ivec4(0);
  vec4 s = sign(a) * sign(b);

  // Windows (D3D) wants guaranteed non-zero int division at compile-time.
  if (cond[0]) {
    result[0] = idiv(ia[0], ib[0], s[0]);
  }
  if (cond[1]) {
    result[1] = idiv(ia[1], ib[1], s[1]);
  }
  if (cond[2]) {
    result[2] = idiv(ia[2], ib[2], s[2]);
  }
  if (cond[3]) {
    result[3] = idiv(ia[3], ib[3], s[3]);
  }
  return vec4(result);
`,"int32");var i=new Bn(`
  float s = sign(a) * sign(b);
  int ia = round(a);
  int ib = round(b);
  if (ib != 0) {
    // Windows (D3D) wants guaranteed non-zero int division at compile-time.
    return float(idiv(ia, ib, s));
  } else {
    return NAN;
  }
`,r.shape,n.shape);return this.compileAndRun(i,[r,n],"int32")},t.prototype.add=function(r,n){if(r.dtype==="complex64"&&n.dtype==="complex64")return this.complexSeparableBinaryOp(r,n,qC);if(this.shouldExecuteOnCPU([r,n]))return this.cpuBackend.add(r,n);var i=Gi(r.dtype,n.dtype);if(Le().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(r,n,qC,i);var a=new Bn(qC,r.shape,n.shape);return this.compileAndRun(a,[r,n],i)},t.prototype.packedUnaryOp=function(r,n,i){var a=new rm(r.shape,n);return this.compileAndRun(a,[r],i)},t.prototype.packedBinaryOp=function(r,n,i,a,o){o===void 0&&(o=!1);var s=new cu(i,r.shape,n.shape,o);return this.compileAndRun(s,[r,n],a)},t.prototype.complexSeparableBinaryOp=function(r,n,i){var a=this,o=this.texData.get(r.dataId),s=this.texData.get(n.dataId),l=[[o.complexTensors.real,s.complexTensors.real],[o.complexTensors.imag,s.complexTensors.imag]].map(function(d){var f=d[0],p=d[1],g=a.makeComplexComponentTensorInfo(r,f),v=a.makeComplexComponentTensorInfo(n,p),m=new Bn(i,r.shape,n.shape);return a.compileAndRun(m,[g,v],Gi(f.dtype,p.dtype))}),u=l[0],c=l[1],A=this.complex(u,c);return u.dispose(),c.dispose(),A},t.prototype.makeComplexComponentTensorInfo=function(r,n){return{dataId:n.dataId,dtype:n.dtype,shape:r.shape}},t.prototype.addN=function(r){if(r.length===1)return r[0];if(r.length>Le().get("WEBGL_MAX_TEXTURES_IN_SHADER")){var n=Math.floor(r.length/2),i=this.addN(r.slice(0,n)),a=this.addN(r.slice(n));return this.addN([i,a])}var o=r.map(function(u){return u.dtype}).reduce(function(u,c){return Gi(u,c)}),s=r.map(function(u){return u.shape}),l=Le().getBool("WEBGL_PACK")?new Jfe(r[0].shape,s):new Yfe(r[0].shape,s);return this.compileAndRun(l,r,o)},t.prototype.subtract=function(r,n){if(r.dtype==="complex64"&&n.dtype==="complex64")return this.complexSeparableBinaryOp(r,n,XC);if(this.shouldExecuteOnCPU([r,n]))return this.cpuBackend.subtract(r,n);var i=Gi(r.dtype,n.dtype);if(Le().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(r,n,XC,r.dtype);var a=new Bn(XC,r.shape,n.shape);return this.compileAndRun(a,[r,n],i)},t.prototype.pow=function(r,n){var i=Le().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new cu(`
  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.
  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));
  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);
  vec4 result = multiplier * pow(abs(a), b);

  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS
  bvec4 isExpZero = equal(b, vec4(0.0));
  result.r = isExpZero.r ? 1.0 : result.r;
  result.g = isExpZero.g ? 1.0 : result.g;
  result.b = isExpZero.b ? 1.0 : result.b;
  result.a = isExpZero.a ? 1.0 : result.a;

  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,r.shape,n.shape):new Bn(`
if(a < 0.0 && floor(b) < b){
  return NAN;
}
if (b == 0.0) {
  return 1.0;
}
return (round(mod(b, 2.0)) != 1) ?
    pow(abs(a), b) : sign(a) * pow(abs(a), b);
`,r.shape,n.shape),a=Gi(r.dtype,n.dtype);return this.compileAndRun(i,[r,n],a)},t.prototype.ceil=function(r){if(this.shouldExecuteOnCPU([r]))return this.cpuBackend.ceil(r);if(Le().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(r,EL,r.dtype);var n=new Zt(r.shape,EL);return this.compileAndRun(n,[r])},t.prototype.floor=function(r){if(this.shouldExecuteOnCPU([r]))return this.cpuBackend.floor(r);if(Le().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(r,SL,r.dtype);var n=new Zt(r.shape,SL);return this.compileAndRun(n,[r])},t.prototype.sign=function(r){var n=new Zt(r.shape,`
  if (isnan(x)) { return 0.0; }
  return sign(x);
`);return this.compileAndRun(n,[r])},t.prototype.isNaN=function(r){var n=new Zt(r.shape,"return float(isnan(x));");return this.compileAndRun(n,[r],"bool")},t.prototype.isInf=function(r){var n=new Zt(r.shape,"return float(isinf(x));");return this.compileAndRun(n,[r],"bool")},t.prototype.isFinite=function(r){var n=new Zt(r.shape,"return float(!isnan(x) && !isinf(x));");return this.compileAndRun(n,[r],"bool")},t.prototype.round=function(r){var n=new Zt(r.shape,`
  // OpenGL ES does not support round function.
  // The algorithm is based on banker's rounding.
  float base = floor(x);
  if ((x - base) < 0.5) {
    return floor(x);
  } else if ((x - base) > 0.5) {
    return ceil(x);
  } else {
    if (mod(base, 2.0) == 0.0) {
      return base;
    } else {
      return base + 1.0;
    }
  }
`);return this.compileAndRun(n,[r])},t.prototype.exp=function(r){if(this.shouldExecuteOnCPU([r]))return this.cpuBackend.exp(r);if(Le().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(r,NL,r.dtype);var n=new Zt(r.shape,NL);return this.compileAndRun(n,[r])},t.prototype.expm1=function(r){if(this.shouldExecuteOnCPU([r]))return this.cpuBackend.expm1(r);if(Le().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(r,FL,r.dtype);var n=new Zt(r.shape,FL);return this.compileAndRun(n,[r])},t.prototype.softmax=function(r,n){var i=vi([n],r.shape),a=this.max(r,i),o=ro(a.shape,i),s=this.subtract(r,a.reshape(o)),l=this.exp(s),u=this.sum(l,i).reshape(o);return this.realDivide(l,u)},t.prototype.log=function(r){if(this.shouldExecuteOnCPU([r]))return this.cpuBackend.log(r);if(Le().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(r,`
  vec4 result = log(x);
  vec4 isNaN = vec4(lessThan(x, vec4(0.0)));
  result.r = isNaN.r == 1.0 ? NAN : result.r;
  result.g = isNaN.g == 1.0 ? NAN : result.g;
  result.b = isNaN.b == 1.0 ? NAN : result.b;
  result.a = isNaN.a == 1.0 ? NAN : result.a;

  return result;
`,r.dtype);var n=new Zt(r.shape,`if (x < 0.0) return NAN;
  return log(x);`);return this.compileAndRun(n,[r])},t.prototype.log1p=function(r){var n=new Zt(r.shape,"return log(1.0 + x);");return this.compileAndRun(n,[r])},t.prototype.sqrt=function(r){var n=new Zt(r.shape,"return sqrt(x);");return this.compileAndRun(n,[r])},t.prototype.rsqrt=function(r){if(this.shouldExecuteOnCPU([r]))return this.cpuBackend.rsqrt(r);var n=new Zt(r.shape,"return inversesqrt(x);");return this.compileAndRun(n,[r])},t.prototype.reciprocal=function(r){var n=new Zt(r.shape,"return 1.0 / x;");return this.compileAndRun(n,[r])},t.prototype.relu=function(r){var n;return n=Le().getBool("WEBGL_PACK")?new rm(r.shape,J7):new Zt(r.shape,q7),this.compileAndRun(n,[r])},t.prototype.relu6=function(r){var n;return n=Le().getBool("WEBGL_PACK")?new rm(r.shape,Z7):new Zt(r.shape,X7),this.compileAndRun(n,[r])},t.prototype.prelu=function(r,n){var i=Le().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new cu(G7,r.shape,n.shape):new Bn(V7,r.shape,n.shape);return this.compileAndRun(i,[r,n])},t.prototype.elu=function(r){if(Le().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(r,e9,r.dtype);var n=new Zt(r.shape,Y7);return this.compileAndRun(n,[r])},t.prototype.eluDer=function(r,n){var i=Le().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new cu(`
  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));
  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));
`,r.shape,n.shape):new Bn("return (b >= 1.0) ? a : a * (b + 1.0);",r.shape,n.shape);return this.compileAndRun(i,[r,n])},t.prototype.selu=function(r){var n=new Zt(r.shape,Phe);return this.compileAndRun(n,[r])},t.prototype.int=function(r){var n=new Zt(r.shape,"return float(int(x));");return this.compileAndRun(n,[r],"int32")},t.prototype.clip=function(r,n,i){var a,o=(a=Le().getBool("WEBGL_PACK_CLIP")?new dde(r.shape):new fde(r.shape)).getCustomSetupFunc(n,i);return this.compileAndRun(a,[r],null,o)},t.prototype.abs=function(r){if(this.shouldExecuteOnCPU([r]))return this.cpuBackend.abs(r);if(Le().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(r,BL,r.dtype);var n=new Zt(r.shape,BL);return this.compileAndRun(n,[r])},t.prototype.complexAbs=function(r){var n=this.texData.get(r.dataId),i=new hde(r.shape),a=[this.makeComplexComponentTensorInfo(r,n.complexTensors.real),this.makeComplexComponentTensorInfo(r,n.complexTensors.imag)];return this.compileAndRun(i,a)},t.prototype.sigmoid=function(r){var n=new Zt(r.shape,"return 1.0 / (1.0 + exp(-1.0 * x));");return this.compileAndRun(n,[r])},t.prototype.softplus=function(r){var n=new Zt(r.shape,`
  float epsilon = 1.1920928955078125e-7;
  float threshold = log(epsilon) + 2.0;

  bool too_large = x > -threshold;
  bool too_small = x < threshold;

  float result;
  float exp_x = exp(x);

  if (too_large){
    result = x;
  }
  else if (too_small){
    result = exp_x;
  }
  else{
    result = log(exp_x + 1.0);
  }
  return result;
`);return this.compileAndRun(n,[r])},t.prototype.sin=function(r){var n=new Zt(r.shape,Ohe);return this.compileAndRun(n,[r])},t.prototype.cos=function(r){var n=new Zt(r.shape,The);return this.compileAndRun(n,[r])},t.prototype.tan=function(r){var n=new Zt(r.shape,"return tan(x);");return this.compileAndRun(n,[r])},t.prototype.asin=function(r){var n=new Zt(r.shape,Lhe);return this.compileAndRun(n,[r])},t.prototype.acos=function(r){var n=new Zt(r.shape,Uhe);return this.compileAndRun(n,[r])},t.prototype.atan=function(r){var n=new Zt(r.shape,Rhe);return this.compileAndRun(n,[r])},t.prototype.atan2=function(r,n){var i=Le().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new cu(`
  vec4 result = atan(a, b);
  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,r.shape,n.shape):new Bn(`
  if (isnan(a)) return a;
  if (isnan(b)) return b;

  return atan(a, b);
`,r.shape,n.shape);return this.compileAndRun(i,[r,n])},t.prototype.sinh=function(r){var n=new Zt(r.shape,`
  float e2x = exp(x);
  return (e2x - 1.0 / e2x) / 2.0;
`);return this.compileAndRun(n,[r])},t.prototype.cosh=function(r){var n=new Zt(r.shape,`
  float e2x = exp(-x);
  return (e2x + 1.0 / e2x) / 2.0;
`);return this.compileAndRun(n,[r])},t.prototype.tanh=function(r){var n=new Zt(r.shape,`
  float e2x = exp(-2.0 * abs(x));
  return sign(x) * (1.0 - e2x) / (1.0 + e2x);
`);return this.compileAndRun(n,[r])},t.prototype.asinh=function(r){var n=new Zt(r.shape,Dhe);return this.compileAndRun(n,[r])},t.prototype.acosh=function(r){var n=new Zt(r.shape,jhe);return this.compileAndRun(n,[r])},t.prototype.atanh=function(r){var n=new Zt(r.shape,Mhe);return this.compileAndRun(n,[r])},t.prototype.erf=function(r){var n=new Zt(r.shape,`
  // Error function is calculated approximately with elementary function.
  // See "Handbook of Mathematical Functions with Formulas,
  // Graphs, and Mathematical Tables", Abramowitz and Stegun.
  float p = 0.3275911;
  float a1 = 0.254829592;
  float a2 = -0.284496736;
  float a3 = 1.421413741;
  float a4 = -1.453152027;
  float a5 = 1.061405429;

  float sign = sign(x);
  x = abs(x);
  float t = 1.0 / (1.0 + p * x);
  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));
`);return this.compileAndRun(n,[r])},t.prototype.step=function(r,n){var i=new Zt(r.shape,function(a){return a===void 0&&(a=0),Zs+`
    return x > 0.0 ? 1.0 : float(`+a+`);
  `}(n));return this.compileAndRun(i,[r])},t.prototype.conv2dByMatMul=function(r,n,i,a,o,s){var l=r.shape,u=this.texData.get(r.dataId),c=i.inChannels,A=l[0]*l[1]*l[2],d=i.outChannels,f=i.dataFormat==="channelsLast",p=(A===1||d===1)&&c>1e3,g=l[2]%2!=0&&!!u.isPacked;if(p||!Le().getBool("WEBGL_LAZILY_UNPACK")||!Le().getBool("WEBGL_PACK_BINARY_OPERATIONS")||!g){var v=f?l[0]*l[1]*l[2]:l[0]*l[2]*l[3],m=this.reshape(r,[1,v,i.inChannels]),y=this.reshape(n,[1,i.inChannels,i.outChannels]);return this.reshape(this.fusedBatchMatMul({a:m,b:y,transposeA:!1,transposeB:!1,bias:a,activation:o,preluActivationWeights:s}),i.outShape)}var w=f?l[0]*l[1]*(l[2]+1):l[0]*l[2]*(l[3]+1),b={dataId:r.dataId,shape:[1,w,i.inChannels],dtype:r.dtype},B=u.shape;u.shape=u.shape.slice(),u.shape[u.shape.length-2]++,oe(xy(u.shape,b.shape),function(){return"packed reshape "+u.shape+" to "+b.shape+" isn't free"});var S=this.reshape(n,[1,i.inChannels,i.outChannels]),P=this.fusedBatchMatMul({a:b,b:S,transposeA:!1,transposeB:!1,bias:a,activation:o,preluActivationWeights:s}),k=this.texData.get(P.dataId);return oe(k.isPacked,function(){return"batchMatMul result is expected to be packed"}),u.shape=B,k.shape=i.outShape,ge.makeTensorFromDataId(P.dataId,i.outShape,P.dtype)},t.prototype.conv2dWithIm2Row=function(r,n,i,a,o,s){var l=i.filterWidth,u=i.filterHeight,c=i.inChannels,A=i.outWidth,d=i.outHeight,f=i.dataFormat==="channelsLast",p=l*u*c,g=d*A,v=[p,g],m=r.squeeze([0]),y=n.reshape([1,p,-1]),w=new rhe(v,m.shape,i),b=this.compileAndRun(w,[m]).reshape([1,v[0],v[1]]),B=a!=null,S=s!=null,P=o?Ey(o,!0):null,k=new YC(b.shape,[1,g,i.outChannels],!0,!1,B,P,S),I=[b,y];a&&I.push(a),S&&I.push(s);var O=this.compileAndRun(k,I);return f?O.reshape([1,d,A,i.outChannels]):O.reshape([1,i.outChannels,d,A])},t.prototype.fusedConv2d=function(r){var n=r.input,i=r.filter,a=r.convInfo,o=r.bias,s=r.activation,l=r.preluActivationWeights;if(a.filterHeight===1&&a.filterWidth===1&&a.dilationHeight===1&&a.dilationWidth===1&&a.strideHeight===1&&a.strideWidth===1&&(a.padInfo.type==="SAME"||a.padInfo.type==="VALID"))return this.conv2dByMatMul(n,i,a,o,s,l);if(Le().getBool("WEBGL_CONV_IM2COL")&&n.shape[0]===1)return this.conv2dWithIm2Row(n,i,a,o,s,l);var u=o!=null,c=l!=null,A=s?Ey(s,!1):null,d=new hL(a,u,A,c),f=[n,i];return o&&f.push(o),l&&f.push(l),this.compileAndRun(d,f)},t.prototype.conv2d=function(r,n,i){if(i.filterHeight===1&&i.filterWidth===1&&i.dilationHeight===1&&i.dilationWidth===1&&i.strideHeight===1&&i.strideWidth===1&&(i.padInfo.type==="SAME"||i.padInfo.type==="VALID"))return this.conv2dByMatMul(r,n,i);if(Le().getBool("WEBGL_CONV_IM2COL")&&r.shape[0]===1)return this.conv2dWithIm2Row(r,n,i);var a=new hL(i);return this.compileAndRun(a,[r,n])},t.prototype.conv2dDerInput=function(r,n,i){var a=new vde(i);return this.compileAndRun(a,[r,n])},t.prototype.conv2dDerFilter=function(r,n,i){var a=new gde(i);return this.compileAndRun(a,[r,n])},t.prototype.fusedDepthwiseConv2D=function(r){var n,i=r.input,a=r.filter,o=r.convInfo,s=r.bias,l=r.activation,u=r.preluActivationWeights,c=Le().getBool("WEBGL_PACK_DEPTHWISECONV")&&o.strideWidth<=2&&o.outChannels/o.inChannels==1,A=l?Ey(l,c):null,d=[i,a],f=s!=null,p=u!=null;return f&&d.push(s),p&&d.push(u),c?(n=new mL(o,f,A,p),this.compileAndRun(n,d)):(n=new pL(o,f,A,p),this.compileAndRun(n,d))},t.prototype.depthwiseConv2D=function(r,n,i){var a;return Le().getBool("WEBGL_PACK_DEPTHWISECONV")&&i.strideWidth<=2&&i.outChannels/i.inChannels==1?(a=new mL(i),this.compileAndRun(a,[r,n])):(a=new pL(i),this.compileAndRun(a,[r,n]))},t.prototype.depthwiseConv2DDerInput=function(r,n,i){var a=new bde(i);return this.compileAndRun(a,[r,n])},t.prototype.depthwiseConv2DDerFilter=function(r,n,i){var a=new xde(i);return this.compileAndRun(a,[r,n])},t.prototype.conv3d=function(r,n,i){var a=new Bde(i);return this.compileAndRun(a,[r,n])},t.prototype.conv3dDerInput=function(r,n,i){var a=new wde(i);return this.compileAndRun(a,[r,n])},t.prototype.conv3dDerFilter=function(r,n,i){var a=new yde(i);return this.compileAndRun(a,[r,n])},t.prototype.maxPool=function(r,n){var i=new JC(n,"max",!1);return this.compileAndRun(i,[r])},t.prototype.avgPool=function(r,n){var i=new JC(n,"avg",!1);return this.compileAndRun(i,[r],"float32")},t.prototype.maxPoolBackprop=function(r,n,i,a){var o=new JC(a,"max",!0),s=this.compileAndRun(o,[n]),l=new ohe(a),u=this.compileAndRun(l,[r,s],n.dtype);return s.dispose(),u},t.prototype.avgPoolBackprop=function(r,n,i){var a=new ode(i);return this.compileAndRun(a,[r],n.dtype)},t.prototype.cast=function(r,n){return D7(r,n,this)},t.prototype.unstack=function(r,n){for(var i=r.shape[n],a=new Array(r.rank-1),o=0,s=0;s<r.rank;s++)s!==n&&(a[o++]=r.shape[s]);var l=new Array(r.rank).fill(0),u=r.shape.slice();u[n]=1;var c=new Array(i);for(s=0;s<c.length;s++)l[n]=s,c[s]=this.slice(r,l,u).reshape(a);return c},t.prototype.avgPool3d=function(r,n){var i=new ZC(n,"avg",!1);return this.compileAndRun(i,[r],"float32")},t.prototype.avgPool3dBackprop=function(r,n,i){var a=new sde(i);return this.compileAndRun(a,[r],n.dtype)},t.prototype.maxPool3d=function(r,n){var i=new ZC(n,"max",!1);return this.compileAndRun(i,[r],"float32")},t.prototype.maxPool3dBackprop=function(r,n,i,a){var o=new ZC(a,"max",!0),s=this.compileAndRun(o,[n]),l=new she(a),u=this.compileAndRun(l,[r,s],n.dtype);return s.dispose(),u},t.prototype.reshape=function(r,n){var i=this.texData.get(r.dataId);if(i.isPacked&&!xy(r.shape,n)&&(i.texture===null||!xy(i.shape,n))){var a=this.packedReshape(r,n);return ge.makeTensorFromDataId(a.dataId,a.shape,a.dtype)}return LS(r,n)},t.prototype.resizeBilinear=function(r,n,i,a){var o=Le().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new ghe(r.shape,n,i,a):new mhe(r.shape,n,i,a);return this.compileAndRun(o,[r],"float32")},t.prototype.resizeBilinearBackprop=function(r,n,i){var a=new phe(r,n,i);return this.compileAndRun(a,[r])},t.prototype.resizeNearestNeighbor=function(r,n,i,a){var o=new yhe(r.shape,n,i,a);return this.compileAndRun(o,[r])},t.prototype.resizeNearestNeighborBackprop=function(r,n,i){var a=new vhe(r,n,i);return this.compileAndRun(a,[r])},t.prototype.multinomial=function(r,n,i,a){var o=n?r:Wu(r),s=o.shape[0],l=o.shape[1],u=new lhe(s,l,i),c=u.getCustomSetupFunc(a);return this.compileAndRun(u,[o],"int32",c)},t.prototype.oneHot=function(r,n,i,a){var o=new uhe(r.size,n,i,a);return this.compileAndRun(o,[r])},t.prototype.diag=function(r){var n=new Ide(r.size);return this.compileAndRun(n,[r])},t.prototype.nonMaxSuppression=function(r,n,i,a,o){return ww("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead"),NN(r.dataSync(),n.dataSync(),i,a,o)},t.prototype.cropAndResize=function(r,n,i,a,o,s){var l=new Cde(r.shape,n.shape,a,o,s);return this.compileAndRun(l,[r,n,i],"float32")},t.prototype.depthToSpace=function(r,n,i){oe(n>1,function(){return"blockSize should be > 1 for depthToSpace, but was: "+n});var a=r.shape[0],o=i==="NHWC"?r.shape[1]:r.shape[2],s=i==="NHWC"?r.shape[2]:r.shape[3],l=i==="NHWC"?r.shape[3]:r.shape[1],u=o*n,c=s*n,A=l/(n*n),d=new Fde(i==="NHWC"?[a,u,c,A]:[a,A,u,c],n,i);return this.compileAndRun(d,[r])},t.prototype.split=function(r,n,i){return Q7(r,n,i)},t.prototype.scatterND=function(r,n,i){var a=Sw(0,r,i),o=a.sliceRank,s=a.numUpdates,l=a.sliceSize,u=a.strides,c=a.outputSize,A=[c/l,l],d=r.reshape([s,o]),f=n.reshape([s,l]);if(c===0)return LS(qi([]),i);var p=Xe(0),g=new wL(s,o,d.rank,f.rank,u,A);return this.compileAndRun(g,[f,d,p]).reshape(i)},t.prototype.sparseToDense=function(r,n,i,a){var o=Sw(0,r,i),s=o.sliceRank,l=o.numUpdates,u=o.strides,c=o.outputSize,A=new wL(l,s,r.rank,n.rank,u,[c,1]);return this.compileAndRun(A,[n,r,a]).reshape(i)},t.prototype.fft=function(r){return this.fftImpl(r,!1)},t.prototype.ifft=function(r){return this.fftImpl(r,!0)},t.prototype.fftImpl=function(r,n){var i=this.texData.get(r.dataId),a=new vL(Tde,r.shape,n),o=new vL(Lde,r.shape,n),s=[this.makeComplexComponentTensorInfo(r,i.complexTensors.real),this.makeComplexComponentTensorInfo(r,i.complexTensors.imag)],l=this.compileAndRun(a,s),u=this.compileAndRun(o,s),c=this.complex(l,u).as2D(r.shape[0],r.shape[1]);return l.dispose(),u.dispose(),c},t.prototype.gatherND=function(r,n){var i=n.shape,a=i[i.length-1],o=k7(r,n),s=o[0],l=o[1],u=o[2],c=o[3],A=n.reshape([l,a]),d=r.reshape([r.size/u,u]),f=new Dde(a,c,[l,u]);return this.compileAndRun(f,[d,A]).reshape(s)},t.prototype.fill=function(r,n,i){if((i=i||rv(n))==="string"){var a=mw(i,yt(r));return a.fill(n),ge.makeTensor(a,r,i,this)}var o=new Ude(r,n),s=o.getCustomSetupFunc(n);return this.compileAndRun(o,[],i,s)},t.prototype.onesLike=function(r){if(r.dtype==="string")throw new Error("onesLike is not supported under string dtype");return this.fill(r.shape,1,r.dtype)},t.prototype.zerosLike=function(r){return this.fill(r.shape,r.dtype==="string"?"":0,r.dtype)},t.prototype.linspace=function(r,n,i){return j7(r,n,i)},t.prototype.makeTensorInfo=function(r,n){var i=this.write(null,r,n);return this.texData.get(i).usage=null,{dataId:i,shape:r,dtype:n}},t.prototype.makeOutput=function(r,n){var i=this.makeTensorInfo(r,n).dataId;return ge.makeTensorFromDataId(i,r,n,this)},t.prototype.unpackTensor=function(r){var n=new Hhe(r.shape);return this.runWebGLProgram(n,[r],r.dtype)},t.prototype.packTensor=function(r){var n=new che(r.shape);return this.runWebGLProgram(n,[r],r.dtype,null,!0)},t.prototype.packedReshape=function(r,n){var i=[vw(r.shape)].concat(yw(r.shape)),a={dtype:r.dtype,shape:i,dataId:r.dataId},o=[vw(n)].concat(yw(n)),s=new hhe(o,i),l=this.runWebGLProgram(s,[a],r.dtype,null,!0);return{dataId:l.dataId,shape:n,dtype:l.dtype}},t.prototype.decode=function(r){var n,i=this.texData.get(r),a=i.isPacked,o=i.shape,s=i.dtype,l=VC(o);return n=a?new Nde(l):new Sde(l),{dtype:s,shape:o,dataId:this.runWebGLProgram(n,[{shape:l,dtype:s,dataId:r}],s,null,!0).dataId}},t.prototype.runWebGLProgram=function(r,n,i,a,o){var s=this;o===void 0&&(o=!1);var l=this.makeTensorInfo(r.outputShape,i),u=this.texData.get(l.dataId);if(r.packedOutput&&(u.isPacked=!0),r.outPackingScheme===yg.DENSE){var c=Qm(r.outputShape);u.texShape=c.map(function(w){return 2*w})}if(r.outTexUsage!=null&&(u.usage=r.outTexUsage),yt(l.shape)===0)return u.values=gg(l.dtype,0),l;var A=[],d=n.map(function(w){if(w.dtype==="complex64")throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var b=s.texData.get(w.dataId);if(b.texture==null){if(!r.packedInputs&&yt(w.shape)<=Le().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:w.shape,texData:null,isUniform:!0,uniformValues:b.values};r.packedInputs&&(b.isPacked=!0,b.shape=w.shape)}else if(!!b.isPacked!=!!r.packedInputs)w=b.isPacked?s.unpackTensor(w):s.packTensor(w),A.push(w),b=s.texData.get(w.dataId);else if(b.isPacked&&!xy(b.shape,w.shape)){var B=w,S=w.shape;w.shape=b.shape,w=s.packedReshape(w,S),A.push(w),b=s.texData.get(w.dataId),B.shape=S}return s.uploadToGPU(w.dataId),{shape:w.shape,texData:b,isUniform:!1}});this.uploadToGPU(l.dataId);var f,p={shape:l.shape,texData:u,isUniform:!1},g=function(w,b,B){var S="";b.concat(B).forEach(function(I){var O=I.texData!=null&&I.texData.slice!=null&&I.texData.slice.flatOffset>0,F=I.isUniform?"uniform":I.texData.texShape;S+=I.shape+"_"+F+"_"+O});var P=w.userCode,k=w.constructor.name;return k+="_"+S+"_"+P}(r,d,p),v=this.getAndSaveBinary(g,function(){return function(w,b,B,S){var P=b.userCode,k=B.map(function(D,K){var ie={logicalShape:D.shape,texShape:D.isUniform?null:D.texData.texShape,isUniform:D.isUniform,isPacked:!D.isUniform&&D.texData.isPacked,flatOffset:null};return D.texData!=null&&D.texData.slice!=null&&D.texData.slice.flatOffset>0&&(ie.flatOffset=D.texData.slice.flatOffset),{name:b.variableNames[K],shapeInfo:ie}}),I=k.map(function(D){return D.shapeInfo}),O={logicalShape:S.shape,texShape:S.texData.texShape,isUniform:!1,isPacked:S.texData.isPacked,flatOffset:null},F=ede(k,O,P,b.packedInputs),N=w.createProgram(F),U=null,M=w.getUniformLocation(N,"NAN",!1);Le().getNumber("WEBGL_VERSION")===1&&(U=w.getUniformLocation(N,"INFINITY",!1));for(var V={},Q=0;Q<b.variableNames.length;Q++){var W=b.variableNames[Q];V[W]=w.getUniformLocation(N,W,!1),V["offset"+W]=w.getUniformLocation(N,"offset"+W,!1)}return{program:b,source:F,webGLProgram:N,uniformLocations:V,inShapeInfos:I,outShapeInfo:O,infLoc:U,nanLoc:M}}(s.gpgpu,r,d,p)}),m=this.activeTimers!=null;if(m&&(f=this.startTimer()),function(w,b,B,S,P){yL(b.inShapeInfos,B),yL([b.outShapeInfo],[S]);var k=S.texData.texture,I=S.texData.texShape;S.texData.isPacked?w.setOutputPackedMatrixTexture(k,I[0],I[1]):w.setOutputMatrixTexture(k,I[0],I[1]),w.setProgram(b.webGLProgram),Le().getNumber("WEBGL_VERSION")===1&&b.infLoc!==null&&w.gl.uniform1f(b.infLoc,1/0),b.nanLoc!==null&&w.gl.uniform1f(b.nanLoc,NaN),B.forEach(function(O,F){var N=b.program.variableNames[F],U=b.uniformLocations[N],M=b.uniformLocations["offset"+N];if(U!=null)if(O.isUniform)if(yt(O.shape)<2)w.gl.uniform1f(U,O.uniformValues[0]);else{var V=O.uniformValues;V instanceof Float32Array||(V=new Float32Array(V)),w.gl.uniform1fv(U,V)}else O.texData.slice!=null&&M!=null&&w.gl.uniform1i(M,O.texData.slice.flatOffset),w.setInputMatrixTexture(O.texData.texture,U,F)}),P!=null&&P(w,b.webGLProgram),w.executeProgram()}(this.gpgpu,v,d,p,a),A.forEach(function(w){return s.disposeData(w.dataId)}),m&&(f=this.endTimer(f),this.activeTimers.push({name:r.constructor.name,query:this.getQueryTime(f)})),!Le().getBool("WEBGL_LAZILY_UNPACK")&&u.isPacked&&o===!1){var y=this.unpackTensor(l);return this.disposeData(l.dataId),y}return l},t.prototype.compileAndRun=function(r,n,i,a,o){o===void 0&&(o=!1),i=i||n[0].dtype;var s=this.runWebGLProgram(r,n,i,a,o);return ge.makeTensorFromDataId(s.dataId,s.shape,s.dtype)},t.prototype.getAndSaveBinary=function(r,n){return r in this.binaryCache||(this.binaryCache[r]=n()),this.binaryCache[r]},t.prototype.getTextureManager=function(){return this.textureManager},t.prototype.dispose=function(){var r=this;this.disposed||(Le().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(function(n){r.gpgpu.deleteProgram(r.binaryCache[n].webGLProgram),delete r.binaryCache[n]}),this.textureManager.dispose(),this.canvas!=null&&typeof HTMLCanvasElement<"u"&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)},t.prototype.floatPrecision=function(){var r=this;return this.floatPrecisionValue==null&&(this.floatPrecisionValue=nt(function(){if(!Le().get("WEBGL_RENDER_FLOAT32_ENABLED")){var n=Le().getBool("DEBUG");Le().set("DEBUG",!1);var i=r.abs(Xe(1e-8)).dataSync()[0];if(Le().set("DEBUG",n),i>0)return 32}return 16})),this.floatPrecisionValue},t.prototype.epsilon=function(){return this.floatPrecision()===32?1e-7:1e-4},t.prototype.uploadToGPU=function(r){var n,i=this.texData.get(r),a=i.shape,o=i.dtype,s=i.values,l=i.texture,u=i.usage,c=i.isPacked;if(l==null){var A,d=this.activeTimers!=null;d&&(A=gl());var f=i.texShape;if(f==null&&(f=XAe(a,c),i.texShape=f),s!=null){var p=VC(a),g=void 0,v=f[1],m=f[0],y=s instanceof Uint8Array;c?(v=(n=iv(f[0],f[1]))[0],m=n[1],g=new Ode(p,[m,v],y)):g=new Pde(p,[m,v],y);var w=this.makeTensorInfo([m,v],o);this.texData.get(w.dataId).usage=y?No.PIXELS:No.UPLOAD,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(w.dataId),v,m,s);var b=this.runWebGLProgram(g,[w],o,null,!0),B=this.texData.get(b.dataId);i.texture=B.texture,i.texShape=B.texShape,i.isPacked=B.isPacked,i.usage=B.usage,this.disposeData(w.dataId),this.texData.delete(b.dataId),i.values=null,d&&(this.uploadWaitMs+=gl()-A)}else{var S=this.acquireTexture(f,u,o,c);i.texture=S}}},t.prototype.convertAndCacheOnCPU=function(r,n){var i=this.texData.get(r),a=i.dtype;return this.releaseGPUData(r),n!=null&&(i.values=function(o,s){if(s==="float32"||s==="complex64")return o;if(s==="int32"||s==="bool"){for(var l=s==="int32"?new Int32Array(o.length):new Uint8Array(o.length),u=0;u<l.length;++u)l[u]=Math.round(o[u]);return l}throw new Error("Unknown dtype "+s)}(n,a)),i.values},t.prototype.acquireTexture=function(r,n,i,a){if(this.numBytesInGPU+=this.computeBytes(r,i),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){var o=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: "+o+" MB, most likely due to a memory leak")}return this.textureManager.acquireTexture(r,n,a)},t.prototype.computeBytes=function(r,n){return r[0]*r[1]*d7(n)},t}(U7);w7()&&ge.registerBackend("webgl",function(){return new Whe},2);var Khe=he({square_:function(e){var t=te(e,"x","square"),r=[t];return ge.runKernelFunc(function(n,i){return i([t]),n.square(t)},{x:t},null,"Square",{},r,[])}}),xg="SquaredDifference",t9=he({squaredDifference_:function(e,t){var r,n=te(e,"a","squaredDifference"),i=te(t,"b","squaredDifference");r=gn(n,i),n=r[0],i=r[1],nr(n.shape,i.shape);var a={a:n,b:i},o=[n,i];return ge.runKernelFunc(function(s,l){var u=s.squaredDifference(n,i);return l([n,i]),u},a,function(s,l){var u=l[0],c=l[1],A=Xe(2);return{a:function(){return s.mul(u.sub(c).mul(A))},b:function(){return s.mul(c.sub(u).mul(A))}}},xg,{},o,[])}}),zhe=he({abs_:function(e){var t=te(e,"x","abs");return t.dtype==="complex64"?ge.runKernelFunc(function(r){return r.complexAbs(t)},{$x:t}):ge.runKernelFunc(function(r,n){var i=r.abs(t);return n([t]),i},{x:t},function(r,n){var i=n[0];return{x:function(){return r.mul(i.toFloat().step(-1))}}},"Abs")}}),Vhe=he({acos_:function(e){var t=te(e,"x","acos");return ge.runKernelFunc(function(r,n){var i=r.acos(t);return n([t]),i},{$x:t},function(r,n){var i=n[0];return{$x:function(){return r.divStrict(Xe(1).sub(i.toFloat().square()).sqrt()).neg()}}})}}),Ghe=he({acosh_:function(e){var t=te(e,"x","acosh");return ge.runKernelFunc(function(r,n){var i=r.acosh(t);return n([t]),i},{$x:t},function(r,n){var i=n[0];return{$x:function(){return r.divStrict(i.toFloat().square().sub(1).sqrt())}}})}}),qhe=he({asin_:function(e){var t=te(e,"x","asin");return ge.runKernelFunc(function(r,n){var i=r.asin(t);return n([t]),i},{$x:t},function(r,n){var i=n[0];return{$x:function(){return r.divStrict(Xe(1).sub(i.toFloat().square()).sqrt())}}})}}),Xhe=he({asinh_:function(e){var t=te(e,"x","asinh");return ge.runKernelFunc(function(r,n){var i=r.asinh(t);return n([t]),i},{$x:t},function(r,n){var i=n[0];return{$x:function(){return r.divStrict(Xe(1).add(i.toFloat().square()).sqrt())}}})}}),Yhe=he({atan_:function(e){var t=te(e,"x","atan");return ge.runKernelFunc(function(r,n){var i=r.atan(t);return n([t]),i},{$x:t},function(r,n){var i=n[0];return{$x:function(){return r.div(i.toFloat().square().add(1))}}})}}),Jhe=he({atanh_:function(e){var t=te(e,"x","atanh");return ge.runKernelFunc(function(r,n){var i=r.atanh(t);return n([t]),i},{$x:t},function(r,n){var i=n[0];return{$x:function(){return r.div(Xe(1).sub(i.toFloat().square()))}}})}}),Zhe=he({ceil_:function(e){var t=te(e,"x","ceil");return ge.runKernelFunc(function(r){return r.ceil(t)},{$x:t},function(r){return{$x:function(){return Ar(r)}}})}}),ON=he({clipByValue_:function(e,t,r){var n=te(e,"x","clipByValue");oe(t<=r,function(){return"Error in clip: min ("+t+") must be less than or equal to max ("+r+")."});var i=[n],a={min:t,max:r};return ge.runKernelFunc(function(o,s){var l=o.clip(n,t,r);return s([n]),l},{x:n},function(o,s){var l=s[0];return{x:function(){return o.where(l.greaterEqual(t).logicalAnd(l.lessEqual(r)),Ar(o))}}},"ClipByValue",a,i)}}),epe=he({cos_:function(e){var t=te(e,"x","cos"),r=[t];return ge.runKernelFunc(function(n,i){var a=n.cos(t);return i([t]),a},{x:t},function(n,i){var a=i[0];return{x:function(){return a.toFloat().sin().neg().mul(n)}}},"Cos",{},r)}}),tpe=he({cosh_:function(e){var t=te(e,"x","cosh");return ge.runKernelFunc(function(r,n){var i=r.cosh(t);return n([t]),i},{$x:t},function(r,n){var i=n[0];return{$x:function(){return i.toFloat().sinh().mulStrict(r)}}})}}),rpe=he({erf_:function(e){var t=te(e,"x","erf");return oe(t.dtype==="int32"||t.dtype==="float32",function(){return"Input dtype must be `int32` or `float32`."}),t.dtype==="int32"&&(t=t.toFloat()),ge.runKernelFunc(function(r,n){var i=r.erf(t);return n([t]),i},{$x:t},function(r,n){var i=n[0];return{$x:function(){return r.mul(i.square().neg().exp().mul(2/Math.sqrt(Math.PI)))}}})}}),RS=he({exp_:function(e){var t=te(e,"x","exp");return ge.runKernelFunc(function(r,n){var i=r.exp(t);return n([i]),i},{x:t},function(r,n){return{x:function(){return r.mulStrict(n[0])}}},"Exp",{},[],[!0])}}),npe=he({expm1_:function(e){var t=te(e,"x","expm1");return ge.runKernelFunc(function(r,n){var i=r.expm1(t);return n([t]),i},{$x:t},function(r,n){var i=n[0];return{$x:function(){return r.mul(i.exp())}}})}}),ipe=he({floor_:function(e){var t=te(e,"x","floor");return ge.runKernelFunc(function(r){return r.floor(t)},{$x:t},function(r){return{$x:function(){return Ar(r)}}})}}),ape=he({log_:function(e){var t=te(e,"x","log"),r=[t];return ge.runKernelFunc(function(n,i){var a=n.log(t);return i([t]),a},{x:t},function(n,i){var a=i[0];return{x:function(){return n.div(a.toFloat())}}},"Log",{},r)}}),ope=he({log1p_:function(e){var t=te(e,"x","log1p");return ge.runKernelFunc(function(r,n){var i=r.log1p(t);return n([t]),i},{$x:t},function(r,n){var i=n[0];return{$x:function(){return r.div(i.add(1))}}})}}),spe=he({logSigmoid_:function(e){var t=te(e,"x","logSigmoid");return ge.runKernelFunc(function(r,n){var i=r.softplus(t.neg()).neg();return n([t]),i},{$x:t},function(r,n){var i=n[0];return{$x:function(){return r.mul(i.neg().sigmoid())}}})}}),_w=he({neg_:function(e){var t=te(e,"x","neg"),r=[t];return ge.runKernelFunc(function(n){return n.neg(t)},{x:t},function(n){return{x:function(){return n.neg()}}},"Neg",{},r)}}),lpe=he({reciprocal_:function(e){var t=te(e,"x","reciprocal");return ge.runKernelFunc(function(r,n){var i=r.reciprocal(t);return n([t]),i},{$x:t},function(r,n){var i=n[0];return{$x:function(){return r.div(i.square().neg())}}})}}),upe=he({round_:function(e){var t=te(e,"x","round");return ge.runKernelFunc(function(r){return r.round(t)},{$x:t},function(r){return{$x:function(){return Ar(r)}}})}}),r9=he({rsqrt_:function(e){var t=te(e,"x","rsqrt"),r=[t];return ge.runKernelFunc(function(n,i){var a=n.rsqrt(t);return i([t]),a},{x:t},function(n,i){var a=i[0];return{x:function(){return n.div(a.pow(1.5).mul(2)).neg()}}},"Rsqrt",{},r)}}),n9=he({sigmoid_:function(e){var t=te(e,"x","sigmoid");return ge.runKernelFunc(function(r,n){var i=r.sigmoid(t);return n([i]),i},{x:t},function(r,n){var i=n[0];return{x:function(){return r.mul(i.mul(Xe(1).sub(i)))}}},"Sigmoid")}}),cpe=he({sign_:function(e){var t=te(e,"x","sign");return ge.runKernelFunc(function(r){return r.sign(t)},{$x:t},function(r){return{$x:function(){return Ar(r)}}})}}),Ape=he({isNaN_:function(e){var t=te(e,"x","isNaN");return ge.runKernelFunc(function(r){return r.isNaN(t)},{$x:t},function(r){return{$x:function(){return Ar(r)}}})}}),fpe=he({isInf_:function(e){var t=te(e,"x","isInf");return ge.runKernelFunc(function(r){return r.isInf(t)},{$x:t},function(r){return{$x:function(){return Ar(r)}}})}}),dpe=he({isFinite_:function(e){var t=te(e,"x","isFinite");return ge.runKernelFunc(function(r){return r.isFinite(t)},{$x:t},function(r){return{$x:function(){return Ar(r)}}})}}),hpe=he({sin_:function(e){var t=te(e,"x","sin"),r=[t];return ge.runKernelFunc(function(n,i){var a=n.sin(t);return i([t]),a},{x:t},function(n,i){var a=i[0];return{x:function(){return a.toFloat().cos().mul(n)}}},"Sin",{},r)}}),ppe=he({sinh_:function(e){var t=te(e,"x","sinh");return ge.runKernelFunc(function(r,n){var i=r.sinh(t);return n([t]),i},{$x:t},function(r,n){var i=n[0];return{$x:function(){return i.toFloat().cosh().mulStrict(r)}}})}}),mpe=he({softplus_:function(e){var t=te(e,"x","softplus");return ge.runKernelFunc(function(r,n){var i=r.softplus(t);return n([t]),i},{$x:t},function(r,n){var i=n[0];return{$x:function(){return r.mul(i.sigmoid())}}})}}),gpe=he({sqrt_:function(e){var t=te(e,"x","sqrt");return ge.runKernelFunc(function(r,n){var i=r.sqrt(t);return n([t]),i},{$x:t},function(r,n){var i=n[0];return{$x:function(){return r.div(i.toFloat().sqrt().mul(2))}}})}}),vpe=he({step_:function(e,t){t===void 0&&(t=0);var r=te(e,"x","step");return ge.runKernelFunc(function(n){return n.step(r,t)},{$x:r},function(n){return{$x:function(){return Ar(n)}}})}}),ype=he({tan_:function(e){var t=te(e,"x","tan");return ge.runKernelFunc(function(r,n){var i=r.tan(t);return n([t]),i},{$x:t},function(r,n){var i=n[0];return{$x:function(){return r.div(i.cos().square())}}})}}),wpe=he({tanh_:function(e){var t=te(e,"x","tanh");return ge.runKernelFunc(function(r,n){var i=r.tanh(t);return n([i]),i},{x:t},function(r,n){var i=n[0];return{x:function(){return Xe(1).sub(i.square()).mulStrict(r)}}},"Tanh",{},null,[!0])}});function i9(e,t,r,n,i,a){var o,s,l=te(e,"x","batchNorm"),u=te(t,"mean","batchNorm"),c=te(r,"variance","batchNorm");return i!=null&&(o=te(i,"scale","batchNorm")),n!=null&&(s=te(n,"offset","batchNorm")),oe(l.rank===2,function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+l.rank+"."}),oe(u.rank===2||u.rank===1,function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank "+u.rank+"."}),oe(c.rank===2||c.rank===1,function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank "+c.rank+"."}),o!=null&&oe(o.rank===2||o.rank===1,function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank "+o.rank+"."}),s!=null&&oe(s.rank===2||s.rank===1,function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank "+s.rank+"."}),ov(l,u,c,s,o,a)}function a9(e,t,r,n,i,a){var o,s,l=te(e,"x","batchNorm"),u=te(t,"mean","batchNorm"),c=te(r,"variance","batchNorm");return i!=null&&(o=te(i,"scale","batchNorm")),n!=null&&(s=te(n,"offset","batchNorm")),oe(l.rank===3,function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+l.rank+"."}),oe(u.rank===3||u.rank===1,function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank "+u.rank+"."}),oe(c.rank===3||c.rank===1,function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank "+c.rank+"."}),o!=null&&oe(o.rank===3||o.rank===1,function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank "+o.rank+"."}),s!=null&&oe(s.rank===3||s.rank===1,function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank "+s.rank+"."}),ov(l,u,c,s,o,a)}function o9(e,t,r,n,i,a){var o,s,l=te(e,"x","batchNorm"),u=te(t,"mean","batchNorm"),c=te(r,"variance","batchNorm");return i!=null&&(o=te(i,"scale","batchNorm")),n!=null&&(s=te(n,"offset","batchNorm")),oe(l.rank===4,function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+l.rank+"."}),oe(u.rank===4||u.rank===1,function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank "+u.rank+"."}),oe(c.rank===4||c.rank===1,function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank "+c.rank+"."}),o!=null&&oe(o.rank===4||o.rank===1,function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank "+o.rank+"."}),s!=null&&oe(s.rank===4||s.rank===1,function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank "+s.rank+"."}),ov(l,u,c,s,o,a)}function ov(e,t,r,n,i,a){a==null&&(a=.001);var o,s,l,u=te(e,"x","batchNorm"),c=te(t,"mean","batchNorm"),A=te(r,"variance","batchNorm");i!=null&&(o=te(i,"scale","batchNorm")),n!=null&&(s=te(n,"offset","batchNorm")),oe(c.rank===A.rank,function(){return"Batch normalization gradient requires mean and variance to have equal ranks."}),oe(s==null||c.rank===s.rank,function(){return"Batch normalization gradient requires mean and offset to have equal ranks."}),oe(o==null||c.rank===o.rank,function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}),l=u.rank===0||u.rank===1?u.as4D(1,1,1,u.size):u.rank===2?u.as4D(1,1,u.shape[0],u.shape[1]):u.rank===3?u.as4D(1,u.shape[0],u.shape[1],u.shape[2]):u;var d=[u,c,A,o];return ge.runKernelFunc(function(f,p){var g=f.batchNormalization(l,Sy(c),Sy(A),a,Sy(o),Sy(s));return p([u,c,A,o]),g},{x:u,mean:c,variance:A,scale:o,offset:s},function(f,p){var g=p,v=g[0],m=g[1],y=g[2],w=g[3],b=w??Xe(1),B=pi(m.shape,l.shape),S=[];if(m.rank===1){for(var P=0;P<l.shape.length-1;++P)S.push(l.shape[P]);S.push(1)}var k=v.sub(m),I=f.mul(b),O=r9(y.add(Xe(a))),F=O.mul(O).mul(O).mul(Xe(-.5));return{x:function(){return m.rank===1?f.mul(ih(O.as4D(1,1,1,m.shape[0]),S)).mul(b).reshape(v.shape):f.mul(O).mul(b).reshape(v.shape)},mean:function(){var N=O.mul(Xe(-1)).mul(I);return m.rank===1&&(N=N.sum(B)),N.reshape(m.shape)},variance:function(){var N=F.mul(k).mul(I);return m.rank===1&&(N=N.sum(B)),N.reshape(m.shape)},scale:function(){var N=k.mul(O),U=f.mul(N);return m.rank===1&&(U=U.sum(B)),U.reshape(m.shape)},offset:function(){var N=f;return m.rank===1&&(N=N.sum(B)),N.reshape(m.shape)}}},"BatchNormalization",{varianceEpsilon:a},d).reshape(u.shape)}function Sy(e){return e==null?null:e.rank===0?e.as1D():e.rank===1?e:e.rank===2?e.as4D(1,1,e.shape[0],e.shape[1]):e.rank===3?e.as4D(1,e.shape[0],e.shape[1],e.shape[2]):e}function y2(){x7("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon")}var xpe=he({batchNormalization2d_:function(e,t,r,n,i,a){return n===void 0&&(n=.001),y2(),i9(e,t,r,a,i,n)}}),bpe=he({batchNormalization3d_:function(e,t,r,n,i,a){return n===void 0&&(n=.001),y2(),a9(e,t,r,a,i,n)}}),Bpe=he({batchNormalization4d_:function(e,t,r,n,i,a){return n===void 0&&(n=.001),y2(),o9(e,t,r,a,i,n)}}),Cpe=he({batchNormalization_:function(e,t,r,n,i,a){return n===void 0&&(n=.001),y2(),ov(e,t,r,a,i,n)}}),s9=he({batchNorm_:ov}),Epe=he({batchNorm2d_:i9}),Spe=he({batchNorm3d_:a9}),Npe=he({batchNorm4d_:o9}),w2=he({logicalAnd_:function(e,t){var r=te(e,"a","logicalAnd","bool"),n=te(t,"b","logicalAnd","bool");return nr(r.shape,n.shape),ge.runKernelFunc(function(i){return i.logicalAnd(r,n)},{a:r,b:n},null,"LogicalAnd")}}),Fpe=he({logicalNot_:function(e){var t=te(e,"x","logicalNot","bool");return ge.runKernelFunc(function(r){return r.logicalNot(t)},{$x:t})}}),l9=he({logicalOr_:function(e,t){var r=te(e,"a","logicalOr","bool"),n=te(t,"b","logicalOr","bool");return nr(r.shape,n.shape),ge.runKernelFunc(function(i){return i.logicalOr(r,n)},{$a:r,$b:n})}}),Ipe=he({logicalXor_:function(e,t){var r=te(e,"a","logicalXor","bool"),n=te(t,"b","logicalXor","bool");return nr(r.shape,n.shape),l9(e,t).logicalAnd(w2(e,t).logicalNot())}}),Bf=he({where_:function(e,t,r){var n=te(t,"a","where"),i=te(r,"b","where"),a=te(e,"condition","where","bool");return xr(n.shape,i.shape,"Error in where: "),a.rank===1?oe(a.shape[0]===n.shape[0],function(){return"The first dimension of `a` must match the size of `condition`."}):xr(a.shape,i.shape,"Error in where: "),ge.runKernelFunc(function(o,s){var l=o.select(a,n,i);return s([a]),l},{$condition:a,$a:n,$b:i},function(o,s){var l=s[0];return{$condition:function(){return Ar(l).toFloat()},$a:function(){return o.mul(l.cast(o.dtype))},$b:function(){return o.mul(l.logicalNot().cast(o.dtype))}}})}}),u9=function(e){return ft(this,void 0,void 0,function(){var t,r,n;return dt(this,function(i){switch(i.label){case 0:return[4,(t=te(e,"condition","whereAsync","bool")).data()];case 1:return r=i.sent(),n=IN(t.shape,r),e!==t&&t.dispose(),[2,n]}})})},rr=he({add_:function(e,t){var r,n=te(e,"a","add"),i=te(t,"b","add");r=gn(n,i),n=r[0],i=r[1];var a=nr(n.shape,i.shape);return ge.runKernelFunc(function(o){return o.add(n,i)},{a:n,b:i},function(o){return{a:function(){var s=o,l=pi(n.shape,a);return l.length>0&&(s=s.sum(l)),s.reshape(n.shape)},b:function(){var s=o,l=pi(i.shape,a);return l.length>0&&(s=s.sum(l)),s.reshape(i.shape)}}},"Add")}}),_pe=he({addN_:function(e){oe(Array.isArray(e),function(){return"The argument passed to tf.addN() must be a list of tensors"}),oe(e.length>=1,function(){return"Must pass at least one tensor to tf.addN(), but got "+e.length});var t=e.map(function(i,a){return te(i,"tensors"+a,"addN")}),r=t[0];t.forEach(function(i){if(i.dtype!==r.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),t.forEach(function(i){if(!Pi(i.shape,r.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});var n=t;return ge.runKernelFunc(function(i){return i.addN(t)},n,function(i){var a={};return t.forEach(function(o,s){a[s]=function(){return i.clone()}}),a},"AddN")}}),kpe=he({addStrict_:function(e,t){var r=te(e,"a","addStrict"),n=te(t,"b","addStrict");return xr(r.shape,n.shape,"Error in addStrict: "),r.add(n)}}),Ppe=he({atan2_:function(e,t){var r,n=te(e,"a","atan2"),i=te(t,"b","atan2");r=gn(n,i),n=r[0],i=r[1];var a=nr(n.shape,i.shape);return ge.runKernelFunc(function(o,s){var l=o.atan2(n,i);return s([n,i]),l},{$a:n,$b:i},function(o,s){var l=s[0],u=s[1];return{$a:function(){var c=rr(l.square(),u.square()),A=o.mul(u.div(c)),d=pi(l.shape,a);return d.length>0&&(A=A.sum(d)),A.reshape(l.shape)},$b:function(){var c=rr(l.square(),u.square()),A=_w(o.mul(l.div(c))),d=pi(u.shape,a);return d.length>0&&(A=A.sum(d)),A.reshape(u.shape)}}})}}),_s=he({div_:function(e,t){var r,n=te(e,"a","div"),i=te(t,"b","div");if(r=gn(n,i),n=r[0],i=r[1],n.dtype==="int32"&&i.dtype==="int32")return c9(n,i);var a=nr(n.shape,i.shape);return ge.runKernelFunc(function(o,s){var l=o.realDivide(n,i);return s([n,i]),l},{a:n,b:i},function(o,s){var l=s[0],u=s[1];return{a:function(){var c=o.div(u.toFloat()),A=pi(l.shape,a);return A.length>0?c.sum(A).reshape(l.shape):c},b:function(){var c=o.mul(l.toFloat()),A=pi(u.shape,a);A.length>0&&(c=c.sum(A).reshape(u.shape));var d=u.square();return c.div(d.toFloat()).neg()}}},"Div")}}),Ope=he({divNoNan_:function(e,t){var r,n=te(e,"a","div"),i=te(t,"b","div");n=(r=gn(n,i))[0],i=r[1];var a=_s(n,i),o=Ar(a),s=i.equal(o);return Bf(s,o,a)}}),Tpe=he({divStrict_:function(e,t){var r=te(e,"a","div"),n=te(t,"b","div");return xr(r.shape,n.shape,"Error in divideStrict: "),r.div(n)}}),c9=he({floorDiv_:function(e,t){var r,n=te(e,"a","floorDiv"),i=te(t,"b","floorDiv");r=gn(n,i),n=r[0],i=r[1];var a=nr(n.shape,i.shape);return ge.runKernelFunc(function(o,s){var l=o.floorDiv(n,i);return s([n,i]),l},{a:n,b:i},function(o,s){var l=s[0],u=s[1];return{a:function(){var c=o.div(u.toFloat()),A=pi(l.shape,a);return A.length>0?c.sum(A).reshape(l.shape):c},b:function(){var c=o.mul(l.toFloat()),A=pi(u.shape,a);A.length>0&&(c=c.sum(A).reshape(u.shape));var d=u.square();return c.div(d.toFloat()).neg()}}},"FloorDiv")}}),TN=he({maximum_:function(e,t){var r,n=te(e,"a","maximum"),i=te(t,"b","maximum");return r=gn(n,i),n=r[0],i=r[1],n.dtype==="bool"&&(n=n.toInt(),i=i.toInt()),nr(n.shape,i.shape),ge.runKernelFunc(function(a,o){var s=a.maximum(n,i);return o([n,i]),s},{a:n,b:i},function(a,o){var s=o[0],l=o[1];return{a:function(){return a.mul(s.greaterEqual(l).toFloat())},b:function(){return a.mul(s.less(l).toFloat())}}},"Maximum")}}),Lpe=he({maximumStrict_:function(e,t){var r=te(e,"a","maximumStrict"),n=te(t,"b","maximumStrict");return xr(r.shape,n.shape,"Error in maximumStrict: "),r.maximum(n)}}),A9=he({minimum_:function(e,t){var r,n=te(e,"a","minimum"),i=te(t,"b","minimum");return r=gn(n,i),n=r[0],i=r[1],n.dtype==="bool"&&(n=n.toInt(),i=i.toInt()),nr(n.shape,i.shape),ge.runKernelFunc(function(a,o){var s=a.minimum(n,i);return o([n,i]),s},{a:n,b:i},function(a,o){var s=o[0],l=o[1];return{a:function(){return a.mul(s.lessEqual(l).toFloat())},b:function(){return a.mul(s.greater(l).toFloat())}}},"Minimum")}}),Upe=he({minimumStrict_:function(e,t){var r=te(e,"a","minimumStrict"),n=te(t,"b","minimumStrict");return xr(r.shape,n.shape,"Error in minimumStrict: "),r.minimum(n)}}),Rpe=he({mod_:function(e,t){var r,n=te(e,"a","mod"),i=te(t,"b","mod");r=gn(n,i),n=r[0],i=r[1];var a=nr(n.shape,i.shape);return ge.runKernelFunc(function(o,s){var l=o.mod(n,i);return s([n,i]),l},{$a:n,$b:i},function(o,s){var l=s[0],u=s[1];return{$a:function(){var c=pi(l.shape,a);return c.length>0?o.sum(c).reshape(l.shape):o},$b:function(){var c=o.mul(l.div(u).floor().neg()),A=pi(u.shape,a);return A.length>0?c.sum(A).reshape(u.shape):c}}})}}),Dpe=he({modStrict_:function(e,t){var r=te(e,"a","modStrict"),n=te(t,"b","modStrict");return xr(r.shape,n.shape,"Error in modStrict: "),r.mod(n)}}),va=he({mul_:function(e,t){var r,n=te(e,"a","mul"),i=te(t,"b","mul");r=gn(n,i),n=r[0],i=r[1];var a=nr(n.shape,i.shape);return ge.runKernelFunc(function(o,s){var l=o.multiply(n,i);return s([n,i]),l},{a:n,b:i},function(o,s){var l=s[0],u=s[1];return{a:function(){var c=o.mul(u.toFloat()),A=pi(l.shape,a);return A.length>0?c.sum(A).reshape(l.shape):c},b:function(){var c=o.mul(l.toFloat()),A=pi(u.shape,a);return A.length>0?c.sum(A).reshape(u.shape):c}}},"Mul")}}),jpe=he({mulStrict_:function(e,t){var r=te(e,"a","mul"),n=te(t,"b","mul");return xr(r.shape,n.shape,"Error in multiplyStrict: "),r.mul(n)}}),kw=he({pow_:function(e,t){var r,n=te(e,"base","pow"),i=te(t,"exp","pow");r=gn(n,i),n=r[0],i=r[1];var a=nr(n.shape,i.shape),o=[n,i];return ge.runKernelFunc(function(s,l){var u=s.pow(n,i);return l([n,i,u]),u},{a:n,b:i},function(s,l){var u=l[0],c=l[1],A=l[2];return{a:function(){var d=c.toFloat(),f=s.mul(d.mul(u.pow(d.sub(Xe(1))))),p=pi(u.shape,a);return p.length>0&&(f=f.sum(p)),f.reshape(u.shape)},b:function(){var d=u.greater(0),f=u.log().where(d,Ar(u)),p=s.mul(A.mul(f)),g=pi(c.shape,a);return g.length>0&&(p=p.sum(g)),p.reshape(c.shape)}}},"Pow",{},o,[!0])}}),Mpe=he({powStrict_:function(e,t){return xr(e.shape,t.shape,"Error in powStrict: "),e.pow(t)}}),Qpe=he({squaredDifferenceStrict_:function(e,t){var r=te(e,"a","squaredDifferenceStrict"),n=te(t,"b","squaredDifferenceStrict");return xr(r.shape,n.shape,"Error in squaredDifferenceStrict: "),r.squaredDifference(n)}}),mi=he({sub_:function(e,t){var r,n=te(e,"a","sub"),i=te(t,"b","sub");r=gn(n,i),n=r[0],i=r[1];var a=nr(n.shape,i.shape);return ge.runKernelFunc(function(o){return o.subtract(n,i)},{a:n,b:i},function(o){return{a:function(){var s=o,l=pi(n.shape,a);return l.length>0&&(s=s.sum(l)),s.reshape(n.shape)},b:function(){var s=o,l=pi(i.shape,a);return l.length>0&&(s=s.sum(l)),s.neg().reshape(i.shape)}}},"Sub")}}),Hpe=he({subStrict_:function(e,t){var r=te(e,"a","subStrict"),n=te(t,"b","subStrict");return xr(r.shape,n.shape,"Error in subStrict: "),r.sub(n)}}),f9=he({equal_:function(e,t){var r,n=te(e,"a","equal"),i=te(t,"b","equal");return r=gn(n,i),n=r[0],i=r[1],nr(n.shape,i.shape),ge.runKernelFunc(function(a){return a.equal(n,i)},{$a:n,$b:i})}}),$pe=he({equalStrict_:function(e,t){var r=te(e,"a","equalStrict"),n=te(t,"b","equalStrict");return xr(r.shape,n.shape,"Error in equalStrict: "),r.equal(n)}}),Wpe=he({greater_:function(e,t){var r,n=te(e,"a","greater"),i=te(t,"b","greater");return r=gn(n,i),n=r[0],i=r[1],nr(n.shape,i.shape),ge.runKernelFunc(function(a){return a.greater(n,i)},{a:n,b:i},null,"Greater")}}),d9=he({greaterEqual_:function(e,t){var r,n=te(e,"a","greaterEqual"),i=te(t,"b","greaterEqual");return r=gn(n,i),n=r[0],i=r[1],nr(n.shape,i.shape),ge.runKernelFunc(function(a,o){var s=a.greaterEqual(n,i);return o([n,i]),s},{a:n,b:i},function(a,o){var s=o[0],l=o[1];return{a:function(){return Ar(s)},b:function(){return Ar(l)}}},"GreaterEqual")}}),Kpe=he({greaterEqualStrict_:function(e,t){var r=te(e,"a","greaterEqualStrict"),n=te(t,"b","greaterEqualStrict");return xr(r.shape,n.shape,"Error in greaterEqualStrict: "),r.greaterEqual(n)}}),zpe=he({greaterStrict_:function(e,t){var r=te(e,"a","greaterStrict"),n=te(t,"b","greaterStrict");return xr(r.shape,n.shape,"Error in greaterStrict: "),r.greater(n)}}),Vpe=he({less_:function(e,t){var r,n=te(e,"a","less"),i=te(t,"b","less");return r=gn(n,i),n=r[0],i=r[1],nr(n.shape,i.shape),ge.runKernelFunc(function(a){return a.less(n,i)},{a:n,b:i},null,"Less")}}),Gpe=he({lessEqual_:function(e,t){var r,n=te(e,"a","lessEqual"),i=te(t,"b","lessEqual");return r=gn(n,i),n=r[0],i=r[1],nr(n.shape,i.shape),ge.runKernelFunc(function(a,o){var s=a.lessEqual(n,i);return o([n,i]),s},{a:n,b:i},null,"LessEqual")}}),qpe=he({lessEqualStrict_:function(e,t){var r=te(e,"a","lessEqualStrict"),n=te(t,"b","lessEqualStrict");return xr(r.shape,n.shape,"Error in lessEqualStrict: "),r.lessEqual(n)}}),Xpe=he({lessStrict_:function(e,t){var r=te(e,"a","lessStrict"),n=te(t,"b","lessStrict");return xr(r.shape,n.shape,"Error in lessStrict: "),r.less(n)}}),Ype=he({notEqual_:function(e,t){var r,n=te(e,"a","notEqual"),i=te(t,"b","notEqual");return r=gn(n,i),n=r[0],i=r[1],nr(n.shape,i.shape),ge.runKernelFunc(function(a){return a.notEqual(n,i)},{a:n,b:i},null,"NotEqual")}}),Jpe=he({notEqualStrict_:function(e,t){var r=te(e,"a","notEqualStrict"),n=te(t,"b","notEqualStrict");return xr(r.shape,n.shape,"Error in notEqualStrict: "),r.notEqual(n)}});function IL(e,t){for(var r=[],n=e;n<t;++n)r.push(n);return r}function _L(e){for(var t=[],r=0;r<e.length;++r)for(var n=0;n<e[r].length;++n)t.push(e[r][n]);return t}var LN=he({gather_:function(e,t,r){r===void 0&&(r=0);var n=te(e,"x","gather"),i=te(t,"indices","gather","int32");r=vi(r,n.shape)[0];var a=function(o,s,l){for(var u=o.shape[l],c=[],A=1,d=1,f=0;f<l;f++)c.push(o.shape[f]),A*=o.shape[f];for(f=0;f<s.rank;f++)c.push(s.shape[f]);for(f=l+1;f<o.rank;f++)c.push(o.shape[f]),d*=o.shape[f];return{batchSize:A,sliceSize:d,dimSize:u,outputShape:c}}(n,i,r);return ge.runKernelFunc(function(o,s){var l=o.gather(n,i.flatten(),r);return s([i]),l},{x:n,indices:i},function(o,s){var l=s[0];return{x:function(){var u=n.shape,c=l.size,A=u.slice(0,r),d=A.length,f=u.slice(r,u.length).slice(1),p=f.length,g=IL(0,d),v=IL(d+1,d+1+p),m=_L([A,[c],f]),y=o.reshape(m),w=l.reshape([c]),b=_L([[d],g,v]),B=y.transpose(b),S=h9(B,w,n.shape[r]),P=xN(b);return S=S.transpose(P)},indices:function(){return l}}},"Gather",{axis:r}).reshape(a.outputShape)}}),h9=he({unsortedSegmentSum_:function(e,t,r){var n=te(e,"x","unsortedSegmentSum"),i=te(t,"segmentIds","unsortedSegmentSum","int32");return oe(Mn(r),function(){return"numSegments must be of dtype int"}),ge.runKernelFunc(function(a,o){var s=a.unsortedSegmentSum(n,i,r);return o([i]),s},{$x:n},function(a,o){var s=o[0];return{$x:function(){return function(l,u){for(var c=TN(u,Ar(u)),A=LN(l,c),d=d9(u,Xe(0,"int32")),f=A.rank-d.rank,p=0;p<f;++p)d=es(d,p+1);d=w2(d,qh(A.shape,"bool"));var g=Ar(A);return Bf(d,A,g)}(a,s)}}})}}),Zpe=function(e,t,r){return ft(this,void 0,void 0,function(){var n,i,a,o,s,l,u,c,A,d,f,p,g;return dt(this,function(v){switch(v.label){case 0:for(n=te(e,"tensor","boolMask"),i=te(t,"mask","boolMask","bool"),a=r??0,o=i.rank,s=n.shape,oe(o>0,function(){return"mask cannot be scalar"}),xr(s.slice(a,a+o),i.shape,"mask's shape must match the first K dimensions of tensor's shape,"),l=1,u=a;u<a+o;u++)l*=s[u];return c=s.slice(0,a).concat([l],s.slice(a+o)),A=n.reshape(c),d=i.reshape([-1]),[4,u9(d)];case 1:return f=v.sent(),p=f.squeeze([1]),g=LN(A,p,a),e!==n&&n.dispose(),t!==i&&i.dispose(),p.dispose(),A.dispose(),d.dispose(),f.dispose(),[2,g]}})})};function p9(e,t,r,n,i,a,o){a===void 0&&(a="NHWC"),oe(e.length===t.rank,function(){return"Length of inShape ("+e.length+") and rank of dy ("+t.rank+") must match"});var s=e,l=t,u=!1;t.rank===3&&(u=!0,l=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]),s=[1,e[0],e[1],e[2]]),oe(s.length===4,function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+s.length+"."}),oe(l.rank===4,function(){return"Error in conv2dDerInput: dy must be rank 4, but got rank "+l.rank}),oe(r.rank===4,function(){return"Error in conv2dDerInput: filter must be rank 4, but got rank "+r.rank});var c=a==="NHWC"?s[3]:s[1],A=a==="NHWC"?l.shape[3]:l.shape[1];oe(c===r.shape[2],function(){return"Error in conv2dDerInput: depth of input ("+c+") must match input depth for filter "+r.shape[2]+"."}),oe(A===r.shape[3],function(){return"Error in conv2dDerInput: depth of output ("+A+") must match output depth for filter "+r.shape[3]+"."}),o!=null&&oe(Mn(i),function(){return"Error in conv2dDerInput: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+i+"."});var d=SN(a),f=Mf(s,r.shape,n,1,i,o,!1,d),p=ge.runKernelFunc(function(g,v){var m=g.conv2dDerInput(l,r,f);return v([r,l]),m},{dy4D:l,filter:r},function(g,v){var m=v[0],y=v[1];return{dy4D:function(){return ps(g,m,n,i,a,1,o)},filter:function(){return UN(g,y,m.shape,n,i,a,o)}}});return u?p.as3D(p.shape[1],p.shape[2],p.shape[3]):p}function t5(e){var t=function(a){return typeof a=="number"?[a,a,a]:a.length===2?[a[0],a[1],1]:a}(e),r=t[0],n=t[1],i=t[2];return r===1&&n===1&&i===1}function m9(e,t,r,n,i){oe(e.length===t.rank,function(){return"Length of inShape ("+e.length+") and rank of dy ("+t.rank+") must match"});var a=e,o=t,s=!1;t.rank===4&&(s=!0,o=t.as5D(1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]),a=[1,e[0],e[1],e[2],e[3]]);var l=a[4],u=o.shape[4];oe(a.length===5,function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+a.length+"."}),oe(o.rank===5,function(){return"Error in conv3dDerInput: dy must be rank 5, but got rank "+o.rank}),oe(r.rank===5,function(){return"Error in conv3dDerInput: filter must be rank 5, but got rank "+r.rank}),oe(l===r.shape[3],function(){return"Error in conv3dDerInput: depth of input ("+l+") must match input depth for filter "+r.shape[3]+"."}),oe(u===r.shape[4],function(){return"Error in conv3dDerInput: depth of output ("+u+") must match output depth for filter "+r.shape[4]+"."});var c=Fw(a,r.shape,n,1,i),A=ge.runKernelFunc(function(d){return d.conv3dDerInput(o,r,c)},{dy5D:o});return s?A.as4D(A.shape[1],A.shape[2],A.shape[3],A.shape[4]):A}var eme=he({conv1d_:function(e,t,r,n,i,a,o){i===void 0&&(i="NWC"),a===void 0&&(a=1);var s=te(e,"x","conv1d"),l=te(t,"filter","conv1d"),u=s,c=!1;s.rank===2&&(c=!0,u=s.as3D(1,s.shape[0],s.shape[1])),oe(u.rank===3,function(){return"Error in conv1d: input must be rank 3, but got rank "+u.rank+"."}),oe(l.rank===3,function(){return"Error in conv1d: filter must be rank 3, but got rank "+l.rank+"."}),o!=null&&oe(Mn(n),function(){return"Error in conv1d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+n+"."}),oe(u.shape[2]===l.shape[1],function(){return"Error in conv1d: depth of input ("+u.shape[2]+") must match input depth for filter "+l.shape[1]+"."}),oe(no(r,a),function(){return"Error in conv1D: Either stride or dilation must be 1. Got stride "+r+" and dilation '"+a+"'"}),oe(i==="NWC",function(){return"Error in conv1d: got dataFormat of "+i+" but only NWC is currently supported."});var A=l.as4D(1,l.shape[0],l.shape[1],l.shape[2]),d=u.as4D(u.shape[0],1,u.shape[1],u.shape[2]),f=ps(d,A,[1,r],n,"NHWC",[1,a],o);return c?f.as2D(f.shape[2],f.shape[3]):f.as3D(f.shape[0],f.shape[2],f.shape[3])}}),ps=he({conv2d_:function(e,t,r,n,i,a,o){i===void 0&&(i="NHWC"),a===void 0&&(a=[1,1]);var s=te(e,"x","conv2d"),l=te(t,"filter","conv2d"),u=s,c=!1;s.rank===3&&(c=!0,u=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),oe(u.rank===4,function(){return"Error in conv2d: input must be rank 4, but got rank "+u.rank+"."}),oe(l.rank===4,function(){return"Error in conv2d: filter must be rank 4, but got rank "+l.rank+"."}),o!=null&&oe(Mn(n),function(){return"Error in conv2d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+n+"."});var A=i==="NHWC"?u.shape[3]:u.shape[1];oe(A===l.shape[2],function(){return"Error in conv2d: depth of input ("+A+") must match input depth for filter "+l.shape[2]+"."}),oe(no(r,a),function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+a+"'"});var d=SN(i),f=Mf(u.shape,l.shape,r,a,n,o,!1,d),p=[l,u],g=ge.runKernelFunc(function(v,m){var y=v.conv2d(u,l,f);return m([l,u]),y},{x:u,filter:l},function(v,m){var y=m,w=y[0],b=y[1];return oe(Eh(a),function(){return"Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+a+"'"}),{x:function(){return g9(b.shape,v,w,r,n,i)},filter:function(){return UN(b,v,w.shape,r,n,i)}}},"Conv2D",f,p);return c?g.as3D(g.shape[1],g.shape[2],g.shape[3]):g}}),tme=he({conv3d_:function(e,t,r,n,i,a){i===void 0&&(i="NDHWC"),a===void 0&&(a=[1,1,1]);var o=te(e,"x","conv3d"),s=te(t,"filter","conv3d"),l=o,u=!1;o.rank===4&&(u=!0,l=o.as5D(1,o.shape[0],o.shape[1],o.shape[2],o.shape[3])),oe(l.rank===5,function(){return"Error in conv3d: input must be rank 5, but got rank "+l.rank+"."}),oe(s.rank===5,function(){return"Error in conv3d: filter must be rank 5, but got rank "+s.rank+"."}),oe(l.shape[4]===s.shape[3],function(){return"Error in conv3d: depth of input ("+l.shape[4]+") must match input depth for filter "+s.shape[3]+"."}),oe(function(d,f){return t5(d)||t5(f)}(r,a),function(){return"Error in conv3D: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+a+"'"}),oe(i==="NDHWC",function(){return"Error in conv3d: got dataFormat of "+i+" but only NDHWC is currently supported."});var c=Fw(l.shape,s.shape,r,a,n),A=ge.runKernelFunc(function(d,f){var p=d.conv3d(l,s,c);return f([l,s]),p},{x:l,$filter:s},function(d,f){oe(t5(a),function(){return"Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+a+"'"});var p=f[0],g=f[1];return{x:function(){return m9(p.shape,d,g,r,n)},$filter:function(){return function(v,m,y,w,b){var B=v;v.rank===4&&(B=v.as5D(1,v.shape[0],v.shape[1],v.shape[2],v.shape[3]));var S=m;S.rank===4&&(S=m.as5D(1,m.shape[0],m.shape[1],m.shape[2],m.shape[3])),oe(B.rank===5,function(){return"Error in conv3dDerFilter: input must be rank 5, but got shape "+B.shape+"."}),oe(S.rank===5,function(){return"Error in conv3dDerFilter: dy must be rank 5, but got shape "+S.shape+"."}),oe(y.length===5,function(){return"Error in conv3dDerFilter: filterShape must be length 5, but got "+y+"."}),oe(B.shape[4]===y[3],function(){return"Error in conv3dDerFilter: depth of input "+B.shape[4]+") must match input depth in filter ("+y[3]+"."}),oe(S.shape[4]===y[4],function(){return"Error in conv3dDerFilter: depth of dy ("+S.shape[4]+") must match output depth for filter ("+y[4]+")."});var P=Fw(B.shape,y,w,1,b);return ge.runKernelFunc(function(k){return k.conv3dDerFilter(B,S,P)},{x5D:B,dy5D:S})}(p,d,g.shape,r,n)}}});return u?A.as4D(A.shape[1],A.shape[2],A.shape[3],A.shape[4]):A}}),UN=he({conv2dDerFilter_:function(e,t,r,n,i,a,o){a===void 0&&(a="NHWC");var s=e;e.rank===3&&(s=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var l=t;l.rank===3&&(l=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),oe(s.rank===4,function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+s.shape+"."}),oe(l.rank===4,function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+l.shape+"."}),oe(r.length===4,function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+r+"."});var u=a==="NHWC"?s.shape[3]:s.shape[1],c=a==="NHWC"?l.shape[3]:l.shape[1];oe(u===r[2],function(){return"Error in conv2dDerFilter: depth of input "+u+") must match input depth in filter ("+r[2]+"."}),oe(c===r[3],function(){return"Error in conv2dDerFilter: depth of dy ("+c+") must match output depth for filter ("+r[3]+")."}),o!=null&&oe(Mn(i),function(){return"Error in conv2dDerFilter: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+i+"."});var A=SN(a),d=Mf(s.shape,r,n,1,i,o,!1,A);return ge.runKernelFunc(function(f){return f.conv2dDerFilter(s,l,d)},{x4D:s,dy4D:l})}}),g9=he({conv2dDerInput_:p9}),x2=he({depthwiseConv2d_:function(e,t,r,n,i,a,o){a===void 0&&(a=[1,1]);var s=te(e,"x","depthwiseConv2d"),l=te(t,"filter","depthwiseConv2d"),u=s,c=!1;s.rank===3&&(c=!0,u=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),oe(u.rank===4,function(){return"Error in depthwiseConv2d: input must be rank 4, but got rank "+u.rank+"."}),oe(l.rank===4,function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+l.rank+"."}),oe(u.shape[3]===l.shape[2],function(){return"Error in depthwiseConv2d: number of input channels ("+u.shape[3]+") must match the inChannels dimension in filter "+l.shape[2]+"."}),a==null&&(a=[1,1]),oe(no(r,a),function(){return"Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+a+"'"}),o!=null&&oe(Mn(n),function(){return"Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+n+"."});var A=Mf(u.shape,l.shape,r,a,n,o,!0),d=[u,l],f=ge.runKernelFunc(function(p,g){var v=p.depthwiseConv2D(u,l,A);return g([u,l]),v},{x:u,filter:l},function(p,g){oe(Eh(a),function(){return"Error in gradient of depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+a+"'"});var v=g[0],m=g[1];return{x:function(){return v9(v.shape,p,m,A)},filter:function(){return y9(v,p,m.shape,A)}}},"DepthwiseConv2dNative",A,d);return c?f.as3D(f.shape[1],f.shape[2],f.shape[3]):f}}),v9=he({depthwiseConv2dDerInput_:function(e,t,r,n){var i=t,a=!1;t.rank===3&&(a=!0,i=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]));var o=ge.runKernelFunc(function(s){return s.depthwiseConv2DDerInput(i,r,n)},{dy4D:i});return a?o.as3D(o.shape[1],o.shape[2],o.shape[3]):o}}),y9=he({depthwiseConv2dDerFilter_:function(e,t,r,n){var i=e;e.rank===3&&(i=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var a=t;return a.rank===3&&(a=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),ge.runKernelFunc(function(o){return o.depthwiseConv2DDerFilter(i,a,n)},{x4D:i,dy4D:a})}}),RN=he({separableConv2d_:function(e,t,r,n,i,a,o){a===void 0&&(a=[1,1]),o===void 0&&(o="NHWC");var s=te(e,"x","separableConv2d"),l=te(t,"depthwiseFilter","separableConv2d"),u=te(r,"pointwiseFilter","separableConv2d"),c=s,A=!1;if(s.rank===3&&(A=!0,c=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),o==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");oe(c.rank===4,function(){return"Error in separableConv2d: input must be rank 4, but got rank "+c.rank+"."}),oe(l.rank===4,function(){return"Error in separableConv2d: depthwise filter must be rank 4, but got rank "+l.rank+"."}),oe(u.rank===4,function(){return"Error in separableConv2d: pointwise filter must be rank 4, but got rank "+l.rank+"."}),oe(u.shape[0]===1,function(){return"Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got "+u.shape[0]+"."}),oe(u.shape[1]===1,function(){return"Error in separableConv2d: the second dimension of pointwise filter must be 1, but got "+u.shape[1]+"."});var d=l.shape[2],f=l.shape[3];oe(u.shape[2]===d*f,function(){return"Error in separableConv2d: the third dimension of pointwise filter must be "+d*f+", but got "+u.shape[2]+"."});var p=x2(c,l,n,i,o,a),g=ps(p,u,1,"valid",o);return A?g.as3D(g.shape[1],g.shape[2],g.shape[3]):g}}),rme=he({conv2dTranspose_:function(e,t,r,n,i,a){return p9(r,te(e,"x","conv2dTranspose"),te(t,"filter","conv2dTranspose"),n,i,"NHWC",a)}}),nme=he({conv3dTranspose_:function(e,t,r,n,i){return m9(r,te(e,"x","conv3dTranspose"),te(t,"filter","conv3dTranspose"),n,i)}}),b2=he({matMul_:function(e,t,r,n){var i;r===void 0&&(r=!1),n===void 0&&(n=!1);var a=te(e,"a","matMul"),o=te(t,"b","matMul");i=gn(a,o),a=i[0],o=i[1];var s=r?a.shape[a.rank-2]:a.shape[a.rank-1],l=n?o.shape[o.rank-1]:o.shape[o.rank-2],u=r?a.shape[a.rank-1]:a.shape[a.rank-2],c=n?o.shape[o.rank-2]:o.shape[o.rank-1],A=a.shape.slice(0,-2),d=o.shape.slice(0,-2),f=yt(A),p=yt(d);oe(a.rank>=2&&o.rank>=2&&a.rank===o.rank,function(){return"Error in matMul: inputs must have the same rank of at least 2, got ranks "+a.rank+" and "+o.rank+"."}),oe(Pi(A,d),function(){return"Error in matMul: outer dimensions ("+A+") and ("+d+") of Tensors with shapes "+a.shape+" and "+o.shape+" must match."}),oe(s===l,function(){return"Error in matMul: inner shapes ("+s+") and ("+l+") of Tensors with shapes "+a.shape+" and "+o.shape+" and transposeA="+r+" and transposeB="+n+" must match."});var g=a.shape.slice(0,-2).concat([u,c]),v=r?a.as3D(f,s,u):a.as3D(f,u,s),m=n?o.as3D(p,c,l):o.as3D(p,l,c),y={transposeA:r,transposeB:n};return ge.runKernelFunc(function(w,b){var B=w.batchMatMul(v,m,r,n);return b([v,m]),B},{a:v,b:m},function(w,b){var B=b,S=B[0],P=B[1];return r||n?!r&&n?{a:function(){return w.matMul(P,!1,!1)},b:function(){return w.matMul(S,!0,!1)}}:r&&!n?{a:function(){return P.matMul(w,!1,!0)},b:function(){return S.matMul(w,!1,!1)}}:{a:function(){return P.matMul(w,!0,!0)},b:function(){return w.matMul(S,!0,!0)}}:{a:function(){return w.matMul(P,!1,!0)},b:function(){return S.matMul(w,!0,!1)}}},"BatchMatMul",y).reshape(g)}}),ime=he({dot_:function(e,t){var r=te(e,"t1","dot"),n=te(t,"t2","dot");oe(!(r.rank!==1&&r.rank!==2||n.rank!==1&&n.rank!==2),function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+r.rank+" and "+n.rank+"."});var i=r.rank===1?r.size:r.shape[1],a=n.rank===1?n.size:n.shape[0];return oe(i===a,function(){return"Error in dot: inner dimensions of inputs must match, but got "+i+" and "+a+"."}),r.rank===1&&n.rank===1?r.as2D(1,-1).matMul(n.as2D(-1,1)).asScalar():r.rank===1&&n.rank===2?r.as2D(1,-1).matMul(n.as2D(n.shape[0],n.shape[1])).as1D():r.rank===2&&n.rank===1?r.matMul(n.as2D(-1,1)).as1D():r.matMul(n.as2D(n.shape[0],n.shape[1]))}}),ame=he({outerProduct_:function(e,t){var r=te(e,"v1","outerProduct"),n=te(t,"v2","outerProduct");return oe(r.rank===1&&n.rank===1,function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+r.rank+" and "+n.rank+"."}),r.as2D(-1,1).matMul(n.as2D(1,-1))}}),sv=he({reverse_:function(e,t){var r=te(e,"x","reverse");if(r.rank===0)return r.clone();var n=vi(t,r.shape);return ge.runKernelFunc(function(i){return i.reverse(r,n)},{$x:r},function(i){return{$x:function(){return i.reverse(n)}}}).reshapeAs(r)}}),ome=he({reverse1d_:function(e){var t=te(e,"x","reverse");return oe(t.rank===1,function(){return"Error in reverse1D: x must be rank 1 but got rank "+t.rank+"."}),sv(t,0)}}),sme=he({reverse2d_:function(e,t){var r=te(e,"x","reverse");return oe(r.rank===2,function(){return"Error in reverse2D: x must be rank 2 but got rank "+r.rank+"."}),sv(r,t)}}),lme=he({reverse3d_:function(e,t){var r=te(e,"x","reverse");return oe(r.rank===3,function(){return"Error in reverse3D: x must be rank 3 but got rank "+r.rank+"."}),sv(r,t)}}),ume=he({reverse4d_:function(e,t){var r=te(e,"x","reverse");return oe(r.rank===4,function(){return"Error in reverse4D: x must be rank 4 but got rank "+r.rank+"."}),sv(r,t)}});function w9(e,t,r,n,i,a){var o=te(e,"x","maxPool"),s=o,l=!1;o.rank===3&&(l=!0,s=o.as4D(1,o.shape[0],o.shape[1],o.shape[2])),oe(s.rank===4,function(){return"Error in maxPool: input must be rank 4 but got rank "+s.rank+"."}),oe(no(r,n),function(){return"Error in maxPool: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+n+"'"}),a!=null&&oe(Mn(i),function(){return"Error in maxPool: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+i+"."});var u=wg(s.shape,t,r,n,i,a);if(u.filterWidth===1&&u.filterHeight===1&&Pi(u.inShape,u.outShape))return o.clone();var c=[s],A=ge.runKernelFunc(function(d,f){var p=d.maxPool(s,u);return f([s,p]),p},{x:s},function(d,f){var p=f[0],g=f[1];return{x:function(){return function(v,m,y,w,b,B,S,P){var k=te(v,"dy","maxPoolBackprop"),I=te(m,"input","maxPoolBackprop"),O=te(y,"output","maxPoolBackprop");oe(I.rank===k.rank,function(){return"Rank of input ("+I.rank+") does not match rank of dy ("+k.rank+")"}),oe(no(b,B),function(){return"Error in maxPoolBackProp: Either strides or dilations must be 1. Got strides "+b+" and dilations '"+B+"'"}),oe(k.rank===4,function(){return"Error in maxPoolBackprop: dy must be rank 4 but got rank "+k.rank+"."}),oe(I.rank===4,function(){return"Error in maxPoolBackprop: input must be rank 4 but got rank "+I.rank+"."});var F=wg(I.shape,w,b,B,S,P);return ge.runKernelFunc(function(N){return N.maxPoolBackprop(k,I,O,F)},{$dy:k,$input:I})}(d,p,g,t,r,n,i)}}},"MaxPool",u,c);return l?A.as3D(A.shape[1],A.shape[2],A.shape[3]):A}function x9(e,t,r,n,i,a){var o=te(e,"x","avgPool","float32");oe(no(r,n),function(){return"Error in avgPool: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+n+"'"});var s=o,l=!1;o.rank===3&&(l=!0,s=o.as4D(1,o.shape[0],o.shape[1],o.shape[2])),oe(s.rank===4,function(){return"Error in avgPool: x must be rank 4 but got rank "+s.rank+"."}),a!=null&&oe(Mn(i),function(){return"Error in avgPool: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+i+"."});var u=wg(s.shape,t,r,n,i,a);if(u.filterWidth===1&&u.filterHeight===1&&Pi(u.inShape,u.outShape))return o.clone();var c=ge.runKernelFunc(function(A){return A.avgPool(s,u)},{x:s},function(A){return{x:function(){return function(d,f,p,g,v,m){var y=te(d,"dy","avgPoolBackprop"),w=te(f,"input","avgPoolBackprop");oe(w.rank===y.rank,function(){return"Rank of input ("+w.rank+") does not match rank of dy ("+y.rank+")"}),oe(no(g,v),function(){return"Error in avgPoolBackprop: Either strides or dilations must be 1. Got strides "+g+" and dilations '"+v+"'"});var b=w,B=y,S=!1;w.rank===3&&(S=!0,b=w.as4D(1,w.shape[0],w.shape[1],w.shape[2]),B=y.as4D(1,y.shape[0],y.shape[1],y.shape[2])),oe(B.rank===4,function(){return"Error in avgPoolBackprop: dy must be rank 4 but got rank "+B.rank+"."}),oe(b.rank===4,function(){return"Error in avgPoolBackprop: input must be rank 4 but got rank "+b.rank+"."});var P=wg(b.shape,p,g,v,m),k=ge.runKernelFunc(function(I){return I.avgPoolBackprop(B,b,P)},{dy4D:B,input4D:b});return S?k.as3D(k.shape[1],k.shape[2],k.shape[3]):k}(A,s,t,r,n,i)}}},"AvgPool",u);return c=c.cast(o.dtype),l?c.as3D(c.shape[1],c.shape[2],c.shape[3]):c}var Ni=he({maxPool_:function(e,t,r,n,i){return w9(e,t,r,1,n,i)}}),lv=he({avgPool_:function(e,t,r,n,i){return x9(e,t,r,1,n,i)}}),cme=he({pool_:function(e,t,r,n,i,a){i==null&&(i=[1,1]),a==null&&(a=1),n===0&&(n="valid");var o=te(e,"x","maxPool"),s=o,l=!1;o.rank===3&&(l=!0,s=o.as4D(1,o.shape[0],o.shape[1],o.shape[2])),oe(no(a,i),function(){return"Error in pool: Either strides or dilations must be 1. Got strides "+a+" and dilations '"+i+"'"});var u,c=wg(s.shape,t,a,i,n),A=[c.dilationHeight,c.dilationWidth];u=n==="same"?function(b,B){var S=b.map(function(I,O){return I+(I-1)*(B[O]-1)}).map(function(I){return I-1}),P=S.map(function(I){return Math.floor(I/2)}),k=S.map(function(I,O){return I-P[O]});return S.map(function(I,O){return[P[O],k[O]]})}([c.filterHeight,c.filterWidth],A):[[0,0],[0,0]];var d=A[0]===1&&A[1]===1,f=function(b,B,S){var P=S.map(function(M){return M[0]}),k=S.map(function(M){return M[1]}),I=b.concat(P,k),O=B.map(function(M,V){return(M-I[V]%M)%M}),F=k.map(function(M,V){return M+O[V]}),N=B.map(function(M,V){return[P[V],F[V]]}),U=B.map(function(M,V){return[0,O[V]]});return[N,U]}([c.inHeight,c.inWidth],A,u),p=f[0],g=f[1],v=d?n:"valid",m=d?s:N7(s,A,p),y=(r==="avg"?function(){return x9(m,t,a,1,v)}:function(){return w9(m,t,a,1,v)})(),w=d?y:C7(y,A,g);return l?w.as3D(w.shape[1],w.shape[2],w.shape[3]):w}}),Ame=he({maxPool3d_:function(e,t,r,n,i,a,o){a===void 0&&(a="NDHWC");var s=te(e,"x","maxPool3d"),l=s,u=!1;s.rank===4&&(u=!0,l=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),o==null&&(o=[1,1,1]),oe(l.rank===5,function(){return"Error in maxPool3d: x must be rank 5 but got rank "+l.rank+"."}),oe(a==="NDHWC",function(){return"Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of "+a}),oe(no(r,o),function(){return"Error in maxPool3d: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+o+"'"}),i!=null&&oe(Mn(n),function(){return"Error in maxPool3d: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+n+"."});var c=Nw(l.shape,t,r,o,n,i,a),A=ge.runKernelFunc(function(d,f){var p=d.maxPool3d(l,c);return f([l,p]),p},{x:l},function(d,f){var p=f[0],g=f[1];return{x:function(){return function(v,m,y,w,b,B,S,P){var k=te(v,"dy","maxPool3dBackprop"),I=te(m,"input","maxPool3dBackprop"),O=te(y,"output","maxPool3dBackprop"),F=k,N=I,U=O,M=!1;I.rank===4&&(M=!0,F=k.as5D(1,k.shape[0],k.shape[1],k.shape[2],k.shape[3]),N=I.as5D(1,I.shape[0],I.shape[1],I.shape[2],I.shape[3]),U=O.as5D(1,O.shape[0],O.shape[1],O.shape[2],O.shape[3])),oe(F.rank===5,function(){return"Error in maxPool3dBackprop: dy must be rank 5 but got rank "+F.rank+"."}),oe(N.rank===5,function(){return"Error in maxPool3dBackprop: input must be rank 5 but got rank "+N.rank+"."}),oe(U.rank===5,function(){return"Error in maxPool3dBackprop: output must be rank 5 but got rank "+U.rank+"."}),B==null&&(B=[1,1,1]),oe(no(b,B),function(){return"Error in maxPool3dBackprop: Either strides or dilations must be 1. Got strides "+b+" and dilations '"+B+"'"}),P!=null&&oe(Mn(S),function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+P+" but got pad "+S+"."});var V=Nw(N.shape,w,b,B,S,P),Q=ge.runKernelFunc(function(W){return W.maxPool3dBackprop(F,N,U,V)},{dy5D:F,input5D:N});return M?Q.as4D(Q.shape[1],Q.shape[2],Q.shape[3],Q.shape[4]):Q}(d,p,g,t,r,o,n,i)}}});return u?A.as4D(A.shape[1],A.shape[2],A.shape[3],A.shape[4]):A}}),fme=he({avgPool3d_:function(e,t,r,n,i,a,o){a===void 0&&(a="NDHWC");var s=te(e,"x","avgPool3d","float32"),l=s,u=!1;s.rank===4&&(u=!0,l=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),o==null&&(o=[1,1,1]),oe(l.rank===5,function(){return"Error in avgPool3d: x must be rank 5 but got rank "+l.rank+"."}),oe(a==="NDHWC",function(){return"Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of "+a}),oe(no(r,o),function(){return"Error in avgPool3d: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+o+"'"}),i!=null&&oe(Mn(n),function(){return"Error in avgPool3d: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+n+"."});var c=Nw(l.shape,t,r,o,n,i,a),A=ge.runKernelFunc(function(d){return d.avgPool3d(l,c)},{x:l},function(d){return{x:function(){return function(f,p,g,v,m,y,w){var b=te(f,"dy","avgPool3dBackprop"),B=te(p,"input","avgPool3dBackprop"),S=b,P=B,k=!1;B.rank===4&&(k=!0,S=b.as5D(1,b.shape[0],b.shape[1],b.shape[2],b.shape[3]),P=B.as5D(1,B.shape[0],B.shape[1],B.shape[2],B.shape[3])),oe(S.rank===5,function(){return"Error in avgPool3dBackprop: dy must be rank 5 but got rank "+S.rank+"."}),oe(P.rank===5,function(){return"Error in avgPool3dBackprop: input must be rank 5 but got rank "+P.rank+"."}),m==null&&(m=[1,1,1]),oe(no(v,m),function(){return"Error in avgPool3dBackprop: Either strides or dilations must be 1. Got strides "+v+" and dilations '"+m+"'"}),w!=null&&oe(Mn(y),function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+w+" but got pad "+y+"."});var I=Nw(P.shape,g,v,m,y,w),O=ge.runKernelFunc(function(F){return F.avgPool3dBackprop(S,P,I)},{dy5D:S,input5D:P});return k?O.as4D(O.shape[1],O.shape[2],O.shape[3],O.shape[4]):O}(d,l,t,r,o,n,i)}}});return A=A.cast(l.dtype),u?A.as4D(A.shape[1],A.shape[2],A.shape[3],A.shape[4]):A}}),Pl=he({slice_:function(e,t,r){var n,i,a=te(e,"x","slice");if(a.rank===0)throw new Error("Slicing scalar is not possible");(n=typeof t=="number"?[t].concat(new Array(a.rank-1).fill(0)):t.length<a.rank?t.concat(new Array(a.rank-t.length).fill(0)):t.slice()).forEach(function(l){oe(l!==-1,function(){return"slice() does not support negative begin indexing."})}),i=(i=r==null?new Array(a.rank).fill(-1):typeof r=="number"?[r].concat(new Array(a.rank-1).fill(-1)):r.length<a.rank?r.concat(new Array(a.rank-r.length).fill(-1)):r).map(function(l,u){return l>=0?l:(oe(l===-1,function(){return"Negative size values should be exactly -1 but got "+l+" for the slice() size at index "+u+"."}),a.shape[u]-n[u])}),Mfe(a,n,i);var o=a.shape,s={begin:n,size:i};return ge.runKernelFunc(function(l){return l.slice(a,n,i)},{x:a},function(l){for(var u=[],c=0;c<l.rank;c++)u.push([n[c],o[c]-n[c]-i[c]]);return{x:function(){return l.pad(u)}}},"Slice",s)}}),dme=he({slice1d_:function(e,t,r){var n=te(e,"x","slice1d");return oe(n.rank===1,function(){return"slice1d expects a rank-1 tensor, but got a rank-"+n.rank+" tensor"}),Pl(n,[t],[r])}}),hme=he({slice2d_:function(e,t,r){var n=te(e,"x","slice2d");return oe(n.rank===2,function(){return"slice2d expects a rank-2 tensor, but got a rank-"+n.rank+" tensor"}),Pl(n,t,r)}}),b9=he({slice3d_:function(e,t,r){var n=te(e,"x","slice3d");return oe(n.rank===3,function(){return"slice3d expects a rank-3 tensor, but got a rank-"+n.rank+" tensor"}),Pl(n,t,r)}}),pme=he({slice4d_:function(e,t,r){var n=te(e,"x","slice4d");return oe(n.rank===4,function(){return"slice4d expects a rank-4 tensor, but got a rank-"+n.rank+" tensor"}),Pl(n,t,r)}});function B9(e,t,r,n,i){return t.rank<r.rank&&(t=t.reshape(ro(t.shape,n))),e.rank<r.rank&&(e=e.reshape(ro(e.shape,n))),{x:function(){var a=e.mul(r.equal(t).cast(e.dtype));return i==null?a:a.transpose(i)}}}var mme=he({all_:function(e,t,r){t===void 0&&(t=null),r===void 0&&(r=!1);var n=te(e,"x","all","bool"),i=vi(t,n.shape),a=i,o=Ml(a,n.rank);o!=null&&(n=n.transpose(o),a=Ql(a.length,n.rank));var s=ge.runKernelFunc(function(u){return u.all(n,a)},{$x:n});if(r){var l=ro(s.shape,i);return s.reshape(l)}return s}}),gme=he({any_:function(e,t,r){t===void 0&&(t=null),r===void 0&&(r=!1);var n=te(e,"x","any","bool"),i=vi(t,n.shape),a=i,o=Ml(a,n.rank);o!=null&&(n=n.transpose(o),a=Ql(a.length,n.rank));var s=ge.runKernelFunc(function(u){return u.any(n,a)},{$x:n});if(r){var l=ro(s.shape,i);return s.reshape(l)}return s}}),vme=he({argMax_:function(e,t){t===void 0&&(t=0);var r=te(e,"x","argMax");t==null&&(t=0);var n=vi(t,r.shape),i=Ml(n,r.rank);i!=null&&(r=r.transpose(i),n=Ql(n.length,r.rank));var a={axis:n[0]},o=[r];return ge.runKernelFunc(function(s,l){var u=s.argMax(r,n[0]);return l([r]),u},{x:r},function(s,l){var u=l[0];return{x:function(){return Ar(u)}}},"ArgMax",a,o)}}),yme=he({argMin_:function(e,t){t===void 0&&(t=0);var r=te(e,"x","argMin");t==null&&(t=0);var n=vi(t,r.shape),i=Ml(n,r.rank);return i!=null&&(r=r.transpose(i),n=Ql(n.length,r.rank)),ge.runKernelFunc(function(a,o){var s=a.argMin(r,n[0]);return o([r]),s},{$x:r},function(a,o){var s=o[0];return{$x:function(){return Ar(s)}}})}}),wme=he({logSumExp_:function(e,t,r){t===void 0&&(t=null),r===void 0&&(r=!1);var n=te(e,"x","logSumExp"),i=vi(t,n.shape),a=n.max(i,!0),o=n.sub(a).exp().sum(i).log(),s=a.reshape(o.shape).add(o);if(r){var l=ro(s.shape,i);return s.reshape(l)}return s}}),B2=he({max_:function(e,t,r){t===void 0&&(t=null),r===void 0&&(r=!1);var n=te(e,"x","max"),i=n,a=vi(t,n.shape),o=a,s=Ml(o,n.rank);s!=null&&(n=n.transpose(s),o=Ql(o.length,n.rank));var l=[n],u=ge.runKernelFunc(function(A,d){var f=A.max(n,o);return d([i,f]),f},{x:n},function(A,d){return B9(A,d[1],d[0],a,s)},"Max",{axes:o},l,[!0]);if(r){var c=ro(u.shape,a);u=u.reshape(c)}return u}}),xme=he({mean_:function(e,t,r){t===void 0&&(t=null),r===void 0&&(r=!1);var n=te(e,"x","mean"),i=vi(t,n.shape),a=yt(ca(n.shape,i)[1]);return v2(function(o){var s=Xe(a);return{value:(s.dtype===o.dtype?o:o.cast(s.dtype)).div(s).sum(t,r),gradFunc:function(l){var u=o.shape.slice();return i.forEach(function(c){u[c]=1}),l.reshape(u).mul(qh(o.shape,"float32")).div(a)}}})(n)}}),bme=he({min_:function(e,t,r){t===void 0&&(t=null),r===void 0&&(r=!1);var n=te(e,"x","min"),i=n,a=vi(t,n.shape),o=a,s=Ml(o,n.rank);s!=null&&(n=n.transpose(s),o=Ql(o.length,n.rank));var l=[n],u=ge.runKernelFunc(function(A,d){var f=A.min(n,o);return d([i,f]),f},{x:n},function(A,d){return B9(A,d[1],d[0],a,s)},"Min",{axes:o},l,[!0]);if(r){var c=ro(u.shape,a);u=u.reshape(c)}return u}}),Bme=he({moments_:function(e,t,r){t===void 0&&(t=null),r===void 0&&(r=!1);var n=vi(t,(e=te(e,"x","moments")).shape),i=e.mean(n,r),a=i.shape;r||(a=ro(i.shape,n));var o=e.toFloat().sub(i.reshape(a)).square();return{mean:i,variance:o.mean(n,r)}}}),C9=he({sum_:function(e,t,r){t===void 0&&(t=null),r===void 0&&(r=!1);var n=te(e,"x","sum");n.dtype==="bool"&&(n=n.toInt());var i=vi(t,n.shape);return v2(function(a){var o=Ml(i,a.rank),s=i,l=a;o!=null&&(l=a.transpose(o),s=Ql(s.length,a.rank));var u=function(f){var p=a.shape.slice();return i.forEach(function(g){p[g]=1}),f.reshape(p).mul(qh(a.shape,"float32"))},c={axes:s},A=ge.runKernelFunc(function(f){return f.sum(l,s)},{x:l},function(f){return{x:function(){return u(f)}}},"Sum",c);if(r){var d=ro(A.shape,i);A=A.reshape(d)}return{value:A,gradFunc:u}})(n)}}),Cme=he({prod_:function(e,t,r){t===void 0&&(t=null),r===void 0&&(r=!1);var n=te(e,"x","prod");n.dtype==="bool"&&(n=n.toInt());var i=vi(t,n.shape),a=Ml(i,n.rank),o=i,s=n;a!=null&&(s=n.transpose(a),o=Ql(o.length,n.rank));var l=ge.runKernelFunc(function(c){return c.prod(s,o)},{permutedX:s});if(r){var u=ro(l.shape,i);l=l.reshape(u)}return l}}),E9=he({elu_:function(e){var t=te(e,"x","elu");return ge.runKernelFunc(function(r,n){var i=r.elu(t);return n([i]),i},{$x:t},function(r,n){var i=n[0];return{$x:function(){return ge.runKernelFunc(function(a){return a.eluDer(r,i)},{dy:r,y:i})}}})}}),Eme=he({leakyRelu_:function(e,t){t===void 0&&(t=.2);var r=te(e,"x","leakyRelu");return TN(Xe(t).mul(r),r)}}),S9=he({prelu_:function(e,t){var r=te(e,"x","prelu"),n=te(t,"alpha","prelu");return ge.runKernelFunc(function(i,a){var o=i.prelu(r,n);return a([r,n]),o},{x:r,alpha:n},function(i,a){var o=a[0],s=a[1],l=o.greater(0);return{x:function(){return Bf(l,i,i.mul(s))},alpha:function(){var u=Bf(l,Ar(i),i.mul(o)),c=pi(s.shape,i.shape);return c.length>0&&(u=u.sum(c)),u.reshape(s.shape)}}},"Prelu")}}),hn=he({relu_:function(e){var t=te(e,"x","relu");return t.dtype==="bool"?t.toInt():ge.runKernelFunc(function(r,n){var i=r.relu(t);return n([t]),i},{x:t},function(r,n){var i=n[0];return{x:function(){return r.mulStrict(i.step().toFloat())}}},"Relu")}}),N9=he({relu6_:function(e){var t=te(e,"x","relu6");return t.dtype==="bool"?t.toInt():ge.runKernelFunc(function(r,n){var i=r.relu6(t);return n([t]),i},{x:t},function(r,n){var i=n[0],a=i.lessEqual(6).mul(i.step());return{x:function(){return r.mulStrict(a.toFloat())}}},"Relu6")}}),Sme=he({selu_:function(e){var t=te(e,"x","selu");return ge.runKernelFunc(function(r,n){var i=r.selu(t);return n([t]),i},{$x:t},function(r,n){var i=n[0];return{$x:function(){var a=i.greater(Xe(0)),o=Xe(kN),s=Xe(PN),l=r.mul(s),u=r.mul(o).mul(i.toFloat().exp());return Bf(a,l,u)}}})}}),oA=he({transpose_:function(e,t){var r=te(e,"x","transpose");if(t==null&&(t=r.shape.map(function(i,a){return a}).reverse()),oe(r.rank===t.length,function(){return"Error in transpose: rank of input "+r.rank+" must match length of perm "+t+"."}),t.forEach(function(i){oe(i>=0&&i<r.rank,function(){return"All entries in 'perm' must be between 0 and "+(r.rank-1)+" but got "+t})}),r.rank<=1)return r.clone();var n={perm:t};return ge.runKernelFunc(function(i){return i.transpose(r,t)},{x:r},function(i){var a=xN(t);return{x:function(){return i.transpose(a)}}},"Transpose",n)}}),Nme=he({localResponseNormalization_:function(e,t,r,n,i){t===void 0&&(t=5),r===void 0&&(r=1),n===void 0&&(n=1),i===void 0&&(i=.5);var a=te(e,"x","localResponseNormalization");oe(a.rank===4||a.rank===3,function(){return`Error in localResponseNormalization: x must be rank 3 or 4 but got
               rank `+a.rank+"."}),oe(Mn(t),function(){return"Error in localResponseNormalization: depthRadius must be an integer but got depthRadius "+t+"."});var o=a,s=!1;a.rank===3&&(s=!0,o=a.as4D(1,a.shape[0],a.shape[1],a.shape[2]));var l=ge.runKernelFunc(function(u,c){var A=u.localResponseNormalization4D(o,t,r,n,i);return c([o,A]),A},{x4D:o},function(u,c){var A=c[0],d=c[1];return{x4D:function(){return ge.runKernelFunc(function(f){return f.LRNGrad(u,A,d,t,r,n,i)},{})}}});return s?l.as3D(l.shape[1],l.shape[2],l.shape[3]):l}}),F9=he({norm_:function(e,t,r,n){t===void 0&&(t="euclidean"),r===void 0&&(r=null),n===void 0&&(n=!1);var i=function s(l,u,c){if(c===void 0&&(c=null),l.rank===0)return l.abs();if(l.rank!==1&&c===null)return s(l.reshape([-1]),u,c);if(l.rank===1||typeof c=="number"||Array.isArray(c)&&c.length===1){if(u===1)return l.abs().sum(c);if(u===1/0)return l.abs().max(c);if(u===-1/0)return l.abs().min(c);if(u==="euclidean"||u===2)return l.abs().pow(Xe(2,"int32")).sum(c).sqrt();throw new Error("Error in norm: invalid ord value: "+u)}if(Array.isArray(c)&&c.length===2){if(u===1)return l.abs().sum(c[0]).max(c[1]-1);if(u===1/0)return l.abs().sum(c[1]).max(c[0]);if(u===-1/0)return l.abs().sum(c[1]).min(c[0]);if(u==="fro"||u==="euclidean")return l.square().sum(c).sqrt();throw new Error("Error in norm: invalid ord value: "+u)}throw new Error("Error in norm: invalid axis: "+c)}(e=te(e,"x","norm"),t,r),a=i.shape;if(n){var o=vi(r,e.shape);a=ro(i.shape,o)}return i.reshape(a)}}),Fme=he({basicLSTMCell_:function(e,t,r,n,i,a){var o=te(e,"forgetBias","basicLSTMCell"),s=te(t,"lstmKernel","basicLSTMCell"),l=te(r,"lstmBias","basicLSTMCell"),u=te(n,"data","basicLSTMCell"),c=te(i,"c","basicLSTMCell"),A=te(a,"h","basicLSTMCell"),d=u.concat(A,1).matMul(s).add(l),f=d.shape[0],p=d.shape[1]/4,g=[f,p],v=d.slice([0,0],g),m=d.slice([0,p],g),y=d.slice([0,2*p],g),w=d.slice([0,3*p],g),b=v.sigmoid().mulStrict(m.tanh()).addStrict(c.mulStrict(o.add(y).sigmoid())),B=b.tanh().mulStrict(w.sigmoid());return[b,B]}}),Ime=he({multiRNNCell_:function(e,t,r,n){for(var i=te(t,"data","multiRNNCell"),a=xw(r,"c","multiRNNCell"),o=xw(n,"h","multiRNNCell"),s=i,l=[],u=0;u<e.length;u++){var c=e[u](s,a[u],o[u]);l.push(c[0]),l.push(c[1]),s=c[1]}var A=[],d=[];for(u=0;u<l.length;u+=2)A.push(l[u]),d.push(l[u+1]);return[A,d]}}),_me=he({movingAverage_:function(e,t,r,n,i){i===void 0&&(i=!0);var a=te(e,"v","movingAverage"),o=te(t,"x","movingAverage"),s=te(r,"decay","movingAverage");NAe(a,o),oe(Pi(a.shape,o.shape),function(){return"Shape mismatch in v and x"});var l=Xe(1),u=l.sub(s),c=o.sub(a).mul(u);if(i){oe(n!=null,function(){return"When using zeroDebias: true, step is required."});var A=te(n,"step","movingAverage");c=c.div(l.sub(kw(s,A)))}return a.add(c)}}),kme=he({stridedSlice_:function(e,t,r,n,i,a,o,s,l){if(i===void 0&&(i=0),a===void 0&&(a=0),o===void 0&&(o=0),s===void 0&&(s=0),l===void 0&&(l=0),n==null&&(n=new Array(t.length)),o!==0)throw new Error("ellipsis mask is not yet supported");var u=te(e,"x","stridedSlice"),c=uL(s),A=u.shape.slice();c.forEach(function(v){t[v]=0,r[v]=1,A.splice(v,0,1)}),u=u.reshape(A);for(var d=0;d<u.rank;d++)t[d]=Qfe(i,t,n,u.shape,d),r[d]=Hfe(a,r,n,u.shape,d),n[d]=n[d]||1;var f=uL(l);f.forEach(function(v){r[v]=t[v]+1,n[v]=1});var p=EN(t,r,n),g=p.filter(function(v,m){return f.indexOf(m)===-1});return n.every(function(v){return v===1})?Pl(u,t,p).reshape(g):ge.runKernelFunc(function(v){return v.stridedSlice(u,t,r,n)},{$x:u}).reshape(g)}}),Pme=he({topk_:function(e,t,r){t===void 0&&(t=1),r===void 0&&(r=!0);var n=te(e,"x","topk");if(n.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");var i=n.shape[n.shape.length-1];if(t>i)throw new Error("'k' passed to topk() must be <= the last dimension ("+i+") but got "+t);var a=ge.runKernelFunc(function(o){return o.topk(n,t,r)},{$x:n});return{values:a[0],indices:a[1]}}}),Ome=he({scatterND_:function(e,t,r){var n=te(e,"indices","scatterND","int32"),i=te(t,"updates","scatterND");return jfe(i,n,r),ge.runKernelFunc(function(a){return a.scatterND(n,i,r)},{indices:n,updates:i},null,"ScatterNd",{shape:r})}}),DN=he({fft_:function(e){oe(e.dtype==="complex64",function(){return"The dtype for tf.spectral.fft() must be complex64 but got "+e.dtype+"."});var t=e.shape[e.shape.length-1],r=e.size/t,n=e.as2D(r,t);return ge.runKernelFunc(function(i){return i.fft(n)},{input:e}).reshape(e.shape)}}),Pw=he({ifft_:function(e){oe(e.dtype==="complex64",function(){return"The dtype for tf.spectral.ifft() must be complex64 but got "+e.dtype+"."});var t=e.shape[e.shape.length-1],r=e.size/t,n=e.as2D(r,t);return ge.runKernelFunc(function(i){return i.ifft(n)},{input:e}).reshape(e.shape)}}),jN=he({rfft_:function(e,t){oe(e.dtype==="float32",function(){return"The dtype for rfft() must be real value but got "+e.dtype});var r,n=e.shape[e.shape.length-1],i=e.size/n;if(t!=null&&t<n){var a=e.shape.map(function(m){return 0}),o=e.shape.map(function(m){return m});o[e.shape.length-1]=t,r=e.slice(a,o),n=t}else if(t!=null&&t>n){var s=e.shape.map(function(m){return m});s[e.shape.length-1]=t-n,r=e.concat(Yr(s),e.shape.length-1),n=t}else r=e;var l=r.zerosLike(),u=Vi(r,l).as2D(i,n),c=DN(u),A=Math.floor(n/2)+1,d=ts(c),f=wl(c),p=d.split([A,n-A],d.shape.length-1),g=f.split([A,n-A],f.shape.length-1),v=r.shape.slice();return v[r.shape.length-1]=A,Vi(p[0],g[0]).reshape(v)}}),I9=he({irfft_:function(e){var t=e.shape[e.shape.length-1],r=e.size/t;if(t<=2){var n=e.as2D(r,t),i=Pw(n);return ts(i)}var a=[r,2*(t-1)],o=ts(e).as2D(r,t),s=wl(e).as2D(r,t),l=o.slice([0,1],[r,t-2]).reverse(1),u=s.slice([0,1],[r,t-2]).reverse(1).mul(Xe(-1)),c=o.concat(l,1),A=s.concat(u,1);return n=Vi(c,A).as2D(a[0],a[1]),i=Pw(n),ts(i)}}),Tme=Object.freeze({fft:DN,ifft:Pw,rfft:jN,irfft:I9}),Lme=he({sparseToDense_:function(e,t,r,n){n===void 0&&(n=0);var i=te(e,"sparseIndices","sparseToDense","int32"),a=te(t,"sparseValues","sparseToDense"),o=te(n,"defaultValue","sparseToDense",a.dtype);return function(s,l,u,c){if(s.dtype!=="int32")throw new Error("tf.sparseToDense() expects the indices to be int32 type, but the dtype was "+s.dtype+".");if(s.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix, but got shape "+s.shape+".");var A=s.rank>0?s.shape[0]:1,d=s.rank>1?s.shape[1]:1;if(u.length!==d)throw new Error("outputShape has incorrect number of elements:, "+u.length+", should be: "+d+".");var f=l.size;if(l.rank!==0&&(l.rank!==1||f!==A))throw new Error("sparseValues has incorrect shape "+l.shape+", should be [] or ["+A+"]");if(l.dtype!==c.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(i,a,r,o),ge.runKernelFunc(function(s){return s.sparseToDense(i,a,r,o)},{$sparseIndices:i,$sparseValues:a,$defaultValue:o})}}),Ume=he({gatherND_:function(e,t){var r=te(t,"indices","gatherND","int32"),n=te(e,"x","gatherND");return ge.runKernelFunc(function(i){return i.gatherND(n,r)},{x:n,indices:r},null,"GatherNd")}}),Rme=he({diag_:function(e){var t=te(e,"x","diag").flatten(),r=e.shape.concat(e.shape);return ge.runKernelFunc(function(n){return n.diag(t)},{$x:t}).reshape(r)}}),Dme=he({dropout_:function(e,t,r,n){var i=te(e,"x","dropout");if(oe(i.dtype==="float32",function(){return"x has to be a floating point tensor since it's going to be scaled, but got a "+i.dtype+" tensor instead."}),oe(t>=0&&t<1,function(){return"rate must be a float in the range [0, 1), but got "+t+"."}),t===0)return e instanceof dn?i.clone():i;var a=function(l,u){if(u==null)return l.shape.slice();if(Pi(l.shape,u))return u;if(l.shape.length===u.length){for(var c=[],A=0;A<l.shape.length;A++)u[A]==null&&l.shape[A]!=null?c.push(l.shape[A]):c.push(u[A]);return c}return u}(i,r),o=1-t,s=S7(a,0,1,"float32",n).add(o).floor().div(o);return i.mul(s)}});function _9(e,t,r){for(var n=1-e%2,i=new Float32Array(e),a=0;a<e;++a){var o=2*Math.PI*a/(e+n-1);i[a]=t-r*Math.cos(o)}return Xn(i,"float32")}var MN=he({hannWindow_:function(e){return _9(e,.5,.5)}}),k9=he({hammingWindow_:function(e){return _9(e,.54,.46)}}),QN=he({frame_:function(e,t,r,n,i){n===void 0&&(n=!1),i===void 0&&(i=0);for(var a=0,o=[];a+t<=e.size;)o.push(Pl(e,a,t)),a+=r;if(n)for(;a<e.size;){var s=a+t-e.size,l=di([Pl(e,a,t-s),_l([s],i)]);o.push(l),a+=r}return o.length===0?Jc([],[0,t]):di(o).as2D(o.length,t)}}),P9=he({stft_:function(e,t,r,n,i){var a;i===void 0&&(i=MN),n==null&&(a=t,n=Math.floor(Math.pow(2,Math.ceil(Math.log(a)/Math.log(2)))));for(var o=QN(e,t,r),s=va(o,i(t)),l=[],u=0;u<o.shape[0];u++)l.push(jN(s.slice([u,0],[1,t]),n));return di(l)}}),jme=Object.freeze({hannWindow:MN,hammingWindow:k9,frame:QN,stft:P9}),ga,Mme=function(e,t,r){return r===void 0&&(r=1),ft(this,void 0,void 0,function(){var n,i,a,o,s,l,u,c,A,d,f,p,g,v;return dt(this,function(m){switch(m.label){case 0:return n=te(e,"predictions","inTopK"),i=te(t,"targets","inTopK"),oe(n.rank>1,function(){return"inTopK() expects the predictions to be of rank 2 or higher, but got "+n.rank}),oe(n.rank-1===i.rank,function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+n.rank+" and targets rank "+i.rank}),xr(n.shape.slice(0,n.shape.length-1),i.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),a=n.shape[n.shape.length-1],oe(r>0&&r<=a,function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last dimension ("+a+"), but got "+r}),[4,n.data()];case 1:return o=m.sent(),[4,i.data()];case 2:for(s=m.sent(),l=[o.length/a,a],c=l[1],A=gg("bool",u=l[0]),d=0;d<u;d++){for(f=d*c,p=o.subarray(f,f+c),g=[],v=0;v<p.length;v++)g.push({value:p[v],index:v});for(g.sort(function(y,w){return w.value-y.value}),A[d]=0,v=0;v<r;v++)if(g[v].index===s[d]){A[d]=1;break}}return e!==n&&n.dispose(),t!==i&&i.dispose(),[2,qi(A,i.shape,"bool")]}})})};(function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"})(ga||(ga={}));var Qme=he({absoluteDifference_:function(e,t,r,n){n===void 0&&(n=ga.SUM_BY_NONZERO_WEIGHTS);var i=te(e,"labels","absoluteDifference"),a=te(t,"predictions","absoluteDifference"),o=null;r!=null&&(o=te(r,"weights","absoluteDifference")),xr(i.shape,a.shape,"Error in absoluteDifference: ");var s=i.sub(a).abs();return Ku(s,o,n)}}),Ku=he({computeWeightedLoss_:function(e,t,r){r===void 0&&(r=ga.SUM_BY_NONZERO_WEIGHTS);var n=te(e,"losses","computeWeightedLoss"),i=null;t!=null&&(i=te(t,"weights","computeWeightedLoss"));var a=i==null?n:n.mul(i);if(r===ga.NONE)return a;if(r===ga.SUM)return a.sum();if(r===ga.MEAN){if(i==null)return a.mean();var o=n.size/i.size,s=a.sum().div(i.sum());return o>1?s.div(Xe(o)):s}if(r===ga.SUM_BY_NONZERO_WEIGHTS){if(i==null)return a.sum().div(Xe(n.size));var l=i.mul(qh(n.shape)).notEqual(Xe(0)).sum().toFloat();return a.sum().div(l)}throw Error("Unknown reduction: "+r)}}),Hme=he({cosineDistance_:function(e,t,r,n,i){i===void 0&&(i=ga.SUM_BY_NONZERO_WEIGHTS);var a=te(e,"labels","cosineDistance"),o=te(t,"predictions","cosineDistance"),s=null;n!=null&&(s=te(n,"weights","cosineDistance")),xr(a.shape,o.shape,"Error in cosineDistance: ");var l=Xe(1).sub(a.mul(o).sum(r,!0));return Ku(l,s,i)}}),$me=he({hingeLoss_:function(e,t,r,n){n===void 0&&(n=ga.SUM_BY_NONZERO_WEIGHTS);var i=te(e,"labels","hingeLoss"),a=te(t,"predictions","hingeLoss"),o=null;r!=null&&(o=te(r,"weights","hingeLoss")),xr(i.shape,a.shape,"Error in hingeLoss: ");var s=Xe(1);i=Xe(2).mul(i).sub(s);var l=s.sub(i.mul(a)).relu();return Ku(l,o,n)}}),Wme=he({huberLoss_:function(e,t,r,n,i){n===void 0&&(n=1),i===void 0&&(i=ga.SUM_BY_NONZERO_WEIGHTS);var a=te(e,"labels","huberLoss"),o=te(t,"predictions","huberLoss"),s=null;r!=null&&(s=te(r,"weights","huberLoss")),xr(a.shape,o.shape,"Error in huberLoss: ");var l=Xe(n),u=o.sub(a).abs(),c=A9(u,l),A=u.sub(c),d=Xe(.5).mul(c.square()).add(l.mul(A));return Ku(d,s,i)}}),Kme=he({logLoss_:function(e,t,r,n,i){n===void 0&&(n=1e-7),i===void 0&&(i=ga.SUM_BY_NONZERO_WEIGHTS);var a=te(e,"labels","logLoss"),o=te(t,"predictions","logLoss"),s=null;r!=null&&(s=te(r,"weights","logLoss")),xr(a.shape,o.shape,"Error in logLoss: ");var l=Xe(1),u=Xe(n),c=a.mul(o.add(u).log()).neg().sub(l.sub(a).mul(l.sub(o).add(u).log()));return Ku(c,s,i)}}),zme=he({meanSquaredError_:function(e,t,r,n){n===void 0&&(n=ga.SUM_BY_NONZERO_WEIGHTS);var i=te(e,"labels","meanSquaredError"),a=te(t,"predictions","meanSquaredError"),o=null;r!=null&&(o=te(r,"weights","meanSquaredError")),xr(i.shape,a.shape,"Error in meanSquaredError: ");var s=i.squaredDifference(a);return Ku(s,o,n)}}),Vme=he({sigmoidCrossEntropy_:function(e,t,r,n,i){n===void 0&&(n=0),i===void 0&&(i=ga.SUM_BY_NONZERO_WEIGHTS);var a=te(e,"multiClassLabels","sigmoidCrossEntropy"),o=te(t,"logits","sigmoidCrossEntropy"),s=null;if(r!=null&&(s=te(r,"weights","sigmoidCrossEntropy")),xr(a.shape,o.shape,"Error in sigmoidCrossEntropy: "),n>0){var l=Xe(n),u=Xe(1),c=Xe(.5);a=a.mul(u.sub(l)).add(c.mul(l))}var A=function(d,f){var p=te(d,"labels","sigmoidCrossEntropyWithLogits"),g=te(f,"logits","sigmoidCrossEntropyWithLogits");xr(p.shape,g.shape,"Error in sigmoidCrossEntropyWithLogits: ");var v=g.relu(),m=g.mul(p),y=g.abs().neg().exp().log1p();return v.sub(m).add(y)}(a,o);return Ku(A,s,i)}}),Gme=he({softmaxCrossEntropy_:function(e,t,r,n,i){n===void 0&&(n=0),i===void 0&&(i=ga.SUM_BY_NONZERO_WEIGHTS);var a=te(e,"onehotLabels","softmaxCrossEntropy"),o=te(t,"logits","softmaxCrossEntropy"),s=null;if(r!=null&&(s=te(r,"weights","softmaxCrossEntropy")),xr(a.shape,o.shape,"Error in softmaxCrossEntropy: "),n>0){var l=Xe(n),u=Xe(1),c=Xe(a.shape[1]);a=a.mul(u.sub(l)).add(l.div(c))}var A=function(d,f,p){if(p===void 0&&(p=-1),p===-1&&(p=f.rank-1),p!==f.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank "+f.rank+" and dim was "+p);return v2(function(g,v,m){var y=v.logSumExp([p],!0),w=v.toFloat().sub(y);return m([g,w]),{value:w.mul(g).neg().sum([p]),gradFunc:function(b,B){var S=B[0],P=B[1],k=ro(b.shape,[p]);return[b.reshape(k).mul(S.toFloat().sub(P.exp())),b.reshape(k).mul(P.exp().sub(S.toFloat()))]}}})(d,f)}(a,o);return Ku(A,s,i)}}),qme=Object.freeze({get Reduction(){return ga},absoluteDifference:Qme,computeWeightedLoss:Ku,cosineDistance:Hme,hingeLoss:$me,huberLoss:Wme,logLoss:Kme,meanSquaredError:zme,sigmoidCrossEntropy:Vme,softmaxCrossEntropy:Gme});function kL(e,t){return t===void 0&&(t=!1),ge.tidy(function(){if(e.shape.length!==2)throw new Error("qr2d() requires a 2D Tensor, but got a "+e.shape.length+"D Tensor.");for(var r=e.shape[0],n=e.shape[1],i=E7(r),a=e.clone(),o=Jc([[1]],[1,1]),s=o.clone(),l=r>=n?n:r,u=function(A){var d,f=a,p=s,g=i;d=ge.tidy(function(){var v=a.slice([A,A],[r-A,1]),m=v.norm(),y=a.slice([A,A],[1,1]),w=Jc([[-1]]).where(y.greater(0),Jc([[1]])),b=y.sub(w.mul(m)),B=v.div(b);s=B.shape[0]===1?o.clone():o.concat(B.slice([1,0],[B.shape[0]-1,B.shape[1]]),0);var S=w.matMul(b).div(m).neg(),P=a.slice([A,0],[r-A,n]),k=S.mul(s);if(A===0)a=P.sub(k.matMul(s.transpose().matMul(P)));else{var I=P.sub(k.matMul(s.transpose().matMul(P)));a=a.slice([0,0],[A,n]).concat(I,0)}var O=i.slice([0,A],[r,i.shape[1]-A]);if(A===0)i=O.sub(O.matMul(s).matMul(k.transpose()));else{var F=O.sub(O.matMul(s).matMul(k.transpose()));i=i.slice([0,0],[r,A]).concat(F,1)}return[s,a,i]}),s=d[0],a=d[1],i=d[2],to([f,p,g])},c=0;c<l;++c)u(c);return!t&&r>n&&(i=i.slice([0,0],[r,n]),a=a.slice([0,0],[n,n])),[i,a]})}var Xme=he({bandPart_:function(e,t,r){if(t%1!=0)throw new Error("bandPart(): numLower must be an integer, got "+t+".");if(r%1!=0)throw new Error("bandPart(): numUpper must be an integer, got "+r+".");var n=te(e,"a","bandPart");if(n.rank<2)throw new Error("bandPart(): Rank must be at least 2, got "+n.rank+".");var i=n.shape,a=n.shape.slice(-2),o=a[0],s=a[1];if(!(t<=o))throw new Error("bandPart(): numLower ("+t+") must not be greater than the number of rows ("+o+").");if(!(r<=s))throw new Error("bandPart(): numUpper ("+r+") must not be greater than the number of columns ("+s+").");t<0&&(t=o),r<0&&(r=s);var l=bw(0,o,1,"int32").reshape([-1,1]),u=bw(0,s,1,"int32"),c=mi(l,u),A=w2(c.lessEqual(Xe(+t,"int32")),c.greaterEqual(Xe(-r,"int32"))),d=Yr([o,s],n.dtype);return Po(hi(n.reshape([-1,o,s])).map(function(f){return Bf(A,f,d)})).reshape(i)}}),Yme=he({gramSchmidt_:function(e){var t;if(Array.isArray(e)){t=!1,oe(e!=null&&e.length>0,function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"});for(var r=e[0].shape[0],n=function(l){oe(e[l].shape[0]===r,function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: ("+e[l].shape[0]+" vs. "+r+")"})},i=1;i<e.length;++i)n(i)}else t=!0,e=BN(e,e.shape[0],0).map(function(l){return F7(l,[0])});oe(e.length<=e[0].shape[0],function(){return"Gram-Schmidt: Number of vectors ("+e.length+") exceeds number of dimensions ("+e[0].shape[0]+")."});var a=[],o=e,s=function(l){a.push(ge.tidy(function(){var u=o[l];if(l>0)for(var c=0;c<l;++c){var A=C9(a[c].mulStrict(u)).mul(a[c]);u=u.sub(A)}return u.div(F9(u,"euclidean"))}))};for(i=0;i<e.length;++i)s(i);return t?Po(a,0):a}}),Jme=he({qr_:function(e,t){if(t===void 0&&(t=!1),e.rank<2)throw new Error("qr() requires input tensor to have a rank >= 2, but got rank "+e.rank);if(e.rank===2)return kL(e,t);var r=e.shape.slice(0,e.shape.length-2).reduce(function(o,s){return o*s}),n=hi(e.reshape([r,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),i=[],a=[];return n.forEach(function(o){var s=kL(o,t),l=s[0],u=s[1];i.push(l),a.push(u)}),[Po(i,0).reshape(e.shape),Po(a,0).reshape(e.shape)]}}),Zme=Object.freeze({bandPart:Xme,gramSchmidt:Yme,qr:Jme});function C2(e,t,r,n,i,a){n==null&&(n=.5),i==null&&(i=Number.NEGATIVE_INFINITY),a==null&&(a=0);var o=e.shape[0];return r=Math.min(r,o),oe(0<=n&&n<=1,function(){return"iouThreshold must be in [0, 1], but was '"+n+"'"}),oe(e.rank===2,function(){return"boxes must be a 2D tensor, but was of rank '"+e.rank+"'"}),oe(e.shape[1]===4,function(){return"boxes must have 4 columns, but 2nd dimension was "+e.shape[1]}),oe(t.rank===1,function(){return"scores must be a 1D tensor"}),oe(t.shape[0]===o,function(){return"scores has incompatible shape with boxes. Expected "+o+", but was "+t.shape[0]}),oe(0<=a&&a<=1,function(){return"softNmsSigma must be in [0, 1], but was '"+a+"'"}),{maxOutputSize:r,iouThreshold:n,scoreThreshold:i,softNmsSigma:a}}var ege=he({resizeBilinear_:function(e,t,r){r===void 0&&(r=!1);var n=te(e,"images","resizeBilinear");oe(n.rank===3||n.rank===4,function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got rank "+n.rank+"."}),oe(t.length===2,function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+t+"."});var i=n,a=!1;n.rank===3&&(a=!0,i=n.as4D(1,n.shape[0],n.shape[1],n.shape[2]));var o=t[0],s=t[1],l=ge.runKernelFunc(function(u,c){return c([i]),u.resizeBilinear(i,o,s,r)},{x:i},function(u,c){return{x:function(){return ge.runKernelFunc(function(A){return A.resizeBilinearBackprop(u,c[0],r)},{})}}},"ResizeBilinear",{alignCorners:r,newHeight:o,newWidth:s});return a?l.as3D(l.shape[1],l.shape[2],l.shape[3]):l}}),tge=he({resizeNearestNeighbor_:function(e,t,r){r===void 0&&(r=!1);var n=te(e,"images","resizeNearestNeighbor");oe(n.rank===3||n.rank===4,function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank "+n.rank+"."}),oe(t.length===2,function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+t+"."}),oe(n.dtype==="float32"||n.dtype==="int32",function(){return"`images` must have `int32` or `float32` as dtype"});var i=n,a=!1;n.rank===3&&(a=!0,i=n.as4D(1,n.shape[0],n.shape[1],n.shape[2]));var o=t[0],s=t[1],l=ge.runKernelFunc(function(u,c){return c([i]),u.resizeNearestNeighbor(i,o,s,r)},{batchImages:i},function(u,c){return{batchImages:function(){return ge.runKernelFunc(function(A){return A.resizeNearestNeighborBackprop(u,c[0],r)},{})}}});return a?l.as3D(l.shape[1],l.shape[2],l.shape[3]):l}}),rge=he({nonMaxSuppression_:function(e,t,r,n,i){n===void 0&&(n=.5),i===void 0&&(i=Number.NEGATIVE_INFINITY);var a=te(e,"boxes","nonMaxSuppression"),o=te(t,"scores","nonMaxSuppression"),s=C2(a,o,r,n,i);r=s.maxOutputSize,n=s.iouThreshold,i=s.scoreThreshold;var l={maxOutputSize:r,iouThreshold:n,scoreThreshold:i};return ge.runKernelFunc(function(u){return u.nonMaxSuppression(a,o,r,n,i)},{boxes:a,scores:o},null,"NonMaxSuppressionV3",l)}}),nge=function(e,t,r,n,i){return n===void 0&&(n=.5),i===void 0&&(i=Number.NEGATIVE_INFINITY),ft(this,void 0,void 0,function(){var a,o,s,l,u,c,A;return dt(this,function(d){switch(d.label){case 0:return a=te(e,"boxes","nonMaxSuppressionAsync"),o=te(t,"scores","nonMaxSuppressionAsync"),s=C2(a,o,r,n,i),r=s.maxOutputSize,n=s.iouThreshold,i=s.scoreThreshold,[4,Promise.all([a.data(),o.data()])];case 1:return l=d.sent(),u=l[0],c=l[1],A=NN(u,c,r,n,i),a!==e&&a.dispose(),o!==t&&o.dispose(),[2,A]}})})},ige=he({nonMaxSuppressionWithScore_:function(e,t,r,n,i,a){n===void 0&&(n=.5),i===void 0&&(i=Number.NEGATIVE_INFINITY),a===void 0&&(a=0);var o=te(e,"boxes","nonMaxSuppression"),s=te(t,"scores","nonMaxSuppression"),l=C2(o,s,r,n,i,a),u={maxOutputSize:r=l.maxOutputSize,iouThreshold:n=l.iouThreshold,scoreThreshold:i=l.scoreThreshold,softNmsSigma:a=l.softNmsSigma},c=ge.runKernel("NonMaxSuppressionV5",{boxes:o,scores:s},u);return{selectedIndices:c[0],selectedScores:c[1]}}}),age=function(e,t,r,n,i,a){return n===void 0&&(n=.5),i===void 0&&(i=Number.NEGATIVE_INFINITY),a===void 0&&(a=0),ft(this,void 0,void 0,function(){var o,s,l,u,c,A,d;return dt(this,function(f){switch(f.label){case 0:return o=te(e,"boxes","nonMaxSuppressionAsync"),s=te(t,"scores","nonMaxSuppressionAsync"),l=C2(o,s,r,n,i,a),r=l.maxOutputSize,n=l.iouThreshold,i=l.scoreThreshold,a=l.softNmsSigma,[4,Promise.all([o.data(),s.data()])];case 1:return u=f.sent(),c=u[0],A=u[1],d=FN(c,A,r,n,i,a),o!==e&&o.dispose(),s!==t&&s.dispose(),[2,d]}})})},oge=he({cropAndResize_:function(e,t,r,n,i,a){var o=te(e,"image","cropAndResize"),s=te(t,"boxes","cropAndResize","float32"),l=te(r,"boxInd","cropAndResize","int32");i=i||"bilinear",a=a||0;var u=s.shape[0];return oe(o.rank===4,function(){return"Error in cropAndResize: image must be rank 4,but got rank "+o.rank+"."}),oe(s.rank===2&&s.shape[1]===4,function(){return"Error in cropAndResize: boxes must be have size ["+u+",4] but had shape "+s.shape+"."}),oe(l.rank===1&&l.shape[0]===u,function(){return"Error in cropAndResize: boxInd must be have size ["+u+"] but had shape "+s.shape+"."}),oe(n.length===2,function(){return"Error in cropAndResize: cropSize must be of length 2, but got length "+n.length+"."}),oe(n[0]>=1&&n[1]>=1,function(){return"cropSize must be atleast [1,1], but was "+n}),oe(i==="bilinear"||i==="nearest",function(){return"method must be bilinear or nearest, but was "+i}),ge.runKernelFunc(function(c,A){return c.cropAndResize(o,s,l,n,i,a)},{images:o,boxes:s,boxInd:l},null,"CropAndResize",{method:i,extrapolationValue:a,cropSize:n})}}),HN=Object.freeze({resizeBilinear:ege,resizeNearestNeighbor:tge,nonMaxSuppression:rge,nonMaxSuppressionAsync:nge,nonMaxSuppressionWithScore:ige,nonMaxSuppressionWithScoreAsync:age,cropAndResize:oge}),$N=function(e,t){return!(e>0)||t==="linear"},WN=function(e,t,r){if(r==null||r==="linear")return e;if(r==="relu")return e.mul(t.step());throw new Error("Gradient for activation "+r+" has not been implemented yet.")},KN=function(e,t){var r=t,n=pi(e.shape,t.shape);return n.length>0&&(r=r.sum(n)),r.reshape(e.shape)},zN=function(e,t,r){if(t==="linear")return e;if(t==="relu")return hn(e);if(t==="elu")return E9(e);if(t==="relu6")return N9(e);if(t==="prelu")return S9(e,r);throw new Error("Unknown fused activation "+t+".")},sge=he({fusedMatMul_:function(e){var t,r=e.a,n=e.b,i=e.transposeA,a=i!==void 0&&i,o=e.transposeB,s=o!==void 0&&o,l=e.bias,u=e.activation,c=u===void 0?"linear":u,A=e.preluActivationWeights;if($N(ge.state.gradientDepth,c)===!1){var d=b2(r,n,a,s);return l!=null&&(d=rr(d,l)),zN(d,c,A)}var f=te(r,"a","fused matMul"),p=te(n,"b","fused matMul");t=gn(f,p),f=t[0],p=t[1];var g=a?f.shape[f.rank-2]:f.shape[f.rank-1],v=s?p.shape[p.rank-1]:p.shape[p.rank-2],m=a?f.shape[f.rank-1]:f.shape[f.rank-2],y=s?p.shape[p.rank-2]:p.shape[p.rank-1],w=f.shape.slice(0,-2),b=p.shape.slice(0,-2),B=yt(w),S=yt(b);oe(f.rank>=2&&p.rank>=2&&f.rank===p.rank,function(){return"Error in fused matMul: inputs must have the same rank of at least 2, got ranks "+f.rank+" and "+p.rank+"."}),oe(Pi(w,b),function(){return"Error in fused matMul: outer dimensions ("+w+") and ("+b+") of Tensors with shapes "+f.shape+" and "+p.shape+" must match."}),oe(g===v,function(){return"Error in fused matMul: inner shapes ("+g+") and ("+v+") of Tensors with shapes "+f.shape+" and "+p.shape+" and transposeA="+a+" and transposeB="+s+" must match."});var P,k,I=f.shape.slice(0,-2).concat([m,y]),O=a?f.as3D(B,g,m):f.as3D(B,m,g),F=s?p.as3D(S,y,v):p.as3D(S,v,y);l!=null&&nr(I,(P=gn(P=te(l,"bias","fused matMul"),f)[0]).shape),A!=null&&(k=te(A,"prelu weights","fused matMul"));var N={a:O,b:F};l!=null&&(N.bias=P),A!=null&&(N.preluActivationWeights=k);var U=[O,F];return ge.runKernelFunc(function(M,V){var Q=M.fusedBatchMatMul({a:O,b:F,transposeA:a,transposeB:s,bias:P,activation:c,preluActivationWeights:k});return V([O,F,Q]),Q},N,function(M,V){var Q=V[0],W=V[1],D=V[2],K=WN(M,D,c),ie={};return l!=null&&(ie={bias:function(){return KN(P,K)}}),Object.assign(a||s?!a&&s?{a:function(){return K.matMul(W,!1,!1)},b:function(){return K.matMul(Q,!0,!1)}}:a&&!s?{a:function(){return W.matMul(K,!1,!0)},b:function(){return Q.matMul(K,!1,!1)}}:{a:function(){return W.matMul(K,!0,!0)},b:function(){return K.matMul(Q,!0,!0)}}:{a:function(){return K.matMul(W,!1,!0)},b:function(){return Q.matMul(K,!0,!1)}},ie)},"_FusedMatMul",{transposeA:a,transposeB:s,activation:c},U,[!0]).reshape(I)}}),lge=he({fusedConv2d_:function(e){var t=e.x,r=e.filter,n=e.strides,i=e.pad,a=e.dataFormat,o=a===void 0?"NHWC":a,s=e.dilations,l=s===void 0?[1,1]:s,u=e.dimRoundingMode,c=e.bias,A=e.activation,d=A===void 0?"linear":A,f=e.preluActivationWeights;if(d=d||"linear",$N(ge.state.gradientDepth,d)===!1){var p=ps(t,r,n,i,o,l,u);return c!=null&&(p=rr(p,c)),zN(p,d,f)}var g=te(t,"x","conv2d"),v=te(r,"filter","conv2d"),m=g,y=!1;g.rank===3&&(y=!0,m=g.as4D(1,g.shape[0],g.shape[1],g.shape[2])),oe(m.rank===4,function(){return"Error in fused conv2d: input must be rank 4, but got rank "+m.rank+"."}),oe(v.rank===4,function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+v.rank+"."}),u!=null&&oe(Mn(i),function(){return"Error in fused conv2d: pad must be an integer when using, dimRoundingMode "+u+" but got pad "+i+"."}),oe(m.shape[3]===v.shape[2],function(){return"Error in conv2d: depth of input ("+m.shape[3]+") must match input depth for filter "+v.shape[2]+"."}),oe(no(n,l),function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+l+"'"}),oe(o==="NHWC",function(){return"Error in conv2d: got dataFormat of "+o+" but only NHWC is currently supported."});var w,b,B=Mf(m.shape,v.shape,n,l,i,u);c!=null&&(w=gn(w=te(c,"bias","fused conv2d"),g)[0],nr(B.outShape,w.shape)),f!=null&&(b=te(f,"prelu weights","fused conv2d"));var S={x:m,filter:v};c!=null&&(S.bias=w),f!=null&&(S.preluActivationWeights=b);var P=[v,m],k=ge.runKernelFunc(function(I,O){var F=I.fusedConv2d({input:m,filter:v,convInfo:B,bias:w,activation:d,preluActivationWeights:b});return O([v,m,F]),F},S,function(I,O){var F=O,N=F[0],U=F[1],M=F[2],V=WN(I,M,d);oe(Eh(l),function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+l+"'"});var Q={};return c!=null&&(Q={bias:function(){return KN(w,V)}}),Object.assign({x:function(){return g9(U.shape,V,N,n,i)},filter:function(){return UN(U,V,N.shape,n,i)}},Q)},"FusedConv2D",{convInfo:B,activation:d},P,[!0]);return y?k.as3D(k.shape[1],k.shape[2],k.shape[3]):k}}),uge=he({fusedDepthwiseConv2d_:function(e){var t=e.x,r=e.filter,n=e.strides,i=e.pad,a=e.dataFormat,o=a===void 0?"NHWC":a,s=e.dilations,l=s===void 0?[1,1]:s,u=e.dimRoundingMode,c=e.bias,A=e.activation,d=A===void 0?"linear":A,f=e.preluActivationWeights;if($N(ge.state.gradientDepth,d)===!1){var p=x2(t,r,n,i,o,l,u);return c!=null&&(p=rr(p,c)),zN(p,d,f)}var g=te(t,"x","depthwiseConv2d"),v=te(r,"filter","depthwiseConv2d"),m=g,y=!1;g.rank===3&&(y=!0,m=g.as4D(1,g.shape[0],g.shape[1],g.shape[2])),oe(m.rank===4,function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got rank "+m.rank+"."}),oe(v.rank===4,function(){return"Error in fused depthwiseConv2d: filter must be rank 4, but got rank "+v.rank+"."}),oe(m.shape[3]===v.shape[2],function(){return"Error in fused depthwiseConv2d: number of input channels ("+m.shape[3]+") must match the inChannels dimension in filter "+v.shape[2]+"."}),l==null&&(l=[1,1]),oe(no(n,l),function(){return"Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+l+"'"}),u!=null&&oe(Mn(i),function(){return"Error in fused depthwiseConv2d: pad must be an integer when using dimRoundingMode "+u+" but got pad "+i+"."});var w,b,B=Mf(m.shape,v.shape,n,l,i,u,!0);c!=null&&(w=gn(w=te(c,"bias","fused conv2d"),g)[0],nr(B.outShape,w.shape)),f!=null&&(b=te(f,"prelu weights","fused depthwiseConv2d"));var S={x:m,filter:v};c!=null&&(S.bias=w),f!=null&&(S.preluActivationWeights=b);var P=[v,m],k=ge.runKernelFunc(function(I,O){var F=I.fusedDepthwiseConv2D({input:m,filter:v,convInfo:B,bias:w,activation:d,preluActivationWeights:b});return O([v,m,F]),F},S,function(I,O){oe(Eh(l),function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+l+"'"});var F=O[0],N=O[1],U=O[2],M=WN(I,U,d),V={};return c!=null&&(V={bias:function(){return KN(w,M)}}),Object.assign({x:function(){return v9(N.shape,M,F,B)},filter:function(){return y9(N,M,F.shape,B)}},V)},"FusedDepthwiseConv2D",{convInfo:B,activation:d},P,[!0]);return y?k.as3D(k.shape[1],k.shape[2],k.shape[3]):k}}),cge=Object.freeze({matMul:sge,conv2d:lge,depthwiseConv2d:uge}),Age=Object.freeze({image:HN,linalg:Zme,losses:qme,spectral:Tme,fused:cge,signal:jme,square:Khe,squaredDifference:t9,conv1d:eme,conv2d:ps,conv3d:tme,depthwiseConv2d:x2,separableConv2d:RN,conv2dTranspose:rme,conv3dTranspose:nme,op:he,batchNormalization2d:xpe,batchNormalization3d:bpe,batchNormalization4d:Bpe,batchNormalization:Cpe,batchNorm:s9,batchNorm2d:Epe,batchNorm3d:Spe,batchNorm4d:Npe,booleanMaskAsync:Zpe,complex:Vi,real:ts,imag:wl,concat:di,concat1d:cfe,concat2d:Afe,concat3d:ffe,concat4d:dfe,split:BN,matMul:b2,dot:ime,outerProduct:ame,reverse:sv,reverse1d:ome,reverse2d:sme,reverse3d:lme,reverse4d:ume,maxPool:Ni,avgPool:lv,pool:cme,maxPool3d:Ame,avgPool3d:fme,slice:Pl,slice1d:dme,slice2d:hme,slice3d:b9,slice4d:pme,abs:zhe,acos:Vhe,acosh:Ghe,asin:qhe,asinh:Xhe,atan:Yhe,atanh:Jhe,ceil:Zhe,clipByValue:ON,cos:epe,cosh:tpe,erf:rpe,exp:RS,expm1:npe,floor:ipe,log:ape,log1p:ope,logSigmoid:spe,neg:_w,reciprocal:lpe,round:upe,rsqrt:r9,sigmoid:n9,sign:cpe,isNaN:Ape,isInf:fpe,isFinite:dpe,sin:hpe,sinh:ppe,softplus:mpe,sqrt:gpe,step:vpe,tan:ype,tanh:wpe,all:mme,any:gme,argMax:vme,argMin:yme,logSumExp:wme,max:B2,mean:xme,min:bme,moments:Bme,sum:C9,prod:Cme,equal:f9,equalStrict:$pe,greater:Wpe,greaterEqual:d9,greaterEqualStrict:Kpe,greaterStrict:zpe,less:Vpe,lessEqual:Gpe,lessEqualStrict:qpe,lessStrict:Xpe,notEqual:Ype,notEqualStrict:Jpe,add:rr,addN:_pe,addStrict:kpe,atan2:Ppe,div:_s,divNoNan:Ope,divStrict:Tpe,floorDiv:c9,maximum:TN,maximumStrict:Lpe,minimum:A9,minimumStrict:Upe,mod:Rpe,modStrict:Dpe,mul:va,mulStrict:jpe,pow:kw,powStrict:Mpe,squaredDifferenceStrict:Qpe,sub:mi,subStrict:Hpe,elu:E9,leakyRelu:Eme,prelu:S9,relu:hn,relu6:N9,selu:Sme,logicalAnd:w2,logicalNot:Fpe,logicalOr:l9,logicalXor:Ipe,where:Bf,whereAsync:u9,buffer:zt,print:bfe,batchToSpaceND:C7,broadcastTo:Bfe,cast:Cfe,clone:Efe,cumsum:Sfe,depthToSpace:Nfe,expandDims:es,eye:E7,multinomial:Ffe,oneHot:OS,pad:jf,pad1d:Ife,pad2d:_fe,pad3d:kfe,pad4d:Pfe,rand:Ofe,randomNormal:Tfe,randomGamma:Lfe,randomUniform:S7,reshape:Ls,spaceToBatchND:N7,squeeze:F7,stack:Po,tile:ih,truncatedNormal:Ufe,unstack:hi,setdiff1dAsync:Rfe,fill:_l,linspace:ufe,ones:qh,range:bw,scalar:Xe,tensor:qi,tensor1d:Xn,tensor2d:Jc,tensor3d:bN,tensor4d:Wa,tensor5d:ofe,tensor6d:sfe,variable:lfe,zeros:Yr,onesLike:B7,zerosLike:Ar,transpose:oA,softmax:Wu,logSoftmax:Wfe,localResponseNormalization:Nme,norm:F9,gather:LN,unsortedSegmentSum:h9,basicLSTMCell:Fme,multiRNNCell:Ime,movingAverage:_me,stridedSlice:kme,topk:Pme,scatterND:Ome,fft:DN,ifft:Pw,rfft:jN,irfft:I9,sparseToDense:Lme,gatherND:Ume,diag:Rme,dropout:Dme,hannWindow:MN,hammingWindow:k9,frame:QN,stft:P9,inTopKAsync:Mme});function Qe(e,t){Array.isArray(e)||(e=[e]),e.forEach(function(r){r!=null&&oe(r.dtype!=="complex64",function(){return t+" does not support complex64 tensors."})})}function r5(e,t,r,n){if(r==="linear")return e.linear(t);if(r==="relu")return e.relu(t);if(r==="elu")return e.elu(t);if(r==="relu6")return e.relu6(t);if(r==="prelu")return e.prelu(t,n);throw new Error("Activation "+r+" has not been implemented for the CPU backend.")}var fge=function(e){function t(){var r=e.call(this)||this;return r.blockSize=48,r.firstUse=!0,r.data=new L7(r,ge),r}return Js(t,e),t.prototype.write=function(r,n,i){this.firstUse&&(this.firstUse=!1,Le().get("IS_NODE")&&ww(`
============================
Hi there . Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.
============================`));var a={};return this.data.set(a,{values:r,dtype:i}),a},t.prototype.move=function(r,n,i,a){this.data.set(r,{values:n,dtype:a})},t.prototype.numDataIds=function(){return this.data.numDataIds()},t.prototype.read=function(r){return ft(this,void 0,void 0,function(){return dt(this,function(n){return[2,this.readSync(r)]})})},t.prototype.readSync=function(r){var n=this.data.get(r),i=n.dtype,a=n.complexTensors;return i==="complex64"?US(this.readSync(a.real.dataId),this.readSync(a.imag.dataId)):this.data.get(r).values},t.prototype.bufferSync=function(r){var n=this.readSync(r.dataId),i=n;if(r.dtype==="string")try{i=n.map(function(a){return gw(a)})}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return zt(r.shape,r.dtype,i)},t.prototype.makeOutput=function(r,n,i){var a=this.write(r,n,i);return ge.makeTensorFromDataId(a,n,i,this)},t.prototype.disposeData=function(r){if(this.data.has(r)){var n=this.data.get(r).complexTensors;n!=null&&(n.real.dispose(),n.imag.dispose()),this.data.delete(r)}},t.prototype.time=function(r){return ft(this,void 0,void 0,function(){var n;return dt(this,function(i){return n=gl(),r(),[2,{kernelMs:gl()-n}]})})},t.prototype.memory=function(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}},t.prototype.complex=function(r,n){var i=this.makeOutput(null,r.shape,"complex64");return this.data.get(i.dataId).complexTensors={real:ge.keep(r.clone()),imag:ge.keep(n.clone())},i},t.prototype.real=function(r){return this.data.get(r.dataId).complexTensors.real.clone()},t.prototype.imag=function(r){return this.data.get(r.dataId).complexTensors.imag.clone()},t.prototype.slice=function(r,n,i){if(Qe(r,"slice"),O7(r.shape,n,i)){var a=T7(n,r.strides),o=yt(i);return qi(this.readSync(r.dataId).subarray(a,a+o),i,r.dtype)}for(var s=zt(i,r.dtype),l=this.bufferSync(r),u=0;u<s.size;++u){var c=s.indexToLoc(u).map(function(A,d){return A+n[d]});s.values[u]=l.get.apply(l,c)}return s.toTensor()},t.prototype.stridedSlice=function(r,n,i,a){Qe(r,"stridedSlice");var o=EN(n,i,a);if(o.some(function(f){return f===0}))return qi([],o);for(var s=zt(o,r.dtype),l=this.bufferSync(r),u=0;u<s.size;u++){for(var c=s.indexToLoc(u),A=new Array(c.length),d=0;d<A.length;d++)A[d]=c[d]*a[d]+n[d];s.set.apply(s,[l.get.apply(l,A)].concat(c))}return s.toTensor()},t.prototype.diag=function(r){for(var n=this.readSync(r.dataId),i=zt([r.size,r.size],r.dtype),a=i.values,o=0;o<n.length;o++)a[o*r.size+o]=n[o];return i.toTensor()},t.prototype.unstack=function(r,n){for(var i=r.shape[n],a=new Array(r.rank-1),o=0,s=0;s<r.rank;s++)s!==n&&(a[o++]=r.shape[s]);var l=new Array(r.rank).fill(0),u=r.shape.slice();u[n]=1;var c=new Array(i);for(s=0;s<c.length;s++)l[n]=s,c[s]=this.slice(r,l,u).reshape(a);return c},t.prototype.reverse=function(r,n){Qe(r,"reverse");for(var i=zt(r.shape,r.dtype),a=this.bufferSync(r),o=function(l){var u=i.indexToLoc(l),c=u.slice();n.forEach(function(A){return c[A]=r.shape[A]-1-c[A]}),i.set.apply(i,[a.get.apply(a,c)].concat(u))},s=0;s<i.size;s++)o(s);return i.toTensor()},t.prototype.concat=function(r,n){var i=this;if(r[0].dtype==="complex64"){var a=r.map(function(f){return ts(f)}),o=r.map(function(f){return wl(f)});return Vi(this.concat(a,n),this.concat(o,n))}var s=r.map(function(f){var p=yt(f.shape.slice(n));return f.as2D(-1,p)}),l=Ch(s.map(function(f){return f.shape}),1),u=zt(l,r[0].dtype).values;if(s[0].shape[0]===1){var c=0;s.forEach(function(f){u.set(i.readSync(f.dataId),c),c+=f.size})}else{var A=0;s.forEach(function(f){for(var p=i.readSync(f.dataId),g=0,v=0;v<f.shape[0];++v)for(var m=v*l[1]+A,y=0;y<f.shape[1];++y)u[m+y]=p[g++];A+=f.shape[1]})}var d=Ch(r.map(function(f){return f.shape}),n);return qi(u,d,r[0].dtype)},t.prototype.neg=function(r){return Qe(r,"neg"),this.multiply(Xe(-1),r)},t.prototype.add=function(r,n){return r.dtype==="complex64"||n.dtype==="complex64"?this.broadcastedBinaryComplexOp(r.cast("complex64"),n.cast("complex64"),function(i,a,o,s){return{real:i+o,imag:a+s}}):this.broadcastedBinaryOp(r,n,Gi(r.dtype,n.dtype),function(i,a){return i+a})},t.prototype.addN=function(r){var n=this;Qe(r,"addN");for(var i=r.map(function(c){return n.readSync(c.dataId)}),a=zt(r[0].shape,r[0].dtype),o=a.values,s=0;s<r.length;s++)for(var l=i[s],u=0;u<o.length;u++)o[u]+=l[u];return a.toTensor()},t.prototype.softmax=function(r,n){var i=vi([n],r.shape),a=this.max(r,i),o=ro(a.shape,i),s=this.subtract(r,a.reshape(o)),l=this.exp(s),u=this.sum(l,i).reshape(o);return this.realDivide(l,u)},t.prototype.subtract=function(r,n){return r.dtype==="complex64"||n.dtype==="complex64"?this.broadcastedBinaryComplexOp(r.cast("complex64"),n.cast("complex64"),function(i,a,o,s){return{real:i-o,imag:a-s}}):this.broadcastedBinaryOp(r,n,Gi(r.dtype,n.dtype),function(i,a){return i-a})},t.prototype.pow=function(r,n){return Qe([r,n],"pow"),this.broadcastedBinaryOp(r,n,r.dtype,function(i,a){return Math.pow(i,a)})},t.prototype.batchMatMul=function(r,n,i,a){Qe([r,n],"matMul");for(var o=i?r.shape[1]:r.shape[2],s=i?r.shape[2]:r.shape[1],l=a?n.shape[1]:n.shape[2],u=r.shape[0],c=this.readSync(r.dataId),A=this.readSync(n.dataId),d=i?[r.strides[0],1,r.strides[1]]:[r.strides[0],r.strides[1],1],f=d[0],p=d[1],g=d[2],v=a?[1,n.strides[1],n.strides[0]]:[n.strides[1],1,n.strides[0]],m=v[0],y=v[1],w=v[2],b=s*l,B=zt([u,s,l],r.dtype),S=B.values,P=this.blockSize,k=0;k<u;k++)for(var I=0;I<s;I+=P)for(var O=0;O<l;O+=P)for(var F=0;F<o;F+=P)for(var N=Math.min(I+P,s),U=Math.min(O+P,l),M=Math.min(F+P,o),V=I;V<N;V++)for(var Q=O;Q<U;Q++){for(var W=0,D=F;D<M;D++)W+=c[k*f+V*p+D*g]*A[D*m+Q*y+k*w];S[k*b+(V*l+Q)]+=W}return B.toTensor()},t.prototype.fusedBatchMatMul=function(r){var n=r.a,i=r.b,a=r.transposeA,o=r.transposeB,s=r.bias,l=r.activation,u=r.preluActivationWeights,c=this.batchMatMul(n,i,a,o);return s&&(c=this.add(c,s)),l&&(c=r5(this,c,l,u)),c},t.prototype.multiply=function(r,n){return r.dtype==="complex64"||n.dtype==="complex64"?this.broadcastedBinaryComplexOp(r.cast("complex64"),n.cast("complex64"),function(i,a,o,s){return{real:i*o-a*s,imag:i*s+a*o}}):this.broadcastedBinaryOp(r,n,Gi(r.dtype,n.dtype),function(i,a){return i*a})},t.prototype.realDivide=function(r,n){return Qe([r,n],"realDivide"),this.broadcastedBinaryOp(r,n,"float32",function(i,a){return i/a})},t.prototype.floorDiv=function(r,n){return Qe([r,n],"floorDiv"),this.broadcastedBinaryOp(r,n,"int32",function(i,a){return Math.floor(i/a)})},t.prototype.sum=function(r,n){Qe(r,"sum"),bo("sum",n,r.rank);for(var i=ca(r.shape,n),a=i[0],o=i[1],s=Yr(a,Gi(r.dtype,"int32")),l=yt(o),u=this.readSync(s.dataId),c=this.readSync(r.dataId),A=0;A<u.length;++A){for(var d=A*l,f=0,p=0;p<l;++p)f+=c[d+p];u[A]=f}return s},t.prototype.prod=function(r,n){Qe(r,"sum");for(var i=ca(r.shape,n),a=i[0],o=i[1],s=Yr(a,Gi(r.dtype,"int32")),l=yt(o),u=this.readSync(s.dataId),c=this.readSync(r.dataId),A=0;A<u.length;++A){for(var d=A*l,f=1,p=0;p<l;++p)f*=c[d+p];u[A]=f}return s},t.prototype.unsortedSegmentSum=function(r,n,i){Qe(r,"unsortedSegmentSum");for(var a=[],o=r.rank-n.rank,s=0;s<o;++s)n=n.expandDims(s+1);for(s=0;s<i;++s){var l=Xe(s,"int32"),u=f9(l,n).asType("float32").mul(r).sum(0);a.push(u)}return Po(a)},t.prototype.argMin=function(r,n){Qe(r,"argMin");var i=[n];bo("argMin",i,r.rank);for(var a=ca(r.shape,i),o=a[0],s=a[1],l=Yr(o,"int32"),u=yt(s),c=this.readSync(l.dataId),A=this.readSync(r.dataId),d=0;d<c.length;++d){for(var f=d*u,p=A[f],g=0,v=0;v<u;++v){var m=A[f+v];m<p&&(p=m,g=v)}c[d]=g}return l},t.prototype.argMax=function(r,n){Qe(r,"argMax");var i=[n];bo("argMax",i,r.rank);for(var a=ca(r.shape,i),o=a[0],s=a[1],l=Yr(o,"int32"),u=yt(s),c=this.readSync(l.dataId),A=this.readSync(r.dataId),d=0;d<c.length;++d){for(var f=d*u,p=A[f],g=0,v=0;v<u;++v){var m=A[f+v];m>p&&(p=m,g=v)}c[d]=g}return l},t.prototype.cumsum=function(r,n,i,a){if(Qe(r,"cumsum"),n!==r.rank-1)throw new Error("backend.cumsum in CPU expects an inner-most axis="+(r.rank-1)+" but got axis="+n);for(var o=Gi(r.dtype,"int32"),s=Yr(r.shape,o),l=this.readSync(s.dataId),u=this.readSync(r.dataId),c=r.shape[r.rank-1],A=a?function(v,m){return v+c-m-1}:function(v,m){return v+m},d=0;d<u.length;d+=c)for(var f=0;f<c;f++){var p=A(d,f);if(f===0)l[p]=i?0:u[p];else{var g=A(d,f-1);l[p]=i?u[g]+l[g]:u[p]+l[g]}}return s},t.prototype.equal=function(r,n){return Qe([r,n],"equal"),this.broadcastedBinaryOp(r,n,"bool",function(i,a){return i===a?1:0})},t.prototype.notEqual=function(r,n){return Qe([r,n],"notEqual"),this.broadcastedBinaryOp(r,n,"bool",function(i,a){return i!==a?1:0})},t.prototype.less=function(r,n){return Qe([r,n],"less"),this.broadcastedBinaryOp(r,n,"bool",function(i,a){return i<a?1:0})},t.prototype.lessEqual=function(r,n){return Qe([r,n],"lessEqual"),this.broadcastedBinaryOp(r,n,"bool",function(i,a){return i<=a?1:0})},t.prototype.greater=function(r,n){return Qe([r,n],"greater"),this.broadcastedBinaryOp(r,n,"bool",function(i,a){return i>a?1:0})},t.prototype.greaterEqual=function(r,n){return Qe([r,n],"greaterEqual"),this.broadcastedBinaryOp(r,n,"bool",function(i,a){return i>=a?1:0})},t.prototype.logicalNot=function(r){Qe(r,"logicalNot");for(var n=this.readSync(r.dataId),i=new Uint8Array(n.length),a=0;a<n.length;++a)i[a]=n[a]?0:1;return this.makeOutput(i,r.shape,"bool")},t.prototype.logicalAnd=function(r,n){return Qe([r,n],"logicalAnd"),this.broadcastedBinaryOp(r,n,"bool",function(i,a){return i&&a})},t.prototype.logicalOr=function(r,n){return Qe([r,n],"logicalOr"),this.broadcastedBinaryOp(r,n,"bool",function(i,a){return i||a})},t.prototype.select=function(r,n,i){Qe([r,n,i],"select");for(var a=this.readSync(r.dataId),o=this.readSync(n.dataId),s=this.readSync(i.dataId),l=Yr(n.shape,Gi(n.dtype,i.dtype)),u=this.readSync(l.dataId),c=0,A=r.rank===0||r.rank>1||n.rank===1?1:yt(n.shape.slice(1)),d=0;d<a.length;d++)for(var f=0;f<A;f++)a[d]===1?u[c++]=o[d]:u[c++]=s[d];return l},t.prototype.where=function(r){Qe([r],"where");var n=this.readSync(r.dataId);return IN(r.shape,n)},t.prototype.topk=function(r,n,i){return Qe(r,"topk"),$7(this.readSync(r.dataId),r.shape,r.dtype,n)},t.prototype.min=function(r,n){Qe(r,"min"),bo("min",n,r.rank);for(var i=ca(r.shape,n),a=i[0],o=i[1],s=Yr(a,r.dtype),l=yt(o),u=this.readSync(s.dataId),c=this.readSync(r.dataId),A=0;A<u.length;++A){for(var d=A*l,f=c[d],p=0;p<l;++p){var g=c[d+p];g<f&&(f=g)}u[A]=f}return s},t.prototype.minimum=function(r,n){return Qe([r,n],"minimum"),this.broadcastedBinaryOp(r,n,r.dtype,function(i,a){return Math.min(i,a)})},t.prototype.mod=function(r,n){return Qe([r,n],"mod"),this.broadcastedBinaryOp(r,n,r.dtype,function(i,a){var o=i%a;return i<0&&a<0||i>=0&&a>=0?o:(o+a)%a})},t.prototype.max=function(r,n){Qe(r,"max"),bo("max",n,r.rank);for(var i=ca(r.shape,n),a=i[0],o=i[1],s=Yr(a,r.dtype),l=yt(o),u=this.readSync(s.dataId),c=this.readSync(r.dataId),A=0;A<u.length;++A){for(var d=A*l,f=c[d],p=0;p<l;++p){var g=c[d+p];g>f&&(f=g)}u[A]=f}return s},t.prototype.maximum=function(r,n){return Qe([r,n],"maximum"),this.broadcastedBinaryOp(r,n,r.dtype,function(i,a){return Math.max(i,a)})},t.prototype.all=function(r,n){Qe(r,"all"),bo("all",n,r.rank);for(var i=ca(r.shape,n),a=i[0],o=i[1],s=Yr(a,r.dtype),l=yt(o),u=this.readSync(s.dataId),c=this.readSync(r.dataId),A=0;A<u.length;++A){for(var d=A*l,f=c[d],p=0;p<l;++p){var g=c[d+p];f=f&&g}u[A]=f}return s},t.prototype.any=function(r,n){Qe(r,"any"),bo("any",n,r.rank);for(var i=ca(r.shape,n),a=i[0],o=i[1],s=Yr(a,r.dtype),l=yt(o),u=this.readSync(s.dataId),c=this.readSync(r.dataId),A=0;A<u.length;++A){for(var d=A*l,f=c[d],p=0;p<l;++p){var g=c[d+p];f=f||g}u[A]=f}return s},t.prototype.squaredDifference=function(r,n){return Qe([r,n],"squaredDifference"),this.broadcastedBinaryOp(r,n,r.dtype,function(i,a){var o=i-a;return o*o})},t.prototype.ceil=function(r){Qe(r,"ceil");for(var n=this.readSync(r.dataId),i=new Float32Array(n.length),a=0;a<n.length;++a)i[a]=Math.ceil(n[a]);return this.makeOutput(i,r.shape,"float32")},t.prototype.floor=function(r){Qe(r,"floor");for(var n=this.readSync(r.dataId),i=new Float32Array(n.length),a=0;a<n.length;++a)i[a]=Math.floor(n[a]);return this.makeOutput(i,r.shape,"float32")},t.prototype.sign=function(r){Qe(r,"x");for(var n=this.readSync(r.dataId),i=new Float32Array(n.length),a=0;a<n.length;++a)n[a]<0?i[a]=-1:n[a]>0?i[a]=1:i[a]=0;return this.makeOutput(i,r.shape,"float32")},t.prototype.isNaN=function(r){Qe(r,"x");for(var n=this.readSync(r.dataId),i=new Uint8Array(n.length),a=0;a<n.length;++a)Number.isNaN(n[a])&&(i[a]=1);return this.makeOutput(i,r.shape,"bool")},t.prototype.isInf=function(r){Qe(r,"x");for(var n=this.readSync(r.dataId),i=new Uint8Array(n.length),a=0;a<n.length;++a)Math.abs(n[a])===1/0&&(i[a]=1);return this.makeOutput(i,r.shape,"bool")},t.prototype.isFinite=function(r){Qe(r,"x");for(var n=this.readSync(r.dataId),i=new Uint8Array(n.length),a=0;a<n.length;++a)Number.isFinite(n[a])&&(i[a]=1);return this.makeOutput(i,r.shape,"bool")},t.prototype.round=function(r){Qe(r,"round");for(var n=this.readSync(r.dataId),i=new Float32Array(n.length),a=0;a<n.length;++a){var o=Math.floor(n[a]);n[a]-o<.5?i[a]=Math.floor(n[a]):n[a]-o>.5?i[a]=Math.ceil(n[a]):i[a]=o%2==0?o:o+1}return this.makeOutput(i,r.shape,"float32")},t.prototype.exp=function(r){Qe(r,"exp");for(var n=this.readSync(r.dataId),i=new Float32Array(n.length),a=0;a<n.length;++a)i[a]=Math.exp(n[a]);return this.makeOutput(i,r.shape,"float32")},t.prototype.expm1=function(r){Qe(r,"expm1");for(var n=this.readSync(r.dataId),i=new Float32Array(n.length),a=0;a<n.length;++a)i[a]=Math.expm1(n[a]);return this.makeOutput(i,r.shape,"float32")},t.prototype.log=function(r){Qe(r,"log");for(var n=this.readSync(r.dataId),i=new Float32Array(n.length),a=0;a<n.length;++a){var o=n[a];i[a]=Math.log(o)}return this.makeOutput(i,r.shape,"float32")},t.prototype.log1p=function(r){Qe(r,"log1p");for(var n=this.readSync(r.dataId),i=new Float32Array(n.length),a=0;a<n.length;++a){var o=n[a];i[a]=Math.log1p(o)}return this.makeOutput(i,r.shape,"float32")},t.prototype.sqrt=function(r){Qe(r,"sqrt");for(var n=this.readSync(r.dataId),i=new Float32Array(n.length),a=0;a<n.length;++a){var o=n[a];i[a]=Math.sqrt(o)}return this.makeOutput(i,r.shape,"float32")},t.prototype.rsqrt=function(r){Qe(r,"rsqrt");for(var n=this.readSync(r.dataId),i=new Float32Array(n.length),a=0;a<n.length;++a){var o=n[a];i[a]=1/Math.sqrt(o)}return this.makeOutput(i,r.shape,"float32")},t.prototype.reciprocal=function(r){Qe(r,"reciprocal");for(var n=this.readSync(r.dataId),i=new Float32Array(n.length),a=0;a<n.length;++a)i[a]=1/n[a];return this.makeOutput(i,r.shape,"float32")},t.prototype.linear=function(r){return r},t.prototype.relu=function(r){Qe(r,"relu");for(var n=Yr(r.shape,r.dtype),i=this.readSync(n.dataId),a=this.readSync(r.dataId),o=0;o<a.length;++o)i[o]=Math.max(0,a[o]);return n},t.prototype.relu6=function(r){Qe(r,"relu");for(var n=Yr(r.shape,r.dtype),i=this.readSync(n.dataId),a=this.readSync(r.dataId),o=0;o<a.length;++o)i[o]=Math.min(Math.max(0,a[o]),6);return n},t.prototype.prelu=function(r,n){return Qe([r,n],"prelu"),this.broadcastedBinaryOp(r,n,r.dtype,function(i,a){return i<0?a*i:i})},t.prototype.elu=function(r){Qe(r,"elu");for(var n=new Float32Array(r.size),i=this.readSync(r.dataId),a=0;a<i.length;++a){var o=i[a];n[a]=o>=0?o:Math.exp(o)-1}return this.makeOutput(n,r.shape,"float32")},t.prototype.eluDer=function(r,n){Qe([r,n],"eluDer");for(var i=new Float32Array(n.size),a=this.readSync(n.dataId),o=this.readSync(r.dataId),s=0;s<a.length;++s){var l=a[s];i[s]=l>=1?o[s]:o[s]*(l+1)}return this.makeOutput(i,n.shape,"float32")},t.prototype.selu=function(r){Qe(r,"selu");for(var n=kN,i=PN,a=new Float32Array(r.size),o=this.readSync(r.dataId),s=0;s<o.length;++s){var l=o[s];a[s]=l>=0?i*l:n*(Math.exp(l)-1)}return this.makeOutput(a,r.shape,"float32")},t.prototype.clip=function(r,n,i){Qe(r,"clip");for(var a=new Float32Array(r.size),o=this.readSync(r.dataId),s=0;s<o.length;++s){var l=o[s];a[s]=l>i?i:l<n?n:l}return this.makeOutput(a,r.shape,"float32")},t.prototype.abs=function(r){for(var n=new Float32Array(r.size),i=this.readSync(r.dataId),a=0;a<i.length;++a)n[a]=Math.abs(i[a]);return this.makeOutput(n,r.shape,"float32")},t.prototype.complexAbs=function(r){for(var n=new Float32Array(r.size),i=this.readSync(r.dataId),a=0;a<r.size;++a){var o=i[2*a],s=i[2*a+1];n[a]=Math.hypot(o,s)}return this.makeOutput(n,r.shape,"float32")},t.prototype.int=function(r){Qe(r,"int");for(var n=new Int32Array(r.size),i=this.readSync(r.dataId),a=0;a<i.length;++a)n[a]=i[a];return this.makeOutput(n,r.shape,"int32")},t.prototype.sigmoid=function(r){Qe(r,"sigmoid");for(var n=new Float32Array(r.size),i=this.readSync(r.dataId),a=0;a<i.length;++a)n[a]=1/(1+Math.exp(-i[a]));return this.makeOutput(n,r.shape,"float32")},t.prototype.softplus=function(r){Qe(r,"softplus");for(var n=Math.log(11920928955078125e-23)+2,i=new Float32Array(r.size),a=this.readSync(r.dataId),o=0;o<a.length;++o){var s=a[o]>-n,l=a[o]<n,u=Math.exp(a[o]),c=void 0;c=l?u:s?a[o]:Math.log(1+u),i[o]=c}return this.makeOutput(i,r.shape,"float32")},t.prototype.sin=function(r){Qe(r,"sin");for(var n=new Float32Array(r.size),i=this.readSync(r.dataId),a=0;a<i.length;++a)n[a]=Math.sin(i[a]);return this.makeOutput(n,r.shape,"float32")},t.prototype.cos=function(r){Qe(r,"cos");for(var n=new Float32Array(r.size),i=this.readSync(r.dataId),a=0;a<i.length;++a)n[a]=Math.cos(i[a]);return this.makeOutput(n,r.shape,"float32")},t.prototype.tan=function(r){Qe(r,"tan");for(var n=new Float32Array(r.size),i=this.readSync(r.dataId),a=0;a<i.length;++a)n[a]=Math.tan(i[a]);return this.makeOutput(n,r.shape,"float32")},t.prototype.asin=function(r){Qe(r,"asin");for(var n=new Float32Array(r.size),i=this.readSync(r.dataId),a=0;a<i.length;++a)n[a]=Math.asin(i[a]);return this.makeOutput(n,r.shape,"float32")},t.prototype.acos=function(r){Qe(r,"acos");for(var n=new Float32Array(r.size),i=this.readSync(r.dataId),a=0;a<i.length;++a)n[a]=Math.acos(i[a]);return this.makeOutput(n,r.shape,"float32")},t.prototype.atan=function(r){Qe(r,"atan");for(var n=new Float32Array(r.size),i=this.readSync(r.dataId),a=0;a<i.length;++a)n[a]=Math.atan(i[a]);return this.makeOutput(n,r.shape,"float32")},t.prototype.atan2=function(r,n){return Qe([r,n],"atan2"),this.broadcastedBinaryOp(r,n,r.dtype,function(i,a){return Math.atan2(i,a)})},t.prototype.sinh=function(r){Qe(r,"sinh");for(var n=new Float32Array(r.size),i=this.readSync(r.dataId),a=0;a<i.length;++a)n[a]=Math.sinh(i[a]);return this.makeOutput(n,r.shape,"float32")},t.prototype.cosh=function(r){Qe(r,"cosh");for(var n=new Float32Array(r.size),i=this.readSync(r.dataId),a=0;a<i.length;++a)n[a]=Math.cosh(i[a]);return this.makeOutput(n,r.shape,"float32")},t.prototype.tanh=function(r){Qe(r,"tanh");for(var n=new Float32Array(r.size),i=this.readSync(r.dataId),a=0;a<i.length;++a)n[a]=dAe(i[a]);return this.makeOutput(n,r.shape,"float32")},t.prototype.asinh=function(r){Qe(r,"asinh");for(var n=new Float32Array(r.size),i=this.readSync(r.dataId),a=0;a<i.length;++a)n[a]=Math.asinh(i[a]);return this.makeOutput(n,r.shape,"float32")},t.prototype.acosh=function(r){Qe(r,"acosh");for(var n=new Float32Array(r.size),i=this.readSync(r.dataId),a=0;a<i.length;++a)n[a]=Math.acosh(i[a]);return this.makeOutput(n,r.shape,"float32")},t.prototype.atanh=function(r){Qe(r,"atanh");for(var n=new Float32Array(r.size),i=this.readSync(r.dataId),a=0;a<i.length;++a)n[a]=Math.atanh(i[a]);return this.makeOutput(n,r.shape,"float32")},t.prototype.erf=function(r){Qe(r,"erf");for(var n=new Float32Array(r.size),i=this.readSync(r.dataId),a=0;a<i.length;++a){var o=Math.sign(i[a]),s=Math.abs(i[a]),l=1/(1+.3275911*s);n[a]=o*(1-((((1.061405429*l-1.453152027)*l+1.421413741)*l-.284496736)*l+.254829592)*l*Math.exp(-s*s))}return this.makeOutput(n,r.shape,"float32")},t.prototype.step=function(r,n){n===void 0&&(n=0),Qe(r,"step");for(var i=new Float32Array(r.size),a=this.readSync(r.dataId),o=0;o<a.length;++o){var s=a[o];isNaN(s)?i[o]=NaN:i[o]=s>0?1:n}return this.makeOutput(i,r.shape,"float32")},t.prototype.fusedConv2d=function(r){var n=r.input,i=r.filter,a=r.convInfo,o=r.bias,s=r.activation,l=r.preluActivationWeights,u=this.conv2d(n,i,a);return o&&(u=this.add(u,o)),s&&(u=r5(this,u,s,l)),u},t.prototype.conv2d=function(r,n,i){Qe([r,n],"conv2d");for(var a=i.filterHeight,o=i.filterWidth,s=i.dilationHeight,l=i.dilationWidth,u=i.padInfo.left,c=i.padInfo.top,A=i.dataFormat==="channelsLast",d=zt(i.outShape,r.dtype),f=r.strides[0],p=A?r.strides[1]:r.strides[2],g=A?r.strides[2]:1,v=A?1:r.strides[1],m=d.strides[0],y=A?d.strides[1]:d.strides[2],w=A?d.strides[2]:1,b=A?1:d.strides[1],B=this.readSync(r.dataId),S=this.readSync(n.dataId),P=d.values,k=0;k<i.batchSize;++k)for(var I=k*f,O=k*m,F=0;F<i.outHeight;++F)for(var N=O+F*y,U=F*i.strideHeight-c,M=0;M<a;M++){var V=U+M*s;if(!(V<0||V>=i.inHeight))for(var Q=M*n.strides[0],W=I+V*p,D=0;D<i.outWidth;++D)for(var K=N+D*w,ie=D*i.strideWidth-u,ee=0;ee<o;ee++){var L=ie+ee*l;if(!(L<0||L>=i.inWidth))for(var j=W+L*g,z=Q+ee*n.strides[1],X=0;X<i.inChannels;++X){for(var ae=B[j+X*v],Z=0;Z<i.outChannels;++Z)P[K+Z*b]+=ae*S[z+Z];z+=i.outChannels}}}return d.toTensor()},t.prototype.conv3d=function(r,n,i){for(var a=i.filterDepth,o=i.filterHeight,s=i.filterWidth,l=i.dilationDepth,u=i.dilationHeight,c=i.dilationWidth,A=i.padInfo.front,d=i.padInfo.left,f=i.padInfo.top,p=zt(i.outShape,r.dtype),g=this.readSync(r.dataId),v=this.readSync(n.dataId),m=p.values,y=0;y<i.batchSize;++y)for(var w=y*r.strides[0],b=y*p.strides[0],B=0;B<i.outDepth;++B)for(var S=b+B*p.strides[1],P=B*i.strideDepth-A,k=0;k<a;k++){var I=P+k*l;if(!(I<0||I>=i.inDepth))for(var O=k*n.strides[0],F=w+I*r.strides[1],N=0;N<i.outHeight;++N)for(var U=S+N*p.strides[2],M=N*i.strideHeight-f,V=0;V<o;V++){var Q=M+V*u;if(!(Q<0||Q>=i.inHeight))for(var W=O+V*n.strides[1],D=F+Q*r.strides[2],K=0;K<i.outWidth;++K)for(var ie=U+K*i.outChannels,ee=K*i.strideWidth-d,L=0;L<s;L++){var j=ee+L*c;if(!(j<0||j>=i.inWidth))for(var z=W+L*n.strides[2],X=D+j*i.inChannels,ae=z,Z=0;Z<i.inChannels;++Z){for(var ce=g[X+Z],ne=0;ne<i.outChannels;++ne)m[ie+ne]+=ce*v[ae+ne];ae+=i.outChannels}}}}return p.toTensor()},t.prototype.conv2dDerInput=function(r,n,i){Qe([r,n],"conv2dDerInput");for(var a=zt(i.inShape,"float32"),o=a.values,s=this.readSync(r.dataId),l=this.readSync(n.dataId),u=n.strides,c=u[0],A=u[1],d=u[2],f=i.batchSize,p=i.filterHeight,g=i.filterWidth,v=i.inChannels,m=i.inHeight,y=i.inWidth,w=i.outChannels,b=i.outHeight,B=i.outWidth,S=i.strideHeight,P=i.strideWidth,k=i.dataFormat,I=p-1-i.padInfo.top,O=g-1-i.padInfo.left,F=k==="channelsLast",N=a.strides[0],U=F?a.strides[1]:a.strides[2],M=F?a.strides[2]:1,V=F?1:a.strides[1],Q=r.strides[0],W=F?r.strides[1]:r.strides[2],D=F?r.strides[2]:1,K=F?1:r.strides[1],ie=0;ie<f;++ie)for(var ee=0;ee<v;++ee)for(var L=0;L<m;++L)for(var j=L-I,z=Math.max(0,Math.ceil(j/S)),X=Math.min(b,(p+j)/S),ae=0;ae<y;++ae){for(var Z=ae-O,ce=Math.max(0,Math.ceil(Z/P)),ne=Math.min(B,(g+Z)/P),pe=0,ye=z;ye<X;++ye)for(var de=ye*S-j,Ie=ce;Ie<ne;++Ie)for(var De=Q*ie+W*ye+D*Ie,Y=c*(p-1-de)+A*(g-1-(Ie*P-Z))+d*ee,Ae=0;Ae<w;++Ae)pe+=s[De+K*Ae]*l[Y+Ae];o[N*ie+U*L+M*ae+V*ee]=pe}return a.toTensor()},t.prototype.conv3dDerInput=function(r,n,i){for(var a=zt(i.inShape,"float32"),o=a.values,s=a.strides,l=s[0],u=s[1],c=s[2],A=s[3],d=this.readSync(r.dataId),f=r.strides,p=f[0],g=f[1],v=f[2],m=f[3],y=this.readSync(n.dataId),w=n.strides,b=w[0],B=w[1],S=w[2],P=w[3],k=i.batchSize,I=i.filterDepth,O=i.filterHeight,F=i.filterWidth,N=i.inChannels,U=i.inDepth,M=i.inHeight,V=i.inWidth,Q=i.outChannels,W=i.outDepth,D=i.outHeight,K=i.outWidth,ie=i.strideDepth,ee=i.strideHeight,L=i.strideWidth,j=I-1-i.padInfo.front,z=O-1-i.padInfo.top,X=F-1-i.padInfo.left,ae=0;ae<k;++ae)for(var Z=0;Z<N;++Z)for(var ce=0;ce<U;++ce)for(var ne=ce-j,pe=Math.max(0,Math.ceil(ne/ie)),ye=Math.min(W,(I+ne)/ie),de=0;de<M;++de)for(var Ie=de-z,De=Math.max(0,Math.ceil(Ie/ee)),Y=Math.min(D,(O+Ie)/ee),Ae=0;Ae<V;++Ae){for(var Ee=Ae-X,Pe=Math.max(0,Math.ceil(Ee/L)),Se=Math.min(K,(F+Ee)/L),Ke=0,Ve=pe;Ve<ye;++Ve)for(var Oe=Ve*ie-ne,et=De;et<Y;++et)for(var Ge=et*ee-Ie,Nt=Pe;Nt<Se;++Nt)for(var St=p*ae+g*Ve+v*et+m*Nt,Ot=b*(I-1-Oe)+B*(O-1-Ge)+S*(F-1-(Nt*L-Ee))+P*Z,Ye=0;Ye<Q;++Ye)Ke+=d[St+Ye]*y[Ot+Ye];o[l*ae+u*ce+c*de+A*Ae+Z]=Ke}return a.toTensor()},t.prototype.conv2dDerFilter=function(r,n,i){Qe([r,n],"conv2dDerFilter");for(var a=i.strideHeight,o=i.strideWidth,s=i.filterHeight,l=i.filterWidth,u=i.dataFormat==="channelsLast",c=zt(i.filterShape,"float32"),A=i.padInfo.left,d=i.padInfo.top,f=this.bufferSync(r),p=this.bufferSync(n),g=0;g<s;++g)for(var v=Math.max(0,Math.ceil((d-g)/a)),m=Math.min(i.outHeight,(i.inHeight+d-g)/a),y=0;y<l;++y)for(var w=Math.max(0,Math.ceil((A-y)/o)),b=Math.min(i.outWidth,(i.inWidth+A-y)/o),B=0;B<i.inChannels;++B)for(var S=0;S<i.outChannels;++S){for(var P=0,k=0;k<i.batchSize;++k)for(var I=v;I<m;++I)for(var O=g+I*a-d,F=w;F<b;++F){var N=y+F*o-A;P+=u?f.get(k,O,N,B)*p.get(k,I,F,S):f.get(k,B,O,N)*p.get(k,S,I,F)}c.set(P,g,y,B,S)}return c.toTensor()},t.prototype.conv3dDerFilter=function(r,n,i){for(var a=i.strideDepth,o=i.strideHeight,s=i.strideWidth,l=i.filterDepth,u=i.filterHeight,c=i.filterWidth,A=zt(i.filterShape,"float32"),d=A.values,f=A.strides,p=f[0],g=f[1],v=f[2],m=f[3],y=this.readSync(n.dataId),w=n.strides,b=w[0],B=w[1],S=w[2],P=w[3],k=this.readSync(r.dataId),I=r.strides,O=I[0],F=I[1],N=I[2],U=I[3],M=i.padInfo.front,V=i.padInfo.left,Q=i.padInfo.top,W=0;W<l;++W)for(var D=Math.max(0,Math.ceil((M-W)/a)),K=Math.min(i.outDepth,(i.inDepth+M-W)/a),ie=W*p,ee=0;ee<u;++ee)for(var L=Math.max(0,Math.ceil((Q-ee)/o)),j=Math.min(i.outHeight,(i.inHeight+Q-ee)/o),z=ee*g+ie,X=0;X<c;++X)for(var ae=Math.max(0,Math.ceil((V-X)/s)),Z=Math.min(i.outWidth,(i.inWidth+V-X)/s),ce=X*v+z,ne=0;ne<i.inChannels;++ne)for(var pe=ne*m+ce,ye=0;ye<i.outChannels;++ye){for(var de=0,Ie=0;Ie<i.batchSize;++Ie)for(var De=Ie*O,Y=Ie*b,Ae=D;Ae<K;++Ae)for(var Ee=(W+Ae*a-M)*F+De,Pe=Ae*B+Y,Se=L;Se<j;++Se)for(var Ke=(ee+Se*o-Q)*N+Ee,Ve=Se*S+Pe,Oe=ae;Oe<Z;++Oe){var et=Oe*P+Ve;de+=k[(X+Oe*s-V)*U+Ke+ne]*y[et+ye]}d[pe+ye]=de}return A.toTensor()},t.prototype.fusedDepthwiseConv2D=function(r){var n=r.input,i=r.filter,a=r.convInfo,o=r.bias,s=r.activation,l=r.preluActivationWeights,u=this.depthwiseConv2D(n,i,a);return o&&(u=this.add(u,o)),s&&(u=r5(this,u,s,l)),u},t.prototype.depthwiseConv2D=function(r,n,i){Qe([r,n],"depthwiseConv2D");for(var a=i.filterHeight,o=i.filterWidth,s=i.dilationHeight,l=i.dilationWidth,u=i.padInfo.left,c=i.padInfo.top,A=i.outChannels/i.inChannels,d=zt(i.outShape,r.dtype),f=this.readSync(r.dataId),p=this.readSync(n.dataId),g=d.values,v=0;v<i.batchSize;++v)for(var m=v*r.strides[0],y=v*d.strides[0],w=0;w<i.outHeight;++w)for(var b=y+w*d.strides[1],B=w*i.strideHeight-u,S=0;S<a;++S){var P=B+S*s;if(!(P<0||P>=i.inHeight))for(var k=S*n.strides[0],I=m+P*r.strides[1],O=0;O<i.outWidth;++O)for(var F=b+O*d.strides[2],N=O*i.strideWidth-c,U=0;U<o;++U){var M=N+U*l;if(!(M<0||M>=i.inWidth))for(var V=k+U*n.strides[1],Q=I+M*i.inChannels,W=F,D=V,K=0;K<i.inChannels;++K){for(var ie=f[Q+K],ee=0;ee<A;++ee)g[W+ee]+=ie*p[D+ee];W+=A,D+=A}}}return d.toTensor()},t.prototype.depthwiseConv2DDerInput=function(r,n,i){Qe([r,n],"depthwiseConv2DDerInput");for(var a=zt(i.inShape,"float32"),o=a.values,s=a.strides,l=s[0],u=s[1],c=s[2],A=this.readSync(r.dataId),d=r.strides,f=d[0],p=d[1],g=d[2],v=this.readSync(n.dataId),m=n.strides,y=m[0],w=m[1],b=m[2],B=i.batchSize,S=i.filterHeight,P=i.filterWidth,k=i.inChannels,I=i.inHeight,O=i.inWidth,F=i.outChannels,N=i.outHeight,U=i.outWidth,M=i.strideHeight,V=i.strideWidth,Q=S-1-i.padInfo.top,W=P-1-i.padInfo.left,D=F/k,K=0;K<B;++K)for(var ie=0;ie<k;++ie)for(var ee=0;ee<I;++ee)for(var L=ee-Q,j=Math.max(0,Math.ceil(L/M)),z=Math.min(N,(S+L)/M),X=0;X<O;++X){for(var ae=X-W,Z=Math.max(0,Math.ceil(ae/V)),ce=Math.min(U,(P+ae)/V),ne=0,pe=j;pe<z;++pe)for(var ye=pe*M-L,de=Z;de<ce;++de)for(var Ie=f*K+p*pe+g*de,De=y*(S-1-ye)+w*(P-1-(de*V-ae))+b*ie,Y=0;Y<D;++Y)ne+=A[Ie+(ie*D+Y)]*v[De+Y];o[l*K+u*ee+c*X+ie]=ne}return a.toTensor()},t.prototype.depthwiseConv2DDerFilter=function(r,n,i){Qe([r,n],"depthwiseConv2DDerFilter");for(var a=i.strideHeight,o=i.strideWidth,s=i.filterHeight,l=i.filterWidth,u=zt(i.filterShape,"float32"),c=i.padInfo.left,A=i.padInfo.top,d=i.outChannels/i.inChannels,f=this.bufferSync(r),p=this.bufferSync(n),g=0;g<s;++g)for(var v=Math.max(0,Math.ceil((A-g)/a)),m=Math.min(i.outHeight,(i.inHeight+A-g)/a),y=0;y<l;++y)for(var w=Math.max(0,Math.ceil((c-y)/o)),b=Math.min(i.outWidth,(i.inWidth+c-y)/o),B=0;B<i.outChannels;++B){for(var S=Math.trunc(B/d),P=B%d,k=0,I=0;I<i.batchSize;++I)for(var O=v;O<m;++O)for(var F=g+O*a-A,N=w;N<b;++N){var U=y+N*o-c;k+=f.get(I,F,U,S)*p.get(I,O,N,B)}u.set(k,g,y,S,P)}return u.toTensor()},t.prototype.tile=function(r,n){return Qe(r,"tile"),H7(this.bufferSync(r),n)},t.prototype.pad=function(r,n,i){Qe(r,"pad");var a=n.map(function(d,f){return d[0]+r.shape[f]+d[1]}),o=n.map(function(d){return d[0]}),s=this.bufferSync(r),l=zt(a,r.dtype);i!==0&&l.values.fill(i);for(var u=0;u<r.size;u++){var c=s.indexToLoc(u),A=c.map(function(d,f){return d+o[f]});l.set.apply(l,[s.get.apply(s,c)].concat(A))}return l.toTensor()},t.prototype.transpose=function(r,n){Qe(r,"transpose");for(var i=new Array(r.rank),a=0;a<i.length;a++)i[a]=r.shape[n[a]];var o=this.readSync(r.dataId),s=zt(i,r.dtype),l=this.bufferSync(r);for(a=0;a<r.size;++a){for(var u=l.indexToLoc(a),c=new Array(u.length),A=0;A<c.length;A++)c[A]=u[n[A]];var d=s.locToIndex(c);s.values[d]=o[a]}return s.toTensor()},t.prototype.gather=function(r,n,i){Qe([r,n],"gather");var a=r.shape.slice(),o=this.readSync(n.dataId);a[i]=o.length;for(var s=zt(a,r.dtype),l=this.bufferSync(r),u=0;u<s.size;++u){var c=s.indexToLoc(u),A=c.slice();A[i]=o[c[i]];var d=l.locToIndex(A);s.values[u]=l.values[d]}return s.toTensor()},t.prototype.batchToSpaceND=function(r,n,i){Qe([r],"batchToSpaceND");var a=n.reduce(function(A,d){return A*d}),o=Bw(r.shape,n,a),s=Cw(o.length,n.length),l=Ew(r.shape,n,a),u=I7(i,n.length),c=_7(l,i,n.length);return r.reshape(o).transpose(s).reshape(l).slice(u,c)},t.prototype.spaceToBatchND=function(r,n,i){Qe([r],"spaceToBatchND");var a=n.reduce(function(d,f){return d*f}),o=[[0,0]];o.push.apply(o,i);for(var s=1+n.length;s<r.shape.length;++s)o.push([0,0]);var l=r.pad(o),u=Bw(l.shape,n,a,!1),c=Cw(u.length,n.length,!1),A=Ew(l.shape,n,a,!1);return l.reshape(u).transpose(c).reshape(A)},t.prototype.pool=function(r,n,i){Qe(r,"pool");for(var a=n.strideHeight,o=n.strideWidth,s=n.dilationHeight,l=n.dilationWidth,u=n.effectiveFilterHeight,c=n.effectiveFilterWidth,A=n.padInfo.top,d=n.padInfo.left,f=i==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,p=this.readSync(r.dataId),g=zt(n.outShape,r.dtype),v=g.values,m=n.outShape[1]*n.outShape[2]*n.outShape[3],y=n.outShape[2]*n.outShape[3],w=n.outShape[3],b=0;b<n.batchSize;++b)for(var B=b*m,S=b*r.strides[0],P=0;P<n.inChannels;++P)for(var k=0;k<n.outHeight;++k)for(var I=k*a-A,O=Math.max(0,I),F=Math.min(n.inHeight,u+I),N=B+k*y,U=0;U<n.outWidth;++U){for(var M=U*o-d,V=Math.max(0,M),Q=Math.min(n.inWidth,c+M),W=f,D=0,K=0,ie=O;ie<F;ie+=s){for(var ee=S+ie*r.strides[1],L=V;L<Q;L+=l){var j=p[ee+L*r.strides[2]+P];i==="max"&&j>W?W=j:i==="avg"&&(D+=j,K++)}if(isNaN(W))break}v[N+U*w+P]=i==="avg"?D/K:W}return g.toTensor()},t.prototype.maxPool=function(r,n){return this.pool(r,n,"max")},t.prototype.maxPoolPositions=function(r,n){for(var i=zt(n.outShape,"int32"),a=n.strideHeight,o=n.strideWidth,s=n.dilationHeight,l=n.dilationWidth,u=n.effectiveFilterHeight,c=n.effectiveFilterWidth,A=n.padInfo.top,d=n.padInfo.left,f=this.bufferSync(r),p=0;p<n.batchSize;++p)for(var g=0;g<n.inChannels;++g)for(var v=0;v<n.outHeight;++v){for(var m=v*a-A,y=m;y<0;)y+=s;for(var w=Math.min(n.inHeight,u+m),b=0;b<n.outWidth;++b){for(var B=b*o-d,S=B;S<0;)S+=l;for(var P=Math.min(n.inWidth,c+B),k=Number.NEGATIVE_INFINITY,I=-1,O=y;O<w;O+=s)for(var F=O-m,N=S;N<P;N+=l){var U=N-B,M=f.get(p,O,N,g);M>k&&(k=M,I=F*c+U)}i.set(I,p,v,b,g)}}return i.toTensor()},t.prototype.maxPoolBackprop=function(r,n,i,a){Qe([n,i],"maxPoolBackprop");for(var o=this.maxPoolPositions(n,a),s=a.strideHeight,l=a.strideWidth,u=a.dilationHeight,c=a.dilationWidth,A=a.effectiveFilterHeight,d=a.effectiveFilterWidth,f=d-1-a.padInfo.left,p=A-1-a.padInfo.top,g=zt(n.shape,"float32"),v=this.bufferSync(o),m=this.bufferSync(r),y=0;y<a.batchSize;++y)for(var w=0;w<a.inChannels;++w)for(var b=0;b<a.inHeight;++b)for(var B=0;B<a.inWidth;++B){for(var S=b-p,P=B-f,k=0,I=0;I<A;I+=u){var O=(S+I)/s;if(!(O<0||O>=a.outHeight||Math.floor(O)!==O))for(var F=0;F<d;F+=c){var N=(P+F)/l;if(!(N<0||N>=a.outWidth||Math.floor(N)!==N)){var U=A*d-1-v.get(y,O,N,w)===I*d+F?1:0;U!==0&&(k+=m.get(y,O,N,w)*U)}}}g.set(k,y,b,B,w)}return g.toTensor()},t.prototype.avgPoolBackprop=function(r,n,i){Qe([r,n],"avgPoolBackprop");for(var a=i.strideHeight,o=i.strideWidth,s=i.filterHeight,l=i.filterWidth,u=i.dilationHeight,c=i.dilationWidth,A=i.effectiveFilterHeight,d=i.effectiveFilterWidth,f=d-1-i.padInfo.left,p=A-1-i.padInfo.top,g=zt(n.shape,"float32"),v=1/(s*l),m=this.bufferSync(r),y=0;y<i.batchSize;++y)for(var w=0;w<i.inChannels;++w)for(var b=0;b<i.inHeight;++b)for(var B=0;B<i.inWidth;++B){for(var S=b-p,P=B-f,k=0,I=0;I<A;I+=u){var O=(S+I)/a;if(!(O<0||O>=i.outHeight||Math.floor(O)!==O))for(var F=0;F<d;F+=c){var N=(P+F)/o;N<0||N>=i.outWidth||Math.floor(N)!==N||(k+=m.get(y,O,N,w))}}g.set(k*v,y,b,B,w)}return g.toTensor()},t.prototype.pool3d=function(r,n,i){Qe(r,"pool3d");for(var a=n.strideDepth,o=n.strideHeight,s=n.strideWidth,l=n.dilationDepth,u=n.dilationHeight,c=n.dilationWidth,A=n.effectiveFilterDepth,d=n.effectiveFilterHeight,f=n.effectiveFilterWidth,p=n.padInfo.front,g=n.padInfo.top,v=n.padInfo.left,m=i==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,y=this.readSync(r.dataId),w=zt(n.outShape,r.dtype),b=w.values,B=n.outShape[1]*n.outShape[2]*n.outShape[3]*n.outShape[4],S=n.outShape[2]*n.outShape[3]*n.outShape[4],P=n.outShape[3]*n.outShape[4],k=n.outShape[4],I=0;I<n.batchSize;++I)for(var O=I*B,F=I*r.strides[0],N=0;N<n.inChannels;++N)for(var U=0;U<n.outDepth;++U){for(var M=U*a-p,V=M;V<0;)V+=l;for(var Q=Math.min(n.inDepth,A+M),W=O+U*S,D=0;D<n.outHeight;++D){for(var K=D*o-g,ie=K;ie<0;)ie+=u;for(var ee=Math.min(n.inHeight,d+K),L=W+D*P,j=0;j<n.outWidth;++j){for(var z=j*s-v,X=z;X<0;)X+=c;for(var ae=Math.min(n.inWidth,f+z),Z=L+j*k,ce=m,ne=0,pe=0,ye=V;ye<Q;ye+=l){for(var de=F+ye*r.strides[1],Ie=ie;Ie<ee;Ie+=u){for(var De=de+Ie*r.strides[2],Y=X;Y<ae;Y+=c){var Ae=y[De+Y*r.strides[3]+N];if(i==="max"&&Ae>ce?ce=Ae:i==="avg"&&(ne+=Ae,pe++),isNaN(ce))break}if(isNaN(ce))break}if(isNaN(ce))break}b[Z+N]=i==="avg"?ne/pe:ce}}}return w.toTensor()},t.prototype.avgPool3d=function(r,n){return Qe(r,"avgPool3d"),this.pool3d(r,n,"avg").toFloat()},t.prototype.avgPool3dBackprop=function(r,n,i){Qe([r,n],"avgPool3dBackprop");for(var a=i.strideDepth,o=i.strideHeight,s=i.strideWidth,l=i.filterDepth,u=i.filterHeight,c=i.filterWidth,A=i.dilationDepth,d=i.dilationHeight,f=i.dilationWidth,p=i.effectiveFilterDepth,g=i.effectiveFilterHeight,v=i.effectiveFilterWidth,m=p-1-i.padInfo.front,y=v-1-i.padInfo.left,w=g-1-i.padInfo.top,b=zt(n.shape,"float32"),B=1/(l*u*c),S=this.bufferSync(r),P=0;P<i.batchSize;++P)for(var k=0;k<i.inChannels;++k)for(var I=0;I<i.inDepth;++I)for(var O=0;O<i.inHeight;++O)for(var F=0;F<i.inWidth;++F){for(var N=I-m,U=O-w,M=F-y,V=0,Q=0;Q<p;Q+=A){var W=(N+Q)/a;if(!(W<0||W>=i.outDepth||Math.floor(W)!==W))for(var D=0;D<g;D+=d){var K=(U+D)/o;if(!(K<0||K>=i.outHeight||Math.floor(K)!==K))for(var ie=0;ie<v;ie+=f){var ee=(M+ie)/s;ee<0||ee>=i.outWidth||Math.floor(ee)!==ee||(V+=S.get(P,W,K,ee,k))}}}b.set(V*B,P,I,O,F,k)}return b.toTensor()},t.prototype.maxPool3d=function(r,n){return Qe(r,"maxPool3d"),this.pool3d(r,n,"max").toFloat()},t.prototype.maxPool3dPositions=function(r,n){for(var i=zt(n.outShape,"int32"),a=n.strideDepth,o=n.strideHeight,s=n.strideWidth,l=n.dilationDepth,u=n.dilationHeight,c=n.dilationWidth,A=n.effectiveFilterDepth,d=n.effectiveFilterHeight,f=n.effectiveFilterWidth,p=n.padInfo.front,g=n.padInfo.top,v=n.padInfo.left,m=this.bufferSync(r),y=0;y<n.batchSize;++y)for(var w=0;w<n.inChannels;++w)for(var b=0;b<n.outDepth;++b){for(var B=b*a-p,S=B;S<0;)S+=l;for(var P=Math.min(n.inDepth,A+B),k=0;k<n.outHeight;++k){for(var I=k*o-g,O=I;O<0;)O+=u;for(var F=Math.min(n.inHeight,d+I),N=0;N<n.outWidth;++N){for(var U=N*s-v,M=U;M<0;)M+=c;for(var V=Math.min(n.inWidth,f+U),Q=Number.NEGATIVE_INFINITY,W=-1,D=S;D<P;D+=l)for(var K=D-B,ie=O;ie<F;ie+=u)for(var ee=ie-I,L=M;L<V;L+=c){var j=L-U,z=m.get(y,D,ie,L,w);z>=Q&&(Q=z,W=K*d*f+ee*d+j)}i.set(W,y,b,k,N,w)}}}return i.toTensor()},t.prototype.maxPool3dBackprop=function(r,n,i,a){Qe([n,i],"maxPool3dBackprop");for(var o=this.maxPool3dPositions(n,a),s=a.strideDepth,l=a.strideHeight,u=a.strideWidth,c=a.dilationDepth,A=a.dilationHeight,d=a.dilationWidth,f=a.effectiveFilterDepth,p=a.effectiveFilterHeight,g=a.effectiveFilterWidth,v=f-1-a.padInfo.front,m=g-1-a.padInfo.left,y=p-1-a.padInfo.top,w=zt(n.shape,"float32"),b=this.bufferSync(o),B=this.bufferSync(r),S=0;S<a.batchSize;++S)for(var P=0;P<a.inChannels;++P)for(var k=0;k<a.inDepth;++k)for(var I=0;I<a.inHeight;++I)for(var O=0;O<a.inWidth;++O){for(var F=k-v,N=I-y,U=O-m,M=0,V=0;V<f;V+=c){var Q=(F+V)/s;if(!(Q<0||Q>=a.outDepth||Math.floor(Q)!==Q))for(var W=0;W<p;W+=A){var D=(N+W)/l;if(!(D<0||D>=a.outHeight||Math.floor(D)!==D))for(var K=0;K<g;K+=d){var ie=(U+K)/u;if(!(ie<0||ie>=a.outWidth||Math.floor(ie)!==ie)){var ee=f*p*g-1-b.get(S,Q,D,ie,P)===V*p*g+W*g+K?1:0;ee!==0&&(M+=B.get(S,Q,D,ie,P)*ee)}}}}w.set(M,S,k,I,O,P)}return w.toTensor()},t.prototype.cast=function(r,n){return D7(r,n,this)},t.prototype.reshape=function(r,n){return LS(r,n)},t.prototype.avgPool=function(r,n){return Qe(r,"avgPool"),this.pool(r,n,"avg").toFloat()},t.prototype.resizeBilinear=function(r,n,i,a){Qe(r,"resizeBilinear");for(var o=r.shape,s=o[0],l=o[1],u=o[2],c=o[3],A=this.readSync(r.dataId),d=new Float32Array(yt([s,n,i,c])),f=[a&&n>1?l-1:l,a&&i>1?u-1:u],p=[a&&n>1?n-1:n,a&&i>1?i-1:i],g=0,v=f[0]/p[0],m=f[1]/p[1],y=0;y<s;y++)for(var w=0;w<n;w++)for(var b=v*w,B=Math.floor(b),S=b-B,P=Math.min(l-1,Math.ceil(b)),k=y*r.strides[0]+B*r.strides[1],I=y*r.strides[0]+P*r.strides[1],O=0;O<i;O++)for(var F=m*O,N=Math.floor(F),U=F-N,M=Math.min(u-1,Math.ceil(F)),V=k+N*r.strides[2],Q=I+N*r.strides[2],W=k+M*r.strides[2],D=I+M*r.strides[2],K=0;K<c;K++){var ie=A[V+K],ee=A[Q+K],L=ie+(A[W+K]-ie)*U,j=L+(ee+(A[D+K]-ee)*U-L)*S;d[g++]=j}return qi(d,[s,n,i,c])},t.prototype.resizeBilinearBackprop=function(r,n,i){Qe([r,n],"resizeBilinearBackprop");for(var a=n.shape,o=a[0],s=a[1],l=a[2],u=a[3],c=r.shape,A=c[1],d=c[2],f=new Float32Array(o*s*l*u),p=[i&&A>1?s-1:s,i&&d>1?l-1:l],g=[i&&A>1?A-1:A,i&&d>1?d-1:d],v=p[0]/g[0],m=p[1]/g[1],y=this.readSync(r.dataId),w=0,b=0;b<o;b++)for(var B=b*n.strides[0],S=0;S<A;S++)for(var P=S*v,k=Math.floor(P),I=Math.min(Math.ceil(P),s-1),O=B+k*n.strides[1],F=B+I*n.strides[1],N=P-k,U=1-N,M=0;M<d;M++)for(var V=M*m,Q=Math.floor(V),W=Math.min(Math.ceil(V),l-1),D=V-Q,K=1-D,ie=O+Q*n.strides[2],ee=O+W*n.strides[2],L=F+Q*n.strides[2],j=F+W*n.strides[2],z=U*K,X=U*D,ae=N*K,Z=N*D,ce=0;ce<u;ce++){var ne=y[w++];f[ie+ce]+=ne*z,f[ee+ce]+=ne*X,f[L+ce]+=ne*ae,f[j+ce]+=ne*Z}return Wa(f,[o,l,s,u],n.dtype)},t.prototype.resizeNearestNeighbor=function(r,n,i,a){Qe(r,"resizeNearestNeighbor");for(var o=r.shape,s=o[0],l=o[1],u=o[2],c=o[3],A=this.readSync(r.dataId),d=new Float32Array(s*n*i*c),f=[a&&n>1?l-1:l,a&&i>1?u-1:u],p=[a&&n>1?n-1:n,a&&i>1?i-1:i],g=f[0]/p[0],v=f[1]/p[1],m=0,y=0;y<s;y++)for(var w=y*r.strides[0],b=0;b<n;b++)for(var B=g*b,S=w+Math.min(l-1,a?Math.round(B):Math.floor(B))*r.strides[1],P=0;P<i;P++)for(var k=v*P,I=S+Math.min(u-1,a?Math.round(k):Math.floor(k))*r.strides[2],O=0;O<c;O++){var F=A[I+O];d[m++]=F}return qi(d,[s,n,i,c],r.dtype)},t.prototype.resizeNearestNeighborBackprop=function(r,n,i){Qe([r,n],"resizeNearestNeighborBackprop");for(var a=n.shape,o=a[0],s=a[1],l=a[2],u=a[3],c=r.shape,A=c[1],d=c[2],f=new Float32Array(o*s*l*u),p=this.readSync(r.dataId),g=[i&&A>1?s-1:s,i&&d>1?l-1:l],v=[i&&A>1?A-1:A,i&&d>1?d-1:d],m=g[0]/v[0],y=g[1]/v[1],w=1/m,b=1/y,B=2*Math.ceil(w)+2,S=2*Math.ceil(b)+2,P=0;P<o;P++)for(var k=P*n.strides[0],I=0;I<s;I++)for(var O=k+I*n.strides[1],F=Math.floor(I*w),N=Math.floor(F-B/2),U=0;U<l;U++)for(var M=O+U*n.strides[2],V=Math.floor(U*b),Q=Math.floor(V-S/2),W=0;W<u;W++){for(var D=0,K=0;K<B;K++){var ie=K+N;if(!(ie<0||ie>=A)){var ee=k+ie*r.strides[1],L=ie*m;if(I===Math.min(s-1,i?Math.round(L):Math.floor(L)))for(var j=0;j<S;j++){var z=j+Q;if(!(z<0||z>=d)){var X=ee+z*r.strides[2],ae=z*y;U===Math.min(l-1,i?Math.round(ae):Math.floor(ae))&&(D+=p[X+W])}}}}f[M+W]=D}return Wa(f,n.shape,n.dtype)},t.prototype.batchNormalization=function(r,n,i,a,o,s){Qe([r,n,i,o,s],"batchNorm");for(var l=this.readSync(r.dataId),u=this.readSync(n.dataId),c=this.readSync(i.dataId),A=o?this.readSync(o.dataId):new Float32Array([1]),d=s?this.readSync(s.dataId):new Float32Array([0]),f=new Float32Array(l.length),p=d.length,g=A.length,v=c.length,m=u.length,y=0,w=0,b=0,B=0,S=0;S<l.length;++S)f[S]=d[y++]+(l[S]-u[w++])*A[b++]/Math.sqrt(c[B++]+a),y>=p&&(y=0),w>=m&&(w=0),b>=g&&(b=0),B>=v&&(B=0);return Wa(f,r.shape)},t.prototype.localResponseNormalization4D=function(r,n,i,a,o){Qe(r,"localResponseNormalization4D");var s=r.shape[3],l=s-1,u=this.readSync(r.dataId),c=r.size,A=new Float32Array(c);function d(v){for(var m=v%s,y=v-m+Math.max(0,m-n),w=v-m+Math.min(m+n,l),b=0;y<=w;y++){var B=u[y];b+=B*B}return b}for(var f=0;f<c;f++){var p=d(f),g=u[f]*Math.pow(i+a*p,-o);A[f]=g}return Wa(A,r.shape)},t.prototype.LRNGrad=function(r,n,i,a,o,s,l){Qe(r,"LRNGrad");for(var u=r.shape[3],c=this.readSync(r.dataId),A=this.readSync(n.dataId),d=this.readSync(i.dataId),f=new Float32Array(r.size),p=r.size,g=0;g<p;g++){for(var v=g%u,m=g-v+Math.max(0,v-a),y=g-v+Math.min(u,v+a+1),w=0,b=m;b<y;b++)w+=Math.pow(A[b],2);for(w=s*w+o,b=m;b<y;b++){var B=-2*s*l*A[b]*d[g]/w;g===b&&(B+=Math.pow(w,-l)),B*=c[g],f[b]+=B}}return Wa(f,r.shape)},t.prototype.multinomial=function(r,n,i,a){Qe(r,"multinomial");for(var o=n?r:Wu(r),s=o.shape[0],l=o.shape[1],u=Yr([s,i],"int32"),c=this.readSync(u.dataId),A=this.readSync(o.dataId),d=0;d<s;++d){var f=d*l,p=new Float32Array(l-1);p[0]=A[f];for(var g=1;g<p.length;++g)p[g]=p[g-1]+A[f+g];for(var v=g2(a.toString()),m=d*i,y=0;y<i;++y){var w=v();c[m+y]=p.length;for(var b=0;b<p.length;b++)if(w<p[b]){c[m+y]=b;break}}}return u},t.prototype.oneHot=function(r,n,i,a){Qe(r,"oneHot");var o=new Float32Array(r.size*n);o.fill(a);for(var s=this.readSync(r.dataId),l=0;l<r.size;++l)s[l]>=0&&s[l]<n&&(o[l*n+s[l]]=i);return Jc(o,[r.size,n],"int32")},t.prototype.nonMaxSuppression=function(r,n,i,a,o){return Qe(r,"nonMaxSuppression"),NN(this.readSync(r.dataId),this.readSync(n.dataId),i,a,o)},t.prototype.fft=function(r){return this.fftBatch(r,!1)},t.prototype.ifft=function(r){return this.fftBatch(r,!0)},t.prototype.fftBatch=function(r,n){for(var i=r.shape[0],a=r.shape[1],o=zt(r.shape,"float32"),s=zt(r.shape,"float32"),l=ts(r).as2D(i,a),u=wl(r).as2D(i,a),c=0;c<i;c++)for(var A=l.slice([c,0],[1,a]),d=u.slice([c,0],[1,a]),f=Vi(A,d),p=this.readSync(this.fftImpl(f,n).dataId),g=0;g<a;g++){var v=cL(p,g);o.values[c*a+g]=v.real,s.values[c*a+g]=v.imag}return Vi(o.toTensor(),s.toTensor()).as2D(i,a)},t.prototype.fftImpl=function(r,n){var i=r.as1D(),a=i.size;if(this.isExponentOf2(a)){var o=this.fftRadix2(i,a,n).as2D(r.shape[0],r.shape[1]);return n&&(o=Vi(ts(o).div(Xe(a)),wl(o).div(Xe(a)))),o}var s=this.readSync(r.dataId),l=function(u){for(var c=new Float32Array(u.length/2),A=new Float32Array(u.length/2),d=0;d<u.length;d+=2)c[d/2]=u[d],A[d/2]=u[d+1];return{real:c,imag:A}}(this.fourierTransformByMatmul(s,a,n));return Vi(l.real,l.imag).as2D(r.shape[0],r.shape[1])},t.prototype.isExponentOf2=function(r){return(r&r-1)==0},t.prototype.fftRadix2=function(r,n,i){if(n===1)return r;var a=this.readSync(r.dataId),o=n/2,s=function(m){for(var y=Math.ceil(m.length/4),w=new Float32Array(y),b=new Float32Array(y),B=0;B<m.length;B+=4)w[Math.floor(B/4)]=m[B],b[Math.floor(B/4)]=m[B+1];return{real:w,imag:b}}(a),l=Vi(s.real,s.imag).as1D(),u=function(m){for(var y=Math.floor(m.length/4),w=new Float32Array(y),b=new Float32Array(y),B=2;B<m.length;B+=4)w[Math.floor(B/4)]=m[B],b[Math.floor(B/4)]=m[B+1];return{real:w,imag:b}}(a),c=Vi(u.real,u.imag).as1D();l=this.fftRadix2(l,o,i),c=this.fftRadix2(c,o,i);var A=function(m,y){for(var w=new Float32Array(m/2),b=new Float32Array(m/2),B=0;B<Math.ceil(m/2);B++){var S=(y?2:-2)*Math.PI*(B/m);w[B]=Math.cos(S),b[B]=Math.sin(S)}return{real:w,imag:b}}(n,i),d=Vi(A.real,A.imag).mul(c),f=l.add(d),p=l.sub(d),g=ts(f).concat(ts(p)),v=wl(f).concat(wl(p));return Vi(g,v).as1D()},t.prototype.fourierTransformByMatmul=function(r,n,i){for(var a=new Float32Array(2*n),o=0;o<n;o++){for(var s=0,l=0,u=0;u<n;u++){var c=zfe(o*u,n,i),A=cL(r,u);s+=A.real*c.real-A.imag*c.imag,l+=A.real*c.imag+A.imag*c.real}i&&(s/=n,l/=n),Kfe(a,s,l,o)}return a},t.prototype.depthToSpace=function(r,n,i){oe(i==="NHWC",function(){return"Only NHWC dataFormat supported on CPU for depthToSpace. Got "+i}),oe(n>1,function(){return"blockSize should be > 1 for depthToSpace, but was: "+n});for(var a=r.shape[0],o=r.shape[1],s=r.shape[2],l=r.shape[3],u=o*n,c=s*n,A=l/(n*n),d=this.readSync(r.dataId),f=new Float32Array(a*u*c*A),p=0,g=0;g<a;++g)for(var v=0;v<u;++v)for(var m=Math.floor(v/n),y=v%n,w=0;w<c;++w)for(var b=Math.floor(w/n),B=(y*n+w%n)*A,S=0;S<A;++S){var P=S+B+l*(b+s*(m+o*g));f[p++]=d[P]}return Wa(f,[a,u,c,A])},t.prototype.broadcastedBinaryOp=function(r,n,i,a){var o=nr(r.shape,n.shape),s=zt(o,i),l=this.readSync(r.dataId),u=this.readSync(n.dataId),c=Dc(r.shape,o),A=Dc(n.shape,o),d=s.values;if(c.length+A.length===0)for(var f=0;f<d.length;++f)d[f]=a(l[f%l.length],u[f%u.length]);else{var p=this.bufferSync(r),g=this.bufferSync(n),v=function(m){var y=s.indexToLoc(m),w=y.slice(-r.rank);c.forEach(function(P){return w[P]=0});var b=p.locToIndex(w),B=y.slice(-n.rank);A.forEach(function(P){return B[P]=0});var S=g.locToIndex(B);d[m]=a(l[b],u[S])};for(f=0;f<d.length;++f)v(f)}return s.toTensor()},t.prototype.broadcastedBinaryComplexOp=function(r,n,i){var a=nr(r.shape,n.shape),o=zt(a,"float32"),s=zt(a,"float32"),l=this.readSync(r.dataId),u=this.readSync(n.dataId),c=Dc(r.shape,a),A=Dc(n.shape,a),d=o.values,f=s.values;if(c.length+A.length===0)for(var p=0;p<d.length;p++){var g=p%l.length,v=p%u.length,m=i(l[2*g],l[2*g+1],u[2*v],u[2*v+1]);d[p]=m.real,f[p]=m.imag}else{var y=this.bufferSync(this.data.get(r.dataId).complexTensors.real),w=this.bufferSync(this.data.get(n.dataId).complexTensors.real),b=function(B){var S=o.indexToLoc(B),P=S.slice(-r.rank);c.forEach(function(N){return P[N]=0});var k=y.locToIndex(P),I=S.slice(-n.rank);A.forEach(function(N){return I[N]=0});var O=w.locToIndex(I),F=i(l[2*k],l[2*k+1],u[2*O],u[2*O+1]);d[B]=F.real,f[B]=F.imag};for(p=0;p<d.length;p++)b(p)}return this.complex(o.toTensor(),s.toTensor())},t.prototype.split=function(r,n,i){return Q7(r,n,i)},t.prototype.dispose=function(){},t.prototype.floatPrecision=function(){return 32},t.prototype.epsilon=function(){return 1e-7},t.prototype.cropAndResize=function(r,n,i,a,o,s){for(var l=r.shape,u=l[0],c=l[1],A=l[2],d=l[3],f=n.shape[0],p=a[0],g=a[1],v=zt([f,p,g,d],"float32"),m=this.readSync(n.dataId),y=this.readSync(i.dataId),w=this.readSync(r.dataId),b=r.strides,B=v.strides,S=0;S<f;S++){var P=4*S,k=m[P],I=m[P+1],O=m[P+2],F=m[P+3],N=y[S];if(!(N>=u))for(var U=p>1?(O-k)*(c-1)/(p-1):0,M=g>1?(F-I)*(A-1)/(g-1):0,V=0;V<p;V++){var Q=p>1?k*(c-1)+V*U:.5*(k+O)*(c-1);if(Q<0||Q>c-1)for(var W=0;W<g;W++)for(var D=0;D<d;D++){var K=D+W*B[2]+V*B[1]+S*B[0];v.values[K]=s}else if(o==="bilinear"){var ie=Math.floor(Q),ee=Math.ceil(Q),L=Q-ie;for(W=0;W<g;W++)if((ye=g>1?I*(A-1)+W*M:.5*(I+F)*(A-1))<0||ye>A-1)for(D=0;D<d;D++)K=D+W*B[2]+V*B[1]+S*B[0],v.values[K]=s;else{var j=Math.floor(ye),z=Math.ceil(ye),X=ye-j;for(D=0;D<d;D++){var ae=w[K=D+j*b[2]+ie*b[1]+N*b[0]],Z=w[K=D+z*b[2]+ie*b[1]+N*b[0]],ce=w[K=D+j*b[2]+ee*b[1]+N*b[0]],ne=ae+(Z-ae)*X,pe=ce+(w[K=D+z*b[2]+ee*b[1]+N*b[0]]-ce)*X;K=D+W*B[2]+V*B[1]+S*B[0],v.values[K]=ne+(pe-ne)*L}}}else for(W=0;W<g;++W){var ye;if((ye=g>1?I*(A-1)+W*M:.5*(I+F)*(A-1))<0||ye>A-1)for(D=0;D<d;D++)K=D+W*B[2]+V*B[1]+S*B[0],v.values[K]=s;else{var de=Math.round(ye),Ie=Math.round(Q);for(D=0;D<d;D++){var De=D+de*b[2]+Ie*b[1]+N*b[0],Y=D+W*B[2]+V*B[1]+S*B[0];v.values[Y]=w[De]}}}}}return v.toTensor()},t.prototype.sparseToDense=function(r,n,i,a){var o=Sw(0,r,i),s=o.sliceRank,l=o.numUpdates,u=o.sliceSize,c=o.strides,A=o.outputSize;return this.scatter(r,n,i,A,u,l,s,c,a,!1)},t.prototype.gatherND=function(r,n){var i=n.shape,a=i[i.length-1],o=k7(r,n),s=o[0],l=o[1],u=o[2],c=o[3];if(l===0)return qi([],s,r.dtype);for(var A=new vg([l,u],r.dtype),d=this.readSync(n.dataId),f=this.readSync(r.dataId),p=0;p<l;p++){for(var g=[],v=0,m=0;m<a;m++){var y=d[p*a+m];v+=y*c[m],g.push(y)}if(v<0||v>=r.size/u)throw new Error("Invalid indices: "+g+" does not index into "+r.shape);for(var w=0;w<u;w++)A.values[p*u+w]=f[v*u+w]}return A.toTensor().reshape(s)},t.prototype.scatterND=function(r,n,i){var a=Sw(0,r,i),o=a.sliceRank,s=a.numUpdates,l=a.sliceSize,u=a.strides,c=a.outputSize,A=Xe(0);return this.scatter(r,n,i,c,l,s,o,u,A,!0)},t.prototype.fill=function(r,n,i){var a=mw(i=i||rv(n),yt(r));return a.fill(n),ge.makeTensor(a,r,i,this)},t.prototype.onesLike=function(r){if(r.dtype==="string")throw new Error("onesLike is not supported for string tensors");return this.fill(r.shape,1,r.dtype)},t.prototype.zerosLike=function(r){var n=mw(r.dtype,yt(r.shape));return this.makeOutput(n,r.shape,r.dtype)},t.prototype.linspace=function(r,n,i){return j7(r,n,i)},t.prototype.scatter=function(r,n,i,a,o,s,l,u,c,A){var d=[a/o,o],f=this.readSync(r.dataId),p=this.readSync(n.dataId);if(a===0)return qi([],i,n.dtype);var g=new vg(d,n.dtype);g.values.fill(this.readSync(c.dataId)[0]);for(var v=0;v<s;v++){for(var m=[],y=0,w=0;w<l;w++){var b=f[v*l+w];m.push(b),y+=b*u[w]}if(y<0||y>=a/o)throw new Error("Invalid indices: "+m+" does not index into "+i);for(var B=0;B<o;B++)A?g.values[y*o+B]+=p[v*o+B]:g.values[y*o+B]=n.rank===0?p[0]:p[v*o+B]}return g.toTensor().reshape(i)},t}(U7);ge.registerBackend("cpu",function(){return new fge},1);for(var n5=0,PL=[{kernelName:"NonMaxSuppressionV5",backendName:"cpu",kernelFunc:function(e){var t=e.inputs,r=e.backend,n=e.attrs,i=t,a=i.boxes,o=i.scores,s=n,l=s.maxOutputSize,u=s.iouThreshold,c=s.scoreThreshold,A=s.softNmsSigma,d=r;Qe(a,"NonMaxSuppressionWithScore");var f=FN(d.data.get(a.dataId).values,d.data.get(o.dataId).values,l,u,c,A);return[f.selectedIndices,f.selectedScores]}},{kernelName:"Square",backendName:"cpu",kernelFunc:function(e){var t=e.inputs,r=e.backend,n=t.x,i=r;Qe(n,"square");for(var a=i.data.get(n.dataId).values,o=new Float32Array(a.length),s=0;s<a.length;++s){var l=a[s];o[s]=l*l}return{dataId:i.write(o,n.shape,n.dtype),shape:n.shape,dtype:n.dtype}}},{kernelName:xg,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,r=e.backend,n=t,i=n.a,a=n.b,o=r;Qe([i,a],xg);var s=o.data.get(i.dataId).values,l=o.data.get(a.dataId).values,u=function(d,f,p,g,v,m){var y=nr(d,f),w=y.length,b=Il(y),B=gg(v,yt(y)),S=d.length,P=f.length,k=Il(d),I=Il(f),O=Dc(d,y),F=Dc(f,y);if(O.length+F.length===0)for(var N=0;N<B.length;++N)B[N]=m(p[N%p.length],g[N%g.length]);else{var U=function(M){var V=bAe(M,w,b),Q=V.slice(-S);O.forEach(function(ie){return Q[ie]=0});var W=tL(Q,S,k),D=V.slice(-P);F.forEach(function(ie){return D[ie]=0});var K=tL(D,P,I);B[M]=m(p[W],g[K])};for(N=0;N<B.length;++N)U(N)}return[B,y]}(i.shape,a.shape,s,l,i.dtype,function(d,f){var p=d-f;return p*p}),c=u[0],A=u[1];return{dataId:o.write(c,A,i.dtype),shape:A,dtype:i.dtype}}}];n5<PL.length;n5++)c7(PL[n5]);var hd,dge=function(e){this.variableNames=["A"];var t=ma(),r=e[0],n=e[1];this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(`+n+".0, "+r+`.0);

        vec4 values = `+t.texture2D+`(A, uv);
        float value;
        if (depth == 0) {
          value = values.r;
        } else if (depth == 1) {
          value = values.g;
        } else if (depth == 2) {
          value = values.b;
        } else if (depth == 3) {
          value = values.a;
        }

        setOutput(floor(value * 255.0 + 0.5));
      }
    `},hge=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var t=ma(),r=e[0],n=e[1];this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];

        vec4 result = vec4(0.);

        for(int row=0; row<=1; row++) {
          for(int col=0; col<=1; col++) {
            texC = coords[1] + row;
            depth = coords[2] + col;

            vec2 uv = (vec2(texC, texR) + halfCR) /
                       vec2(`+n+".0, "+r+`.0);
            vec4 values = `+t.texture2D+`(A, uv);
            float value;
            if (depth == 0) {
              value = values.r;
            } else if (depth == 1) {
              value = values.g;
            } else if (depth == 2) {
              value = values.b;
            } else if (depth == 3) {
              value = values.a;
            }

            result[row * 2 + col] = floor(value * 255.0 + 0.5);
          }
        }

        `+t.output+` = result;
      }
    `};for(var i5=0,OL=[{kernelName:"FromPixels",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,r=e.backend,n=e.attrs,i=t.pixels,a=n.numChannels,o=typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement,s=typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement,l=o?[i.videoWidth,i.videoHeight]:[i.width,i.height],u=l[0],c=l[1],A=[c,u],d=[c,u,a];(s||o)&&(hd==null&&(hd=document.createElement("canvas").getContext("2d")),hd.canvas.width=u,hd.canvas.height=c,hd.drawImage(i,0,0,u,c),i=hd.canvas);var f=r.makeTensorInfo(A,"int32");r.texData.get(f.dataId).usage=No.PIXELS,r.gpgpu.uploadPixelDataToTexture(r.getTexture(f.dataId),i);var p=Le().getBool("WEBGL_PACK")?new hge(d):new dge(d),g=r.runWebGLProgram(p,[f],"int32");return r.disposeData(f.dataId),g}},{kernelName:"NonMaxSuppressionV5",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,r=e.backend,n=e.attrs;ww("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var i=t,a=i.boxes,o=i.scores,s=n,l=s.maxOutputSize,u=s.iouThreshold,c=s.scoreThreshold,A=s.softNmsSigma,d=r,f=FN(d.readSync(a.dataId),d.readSync(o.dataId),l,u,c,A);return[f.selectedIndices,f.selectedScores]}},{kernelName:"Square",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,r=e.backend,n=t.x,i=r,a=new Zt(n.shape,"return x * x;");return i.runWebGLProgram(a,[n],n.dtype)}},{kernelName:xg,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,r=e.backend,n=t,i=n.a,a=n.b,o=r,s=Le().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new cu("return (a - b) * (a - b);",i.shape,a.shape):new Bn("return (a - b) * (a - b);",i.shape,a.shape);return o.compileAndRun(s,[i,a])}}];i5<OL.length;i5++)c7(OL[i5]);for(var a5=0,TL=[{kernelName:"Square",gradFunc:function(e,t){var r=t[0];return{x:function(){return e.mul(r.toFloat().mul(2))}}}},{kernelName:xg,gradFunc:function(e,t){var r=t[0],n=t[1],i=Xe(2);return{a:function(){return va(e,va(i,mi(r,n)))},b:function(){return va(e,va(i,mi(n,r)))}}}}];a5<TL.length;a5++)AAe(TL[a5]);var pge=function(){function e(){}return e.prototype.fetch=function(t,r){return fetch(t,r)},e.prototype.now=function(){return performance.now()},e.prototype.encode=function(t,r){if(r!=="utf-8"&&r!=="utf8")throw new Error("Browser's encoder only supports utf-8, but got "+r);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(t)},e.prototype.decode=function(t,r){return new TextDecoder(r).decode(t)},e}();Le().get("IS_BROWSER")&&Le().setPlatform("browser",new pge);var o5,mge=function(){return require("node-fetch")},gge=function(){function e(){this.util=require("util"),this.textEncoder=new this.util.TextEncoder}return e.prototype.fetch=function(t,r){return Le().global.fetch!=null?Le().global.fetch(t,r):(o5==null&&(o5=mge()),o5(t,r))},e.prototype.now=function(){var t=process.hrtime();return 1e3*t[0]+t[1]/1e6},e.prototype.encode=function(t,r){if(r!=="utf-8"&&r!=="utf8")throw new Error("Node built-in encoder only supports utf-8, but got "+r);return this.textEncoder.encode(t)},e.prototype.decode=function(t,r){return t.length===0?"":new this.util.TextDecoder(r).decode(t)},e}();Le().get("IS_NODE")&&Le().setPlatform("node",new gge);var DS={float32:4,int32:4,uint16:2,uint8:1,bool:1},Ow=4;function O9(e,t){for(var r={},n=0,i=function(s){var l=s.name,u=s.dtype,c=s.shape,A=yt(c),d=void 0;if("quantization"in s){var f=s.quantization;if(f.dtype!=="uint8"&&f.dtype!=="uint16")throw new Error("Weight "+s.name+" has unknown quantization dtype "+f.dtype+". Supported quantization dtypes are: 'uint8' and 'uint16'.");var p=DS[f.dtype],g=e.slice(n,n+A*p),v=f.dtype==="uint8"?new Uint8Array(g):new Uint16Array(g);if(u==="float32")d=Float32Array.from(v,function(S){return S*f.scale+f.min});else{if(u!=="int32")throw new Error("Unsupported dtype in weight '"+l+"': "+u);d=Int32Array.from(v,function(S){return Math.round(S*f.scale+f.min)})}n+=A*p}else if(u==="string"){var m=yt(s.shape);d=[];for(var y=0;y<m;y++){var w=new Uint32Array(e.slice(n,n+Ow))[0];n+=Ow;var b=new Uint8Array(e.slice(n,n+w));d.push(b),n+=w}}else{var B=DS[u];if(g=e.slice(n,n+A*B),u==="float32")d=new Float32Array(g);else if(u==="int32")d=new Int32Array(g);else{if(u!=="bool")throw new Error("Unsupported dtype in weight '"+l+"': "+u);d=new Uint8Array(g)}n+=A*B}r[l]=qi(d,c,u)},a=0,o=t;a<o.length;a++)i(o[a]);return r}function vge(e){if(e===null)throw new Error("Invalid input value: "+JSON.stringify(e));var t=0,r=[];e.forEach(function(a){if(t+=a.byteLength,r.push(a.byteLength===a.buffer.byteLength?a:new a.constructor(a)),!(a instanceof Float32Array||a instanceof Int32Array||a instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: "+a.constructor.name)});var n=new Uint8Array(t),i=0;return r.forEach(function(a){n.set(new Uint8Array(a.buffer),i),i+=a.byteLength}),n.buffer}var jS=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function LL(e){return jS?Buffer.byteLength(e):new Blob([e]).size}function VN(e){var t=0;e.forEach(function(i){t+=i.byteLength});var r=new Uint8Array(t),n=0;return e.forEach(function(i){r.set(new Uint8Array(i),n),n+=i.byteLength}),r.buffer}function UL(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);var t=e.split("/");return t[t.length-1]}function uv(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:e.modelTopology==null?0:LL(JSON.stringify(e.modelTopology)),weightSpecsBytes:e.weightSpecs==null?0:LL(JSON.stringify(e.weightSpecs)),weightDataBytes:e.weightData==null?0:e.weightData.byteLength}}var Fo=function(){function e(){this.saveRouters=[],this.loadRouters=[]}return e.getInstance=function(){return e.instance==null&&(e.instance=new e),e.instance},e.registerSaveRouter=function(t){e.getInstance().saveRouters.push(t)},e.registerLoadRouter=function(t){e.getInstance().loadRouters.push(t)},e.getSaveHandlers=function(t){return e.getHandlers(t,"save")},e.getLoadHandlers=function(t,r){return e.getHandlers(t,"load",r)},e.getHandlers=function(t,r,n){var i=[];return(r==="load"?e.getInstance().loadRouters:e.getInstance().saveRouters).forEach(function(a){var o=a(t,n);o!==null&&i.push(o)}),i},e}(),oh="://",Zc=function(){function e(){this.managers={}}return e.getInstance=function(){return e.instance==null&&(e.instance=new e),e.instance},e.registerManager=function(t,r){oe(t!=null,function(){return"scheme must not be undefined or null."}),t.endsWith(oh)&&(t=t.slice(0,t.indexOf(oh))),oe(t.length>0,function(){return"scheme must not be an empty string."});var n=e.getInstance();oe(n.managers[t]==null,function(){return"A model store manager is already registered for scheme '"+t+"'."}),n.managers[t]=r},e.getManager=function(t){var r=this.getInstance().managers[t];if(r==null)throw new Error("Cannot find model manager for scheme '"+t+"'");return r},e.getSchemes=function(){return Object.keys(this.getInstance().managers)},e}();function B1(e){if(e.indexOf(oh)===-1)throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+Zc.getSchemes().join(","));return{scheme:e.split(oh)[0],path:e.split(oh)[1]}}function RL(e,t,r){return r===void 0&&(r=!1),ft(this,void 0,void 0,function(){var n,i,a,o,s,l,u,c,A;return dt(this,function(d){switch(d.label){case 0:return oe(e!==t,function(){return"Old path and new path are the same: '"+e+"'"}),oe((n=Fo.getLoadHandlers(e)).length>0,function(){return"Copying failed because no load handler is found for source URL "+e+"."}),oe(n.length<2,function(){return"Copying failed because more than one ("+n.length+") load handlers for source URL "+e+"."}),i=n[0],oe((a=Fo.getSaveHandlers(t)).length>0,function(){return"Copying failed because no save handler is found for destination URL "+t+"."}),oe(a.length<2,function(){return"Copying failed because more than one ("+n.length+") save handlers for destination URL "+t+"."}),o=a[0],s=B1(e).scheme,l=B1(e).path,u=s===B1(e).scheme,[4,i.load()];case 1:return c=d.sent(),r&&u?[4,Zc.getManager(s).removeModel(l)]:[3,3];case 2:d.sent(),d.label=3;case 3:return[4,o.save(c)];case 4:return A=d.sent(),!r||u?[3,6]:[4,Zc.getManager(s).removeModel(l)];case 5:d.sent(),d.label=6;case 6:return[2,A.modelArtifactsInfo]}})})}var ZA="models_store",jc="model_info_store";function T9(){if(!Le().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var e=window||self,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(t==null)throw new Error("The current browser does not appear to support IndexedDB.");return t}function MS(e){var t=e.result;t.createObjectStore(ZA,{keyPath:"modelPath"}),t.createObjectStore(jc,{keyPath:"modelPath"})}var sh=function(){function e(t){if(this.indexedDB=T9(),t==null||!t)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=t}return e.prototype.save=function(t){return ft(this,void 0,void 0,function(){return dt(this,function(r){if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return[2,this.databaseAction(this.modelPath,t)]})})},e.prototype.load=function(){return ft(this,void 0,void 0,function(){return dt(this,function(t){return[2,this.databaseAction(this.modelPath)]})})},e.prototype.databaseAction=function(t,r){var n=this;return new Promise(function(i,a){var o=n.indexedDB.open("tensorflowjs",1);o.onupgradeneeded=function(){return MS(o)},o.onsuccess=function(){var s=o.result;if(r==null){var l=s.transaction(ZA,"readonly"),u=l.objectStore(ZA).get(n.modelPath);u.onsuccess=function(){if(u.result==null)return s.close(),a(new Error("Cannot find model with path '"+n.modelPath+"' in IndexedDB."));i(u.result.modelArtifacts)},u.onerror=function(g){return s.close(),a(u.error)},l.oncomplete=function(){return s.close()}}else{var c,A=uv(r),d=s.transaction(jc,"readwrite"),f=d.objectStore(jc),p=f.put({modelPath:n.modelPath,modelArtifactsInfo:A});p.onsuccess=function(){var g=(c=s.transaction(ZA,"readwrite")).objectStore(ZA).put({modelPath:n.modelPath,modelArtifacts:r,modelArtifactsInfo:A});g.onsuccess=function(){return i({modelArtifactsInfo:A})},g.onerror=function(v){var m=(f=d.objectStore(jc)).delete(n.modelPath);m.onsuccess=function(){return s.close(),a(g.error)},m.onerror=function(y){return s.close(),a(g.error)}}},p.onerror=function(g){return s.close(),a(p.error)},d.oncomplete=function(){c==null?s.close():c.oncomplete=function(){return s.close()}}}},o.onerror=function(s){return a(o.error)}})},e.URL_SCHEME="indexeddb://",e}(),DL=function(e){return Le().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(sh.URL_SCHEME)?(t=e.slice(sh.URL_SCHEME.length),new sh(t)):null;var t};Fo.registerSaveRouter(DL),Fo.registerLoadRouter(DL);var yge=function(){function e(){this.indexedDB=T9()}return e.prototype.listModels=function(){return ft(this,void 0,void 0,function(){var t=this;return dt(this,function(r){return[2,new Promise(function(n,i){var a=t.indexedDB.open("tensorflowjs",1);a.onupgradeneeded=function(){return MS(a)},a.onsuccess=function(){var o=a.result,s=o.transaction(jc,"readonly"),l=s.objectStore(jc).getAll();l.onsuccess=function(){for(var u={},c=0,A=l.result;c<A.length;c++){var d=A[c];u[d.modelPath]=d.modelArtifactsInfo}n(u)},l.onerror=function(u){return o.close(),i(l.error)},s.oncomplete=function(){return o.close()}},a.onerror=function(o){return i(a.error)}})]})})},e.prototype.removeModel=function(t){return ft(this,void 0,void 0,function(){var r=this;return dt(this,function(n){var i;return t=(i=t).startsWith(sh.URL_SCHEME)?i.slice(sh.URL_SCHEME.length):i,[2,new Promise(function(a,o){var s=r.indexedDB.open("tensorflowjs",1);s.onupgradeneeded=function(){return MS(s)},s.onsuccess=function(){var l,u=s.result,c=u.transaction(jc,"readwrite"),A=c.objectStore(jc),d=A.get(t);d.onsuccess=function(){if(d.result==null)return u.close(),o(new Error("Cannot find model with path '"+t+"' in IndexedDB."));var f=A.delete(t),p=function(){var g=(l=u.transaction(ZA,"readwrite")).objectStore(ZA).delete(t);g.onsuccess=function(){return a(d.result.modelArtifactsInfo)},g.onerror=function(v){return o(d.error)}};f.onsuccess=p,f.onerror=function(g){return p(),u.close(),o(d.error)}},d.onerror=function(f){return u.close(),o(d.error)},c.oncomplete=function(){l==null?u.close():l.oncomplete=function(){return u.close()}}},s.onerror=function(l){return o(s.error)}})]})})},e}();if(Le().getBool("IS_BROWSER"))try{Zc.registerManager(sh.URL_SCHEME,new yge)}catch{}var pu="/",Nd="tensorflowjs_models",L9="info",wge="model_topology",xge="weight_specs",bge="weight_data",Bge="model_metadata";function U9(e){return{info:[Nd,e,L9].join(pu),topology:[Nd,e,wge].join(pu),weightSpecs:[Nd,e,xge].join(pu),weightData:[Nd,e,bge].join(pu),modelMetadata:[Nd,e,Bge].join(pu)}}function Cge(e){var t=e.split(pu);if(t.length<3)throw new Error("Invalid key format: "+e);return t.slice(1,t.length-1).join(pu)}var lh=function(){function e(t){if(!Le().getBool("IS_BROWSER")||typeof window>"u"||window.localStorage===void 0)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,t==null||!t)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=t,this.keys=U9(this.modelPath)}return e.prototype.save=function(t){return ft(this,void 0,void 0,function(){var r,n,i;return dt(this,function(a){if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");r=JSON.stringify(t.modelTopology),n=JSON.stringify(t.weightSpecs),i=uv(t);try{return this.LS.setItem(this.keys.info,JSON.stringify(i)),this.LS.setItem(this.keys.topology,r),this.LS.setItem(this.keys.weightSpecs,n),this.LS.setItem(this.keys.weightData,function(o){if(jS)return Buffer.from(o).toString("base64");for(var s=new Uint8Array(o),l="",u=0,c=s.length;u<c;u++)l+=String.fromCharCode(s[u]);return btoa(l)}(t.weightData)),this.LS.setItem(this.keys.modelMetadata,JSON.stringify({format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,userDefinedMetadata:t.userDefinedMetadata})),[2,{modelArtifactsInfo:i}]}catch{throw this.LS.removeItem(this.keys.info),this.LS.removeItem(this.keys.topology),this.LS.removeItem(this.keys.weightSpecs),this.LS.removeItem(this.keys.weightData),this.LS.removeItem(this.keys.modelMetadata),new Error("Failed to save model '"+this.modelPath+"' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes="+i.modelTopologyBytes+", weightSpecsBytes="+i.weightSpecsBytes+", weightDataBytes="+i.weightDataBytes+".")}return[2]})})},e.prototype.load=function(){return ft(this,void 0,void 0,function(){var t,r,n,i,a,o,s;return dt(this,function(l){if((t=JSON.parse(this.LS.getItem(this.keys.info)))==null)throw new Error("In local storage, there is no model with name '"+this.modelPath+"'");if(t.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");if(r={},(n=JSON.parse(this.LS.getItem(this.keys.topology)))==null)throw new Error("In local storage, the topology of model '"+this.modelPath+"' is missing.");if(r.modelTopology=n,(i=JSON.parse(this.LS.getItem(this.keys.weightSpecs)))==null)throw new Error("In local storage, the weight specs of model '"+this.modelPath+"' are missing.");if(r.weightSpecs=i,(a=this.LS.getItem(this.keys.modelMetadata))!=null&&(o=JSON.parse(a),r.format=o.format,r.generatedBy=o.generatedBy,r.convertedBy=o.convertedBy,r.userDefinedMetadata=o.userDefinedMetadata),(s=this.LS.getItem(this.keys.weightData))==null)throw new Error("In local storage, the binary weight values of model '"+this.modelPath+"' are missing.");return r.weightData=function(u){if(jS){var c=Buffer.from(u,"base64");return c.buffer.slice(c.byteOffset,c.byteOffset+c.byteLength)}for(var A=atob(u),d=new Uint8Array(A.length),f=0;f<A.length;++f)d.set([A.charCodeAt(f)],f);return d.buffer}(s),[2,r]})})},e.URL_SCHEME="localstorage://",e}(),jL=function(e){return Le().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(lh.URL_SCHEME)?(t=e.slice(lh.URL_SCHEME.length),new lh(t)):null;var t};Fo.registerSaveRouter(jL),Fo.registerLoadRouter(jL);var Ege=function(){function e(){oe(Le().getBool("IS_BROWSER"),function(){return"Current environment is not a web browser"}),oe(typeof window>"u"||window.localStorage!==void 0,function(){return"Current browser does not appear to support localStorage"}),this.LS=window.localStorage}return e.prototype.listModels=function(){return ft(this,void 0,void 0,function(){var t,r,n,i,a,o;return dt(this,function(s){for(t={},r=Nd+pu,n=pu+L9,i=0;i<this.LS.length;++i)(a=this.LS.key(i)).startsWith(r)&&a.endsWith(n)&&(o=Cge(a),t[o]=JSON.parse(this.LS.getItem(a)));return[2,t]})})},e.prototype.removeModel=function(t){return ft(this,void 0,void 0,function(){var r,n;return dt(this,function(i){var a;if(t=(a=t).startsWith(lh.URL_SCHEME)?a.slice(lh.URL_SCHEME.length):a,r=U9(t),this.LS.getItem(r.info)==null)throw new Error("Cannot find model at path '"+t+"'");return n=JSON.parse(this.LS.getItem(r.info)),this.LS.removeItem(r.info),this.LS.removeItem(r.topology),this.LS.removeItem(r.weightSpecs),this.LS.removeItem(r.weightData),[2,n]})})},e}();if(Le().getBool("IS_BROWSER"))try{Zc.registerManager(lh.URL_SCHEME,new Ege)}catch{}var Sge="model",Nge=".json",Fge=".weights.bin";function ML(e){return new Promise(function(t){return setTimeout(t)}).then(e)}var s5=function(){function e(t){if(!Le().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");t.startsWith(e.URL_SCHEME)&&(t=t.slice(e.URL_SCHEME.length)),t!=null&&t.length!==0||(t=Sge),this.modelTopologyFileName=t+Nge,this.weightDataFileName=t+Fge}return e.prototype.save=function(t){return ft(this,void 0,void 0,function(){var r,n,i,a,o,s;return dt(this,function(l){switch(l.label){case 0:if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");if(r=window.URL.createObjectURL(new Blob([t.weightData],{type:"application/octet-stream"})),!(t.modelTopology instanceof ArrayBuffer))return[3,1];throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 1:return n=[{paths:["./"+this.weightDataFileName],weights:t.weightSpecs}],i={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,weightsManifest:n},a=window.URL.createObjectURL(new Blob([JSON.stringify(i)],{type:"application/json"})),(o=this.jsonAnchor==null?document.createElement("a"):this.jsonAnchor).download=this.modelTopologyFileName,o.href=a,[4,ML(function(){return o.dispatchEvent(new MouseEvent("click"))})];case 2:return l.sent(),t.weightData==null?[3,4]:((s=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,s.href=r,[4,ML(function(){return s.dispatchEvent(new MouseEvent("click"))})]);case 3:l.sent(),l.label=4;case 4:return[2,{modelArtifactsInfo:uv(t)}]}})})},e.URL_SCHEME="downloads://",e}(),Ige=function(){function e(t){if(t==null||t.length<1)throw new Error("When calling browserFiles, at least 1 file is required, but received "+t);this.files=t}return e.prototype.load=function(){return ft(this,void 0,void 0,function(){var t,r,n=this;return dt(this,function(i){return t=this.files[0],r=this.files.slice(1),[2,new Promise(function(a,o){var s=new FileReader;s.onload=function(l){var u=JSON.parse(l.target.result),c=u.modelTopology;if(c!=null){r.length===0&&a({modelTopology:c});var A=u.weightsManifest;if(A!=null){var d;try{d=n.checkManifestAndWeightFiles(A,r)}catch(v){return void o(v)}var f=[],p=[],g=[];A.forEach(function(v){v.paths.forEach(function(m){p.push(m),g.push(null)}),f.push.apply(f,v.weights)}),A.forEach(function(v){v.paths.forEach(function(m){var y=new FileReader;y.onload=function(w){var b=w.target.result,B=p.indexOf(m);g[B]=b,g.indexOf(null)===-1&&a({modelTopology:c,weightSpecs:f,weightData:VN(g),format:u.format,generatedBy:u.generatedBy,convertedBy:u.convertedBy,userDefinedMetadata:u.userDefinedMetadata})},y.onerror=function(w){return o("Failed to weights data from file of path '"+m+"'.")},y.readAsArrayBuffer(d[m])})})}else o(new Error("weightManifest field is missing from file "+t.name))}else o(new Error("modelTopology field is missing from file "+t.name))},s.onerror=function(l){return o("Failed to read model topology and weights manifest JSON from file '"+t.name+"'. BrowserFiles supports loading Keras-style tf.Model artifacts only.")},s.readAsText(t)})]})})},e.prototype.checkManifestAndWeightFiles=function(t,r){for(var n=[],i=r.map(function(l){return UL(l.name)}),a={},o=0,s=t;o<s.length;o++)s[o].paths.forEach(function(l){var u=UL(l);if(n.indexOf(u)!==-1)throw new Error("Duplicate file basename found in weights manifest: '"+u+"'");if(n.push(u),i.indexOf(u)===-1)throw new Error("Weight file with basename '"+u+"' is not provided.");a[l]=r[i.indexOf(u)]});if(n.length!==r.length)throw new Error("Mismatch in the number of files in weights manifest ("+n.length+") and the number of weight files provided ("+r.length+").");return a},e}();function QL(e,t,r,n){(function(a){oe(a!=null&&Array.isArray(a)&&a.length>0,function(){return"promises must be a none empty array"})})(e),function(a,o){oe(a>=0&&a<=1,function(){return"Progress fraction must be in range [0, 1], but got startFraction "+a}),oe(o>=0&&o<=1,function(){return"Progress fraction must be in range [0, 1], but got endFraction "+o}),oe(o>=a,function(){return"startFraction must be no more than endFraction, but got startFraction "+a+" and endFraction "+o})}(r=r??0,n=n??1);var i=0;return Promise.all(e.map(function(a){return a.then(function(o){var s=r+ ++i/e.length*(n-r);return t(s),o}),a}))}function R9(e,t){return ft(this,void 0,void 0,function(){var r,n,i,a,o,s,l,u,c;return dt(this,function(A){switch(A.label){case 0:return t==null&&(t={}),r=t.fetchFunc==null?Le().platform.fetch:t.fetchFunc,n=e.map(function(d){return r(d,t.requestInit,{isBinary:!0})}),i=0,a=.5,t.onProgress!=null?[3,2]:[4,Promise.all(n)];case 1:return o=A.sent(),[3,4];case 2:return[4,QL(n,t.onProgress,i,a)];case 3:o=A.sent(),A.label=4;case 4:return s=o.map(function(d){return d.arrayBuffer()}),l=.5,u=1,t.onProgress!=null?[3,6]:[4,Promise.all(s)];case 5:return c=A.sent(),[3,8];case 6:return[4,QL(s,t.onProgress,l,u)];case 7:c=A.sent(),A.label=8;case 8:return[2,c]}})})}function HL(e){var t=this;return function(r,n,i){return n===void 0&&(n=""),ft(t,void 0,void 0,function(){var a,o,s,l,u,c,A,d,f,p;return dt(this,function(g){switch(g.label){case 0:if(a=r.map(function(){return!1}),o={},s=i!=null?i.map(function(){return!1}):[],l=[],r.forEach(function(v,m){var y=0;v.weights.forEach(function(w){var b="quantization"in w?w.quantization.dtype:w.dtype,B=DS[b]*yt(w.shape),S=function(){a[m]=!0,o[m]==null&&(o[m]=[]),o[m].push({manifestEntry:w,groupOffset:y,sizeBytes:B})};i!=null?i.forEach(function(P,k){P===w.name&&(S(),s[k]=!0)}):S(),l.push(w.name),y+=B})}),!s.every(function(v){return v}))throw u=i.filter(function(v,m){return!s[m]}),new Error("Could not find weights in manifest with names: "+u.join(", ")+`. 
Manifest JSON has weights with names: `+l.join(", ")+".");return c=a.reduce(function(v,m,y){return m&&v.push(y),v},[]),A=[],c.forEach(function(v){r[v].paths.forEach(function(m){var y=n+(n.endsWith("/")?"":"/")+m;A.push(y)})}),[4,e(A)];case 1:return d=g.sent(),f={},p=0,c.forEach(function(v){for(var m=r[v].paths.length,y=0,w=0;w<m;w++)y+=d[p+w].byteLength;for(var b=new ArrayBuffer(y),B=new Uint8Array(b),S=0,P=0;P<m;P++){var k=new Uint8Array(d[p+P]);B.set(k,S),S+=k.byteLength}o[v].forEach(function(I){var O=O9(b.slice(I.groupOffset,I.groupOffset+I.sizeBytes),[I.manifestEntry]);for(var F in O)f[F]=O[F]}),p+=m}),[2,f]}})})}}Fo.registerSaveRouter(function(e){return Le().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(s5.URL_SCHEME)?function(t){return t===void 0&&(t="model"),new s5(t)}(e.slice(s5.URL_SCHEME.length)):null});var D9=function(){function e(t,r){if(this.DEFAULT_METHOD="POST",r==null&&(r={}),this.weightPathPrefix=r.weightPathPrefix,this.onProgress=r.onProgress,r.fetchFunc!=null?(oe(typeof r.fetchFunc=="function",function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"}),this.fetch=r.fetchFunc):this.fetch=Le().platform.fetch,oe(t!=null&&t.length>0,function(){return"URL path for http must not be null, undefined or empty."}),Array.isArray(t)&&oe(t.length===2,function(){return"URL paths for http must have a length of 2, (actual length is "+t.length+")."}),this.path=t,r.requestInit!=null&&r.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=r.requestInit||{}}return e.prototype.save=function(t){return ft(this,void 0,void 0,function(){var r,n,i,a;return dt(this,function(o){switch(o.label){case 0:if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");return(r=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,n=[{paths:["./model.weights.bin"],weights:t.weightSpecs}],i={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,userDefinedMetadata:t.userDefinedMetadata,weightsManifest:n},r.body.append("model.json",new Blob([JSON.stringify(i)],{type:"application/json"}),"model.json"),t.weightData!=null&&r.body.append("model.weights.bin",new Blob([t.weightData],{type:"application/octet-stream"}),"model.weights.bin"),[4,this.fetch(this.path,r)];case 1:if((a=o.sent()).ok)return[2,{modelArtifactsInfo:uv(t),responses:[a]}];throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+a.status+".")}})})},e.prototype.load=function(){return ft(this,void 0,void 0,function(){var t,r,n,i,a,o,s,l,u,c,A,d;return dt(this,function(f){switch(f.label){case 0:return[4,this.fetch(this.path,this.requestInit)];case 1:if(!(t=f.sent()).ok)throw new Error("Request to "+this.path+" failed with status code "+t.status+". Please verify this URL points to the model JSON of the model to load.");f.label=2;case 2:return f.trys.push([2,4,,5]),[4,t.json()];case 3:return r=f.sent(),[3,5];case 4:throw f.sent(),n="Failed to parse model JSON of response from "+this.path+".",this.path.endsWith(".pb")?n+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":n+=" Please make sure the server is serving valid JSON for this request.",new Error(n);case 5:if(i=r.modelTopology,a=r.weightsManifest,o=r.generatedBy,s=r.convertedBy,l=r.format,u=r.userDefinedMetadata,i==null&&a==null)throw new Error("The JSON from HTTP path "+this.path+" contains neither model topology or manifest for weights.");return a==null?[3,7]:[4,this.loadWeights(a)];case 6:d=f.sent(),c=d[0],A=d[1],f.label=7;case 7:return[2,{modelTopology:i,weightSpecs:c,weightData:A,userDefinedMetadata:u,generatedBy:o,convertedBy:s,format:l}]}})})},e.prototype.loadWeights=function(t){return ft(this,void 0,void 0,function(){var r,n,i,a,o,s,l,u,c,A,d;return dt(this,function(f){switch(f.label){case 0:for(r=Array.isArray(this.path)?this.path[1]:this.path,n=function(p){var g=p.lastIndexOf("/"),v=p.lastIndexOf("?"),m=p.substring(0,g),y=v>g?p.substring(v):"";return[m+"/",y]}(r),i=n[0],a=n[1],o=this.weightPathPrefix||i,s=[],l=0,u=t;l<u.length;l++)c=u[l],s.push.apply(s,c.weights);return A=[],t.forEach(function(p){p.paths.forEach(function(g){A.push(o+g+a)})}),[4,R9(A,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress})];case 1:return d=f.sent(),[2,[s,VN(d)]]}})})},e.URL_SCHEME_REGEX=/^https?:\/\//,e}();function QS(e){return e.match(D9.URL_SCHEME_REGEX)!=null}var $L=function(e,t){return typeof fetch>"u"?null:(Array.isArray(e)?e.every(function(r){return QS(r)}):QS(e))?HS(e,{onProgress:t}):null};function HS(e,t){return new D9(e,t)}Fo.registerSaveRouter($L),Fo.registerLoadRouter($L);var l5=function(){function e(t){this.modelArtifacts=t}return e.prototype.load=function(){return ft(this,void 0,void 0,function(){return dt(this,function(t){return[2,this.modelArtifacts]})})},e}(),_ge=function(){function e(t){this.saveHandler=t}return e.prototype.save=function(t){return ft(this,void 0,void 0,function(){return dt(this,function(r){return[2,this.saveHandler(t)]})})},e}(),j9=Object.freeze({browserFiles:function(e){return new Ige(e)},browserHTTPRequest:function(e,t){return HS(e,t)},concatenateArrayBuffers:VN,decodeWeights:O9,encodeWeights:function(e,t){return ft(this,void 0,void 0,function(){var r,n,i,a,o,s=this;return dt(this,function(l){switch(l.label){case 0:for(r=[],n=[],i=Array.isArray(e)?e.map(function(u){return u.name}):Object.keys(e),a=function(u){var c=i[u],A=Array.isArray(e)?e[u].tensor:e[c];if(A.dtype!=="float32"&&A.dtype!=="int32"&&A.dtype!=="bool"&&A.dtype!=="string")throw new Error("Unsupported dtype in weight '"+c+"': "+A.dtype);var d={name:c,shape:A.shape,dtype:A.dtype};if(A.dtype==="string"){var f=new Promise(function(p){return ft(s,void 0,void 0,function(){var g,v,m,y,w,b,B;return dt(this,function(S){switch(S.label){case 0:return[4,A.bytes()];case 1:for(g=S.sent(),v=g.reduce(function(P,k){return P+k.length},0)+Ow*g.length,m=new Uint8Array(v),y=0,w=0;w<g.length;w++)b=g[w],B=new Uint8Array(new Uint32Array([b.length]).buffer),m.set(B,y),y+=Ow,m.set(b,y),y+=b.length;return p(m),[2]}})})});n.push(f)}else n.push(A.data());t!=null&&(d.group=t),r.push(d)},o=0;o<i.length;++o)a(o);return[4,Promise.all(n)];case 1:return[2,{data:vge(l.sent()),specs:r}]}})})},fromMemory:function(e,t,r,n){return arguments.length===1?e.modelTopology!=null||e.weightSpecs!=null?new l5(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new l5({modelTopology:e})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new l5({modelTopology:e,weightSpecs:t,weightData:r,trainingConfig:n}))},getLoadHandlers:function(e,t){return Fo.getLoadHandlers(e,t)},getModelArtifactsInfoForJSON:uv,getSaveHandlers:function(e){return Fo.getSaveHandlers(e)},http:HS,isHTTPScheme:QS,loadWeights:function(e,t,r,n){return t===void 0&&(t=""),ft(this,void 0,void 0,function(){return dt(this,function(i){return[2,HL(function(a){return R9(a,{requestInit:n})})(e,t,r)]})})},registerLoadRouter:function(e){return Fo.registerLoadRouter(e)},registerSaveRouter:function(e){return Fo.registerSaveRouter(e)},weightsLoaderFactory:HL,withSaveHandler:function(e){return new _ge(e)},copyModel:function(e,t){return ft(this,void 0,void 0,function(){return dt(this,function(r){return[2,RL(e,t,!1)]})})},listModels:function(){return ft(this,void 0,void 0,function(){var e,t,r,n,i,a,o;return dt(this,function(s){switch(s.label){case 0:e=Zc.getSchemes(),t={},r=0,n=e,s.label=1;case 1:return r<n.length?(i=n[r],[4,Zc.getManager(i).listModels()]):[3,4];case 2:for(o in a=s.sent())t[i+oh+o]=a[o];s.label=3;case 3:return r++,[3,1];case 4:return[2,t]}})})},moveModel:function(e,t){return ft(this,void 0,void 0,function(){return dt(this,function(r){return[2,RL(e,t,!0)]})})},removeModel:function(e){return ft(this,void 0,void 0,function(){var t;return dt(this,function(r){return t=B1(e),[2,Zc.getManager(t.scheme).removeModel(t.path)]})})}}),pd;he({confusionMatrix_:function(e,t,r){var n=te(e,"labels","confusionMatrix"),i=te(t,"predictions","confusionMatrix");oe(r==null||r>0&&Number.isInteger(r),function(){return"If provided, numClasses must be a positive integer, but got "+r}),oe(n.rank===1,function(){return"Expected the rank of labels to be 1, but got "+n.rank}),oe(i.rank===1,function(){return"Expected the rank of predictions to be 1, but got "+i.rank}),oe(n.shape[0]===i.shape[0],function(){return"Mismatch in the number of examples: "+n.shape[0]+" vs. "+i.shape[0]+". Labels and predictions should have the same number of elements."}),oe(r>0&&Number.isInteger(r),function(){return"numClasses is required to be a positive integer, but got "+r});var a=OS(n.asType("int32"),r),o=OS(i.asType("int32"),r);return a.transpose().matMul(o).asType("int32")}});var kge=he({fromPixels_:function(e,t){if(t===void 0&&(t=3),t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(e==null)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var r=!1,n=!1,i=!1,a=!1,o=!1;if(e.data instanceof Uint8Array)r=!0;else if(typeof ImageData<"u"&&e instanceof ImageData)n=!0;else if(typeof HTMLVideoElement<"u"&&e instanceof HTMLVideoElement)i=!0;else if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement)a=!0;else{if(e.getContext==null)throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was "+e.constructor.name);o=!0}if(i&&i&&e.readyState<2)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.");if(u7("FromPixels",ge.backendName)!=null)return ge.runKernel("FromPixels",{pixels:e},{numChannels:t});var s,l,u=i?[e.videoWidth,e.videoHeight]:[e.width,e.height],c=u[0],A=u[1];if(o?s=e.getContext("2d").getImageData(0,0,c,A).data:n||r?s=e.data:(a||i)&&(pd==null&&(pd=document.createElement("canvas").getContext("2d")),pd.canvas.width=c,pd.canvas.height=A,pd.drawImage(e,0,0,c,A),s=pd.getImageData(0,0,c,A).data),t===4)l=new Int32Array(s);else{var d=c*A;l=new Int32Array(d*t);for(var f=0;f<d;f++)for(var p=0;p<t;++p)l[f*t+p]=s[4*f+p]}return bN(l,[A,c,t],"int32")}}),GN=Object.freeze({toPixels:function(e,t){return ft(this,void 0,void 0,function(){var r,n,i,a,o,s,l,u,c,A,d,f,p,g,v,m,y,w,b,B,S,P,k;return dt(this,function(I){switch(I.label){case 0:if(r=te(e,"img","toPixels"),e instanceof dn||(r=r.toInt()),r.rank!==2&&r.rank!==3)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank "+r.rank+".");if(n=r.shape.slice(0,2),i=n[0],a=n[1],(o=r.rank===2?1:r.shape[2])>4||o===2)throw new Error("toPixels only supports depth of size 1, 3 or 4 but got "+o);return[4,r.data()];case 1:return s=I.sent(),l=r.min(),u=r.max(),[4,Promise.all([l.data(),u.data()])];case 2:if(c=I.sent(),A=c[0],d=c[1],f=A[0],p=d[0],l.dispose(),u.dispose(),r.dtype==="float32"){if(f<0||p>1)throw new Error("Tensor values for a float32 Tensor must be in the range [0 - 1] but got range ["+f+" - "+p+"].")}else{if(r.dtype!=="int32")throw new Error("Unsupported type for toPixels: "+r.dtype+". Please use float32 or int32 tensors.");if(f<0||p>255)throw new Error("Tensor values for a int32 Tensor must be in the range [0 - 255] but got range ["+f+" - "+p+"].")}for(g=r.dtype==="float32"?255:1,v=new Uint8ClampedArray(a*i*4),m=0;m<i*a;++m)y=void 0,w=void 0,b=void 0,B=void 0,o===1?(y=s[m]*g,w=s[m]*g,b=s[m]*g,B=255):o===3?(y=s[3*m]*g,w=s[3*m+1]*g,b=s[3*m+2]*g,B=255):o===4&&(y=s[4*m]*g,w=s[4*m+1]*g,b=s[4*m+2]*g,B=s[4*m+3]*g),v[(S=4*m)+0]=Math.round(y),v[S+1]=Math.round(w),v[S+2]=Math.round(b),v[S+3]=Math.round(B);return t!=null&&(t.width=a,t.height=i,P=t.getContext("2d"),k=new ImageData(v,a,i),P.putImageData(k,0,0)),r!==e&&r.dispose(),[2,v]}})})},fromPixels:kge}),Pge=function(){function e(){}return e.prototype.getClassName=function(){return this.constructor.className},e.fromConfig=function(t,r){return new t(r)},e}(),Oge=function(){function e(){this.classNameMap={}}return e.getMap=function(){return e.instance==null&&(e.instance=new e),e.instance},e.register=function(t){e.getMap().classNameMap[t.className]=[t,t.fromConfig]},e}();function Qf(e){oe(e.className!=null,function(){return"Class being registered does not have the static className property defined."}),oe(typeof e.className=="string",function(){return"className is required to be a string, but got type "+typeof e.className}),oe(e.className.length>0,function(){return"Class being registered has an empty-string as its className, which is disallowed."}),Oge.register(e)}var Hf=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Js(t,e),t.prototype.minimize=function(r,n,i){n===void 0&&(n=!1);var a=this.computeGradients(r,i),o=a.value,s=a.grads;if(i!=null){var l=i.map(function(u){return{name:u.name,tensor:s[u.name]}});this.applyGradients(l)}else this.applyGradients(s);return to(s),n?o:(o.dispose(),null)},Object.defineProperty(t.prototype,"iterations",{get:function(){return this.iterations_==null&&(this.iterations_=0),this.iterations_},enumerable:!0,configurable:!0}),t.prototype.incrementIterations=function(){this.iterations_=this.iterations+1},t.prototype.computeGradients=function(r,n){return $fe(r,n)},t.prototype.dispose=function(){this.iterations_!=null&&to(this.iterations_)},t.prototype.saveIterations=function(){return ft(this,void 0,void 0,function(){return dt(this,function(r){return this.iterations_==null&&(this.iterations_=0),[2,{name:"iter",tensor:Xe(this.iterations_,"int32")}]})})},t.prototype.getWeights=function(){return ft(this,void 0,void 0,function(){return dt(this,function(r){throw new Error("getWeights() is not implemented for this optimizer yet.")})})},t.prototype.setWeights=function(r){return ft(this,void 0,void 0,function(){return dt(this,function(n){throw new Error("setWeights() is not implemented for this optimizer class "+this.getClassName())})})},t.prototype.extractIterations=function(r){return ft(this,void 0,void 0,function(){var n;return dt(this,function(i){switch(i.label){case 0:return n=this,[4,r[0].tensor.data()];case 1:return n.iterations_=i.sent()[0],[2,r.slice(1)]}})})},t}(Pge);Object.defineProperty(Hf,Symbol.hasInstance,{value:function(e){return e.minimize!=null&&e.computeGradients!=null&&e.applyGradients!=null}});var Tge=function(e){function t(r,n,i){i===void 0&&(i=null);var a=e.call(this)||this;return a.learningRate=r,a.rho=n,a.epsilon=i,a.accumulatedGrads=[],a.accumulatedUpdates=[],i==null&&(a.epsilon=ge.backend.epsilon()),a}return Js(t,e),t.prototype.applyGradients=function(r){var n=this;(Array.isArray(r)?r.map(function(i){return i.name}):Object.keys(r)).forEach(function(i,a){var o=ge.registeredVariables[i];n.accumulatedGrads[a]==null&&(n.accumulatedGrads[a]={originalName:i+"/accum_grad",variable:nt(function(){return Ar(o).variable(!1)})}),n.accumulatedUpdates[a]==null&&(n.accumulatedUpdates[a]={originalName:i+"/accum_var",variable:nt(function(){return Ar(o).variable(!1)})});var s=Array.isArray(r)?r[a].tensor:r[i];if(s!=null){var l=n.accumulatedGrads[a].variable,u=n.accumulatedUpdates[a].variable;nt(function(){var c=l.mul(n.rho).add(s.square().mul(1-n.rho)),A=u.add(n.epsilon).sqrt().div(l.add(n.epsilon).sqrt()).mul(s),d=u.mul(n.rho).add(A.square().mul(1-n.rho));l.assign(c),u.assign(d);var f=A.mul(-n.learningRate).add(o);o.assign(f)})}}),this.incrementIterations()},t.prototype.dispose=function(){this.accumulatedUpdates!=null&&(to(this.accumulatedGrads.map(function(r){return r.variable})),to(this.accumulatedUpdates.map(function(r){return r.variable})))},t.prototype.getWeights=function(){return ft(this,void 0,void 0,function(){var r;return dt(this,function(n){switch(n.label){case 0:return r=this.accumulatedGrads.concat(this.accumulatedUpdates),[4,this.saveIterations()];case 1:return[2,[n.sent()].concat(r.map(function(i){return{name:i.originalName,tensor:i.variable}}))]}})})},t.prototype.setWeights=function(r){return ft(this,void 0,void 0,function(){var n;return dt(this,function(i){switch(i.label){case 0:return[4,this.extractIterations(r)];case 1:return r=i.sent(),n=r.length/2,this.accumulatedGrads=r.slice(0,n).map(function(a){return{originalName:a.name,variable:a.tensor.variable(!1)}}),this.accumulatedUpdates=r.slice(n,2*n).map(function(a){return{originalName:a.name,variable:a.tensor.variable(!1)}}),[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}},t.fromConfig=function(r,n){return new r(n.learningRate,n.rho,n.epsilon)},t.className="Adadelta",t}(Hf);Qf(Tge);var Lge=function(e){function t(r,n){n===void 0&&(n=.1);var i=e.call(this)||this;return i.learningRate=r,i.initialAccumulatorValue=n,i.accumulatedGrads=[],i}return Js(t,e),t.prototype.applyGradients=function(r){var n=this;(Array.isArray(r)?r.map(function(i){return i.name}):Object.keys(r)).forEach(function(i,a){var o=ge.registeredVariables[i];n.accumulatedGrads[a]==null&&(n.accumulatedGrads[a]={originalName:i+"/accumulator",variable:nt(function(){return _l(o.shape,n.initialAccumulatorValue).variable(!1)})});var s=Array.isArray(r)?r[a].tensor:r[i];if(s!=null){var l=n.accumulatedGrads[a].variable;nt(function(){var u=l.add(s.square());l.assign(u);var c=s.div(u.add(ge.backend.epsilon()).sqrt()).mul(-n.learningRate).add(o);o.assign(c)})}}),this.incrementIterations()},t.prototype.dispose=function(){this.accumulatedGrads!=null&&to(this.accumulatedGrads.map(function(r){return r.variable}))},t.prototype.getWeights=function(){return ft(this,void 0,void 0,function(){return dt(this,function(r){switch(r.label){case 0:return[4,this.saveIterations()];case 1:return[2,[r.sent()].concat(this.accumulatedGrads.map(function(n){return{name:n.originalName,tensor:n.variable}}))]}})})},t.prototype.setWeights=function(r){return ft(this,void 0,void 0,function(){return dt(this,function(n){switch(n.label){case 0:return[4,this.extractIterations(r)];case 1:return r=n.sent(),this.accumulatedGrads=r.map(function(i){return{originalName:i.name,variable:i.tensor.variable(!1)}}),[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}},t.fromConfig=function(r,n){return new r(n.learningRate,n.initialAccumulatorValue)},t.className="Adagrad",t}(Hf);Qf(Lge);var Uge=function(e){function t(r,n,i,a){a===void 0&&(a=null);var o=e.call(this)||this;return o.learningRate=r,o.beta1=n,o.beta2=i,o.epsilon=a,o.accumulatedFirstMoment=[],o.accumulatedSecondMoment=[],nt(function(){o.accBeta1=Xe(n).variable(),o.accBeta2=Xe(i).variable()}),a==null&&(o.epsilon=ge.backend.epsilon()),o}return Js(t,e),t.prototype.applyGradients=function(r){var n=this,i=Array.isArray(r)?r.map(function(a){return a.name}):Object.keys(r);nt(function(){var a=mi(1,n.accBeta1),o=mi(1,n.accBeta2);i.forEach(function(s,l){var u=ge.registeredVariables[s];n.accumulatedFirstMoment[l]==null&&(n.accumulatedFirstMoment[l]={originalName:s+"/m",variable:nt(function(){return Ar(u).variable(!1)})}),n.accumulatedSecondMoment[l]==null&&(n.accumulatedSecondMoment[l]={originalName:s+"/v",variable:nt(function(){return Ar(u).variable(!1)})});var c=Array.isArray(r)?r[l].tensor:r[s];if(c!=null){var A=n.accumulatedFirstMoment[l].variable,d=n.accumulatedSecondMoment[l].variable,f=A.mul(n.beta1).add(c.mul(1-n.beta1)),p=d.mul(n.beta2).add(c.square().mul(1-n.beta2)),g=f.div(a),v=p.div(o);A.assign(f),d.assign(p);var m=g.div(v.sqrt().add(n.epsilon)).mul(-n.learningRate).add(u);u.assign(m)}}),n.accBeta1.assign(n.accBeta1.mul(n.beta1)),n.accBeta2.assign(n.accBeta2.mul(n.beta2))}),this.incrementIterations()},t.prototype.dispose=function(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&to(this.accumulatedFirstMoment.map(function(r){return r.variable})),this.accumulatedSecondMoment!=null&&to(this.accumulatedSecondMoment.map(function(r){return r.variable}))},t.prototype.getWeights=function(){return ft(this,void 0,void 0,function(){var r;return dt(this,function(n){switch(n.label){case 0:return r=this.accumulatedFirstMoment.concat(this.accumulatedSecondMoment),[4,this.saveIterations()];case 1:return[2,[n.sent()].concat(r.map(function(i){return{name:i.originalName,tensor:i.variable}}))]}})})},t.prototype.setWeights=function(r){return ft(this,void 0,void 0,function(){var n,i=this;return dt(this,function(a){switch(a.label){case 0:return[4,this.extractIterations(r)];case 1:return r=a.sent(),nt(function(){i.accBeta1.assign(kw(i.beta1,i.iterations_+1)),i.accBeta2.assign(kw(i.beta2,i.iterations_+1))}),n=r.length/2,this.accumulatedFirstMoment=r.slice(0,n).map(function(o){return{originalName:o.name,variable:o.tensor.variable(!1)}}),this.accumulatedSecondMoment=r.slice(n,2*n).map(function(o){return{originalName:o.name,variable:o.tensor.variable(!1)}}),[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}},t.fromConfig=function(r,n){return new r(n.learningRate,n.beta1,n.beta2,n.epsilon)},t.className="Adam",t}(Hf);Qf(Uge);var Rge=function(e){function t(r,n,i,a,o){a===void 0&&(a=null),o===void 0&&(o=0);var s=e.call(this)||this;return s.learningRate=r,s.beta1=n,s.beta2=i,s.epsilon=a,s.decay=o,s.accumulatedFirstMoment=[],s.accumulatedWeightedInfNorm=[],nt(function(){s.iteration=Xe(0).variable(),s.accBeta1=Xe(n).variable()}),a==null&&(s.epsilon=ge.backend.epsilon()),s}return Js(t,e),t.prototype.applyGradients=function(r){var n=this,i=Array.isArray(r)?r.map(function(a){return a.name}):Object.keys(r);nt(function(){var a=mi(1,n.accBeta1),o=_s(-n.learningRate,n.iteration.mul(n.decay).add(1));i.forEach(function(s,l){var u=ge.registeredVariables[s];n.accumulatedFirstMoment[l]==null&&(n.accumulatedFirstMoment[l]={originalName:s+"/m",variable:Ar(u).variable(!1)}),n.accumulatedWeightedInfNorm[l]==null&&(n.accumulatedWeightedInfNorm[l]={originalName:s+"/v",variable:Ar(u).variable(!1)});var c=Array.isArray(r)?r[l].tensor:r[s];if(c!=null){var A=n.accumulatedFirstMoment[l].variable,d=n.accumulatedWeightedInfNorm[l].variable,f=A.mul(n.beta1).add(c.mul(1-n.beta1)),p=d.mul(n.beta2),g=c.abs(),v=p.maximum(g);A.assign(f),d.assign(v);var m=o.div(a).mul(f.div(v.add(n.epsilon))).add(u);u.assign(m)}}),n.iteration.assign(n.iteration.add(1)),n.accBeta1.assign(n.accBeta1.mul(n.beta1))}),this.incrementIterations()},t.prototype.dispose=function(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&to(this.accumulatedFirstMoment.map(function(r){return r.variable})),this.accumulatedWeightedInfNorm!=null&&to(this.accumulatedWeightedInfNorm.map(function(r){return r.variable}))},t.prototype.getWeights=function(){return ft(this,void 0,void 0,function(){return dt(this,function(r){throw new Error("getWeights() is not implemented for Adamax yet.")})})},t.prototype.setWeights=function(r){return ft(this,void 0,void 0,function(){return dt(this,function(n){throw new Error("setWeights() is not implemented for Adamax yet.")})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}},t.fromConfig=function(r,n){return new r(n.learningRate,n.beta1,n.beta2,n.epsilon,n.decay)},t.className="Adamax",t}(Hf);Qf(Rge);var M9=function(e){function t(r){var n=e.call(this)||this;return n.learningRate=r,n.setLearningRate(r),n}return Js(t,e),t.prototype.applyGradients=function(r){var n=this;(Array.isArray(r)?r.map(function(i){return i.name}):Object.keys(r)).forEach(function(i,a){var o=Array.isArray(r)?r[a].tensor:r[i];if(o!=null){var s=ge.registeredVariables[i];nt(function(){var l=n.c.mul(o).add(s);s.assign(l)})}}),this.incrementIterations()},t.prototype.setLearningRate=function(r){this.learningRate=r,this.c!=null&&this.c.dispose(),this.c=nfe(Xe(-r))},t.prototype.dispose=function(){this.c.dispose()},t.prototype.getWeights=function(){return ft(this,void 0,void 0,function(){return dt(this,function(r){switch(r.label){case 0:return[4,this.saveIterations()];case 1:return[2,[r.sent()]]}})})},t.prototype.setWeights=function(r){return ft(this,void 0,void 0,function(){return dt(this,function(n){switch(n.label){case 0:return[4,this.extractIterations(r)];case 1:if((r=n.sent()).length!==0)throw new Error("SGD optimizer does not have settable weights.");return[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate}},t.fromConfig=function(r,n){return new r(n.learningRate)},t.className="SGD",t}(Hf);Qf(M9);var Dge=function(e){function t(r,n,i){i===void 0&&(i=!1);var a=e.call(this,r)||this;return a.learningRate=r,a.momentum=n,a.useNesterov=i,a.accumulations=[],a.m=Xe(a.momentum),a}return Js(t,e),t.prototype.applyGradients=function(r){var n=this;(Array.isArray(r)?r.map(function(i){return i.name}):Object.keys(r)).forEach(function(i,a){var o=ge.registeredVariables[i];n.accumulations[a]==null&&(n.accumulations[a]={originalName:i+"/momentum",variable:nt(function(){return Ar(o).variable(!1)})});var s=n.accumulations[a].variable,l=Array.isArray(r)?r[a].tensor:r[i];l!=null&&nt(function(){var u,c=n.m.mul(s).add(l);u=n.useNesterov?n.c.mul(l.add(c.mul(n.m))).add(o):n.c.mul(c).add(o),s.assign(c),o.assign(u)})}),this.incrementIterations()},t.prototype.dispose=function(){this.m.dispose(),this.accumulations!=null&&to(this.accumulations.map(function(r){return r.variable}))},t.prototype.setMomentum=function(r){this.momentum=r},t.prototype.getWeights=function(){return ft(this,void 0,void 0,function(){return dt(this,function(r){switch(r.label){case 0:return[4,this.saveIterations()];case 1:return[2,[r.sent()].concat(this.accumulations.map(function(n){return{name:n.originalName,tensor:n.variable}}))]}})})},t.prototype.setWeights=function(r){return ft(this,void 0,void 0,function(){return dt(this,function(n){switch(n.label){case 0:return[4,this.extractIterations(r)];case 1:return r=n.sent(),this.accumulations=r.map(function(i){return{originalName:i.name,variable:i.tensor.variable(!1)}}),[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}},t.fromConfig=function(r,n){return new r(n.learningRate,n.momentum,n.useNesterov)},t.className="Momentum",t}(M9);Qf(Dge);var jge=function(e){function t(r,n,i,a,o){n===void 0&&(n=.9),i===void 0&&(i=0),a===void 0&&(a=null),o===void 0&&(o=!1);var s=e.call(this)||this;if(s.learningRate=r,s.decay=n,s.momentum=i,s.epsilon=a,s.accumulatedMeanSquares=[],s.accumulatedMoments=[],s.accumulatedMeanGrads=[],s.centered=o,a==null&&(s.epsilon=ge.backend.epsilon()),r==null)throw new Error("learningRate for RMSPropOptimizer must be defined.");return s}return Js(t,e),t.prototype.applyGradients=function(r){var n=this;(Array.isArray(r)?r.map(function(i){return i.name}):Object.keys(r)).forEach(function(i,a){var o=ge.registeredVariables[i];n.accumulatedMeanSquares[a]==null&&(n.accumulatedMeanSquares[a]={originalName:i+"/rms",variable:nt(function(){return Ar(o).variable(!1)})}),n.accumulatedMoments[a]==null&&(n.accumulatedMoments[a]={originalName:i+"/momentum",variable:nt(function(){return Ar(o).variable(!1)})}),n.accumulatedMeanGrads[a]==null&&n.centered&&(n.accumulatedMeanGrads[a]={originalName:i+"/mg",variable:nt(function(){return Ar(o).variable(!1)})});var s=Array.isArray(r)?r[a].tensor:r[i];if(s!=null){var l=n.accumulatedMeanSquares[a].variable,u=n.accumulatedMoments[a].variable;nt(function(){var c=l.mul(n.decay).add(s.square().mul(1-n.decay));if(n.centered){var A=n.accumulatedMeanGrads[a].variable,d=A.mul(n.decay).add(s.mul(1-n.decay)),f=u.mul(n.momentum).add(s.mul(n.learningRate).div(c.sub(d.square().add(n.epsilon)).sqrt()));l.assign(c),A.assign(d),u.assign(f);var p=o.sub(f);o.assign(p)}else{var g=l.mul(n.decay).add(s.square().mul(1-n.decay));f=u.mul(n.momentum).add(s.mul(n.learningRate).div(g.add(n.epsilon).sqrt())),l.assign(g),u.assign(f),p=o.sub(f),o.assign(p)}})}}),this.incrementIterations()},t.prototype.dispose=function(){this.accumulatedMeanSquares!=null&&to(this.accumulatedMeanSquares.map(function(r){return r.variable})),this.accumulatedMeanGrads!=null&&this.centered&&to(this.accumulatedMeanGrads.map(function(r){return r.variable})),this.accumulatedMoments!=null&&to(this.accumulatedMoments.map(function(r){return r.variable}))},t.prototype.getWeights=function(){return ft(this,void 0,void 0,function(){var r;return dt(this,function(n){switch(n.label){case 0:return r=this.accumulatedMeanSquares.concat(this.accumulatedMoments),this.centered&&r.push.apply(r,this.accumulatedMeanGrads),[4,this.saveIterations()];case 1:return[2,[n.sent()].concat(r.map(function(i){return{name:i.originalName,tensor:i.variable}}))]}})})},t.prototype.setWeights=function(r){return ft(this,void 0,void 0,function(){var n;return dt(this,function(i){switch(i.label){case 0:return[4,this.extractIterations(r)];case 1:return r=i.sent(),n=this.centered?r.length/3:r.length/2,this.accumulatedMeanSquares=r.slice(0,n).map(function(a){return{originalName:a.name,variable:a.tensor.variable(!1)}}),this.accumulatedMoments=r.slice(n,2*n).map(function(a){return{originalName:a.name,variable:a.tensor.variable(!1)}}),this.centered&&(this.accumulatedMeanGrads=r.slice(2*n,3*n).map(function(a){return{originalName:a.name,variable:a.tensor.variable(!1)}})),[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}},t.fromConfig=function(r,n){return new r(n.learningRate,n.decay,n.momentum,n.epsilon,n.centered)},t.className="RMSProp",t}(Hf);Qf(jge);dn.prototype.squaredDifference=function(e){return t9(this,e)},_e=Age;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var $S=function(e,t){return $S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},$S(e,t)};function Wt(e,t){$S(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var da=function(){return da=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},da.apply(this,arguments)};function xt(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(c){try{u(n.next(c))}catch(A){o(A)}}function l(c){try{u(n.throw(c))}catch(A){o(A)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((n=n.apply(e,[])).next())})}function bt(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(c){u=[6,c],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function $m(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n}var uh=function(){function e(t,r){if(!Af(t)||!Af(r))throw new Error("Dimensions.constructor - expected width and height to be valid numbers, instead have "+JSON.stringify({width:t,height:r}));this._width=t,this._height=r}return Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),e.prototype.reverse=function(){return new e(1/this.width,1/this.height)},e}();function E2(e,t){return e instanceof dn&&e.shape.length===t}function Mge(e){return E2(e,2)}function S2(e){return E2(e,3)}function eA(e){return E2(e,4)}function Qge(e){return e%1!==0}function WL(e){return e%2===0}function Hge(e,t){t===void 0&&(t=2);var r=Math.pow(10,t);return Math.floor(e*r)/r}function KL(e){return e&&e.width&&e.height}function $ge(e,t){var r=e.width,n=e.height,i=t/Math.max(n,r);return new uh(Math.round(r*i),Math.round(n*i))}function qN(e){return e.reduce(function(t,r){return t.add(r)},new vr(0,0)).div(new vr(e.length,e.length))}function bg(e,t,r){return Array(e).fill(0).map(function(n,i){return t+i*r})}function Af(e){return!!e&&e!==1/0&&e!==-1/0&&!isNaN(e)||e===0}function zL(e){return Af(e)&&0<=e&&e<=1}var vr=function(){function e(t,r){this._x=t,this._y=r}return Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),e.prototype.add=function(t){return new e(this.x+t.x,this.y+t.y)},e.prototype.sub=function(t){return new e(this.x-t.x,this.y-t.y)},e.prototype.mul=function(t){return new e(this.x*t.x,this.y*t.y)},e.prototype.div=function(t){return new e(this.x/t.x,this.y/t.y)},e.prototype.abs=function(){return new e(Math.abs(this.x),Math.abs(this.y))},e.prototype.magnitude=function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))},e.prototype.floor=function(){return new e(Math.floor(this.x),Math.floor(this.y))},e}(),sA=function(){function e(t,r){r===void 0&&(r=!0);var n=t||{},i=[n.left,n.top,n.right,n.bottom].every(Af),a=[n.x,n.y,n.width,n.height].every(Af);if(!a&&!i)throw new Error("Box.constructor - expected box to be IBoundingBox | IRect, instead have "+JSON.stringify(n));var o=a?[n.x,n.y,n.width,n.height]:[n.left,n.top,n.right-n.left,n.bottom-n.top],s=o[0],l=o[1],u=o[2],c=o[3];e.assertIsValidBox({x:s,y:l,width:u,height:c},"Box.constructor",r),this._x=s,this._y=l,this._width=u,this._height=c}return e.isRect=function(t){return!!t&&[t.x,t.y,t.width,t.height].every(Af)},e.assertIsValidBox=function(t,r,n){if(n===void 0&&(n=!1),!e.isRect(t))throw new Error(r+" - invalid box: "+JSON.stringify(t)+", expected object with properties x, y, width, height");if(!n&&(t.width<0||t.height<0))throw new Error(r+" - width ("+t.width+") and height ("+t.height+") must be positive numbers")},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"area",{get:function(){return this.width*this.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topLeft",{get:function(){return new vr(this.left,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topRight",{get:function(){return new vr(this.right,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomLeft",{get:function(){return new vr(this.left,this.bottom)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomRight",{get:function(){return new vr(this.right,this.bottom)},enumerable:!0,configurable:!0}),e.prototype.round=function(){var t=[this.x,this.y,this.width,this.height].map(function(o){return Math.round(o)}),r=t[0],n=t[1],i=t[2],a=t[3];return new e({x:r,y:n,width:i,height:a})},e.prototype.floor=function(){var t=[this.x,this.y,this.width,this.height].map(function(o){return Math.floor(o)}),r=t[0],n=t[1],i=t[2],a=t[3];return new e({x:r,y:n,width:i,height:a})},e.prototype.toSquare=function(){var t=this,r=t.x,n=t.y,i=t.width,a=t.height,o=Math.abs(i-a);return i<a&&(r-=o/2,i+=o),a<i&&(n-=o/2,a+=o),new e({x:r,y:n,width:i,height:a})},e.prototype.rescale=function(t){var r=KL(t)?t.width:t,n=KL(t)?t.height:t;return new e({x:this.x*r,y:this.y*n,width:this.width*r,height:this.height*n})},e.prototype.pad=function(t,r){var n=[this.x-t/2,this.y-r/2,this.width+t,this.height+r],i=n[0],a=n[1],o=n[2],s=n[3];return new e({x:i,y:a,width:o,height:s})},e.prototype.clipAtImageBorders=function(t,r){var n=this,i=n.x,a=n.y,o=n.right,s=n.bottom,l=Math.max(i,0),u=Math.max(a,0),c=o-l,A=s-u,d=Math.min(c,t-l),f=Math.min(A,r-u);return new e({x:l,y:u,width:d,height:f}).floor()},e.prototype.shift=function(t,r){var n=this,i=n.width,a=n.height,o=this.x+t,s=this.y+r;return new e({x:o,y:s,width:i,height:a})},e.prototype.padAtBorders=function(t,r){var n=this.width+1,i=this.height+1,a=1,o=1,s=n,l=i,u=this.left,c=this.top,A=this.right,d=this.bottom;return A>r&&(s=-A+r+n,A=r),d>t&&(l=-d+t+i,d=t),u<1&&(l=2-u,u=1),c<1&&(l=2-c,c=1),{dy:o,edy:l,dx:a,edx:s,y:c,ey:d,x:u,ex:A,w:n,h:i}},e.prototype.calibrate=function(t){return new e({left:this.left+t.left*this.width,top:this.top+t.top*this.height,right:this.right+t.right*this.width,bottom:this.bottom+t.bottom*this.height}).toSquare().round()},e}(),N2=function(e){Wt(t,e);function t(r,n,i,a,o){return o===void 0&&(o=!1),e.call(this,{left:r,top:n,right:i,bottom:a},o)||this}return t}(sA),Q9=function(){function e(t,r,n,i,a){this._imageDims=new uh(a.width,a.height),this._score=t,this._classScore=r,this._className=n,this._box=new sA(i).rescale(this._imageDims)}return Object.defineProperty(e.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return this._className},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"box",{get:function(){return this._box},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageDims",{get:function(){return this._imageDims},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageWidth",{get:function(){return this.imageDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageHeight",{get:function(){return this.imageDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativeBox",{get:function(){return new sA(this._box).rescale(this.imageDims.reverse())},enumerable:!0,configurable:!0}),e.prototype.forSize=function(t,r){return new e(this.score,this.classScore,this.className,this.relativeBox,{width:t,height:r})},e}(),Hl=function(e){Wt(t,e);function t(r,n,i){return e.call(this,r,r,"",n,i)||this}return t.prototype.forSize=function(r,n){var i=e.prototype.forSize.call(this,r,n),a=i.score,o=i.relativeBox,s=i.imageDims;return new t(a,o,s)},t}(Q9);function Wge(e,t,r){r===void 0&&(r=!0);var n=Math.max(0,Math.min(e.right,t.right)-Math.max(e.left,t.left)),i=Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),a=n*i;return r?a/(e.area+t.area-a):a/Math.min(e.area,t.area)}function Kge(e){var t=e.map(function(s){return s.x}),r=e.map(function(s){return s.y}),n=t.reduce(function(s,l){return l<s?l:s},1/0),i=r.reduce(function(s,l){return l<s?l:s},1/0),a=t.reduce(function(s,l){return s<l?l:s},0),o=r.reduce(function(s,l){return s<l?l:s},0);return new N2(n,i,a,o)}function Bg(e,t,r,n){n===void 0&&(n=!0);for(var i=t.map(function(s,l){return{score:s,boxIndex:l}}).sort(function(s,l){return s.score-l.score}).map(function(s){return s.boxIndex}),a=[],o=function(){var s=i.pop();a.push(s);for(var l=i,u=[],c=0;c<l.length;c++){var A=l[c],d=e[s],f=e[A];u.push(Wge(d,f,n))}i=i.filter(function(p,g){return u[g]<=r})};i.length>0;)o();return a}function cv(e,t){return nt(function(){var r=t[0],n=t[1],i=t[2],a=_l($m(e.shape.slice(0,3),[1]),r),o=_l($m(e.shape.slice(0,3),[1]),n),s=_l($m(e.shape.slice(0,3),[1]),i),l=di([a,o,s],3);return mi(e,l)})}function zge(e,t){return t===void 0&&(t=!1),nt(function(){var r=e.shape.slice(1),n=r[0],i=r[1];if(n===i)return e;var a=Math.abs(n-i),o=Math.round(a*(t?.5:1)),s=n>i?2:1,l=function(f){var p=e.shape.slice();return p[s]=f,_l(p,0)},u=l(o),c=a-u.shape[s],A=t&&c?l(c):null,d=[A,e,u].filter(function(f){return!!f}).map(function(f){return f.toFloat()});return di(d,s)})}function u5(e){return 1/(1+Math.exp(-e))}var XN=function(e){Wt(t,e);function t(r,n,i,a,o){return o===void 0&&(o=!1),e.call(this,{x:r,y:n,width:i,height:a},o)||this}return t}(sA),Vge=.5,Gge=.43,qge=.45,Tw=function(){function e(t,r,n){n===void 0&&(n=new vr(0,0));var i=r.width,a=r.height;this._imgDims=new uh(i,a),this._shift=n,this._positions=t.map(function(o){return o.mul(new vr(i,a)).add(n)})}return Object.defineProperty(e.prototype,"shift",{get:function(){return new vr(this._shift.x,this._shift.y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageWidth",{get:function(){return this._imgDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageHeight",{get:function(){return this._imgDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"positions",{get:function(){return this._positions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativePositions",{get:function(){var t=this;return this._positions.map(function(r){return r.sub(t._shift).div(new vr(t.imageWidth,t.imageHeight))})},enumerable:!0,configurable:!0}),e.prototype.forSize=function(t,r){return new this.constructor(this.relativePositions,{width:t,height:r})},e.prototype.shiftBy=function(t,r){return new this.constructor(this.relativePositions,this._imgDims,new vr(t,r))},e.prototype.shiftByPoint=function(t){return this.shiftBy(t.x,t.y)},e.prototype.align=function(t,r){if(r===void 0&&(r={}),t){var n=t instanceof Hl?t.box.floor():new sA(t);return this.shiftBy(n.x,n.y).align(null,r)}var i=Object.assign({},{useDlibAlignment:!1,minBoxPadding:.2},r),a=i.useDlibAlignment,o=i.minBoxPadding;return a?this.alignDlib():this.alignMinBbox(o)},e.prototype.alignDlib=function(){var t=this.getRefPointsForAlignment(),r=t[0],n=t[1],i=t[2],a=function(A){return i.sub(A).magnitude()},o=(a(r)+a(n))/2,s=Math.floor(o/qge),l=qN(t),u=Math.floor(Math.max(0,l.x-Vge*s)),c=Math.floor(Math.max(0,l.y-Gge*s));return new XN(u,c,Math.min(s,this.imageWidth+u),Math.min(s,this.imageHeight+c))},e.prototype.alignMinBbox=function(t){var r=Kge(this.positions);return r.pad(r.width*t,r.height*t)},e.prototype.getRefPointsForAlignment=function(){throw new Error("getRefPointsForAlignment not implemented by base class")},e}(),Xge=function(e){Wt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getRefPointsForAlignment=function(){var r=this.positions;return[r[0],r[1],qN([r[3],r[4]])]},t}(Tw),Yge=function(e){Wt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getJawOutline=function(){return this.positions.slice(0,17)},t.prototype.getLeftEyeBrow=function(){return this.positions.slice(17,22)},t.prototype.getRightEyeBrow=function(){return this.positions.slice(22,27)},t.prototype.getNose=function(){return this.positions.slice(27,36)},t.prototype.getLeftEye=function(){return this.positions.slice(36,42)},t.prototype.getRightEye=function(){return this.positions.slice(42,48)},t.prototype.getMouth=function(){return this.positions.slice(48,68)},t.prototype.getRefPointsForAlignment=function(){return[this.getLeftEye(),this.getRightEye(),this.getMouth()].map(qN)},t}(Tw),VL=function(){function e(t,r){this._label=t,this._distance=r}return Object.defineProperty(e.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"distance",{get:function(){return this._distance},enumerable:!0,configurable:!0}),e.prototype.toString=function(t){return t===void 0&&(t=!0),""+this.label+(t?" ("+Hge(this.distance)+")":"")},e}(),GL=function(e){Wt(t,e);function t(r,n){var i=e.call(this,r)||this;return i._label=n,i}return t.assertIsValidLabeledBox=function(r,n){if(sA.assertIsValidBox(r,n),!Af(r.label))throw new Error(n+" - expected property label ("+r.label+") to be a number")},Object.defineProperty(t.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),t}(sA),Ny=function(){function e(t,r){if(typeof t!="string")throw new Error("LabeledFaceDescriptors - constructor expected label to be a string");if(!Array.isArray(r)||r.some(function(n){return!(n instanceof Float32Array)}))throw new Error("LabeledFaceDescriptors - constructor expected descriptors to be an array of Float32Array");this._label=t,this._descriptors=r}return Object.defineProperty(e.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"descriptors",{get:function(){return this._descriptors},enumerable:!0,configurable:!0}),e.prototype.toJSON=function(){return{label:this.label,descriptors:this.descriptors.map(function(t){return Array.from(t)})}},e.fromJSON=function(t){var r=t.descriptors.map(function(n){return new Float32Array(n)});return new e(t.label,r)},e}();(function(e){Wt(t,e);function t(r,n,i,a){var o=e.call(this,r,n)||this;return o._score=i,o._classScore=a,o}return t.assertIsValidPredictedBox=function(r,n){if(GL.assertIsValidLabeledBox(r,n),!zL(r.score)||!zL(r.classScore))throw new Error(n+" - expected properties score ("+r.score+") and ("+r.classScore+") to be a number between [0, 1]")},Object.defineProperty(t.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0}),t})(GL);function Jge(e){return e.detection instanceof Hl}function YN(e,t){var r={detection:t};return Object.assign({},e,r)}function H9(){var e=window.fetch||function(){throw new Error("fetch - missing fetch implementation for browser environment")},t=function(){throw new Error("readFile - filesystem not available for browser environment")};return{Canvas:HTMLCanvasElement,CanvasRenderingContext2D,Image:HTMLImageElement,ImageData,Video:HTMLVideoElement,createCanvasElement:function(){return document.createElement("canvas")},createImageElement:function(){return document.createElement("img")},fetch:e,readFile:t}}function $9(e){var t="";if(!e)try{e=require("fs")}catch(n){t=n.toString()}var r=e?function(n){return new Promise(function(i,a){e.readFile(n,function(o,s){return o?a(o):i(s)})})}:function(){throw new Error("readFile - failed to require fs in nodejs environment with error: "+t)};return{readFile:r}}function W9(){var e=global.Canvas||global.HTMLCanvasElement,t=global.Image||global.HTMLImageElement,r=function(){if(e)return new e;throw new Error("createCanvasElement - missing Canvas implementation for nodejs environment")},n=function(){if(t)return new t;throw new Error("createImageElement - missing Image implementation for nodejs environment")},i=global.fetch||function(){throw new Error("fetch - missing fetch implementation for nodejs environment")},a=$9();return da({Canvas:e||function(){function o(){}return o}(),CanvasRenderingContext2D:global.CanvasRenderingContext2D||function(){function o(){}return o}(),Image:t||function(){function o(){}return o}(),ImageData:global.ImageData||function(){function o(){}return o}(),Video:global.HTMLVideoElement||function(){function o(){}return o}(),createCanvasElement:r,createImageElement:n,fetch:i},a)}function K9(){return typeof window=="object"&&typeof document<"u"&&typeof HTMLImageElement<"u"&&typeof HTMLCanvasElement<"u"&&typeof HTMLVideoElement<"u"&&typeof ImageData<"u"&&typeof CanvasRenderingContext2D<"u"}function z9(){return typeof global=="object"&&typeof require=="function"&&typeof module<"u"&&typeof process<"u"&&!!process.version}var si;function Zge(){if(!si)throw new Error("getEnv - environment is not defined, check isNodejs() and isBrowser()");return si}function WS(e){si=e}function JN(){K9()&&WS(H9()),z9()&&WS(W9())}function eve(e){if(si||JN(),!si)throw new Error("monkeyPatch - environment is not defined, check isNodejs() and isBrowser()");var t=e.Canvas,r=t===void 0?si.Canvas:t,n=e.Image,i=n===void 0?si.Image:n;si.Canvas=r,si.Image=i,si.createCanvasElement=e.createCanvasElement||function(){return new r},si.createImageElement=e.createImageElement||function(){return new i},si.ImageData=e.ImageData||si.ImageData,si.Video=e.Video||si.Video,si.fetch=e.fetch||si.fetch,si.readFile=e.readFile||si.readFile}var wa={getEnv:Zge,setEnv:WS,initialize:JN,createBrowserEnv:H9,createFileSystem:$9,createNodejsEnv:W9,monkeyPatch:eve,isBrowser:K9,isNodejs:z9};JN();function V9(e){return!wa.isNodejs()&&typeof e=="string"?document.getElementById(e):e}function Cf(e){var t=wa.getEnv(),r=t.Canvas,n=t.CanvasRenderingContext2D;if(e instanceof n)return e;var i=V9(e);if(!(i instanceof r))throw new Error("resolveContext2d - expected canvas to be of instance of Canvas");var a=i.getContext("2d");if(!a)throw new Error("resolveContext2d - canvas 2d context is null");return a}var qL;(function(e){e.TOP_LEFT="TOP_LEFT",e.TOP_RIGHT="TOP_RIGHT",e.BOTTOM_LEFT="BOTTOM_LEFT",e.BOTTOM_RIGHT="BOTTOM_RIGHT"})(qL||(qL={}));function G9(e){var t=wa.getEnv(),r=t.Image,n=t.Video;return e instanceof r&&e.complete||e instanceof n&&e.readyState>=3}function tve(e){return new Promise(function(t,r){if(e instanceof wa.getEnv().Canvas||G9(e))return t();function n(a){a.currentTarget&&(a.currentTarget.removeEventListener("load",n),a.currentTarget.removeEventListener("error",i),t(a))}function i(a){a.currentTarget&&(a.currentTarget.removeEventListener("load",n),a.currentTarget.removeEventListener("error",i),r(a))}e.addEventListener("load",n),e.addEventListener("error",i)})}function q9(e){var t=wa.getEnv(),r=t.Image,n=t.Video;return e instanceof r?new uh(e.naturalWidth,e.naturalHeight):e instanceof n?new uh(e.videoWidth,e.videoHeight):new uh(e.width,e.height)}function F2(e){var t=e.width,r=e.height,n=wa.getEnv().createCanvasElement,i=n();return i.width=t,i.height=r,i}function ZN(e,t){var r=wa.getEnv().ImageData;if(!(e instanceof r)&&!G9(e))throw new Error("createCanvasFromMedia - media has not finished loading yet");var n=q9(e),i=n.width,a=n.height,o=F2({width:i,height:a});return e instanceof r?Cf(o).putImageData(e,0,0):Cf(o).drawImage(e,0,0,i,a),o}function rve(e,t){return xt(this,void 0,void 0,function(){var r,n,i,a,o,s;return bt(this,function(l){switch(l.label){case 0:return r=wa.getEnv().createCanvasElement(),n=e.shape.slice(eA(e)?1:0),i=n[0],a=n[1],o=n[2],s=nt(function(){return e.as3D(i,a,o).toInt()}),[4,GN.toPixels(s,r)];case 1:return l.sent(),s.dispose(),[2,r]}})})}function XL(e){var t=wa.getEnv(),r=t.Image,n=t.Canvas,i=t.Video;return e instanceof r||e instanceof n||e instanceof i}function nve(e,t,r){r===void 0&&(r=!1);var n=wa.getEnv(),i=n.Image,a=n.Canvas;if(!(e instanceof i||e instanceof a))throw new Error("imageToSquare - expected arg0 to be HTMLImageElement | HTMLCanvasElement");var o=q9(e),s=t/Math.max(o.height,o.width),l=s*o.width,u=s*o.height,c=F2({width:t,height:t}),A=e instanceof a?e:ZN(e),d=Math.abs(l-u)/2,f=r&&l<u?d:0,p=r&&u<l?d:0;return Cf(c).drawImage(A,f,p,l,u),c}var Lw=function(){function e(t,r){var n=this;if(r===void 0&&(r=!1),this._imageTensors=[],this._canvases=[],this._treatAsBatchInput=!1,this._inputDimensions=[],!Array.isArray(t))throw new Error("NetInput.constructor - expected inputs to be an Array of TResolvedNetInput or to be instanceof tf.Tensor4D, instead have "+t);this._treatAsBatchInput=r,this._batchSize=t.length,t.forEach(function(i,a){if(S2(i)){n._imageTensors[a]=i,n._inputDimensions[a]=i.shape;return}if(eA(i)){var o=i.shape[0];if(o!==1)throw new Error("NetInput - tf.Tensor4D with batchSize "+o+" passed, but not supported in input array");n._imageTensors[a]=i,n._inputDimensions[a]=i.shape.slice(1);return}var s=i instanceof wa.getEnv().Canvas?i:ZN(i);n._canvases[a]=s,n._inputDimensions[a]=[s.height,s.width,3]})}return Object.defineProperty(e.prototype,"imageTensors",{get:function(){return this._imageTensors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canvases",{get:function(){return this._canvases},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isBatchInput",{get:function(){return this.batchSize>1||this._treatAsBatchInput},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"batchSize",{get:function(){return this._batchSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputDimensions",{get:function(){return this._inputDimensions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reshapedInputDimensions",{get:function(){var t=this;return bg(this.batchSize,0,1).map(function(r,n){return t.getReshapedInputDimensions(n)})},enumerable:!0,configurable:!0}),e.prototype.getInput=function(t){return this.canvases[t]||this.imageTensors[t]},e.prototype.getInputDimensions=function(t){return this._inputDimensions[t]},e.prototype.getInputHeight=function(t){return this._inputDimensions[t][0]},e.prototype.getInputWidth=function(t){return this._inputDimensions[t][1]},e.prototype.getReshapedInputDimensions=function(t){if(typeof this.inputSize!="number")throw new Error("getReshapedInputDimensions - inputSize not set, toBatchTensor has not been called yet");var r=this.getInputWidth(t),n=this.getInputHeight(t);return $ge({width:r,height:n},this.inputSize)},e.prototype.toBatchTensor=function(t,r){var n=this;return r===void 0&&(r=!0),this._inputSize=t,nt(function(){var i=bg(n.batchSize,0,1).map(function(o){var s=n.getInput(o);if(s instanceof dn){var l=eA(s)?s:s.expandDims();return l=zge(l,r),(l.shape[1]!==t||l.shape[2]!==t)&&(l=HN.resizeBilinear(l,[t,t])),l.as3D(t,t,3)}if(s instanceof wa.getEnv().Canvas)return GN.fromPixels(nve(s,t,r));throw new Error("toBatchTensor - at batchIdx "+o+", expected input to be instanceof tf.Tensor or instanceof HTMLCanvasElement, instead have "+s)}),a=Po(i.map(function(o){return o.toFloat()})).as4D(n.batchSize,t,t,3);return a})},e}();function Oi(e){return xt(this,void 0,void 0,function(){var t,r,n;return bt(this,function(i){switch(i.label){case 0:if(e instanceof Lw)return[2,e];if(t=Array.isArray(e)?e:[e],!t.length)throw new Error("toNetInput - empty array passed as input");return r=function(a){return Array.isArray(e)?" at input index "+a+":":""},n=t.map(V9),n.forEach(function(a,o){if(!XL(a)&&!S2(a)&&!eA(a))throw typeof t[o]=="string"?new Error("toNetInput -"+r(o)+" string passed, but could not resolve HTMLElement for element id "+t[o]):new Error("toNetInput -"+r(o)+" expected media to be of type HTMLImageElement | HTMLVideoElement | HTMLCanvasElement | tf.Tensor3D, or to be an element id");if(eA(a)){var s=a.shape[0];if(s!==1)throw new Error("toNetInput -"+r(o)+" tf.Tensor4D with batchSize "+s+" passed, but not supported in input array")}}),[4,Promise.all(n.map(function(a){return XL(a)&&tve(a)}))];case 1:return i.sent(),[2,new Lw(n,Array.isArray(e))]}})})}function eF(e,t){return xt(this,void 0,void 0,function(){var r,n,i,a,o,s,l;return bt(this,function(u){switch(u.label){case 0:return r=wa.getEnv().Canvas,n=e,e instanceof r?[3,5]:[4,Oi(e)];case 1:if(i=u.sent(),i.batchSize>1)throw new Error("extractFaces - batchSize > 1 not supported");return a=i.getInput(0),a instanceof r?(o=a,[3,4]):[3,2];case 2:return[4,rve(a)];case 3:o=u.sent(),u.label=4;case 4:n=o,u.label=5;case 5:return s=Cf(n),l=t.map(function(c){return c instanceof Hl?c.forSize(n.width,n.height).box.floor():c}).map(function(c){return c.clipAtImageBorders(n.width,n.height)}),[2,l.map(function(c){var A=c.x,d=c.y,f=c.width,p=c.height,g=F2({width:f,height:p});return Cf(g).putImageData(s.getImageData(A,d,f,p),0,0),g})]}})})}function tF(e,t){return xt(this,void 0,void 0,function(){return bt(this,function(r){if(!S2(e)&&!eA(e))throw new Error("extractFaceTensors - expected image tensor to be 3D or 4D");if(eA(e)&&e.shape[0]>1)throw new Error("extractFaceTensors - batchSize > 1 not supported");return[2,nt(function(){var n=e.shape.slice(eA(e)?1:0),i=n[0],a=n[1],o=n[2],s=t.map(function(u){return u instanceof Hl?u.forSize(a,i).box:u}).map(function(u){return u.clipAtImageBorders(a,i)}),l=s.map(function(u){var c=u.x,A=u.y,d=u.width,f=u.height;return b9(e.as3D(i,a,o),[A,c,0],[f,d,o])});return l})]})})}function ive(e,t){return xt(this,void 0,void 0,function(){var r,n;return bt(this,function(i){switch(i.label){case 0:return r=wa.getEnv().fetch,[4,r(e,t)];case 1:if(n=i.sent(),!(n.status<400))throw new Error("failed to fetch: ("+n.status+") "+n.statusText+", from url: "+n.url);return[2,n]}})})}function ave(e){return xt(this,void 0,void 0,function(){return bt(this,function(t){switch(t.label){case 0:return[4,ive(e)];case 1:return[2,t.sent().json()]}})})}function X9(e,t){var r=t+"-weights_manifest.json";if(!e)return{modelBaseUri:"",manifestUri:r};if(e==="/")return{modelBaseUri:"/",manifestUri:"/"+r};var n=e.startsWith("http://")?"http://":e.startsWith("https://")?"https://":"";e=e.replace(n,"");var i=e.split("/").filter(function(s){return s}),a=e.endsWith(".json")?i[i.length-1]:r,o=n+(e.endsWith(".json")?i.slice(0,i.length-1):i).join("/");return o=e.startsWith("/")?"/"+o:o,{modelBaseUri:o,manifestUri:o==="/"?"/"+a:o+"/"+a}}function ove(e,t){return xt(this,void 0,void 0,function(){var r,n,i,a;return bt(this,function(o){switch(o.label){case 0:return r=X9(e,t),n=r.manifestUri,i=r.modelBaseUri,[4,ave(n)];case 1:return a=o.sent(),[2,j9.loadWeights(a,i)]}})})}var zu=function(){function e(t){this._name=t,this._params=void 0,this._paramMappings=[]}return Object.defineProperty(e.prototype,"params",{get:function(){return this._params},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paramMappings",{get:function(){return this._paramMappings},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLoaded",{get:function(){return!!this.params},enumerable:!0,configurable:!0}),e.prototype.getParamFromPath=function(t){var r=this.traversePropertyPath(t),n=r.obj,i=r.objProp;return n[i]},e.prototype.reassignParamFromPath=function(t,r){var n=this.traversePropertyPath(t),i=n.obj,a=n.objProp;i[a].dispose(),i[a]=r},e.prototype.getParamList=function(){var t=this;return this._paramMappings.map(function(r){var n=r.paramPath;return{path:n,tensor:t.getParamFromPath(n)}})},e.prototype.getTrainableParams=function(){return this.getParamList().filter(function(t){return t.tensor instanceof Bh})},e.prototype.getFrozenParams=function(){return this.getParamList().filter(function(t){return!(t.tensor instanceof Bh)})},e.prototype.variable=function(){var t=this;this.getFrozenParams().forEach(function(r){var n=r.path,i=r.tensor;t.reassignParamFromPath(n,i.variable())})},e.prototype.freeze=function(){var t=this;this.getTrainableParams().forEach(function(r){var n=r.path,i=r.tensor,a=qi(i.dataSync());i.dispose(),t.reassignParamFromPath(n,a)})},e.prototype.dispose=function(t){t===void 0&&(t=!0),this.getParamList().forEach(function(r){if(t&&r.tensor.isDisposed)throw new Error("param tensor has already been disposed for path "+r.path);r.tensor.dispose()}),this._params=void 0},e.prototype.serializeParams=function(){return new Float32Array(this.getParamList().map(function(t){var r=t.tensor;return Array.from(r.dataSync())}).reduce(function(t,r){return t.concat(r)}))},e.prototype.load=function(t){return xt(this,void 0,void 0,function(){return bt(this,function(r){switch(r.label){case 0:return t instanceof Float32Array?(this.extractWeights(t),[2]):[4,this.loadFromUri(t)];case 1:return r.sent(),[2]}})})},e.prototype.loadFromUri=function(t){return xt(this,void 0,void 0,function(){var r;return bt(this,function(n){switch(n.label){case 0:if(t&&typeof t!="string")throw new Error(this._name+".loadFromUri - expected model uri");return[4,ove(t,this.getDefaultModelName())];case 1:return r=n.sent(),this.loadFromWeightMap(r),[2]}})})},e.prototype.loadFromDisk=function(t){return xt(this,void 0,void 0,function(){var r,n,i,a,o,s,l,u,c,A;return bt(this,function(d){switch(d.label){case 0:if(t&&typeof t!="string")throw new Error(this._name+".loadFromDisk - expected model file path");return r=wa.getEnv().readFile,n=X9(t,this.getDefaultModelName()),i=n.manifestUri,a=n.modelBaseUri,o=function(f){return Promise.all(f.map(function(p){return r(p).then(function(g){return g.buffer})}))},s=j9.weightsLoaderFactory(o),c=(u=JSON).parse,[4,r(i)];case 1:return l=c.apply(u,[d.sent().toString()]),[4,s(l,a)];case 2:return A=d.sent(),this.loadFromWeightMap(A),[2]}})})},e.prototype.loadFromWeightMap=function(t){var r=this.extractParamsFromWeigthMap(t),n=r.paramMappings,i=r.params;this._paramMappings=n,this._params=i},e.prototype.extractWeights=function(t){var r=this.extractParams(t),n=r.paramMappings,i=r.params;this._paramMappings=n,this._params=i},e.prototype.traversePropertyPath=function(t){if(!this.params)throw new Error("traversePropertyPath - model has no loaded params");var r=t.split("/").reduce(function(a,o){if(!a.nextObj.hasOwnProperty(o))throw new Error("traversePropertyPath - object does not have property "+o+", for path "+t);return{obj:a.nextObj,objProp:o,nextObj:a.nextObj[o]}},{nextObj:this.params}),n=r.obj,i=r.objProp;if(!n||!i||!(n[i]instanceof dn))throw new Error("traversePropertyPath - parameter is not a tensor, for path "+t);return{obj:n,objProp:i}},e}();function Io(e,t,r){return nt(function(){var n=RN(e,t.depthwise_filter,t.pointwise_filter,r,"same");return n=rr(n,t.bias),n})}function c5(e,t,r){return r===void 0&&(r=!1),nt(function(){var n=hn(r?rr(ps(e,t.conv0.filters,[2,2],"same"),t.conv0.bias):Io(e,t.conv0,[2,2])),i=Io(n,t.conv1,[1,1]),a=hn(rr(n,i)),o=Io(a,t.conv2,[1,1]);return hn(rr(n,rr(i,o)))})}function Fy(e,t,r,n){return r===void 0&&(r=!1),n===void 0&&(n=!0),nt(function(){var i=hn(r?rr(ps(e,t.conv0.filters,n?[2,2]:[1,1],"same"),t.conv0.bias):Io(e,t.conv0,n?[2,2]:[1,1])),a=Io(i,t.conv1,[1,1]),o=hn(rr(i,a)),s=Io(o,t.conv2,[1,1]),l=hn(rr(i,rr(a,s))),u=Io(l,t.conv3,[1,1]);return hn(rr(i,rr(a,rr(s,u))))})}function js(e,t,r,n){return r===void 0&&(r="same"),n===void 0&&(n=!1),nt(function(){var i=rr(ps(e,t.filters,[1,1],r),t.bias);return n?hn(i):i})}function Vu(e,t){Object.keys(e).forEach(function(r){t.some(function(n){return n.originalPath===r})||e[r].dispose()})}function I2(e,t){return function(r,n,i,a){var o=Wa(e(r*n*i*i),[i,i,r,n]),s=Xn(e(n));return t.push({paramPath:a+"/filters"},{paramPath:a+"/bias"}),{filters:o,bias:s}}}function rF(e,t){return function(r,n,i){var a=Jc(e(r*n),[r,n]),o=Xn(e(n));return t.push({paramPath:i+"/weights"},{paramPath:i+"/bias"}),{weights:a,bias:o}}}var Y9=function(){function e(t,r,n){this.depthwise_filter=t,this.pointwise_filter=r,this.bias=n}return e}();function nF(e,t){return function(r,n,i){var a=Wa(e(9*r),[3,3,r,1]),o=Wa(e(r*n),[1,1,r,n]),s=Xn(e(n));return t.push({paramPath:i+"/depthwise_filter"},{paramPath:i+"/pointwise_filter"},{paramPath:i+"/bias"}),new Y9(a,o,s)}}function iF(e){return function(t){var r=e(t+"/depthwise_filter",4),n=e(t+"/pointwise_filter",4),i=e(t+"/bias",1);return new Y9(r,n,i)}}function hA(e,t){return function(r,n,i){var a=e[r];if(!E2(a,n))throw new Error("expected weightMap["+r+"] to be a Tensor"+n+"D, instead have "+a);return t.push({originalPath:r,paramPath:i||r}),a}}function Gu(e){var t=e;function r(i){var a=t.slice(0,i);return t=t.slice(i),a}function n(){return t}return{extractWeights:r,getRemainingWeights:n}}function J9(e,t){var r=I2(e,t),n=nF(e,t);function i(o,s,l,u){u===void 0&&(u=!1);var c=u?r(o,s,3,l+"/conv0"):n(o,s,l+"/conv0"),A=n(s,s,l+"/conv1"),d=n(s,s,l+"/conv2");return{conv0:c,conv1:A,conv2:d}}function a(o,s,l,u){u===void 0&&(u=!1);var c=i(o,s,l,u),A=c.conv0,d=c.conv1,f=c.conv2,p=n(s,s,l+"/conv3");return{conv0:A,conv1:d,conv2:f,conv3:p}}return{extractDenseBlock3Params:i,extractDenseBlock4Params:a}}function sve(e){var t=[],r=Gu(e),n=r.extractWeights,i=r.getRemainingWeights,a=J9(n,t).extractDenseBlock4Params,o=a(3,32,"dense0",!0),s=a(32,64,"dense1"),l=a(64,128,"dense2"),u=a(128,256,"dense3");if(i().length!==0)throw new Error("weights remaing after extract: "+i().length);return{paramMappings:t,params:{dense0:o,dense1:s,dense2:l,dense3:u}}}function Z9(e){return function(t){var r=e(t+"/filters",4),n=e(t+"/bias",1);return{filters:r,bias:n}}}function e$(e,t){var r=hA(e,t),n=Z9(r),i=iF(r);function a(s,l){l===void 0&&(l=!1);var u=l?n(s+"/conv0"):i(s+"/conv0"),c=i(s+"/conv1"),A=i(s+"/conv2");return{conv0:u,conv1:c,conv2:A}}function o(s,l){l===void 0&&(l=!1);var u=l?n(s+"/conv0"):i(s+"/conv0"),c=i(s+"/conv1"),A=i(s+"/conv2"),d=i(s+"/conv3");return{conv0:u,conv1:c,conv2:A,conv3:d}}return{extractDenseBlock3Params:a,extractDenseBlock4Params:o}}function lve(e){var t=[],r=e$(e,t).extractDenseBlock4Params,n={dense0:r("dense0",!0),dense1:r("dense1"),dense2:r("dense2"),dense3:r("dense3")};return Vu(e,t),{params:n,paramMappings:t}}var t$=function(e){Wt(t,e);function t(){return e.call(this,"FaceFeatureExtractor")||this}return t.prototype.forwardInput=function(r){var n=this.params;if(!n)throw new Error("FaceFeatureExtractor - load model before inference");return nt(function(){var i=r.toBatchTensor(112,!0),a=[122.782,117.001,104.298],o=cv(i,a).div(Xe(255)),s=Fy(o,n.dense0,!0);return s=Fy(s,n.dense1),s=Fy(s,n.dense2),s=Fy(s,n.dense3),s=lv(s,[7,7],[2,2],"valid"),s})},t.prototype.forward=function(r){return xt(this,void 0,void 0,function(){var n;return bt(this,function(i){switch(i.label){case 0:return n=this.forwardInput,[4,Oi(r)];case 1:return[2,n.apply(this,[i.sent()])]}})})},t.prototype.getDefaultModelName=function(){return"face_feature_extractor_model"},t.prototype.extractParamsFromWeigthMap=function(r){return lve(r)},t.prototype.extractParams=function(r){return sve(r)},t}(zu);function Cl(e,t){return nt(function(){return rr(b2(e,t.weights),t.bias)})}function uve(e,t,r){var n=[],i=Gu(e),a=i.extractWeights,o=i.getRemainingWeights,s=rF(a,n),l=s(t,r,"fc");if(o().length!==0)throw new Error("weights remaing after extract: "+o().length);return{paramMappings:n,params:{fc:l}}}function cve(e){var t=[],r=hA(e,t);function n(a){var o=r(a+"/weights",2),s=r(a+"/bias",1);return{weights:o,bias:s}}var i={fc:n("fc")};return Vu(e,t),{params:i,paramMappings:t}}function r$(e){var t={},r={};return Object.keys(e).forEach(function(n){var i=n.startsWith("fc")?r:t;i[n]=e[n]}),{featureExtractorMap:t,classifierMap:r}}var n$=function(e){Wt(t,e);function t(r,n){var i=e.call(this,r)||this;return i._faceFeatureExtractor=n,i}return Object.defineProperty(t.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),t.prototype.runNet=function(r){var n=this,i=this.params;if(!i)throw new Error(this._name+" - load model before inference");return nt(function(){var a=r instanceof Lw?n.faceFeatureExtractor.forwardInput(r):r;return Cl(a.as2D(a.shape[0],-1),i.fc)})},t.prototype.dispose=function(r){r===void 0&&(r=!0),this.faceFeatureExtractor.dispose(r),e.prototype.dispose.call(this,r)},t.prototype.loadClassifierParams=function(r){var n=this.extractClassifierParams(r),i=n.params,a=n.paramMappings;this._params=i,this._paramMappings=a},t.prototype.extractClassifierParams=function(r){return uve(r,this.getClassifierChannelsIn(),this.getClassifierChannelsOut())},t.prototype.extractParamsFromWeigthMap=function(r){var n=r$(r),i=n.featureExtractorMap,a=n.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(i),cve(a)},t.prototype.extractParams=function(r){var n=this.getClassifierChannelsIn(),i=this.getClassifierChannelsOut(),a=i*n+i,o=r.slice(0,r.length-a),s=r.slice(r.length-a);return this.faceFeatureExtractor.extractWeights(o),this.extractClassifierParams(s)},t}(zu),YL=["neutral","happy","sad","angry","fearful","disgusted","surprised"],Ave=function(){function e(t){var r=this;if(t.length!==7)throw new Error("FaceExpressions.constructor - expected probabilities.length to be 7, have: "+t.length);YL.forEach(function(n,i){r[n]=t[i]})}return e.prototype.asSortedArray=function(){var t=this;return YL.map(function(r){return{expression:r,probability:t[r]}}).sort(function(r,n){return n.probability-r.probability})},e}(),fve=function(e){Wt(t,e);function t(r){return r===void 0&&(r=new t$),e.call(this,"FaceExpressionNet",r)||this}return t.prototype.forwardInput=function(r){var n=this;return nt(function(){return Wu(n.runNet(r))})},t.prototype.forward=function(r){return xt(this,void 0,void 0,function(){var n;return bt(this,function(i){switch(i.label){case 0:return n=this.forwardInput,[4,Oi(r)];case 1:return[2,n.apply(this,[i.sent()])]}})})},t.prototype.predictExpressions=function(r){return xt(this,void 0,void 0,function(){var n,i,a,o,s=this;return bt(this,function(l){switch(l.label){case 0:return[4,Oi(r)];case 1:return n=l.sent(),[4,this.forwardInput(n)];case 2:return i=l.sent(),[4,Promise.all(hi(i).map(function(u){return xt(s,void 0,void 0,function(){var c;return bt(this,function(A){switch(A.label){case 0:return[4,u.data()];case 1:return c=A.sent(),u.dispose(),[2,c]}})})}))];case 3:return a=l.sent(),i.dispose(),o=a.map(function(u){return new Ave(u)}),[2,n.isBatchInput?o:o[0]]}})})},t.prototype.getDefaultModelName=function(){return"face_expression_model"},t.prototype.getClassifierChannelsIn=function(){return 256},t.prototype.getClassifierChannelsOut=function(){return 7},t}(n$);function i$(e,t){var r={expressions:t};return Object.assign({},e,r)}function dve(e){return Jge(e)&&e.landmarks instanceof Tw&&e.unshiftedLandmarks instanceof Tw&&e.alignedRect instanceof Hl}function aF(e,t){var r=e.detection.box,n=t.shiftBy(r.x,r.y),i=n.align(),a=e.detection.imageDims,o=new Hl(e.detection.score,i.rescale(a.reverse()),a),s={landmarks:n,unshiftedLandmarks:t,alignedRect:o};return Object.assign({},e,s)}function hve(e,t){var r=I2(e,t),n=nF(e,t);function i(o,s,l){var u=n(o,s,l+"/separable_conv0"),c=n(s,s,l+"/separable_conv1"),A=r(o,s,1,l+"/expansion_conv");return{separable_conv0:u,separable_conv1:c,expansion_conv:A}}function a(o,s){var l=n(o,o,s+"/separable_conv0"),u=n(o,o,s+"/separable_conv1"),c=n(o,o,s+"/separable_conv2");return{separable_conv0:l,separable_conv1:u,separable_conv2:c}}return{extractConvParams:r,extractSeparableConvParams:n,extractReductionBlockParams:i,extractMainBlockParams:a}}function pve(e,t){var r=[],n=Gu(e),i=n.extractWeights,a=n.getRemainingWeights,o=hve(i,r),s=o.extractConvParams,l=o.extractSeparableConvParams,u=o.extractReductionBlockParams,c=o.extractMainBlockParams,A=s(3,32,3,"entry_flow/conv_in"),d=u(32,64,"entry_flow/reduction_block_0"),f=u(64,128,"entry_flow/reduction_block_1"),p={conv_in:A,reduction_block_0:d,reduction_block_1:f},g={};bg(t,0,1).forEach(function(w){g["main_block_"+w]=c(128,"middle_flow/main_block_"+w)});var v=u(128,256,"exit_flow/reduction_block"),m=l(256,512,"exit_flow/separable_conv"),y={reduction_block:v,separable_conv:m};if(a().length!==0)throw new Error("weights remaing after extract: "+a().length);return{paramMappings:r,params:{entry_flow:p,middle_flow:g,exit_flow:y}}}function mve(e,t){var r=hA(e,t),n=Z9(r),i=iF(r);function a(s){var l=i(s+"/separable_conv0"),u=i(s+"/separable_conv1"),c=n(s+"/expansion_conv");return{separable_conv0:l,separable_conv1:u,expansion_conv:c}}function o(s){var l=i(s+"/separable_conv0"),u=i(s+"/separable_conv1"),c=i(s+"/separable_conv2");return{separable_conv0:l,separable_conv1:u,separable_conv2:c}}return{extractConvParams:n,extractSeparableConvParams:i,extractReductionBlockParams:a,extractMainBlockParams:o}}function gve(e,t){var r=[],n=mve(e,r),i=n.extractConvParams,a=n.extractSeparableConvParams,o=n.extractReductionBlockParams,s=n.extractMainBlockParams,l=i("entry_flow/conv_in"),u=o("entry_flow/reduction_block_0"),c=o("entry_flow/reduction_block_1"),A={conv_in:l,reduction_block_0:u,reduction_block_1:c},d={};bg(t,0,1).forEach(function(v){d["main_block_"+v]=s("middle_flow/main_block_"+v)});var f=o("exit_flow/reduction_block"),p=a("exit_flow/separable_conv"),g={reduction_block:f,separable_conv:p};return Vu(e,r),{params:{entry_flow:A,middle_flow:d,exit_flow:g},paramMappings:r}}function a$(e,t,r){return rr(ps(e,t.filters,r,"same"),t.bias)}function A5(e,t,r){r===void 0&&(r=!0);var n=r?hn(e):e;return n=Io(n,t.separable_conv0,[1,1]),n=Io(hn(n),t.separable_conv1,[1,1]),n=Ni(n,[3,3],[2,2],"same"),n=rr(n,a$(e,t.expansion_conv,[2,2])),n}function vve(e,t){var r=Io(hn(e),t.separable_conv0,[1,1]);return r=Io(hn(r),t.separable_conv1,[1,1]),r=Io(hn(r),t.separable_conv2,[1,1]),r=rr(r,e),r}var yve=function(e){Wt(t,e);function t(r){var n=e.call(this,"TinyXception")||this;return n._numMainBlocks=r,n}return t.prototype.forwardInput=function(r){var n=this,i=this.params;if(!i)throw new Error("TinyXception - load model before inference");return nt(function(){var a=r.toBatchTensor(112,!0),o=[122.782,117.001,104.298],s=cv(a,o).div(Xe(256)),l=hn(a$(s,i.entry_flow.conv_in,[2,2]));return l=A5(l,i.entry_flow.reduction_block_0,!1),l=A5(l,i.entry_flow.reduction_block_1),bg(n._numMainBlocks,0,1).forEach(function(u){l=vve(l,i.middle_flow["main_block_"+u])}),l=A5(l,i.exit_flow.reduction_block),l=hn(Io(l,i.exit_flow.separable_conv,[1,1])),l})},t.prototype.forward=function(r){return xt(this,void 0,void 0,function(){var n;return bt(this,function(i){switch(i.label){case 0:return n=this.forwardInput,[4,Oi(r)];case 1:return[2,n.apply(this,[i.sent()])]}})})},t.prototype.getDefaultModelName=function(){return"tiny_xception_model"},t.prototype.extractParamsFromWeigthMap=function(r){return gve(r,this._numMainBlocks)},t.prototype.extractParams=function(r){return pve(r,this._numMainBlocks)},t}(zu);function wve(e){var t=[],r=Gu(e),n=r.extractWeights,i=r.getRemainingWeights,a=rF(n,t),o=a(512,1,"fc/age"),s=a(512,2,"fc/gender");if(i().length!==0)throw new Error("weights remaing after extract: "+i().length);return{paramMappings:t,params:{fc:{age:o,gender:s}}}}function xve(e){var t=[],r=hA(e,t);function n(a){var o=r(a+"/weights",2),s=r(a+"/bias",1);return{weights:o,bias:s}}var i={fc:{age:n("fc/age"),gender:n("fc/gender")}};return Vu(e,t),{params:i,paramMappings:t}}var Uw;(function(e){e.FEMALE="female",e.MALE="male"})(Uw||(Uw={}));var bve=function(e){Wt(t,e);function t(r){r===void 0&&(r=new yve(2));var n=e.call(this,"AgeGenderNet")||this;return n._faceFeatureExtractor=r,n}return Object.defineProperty(t.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),t.prototype.runNet=function(r){var n=this,i=this.params;if(!i)throw new Error(this._name+" - load model before inference");return nt(function(){var a=r instanceof Lw?n.faceFeatureExtractor.forwardInput(r):r,o=lv(a,[7,7],[2,2],"valid").as2D(a.shape[0],-1),s=Cl(o,i.fc.age).as1D(),l=Cl(o,i.fc.gender);return{age:s,gender:l}})},t.prototype.forwardInput=function(r){var n=this;return nt(function(){var i=n.runNet(r),a=i.age,o=i.gender;return{age:a,gender:Wu(o)}})},t.prototype.forward=function(r){return xt(this,void 0,void 0,function(){var n;return bt(this,function(i){switch(i.label){case 0:return n=this.forwardInput,[4,Oi(r)];case 1:return[2,n.apply(this,[i.sent()])]}})})},t.prototype.predictAgeAndGender=function(r){return xt(this,void 0,void 0,function(){var n,i,a,o,s,l,u=this;return bt(this,function(c){switch(c.label){case 0:return[4,Oi(r)];case 1:return n=c.sent(),[4,this.forwardInput(n)];case 2:return i=c.sent(),a=hi(i.age),o=hi(i.gender),s=a.map(function(A,d){return{ageTensor:A,genderTensor:o[d]}}),[4,Promise.all(s.map(function(A){var d=A.ageTensor,f=A.genderTensor;return xt(u,void 0,void 0,function(){var p,g,v,m,y;return bt(this,function(w){switch(w.label){case 0:return[4,d.data()];case 1:return p=w.sent()[0],[4,f.data()];case 2:return g=w.sent()[0],v=g>.5,m=v?Uw.MALE:Uw.FEMALE,y=v?g:1-g,d.dispose(),f.dispose(),[2,{age:p,gender:m,genderProbability:y}]}})})}))];case 3:return l=c.sent(),i.age.dispose(),i.gender.dispose(),[2,n.isBatchInput?l:l[0]]}})})},t.prototype.getDefaultModelName=function(){return"age_gender_model"},t.prototype.dispose=function(r){r===void 0&&(r=!0),this.faceFeatureExtractor.dispose(r),e.prototype.dispose.call(this,r)},t.prototype.loadClassifierParams=function(r){var n=this.extractClassifierParams(r),i=n.params,a=n.paramMappings;this._params=i,this._paramMappings=a},t.prototype.extractClassifierParams=function(r){return wve(r)},t.prototype.extractParamsFromWeigthMap=function(r){var n=r$(r),i=n.featureExtractorMap,a=n.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(i),xve(a)},t.prototype.extractParams=function(r){var n=1539,i=r.slice(0,r.length-n),a=r.slice(r.length-n);return this.faceFeatureExtractor.extractWeights(i),this.extractClassifierParams(a)},t}(zu),o$=function(e){Wt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.postProcess=function(r,n,i){var a=i.map(function(s){var l=s.width,u=s.height,c=n/Math.max(u,l);return{width:l*c,height:u*c}}),o=a.length;return nt(function(){var s=function(d,f){return Po([_l([68],d),_l([68],f)],1).as2D(1,136).as1D()},l=function(d,f){var p=a[d],g=p.width,v=p.height;return f(g,v)?Math.abs(g-v)/2:0},u=function(d){return l(d,function(f,p){return f<p})},c=function(d){return l(d,function(f,p){return p<f})},A=r.mul(_l([o,136],n)).sub(Po(Array.from(Array(o),function(d,f){return s(u(f),c(f))}))).div(Po(Array.from(Array(o),function(d,f){return s(a[f].width,a[f].height)})));return A})},t.prototype.forwardInput=function(r){var n=this;return nt(function(){var i=n.runNet(r);return n.postProcess(i,r.inputSize,r.inputDimensions.map(function(a){var o=a[0],s=a[1];return{height:o,width:s}}))})},t.prototype.forward=function(r){return xt(this,void 0,void 0,function(){var n;return bt(this,function(i){switch(i.label){case 0:return n=this.forwardInput,[4,Oi(r)];case 1:return[2,n.apply(this,[i.sent()])]}})})},t.prototype.detectLandmarks=function(r){return xt(this,void 0,void 0,function(){var n,i,a,o=this;return bt(this,function(s){switch(s.label){case 0:return[4,Oi(r)];case 1:return n=s.sent(),i=nt(function(){return hi(o.forwardInput(n))}),[4,Promise.all(i.map(function(l,u){return xt(o,void 0,void 0,function(){var c,A,d,f,p;return bt(this,function(g){switch(g.label){case 0:return d=(A=Array).from,[4,l.data()];case 1:return c=d.apply(A,[g.sent()]),f=c.filter(function(v,m){return WL(m)}),p=c.filter(function(v,m){return!WL(m)}),[2,new Yge(Array(68).fill(0).map(function(v,m){return new vr(f[m],p[m])}),{height:n.getInputHeight(u),width:n.getInputWidth(u)})]}})})}))];case 2:return a=s.sent(),i.forEach(function(l){return l.dispose()}),[2,n.isBatchInput?a:a[0]]}})})},t.prototype.getClassifierChannelsOut=function(){return 136},t}(n$),s$=function(e){Wt(t,e);function t(r){return r===void 0&&(r=new t$),e.call(this,"FaceLandmark68Net",r)||this}return t.prototype.getDefaultModelName=function(){return"face_landmark_68_model"},t.prototype.getClassifierChannelsIn=function(){return 256},t}(o$);function Bve(e){var t=[],r=e$(e,t).extractDenseBlock3Params,n={dense0:r("dense0",!0),dense1:r("dense1"),dense2:r("dense2")};return Vu(e,t),{params:n,paramMappings:t}}function Cve(e){var t=[],r=Gu(e),n=r.extractWeights,i=r.getRemainingWeights,a=J9(n,t).extractDenseBlock3Params,o=a(3,32,"dense0",!0),s=a(32,64,"dense1"),l=a(64,128,"dense2");if(i().length!==0)throw new Error("weights remaing after extract: "+i().length);return{paramMappings:t,params:{dense0:o,dense1:s,dense2:l}}}var Eve=function(e){Wt(t,e);function t(){return e.call(this,"TinyFaceFeatureExtractor")||this}return t.prototype.forwardInput=function(r){var n=this.params;if(!n)throw new Error("TinyFaceFeatureExtractor - load model before inference");return nt(function(){var i=r.toBatchTensor(112,!0),a=[122.782,117.001,104.298],o=cv(i,a).div(Xe(255)),s=c5(o,n.dense0,!0);return s=c5(s,n.dense1),s=c5(s,n.dense2),s=lv(s,[14,14],[2,2],"valid"),s})},t.prototype.forward=function(r){return xt(this,void 0,void 0,function(){var n;return bt(this,function(i){switch(i.label){case 0:return n=this.forwardInput,[4,Oi(r)];case 1:return[2,n.apply(this,[i.sent()])]}})})},t.prototype.getDefaultModelName=function(){return"face_feature_extractor_tiny_model"},t.prototype.extractParamsFromWeigthMap=function(r){return Bve(r)},t.prototype.extractParams=function(r){return Cve(r)},t}(zu),Sve=function(e){Wt(t,e);function t(r){return r===void 0&&(r=new Eve),e.call(this,"FaceLandmark68TinyNet",r)||this}return t.prototype.getDefaultModelName=function(){return"face_landmark_68_tiny_model"},t.prototype.getClassifierChannelsIn=function(){return 128},t}(o$);(function(e){Wt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t})(s$);function Nve(e,t){return rr(va(e,t.weights),t.biases)}function oF(e,t,r,n,i){i===void 0&&(i="same");var a=t.conv,o=a.filters,s=a.bias,l=ps(e,o,r,i);return l=rr(l,s),l=Nve(l,t.scale),n?hn(l):l}function Fve(e,t){return oF(e,t,[1,1],!0)}function l$(e,t){return oF(e,t,[1,1],!1)}function u$(e,t){return oF(e,t,[2,2],!0,"valid")}function Ive(e,t){function r(s,l,u){var c=e(s),A=c.length/(l*u*u);if(Qge(A))throw new Error("depth has to be an integer: "+A+", weights.length: "+c.length+", numFilters: "+l+", filterSize: "+u);return nt(function(){return oA(Wa(c,[l,A,u,u]),[2,3,1,0])})}function n(s,l,u,c){var A=r(s,l,u),d=Xn(e(l));return t.push({paramPath:c+"/filters"},{paramPath:c+"/bias"}),{filters:A,bias:d}}function i(s,l){var u=Xn(e(s)),c=Xn(e(s));return t.push({paramPath:l+"/weights"},{paramPath:l+"/biases"}),{weights:u,biases:c}}function a(s,l,u,c){var A=n(s,l,u,c+"/conv"),d=i(l,c+"/scale");return{conv:A,scale:d}}function o(s,l,u,c,A){A===void 0&&(A=!1);var d=a((A?.5:1)*s,l,u,c+"/conv1"),f=a(s,l,u,c+"/conv2");return{conv1:d,conv2:f}}return{extractConvLayerParams:a,extractResidualLayerParams:o}}function _ve(e){var t=Gu(e),r=t.extractWeights,n=t.getRemainingWeights,i=[],a=Ive(r,i),o=a.extractConvLayerParams,s=a.extractResidualLayerParams,l=o(4704,32,7,"conv32_down"),u=s(9216,32,3,"conv32_1"),c=s(9216,32,3,"conv32_2"),A=s(9216,32,3,"conv32_3"),d=s(36864,64,3,"conv64_down",!0),f=s(36864,64,3,"conv64_1"),p=s(36864,64,3,"conv64_2"),g=s(36864,64,3,"conv64_3"),v=s(147456,128,3,"conv128_down",!0),m=s(147456,128,3,"conv128_1"),y=s(147456,128,3,"conv128_2"),w=s(589824,256,3,"conv256_down",!0),b=s(589824,256,3,"conv256_1"),B=s(589824,256,3,"conv256_2"),S=s(589824,256,3,"conv256_down_out"),P=nt(function(){return oA(Jc(r(256*128),[128,256]),[1,0])});if(i.push({paramPath:"fc"}),n().length!==0)throw new Error("weights remaing after extract: "+n().length);var k={conv32_down:l,conv32_1:u,conv32_2:c,conv32_3:A,conv64_down:d,conv64_1:f,conv64_2:p,conv64_3:g,conv128_down:v,conv128_1:m,conv128_2:y,conv256_down:w,conv256_1:b,conv256_2:B,conv256_down_out:S,fc:P};return{params:k,paramMappings:i}}function kve(e,t){var r=hA(e,t);function n(o){var s=r(o+"/scale/weights",1),l=r(o+"/scale/biases",1);return{weights:s,biases:l}}function i(o){var s=r(o+"/conv/filters",4),l=r(o+"/conv/bias",1),u=n(o);return{conv:{filters:s,bias:l},scale:u}}function a(o){return{conv1:i(o+"/conv1"),conv2:i(o+"/conv2")}}return{extractConvLayerParams:i,extractResidualLayerParams:a}}function Pve(e){var t=[],r=kve(e,t),n=r.extractConvLayerParams,i=r.extractResidualLayerParams,a=n("conv32_down"),o=i("conv32_1"),s=i("conv32_2"),l=i("conv32_3"),u=i("conv64_down"),c=i("conv64_1"),A=i("conv64_2"),d=i("conv64_3"),f=i("conv128_down"),p=i("conv128_1"),g=i("conv128_2"),v=i("conv256_down"),m=i("conv256_1"),y=i("conv256_2"),w=i("conv256_down_out"),b=e.fc;if(t.push({originalPath:"fc",paramPath:"fc"}),!Mge(b))throw new Error("expected weightMap[fc] to be a Tensor2D, instead have "+b);var B={conv32_down:a,conv32_1:o,conv32_2:s,conv32_3:l,conv64_down:u,conv64_1:c,conv64_2:A,conv64_3:d,conv128_down:f,conv128_1:p,conv128_2:g,conv256_down:v,conv256_1:m,conv256_2:y,conv256_down_out:w,fc:b};return Vu(e,t),{params:B,paramMappings:t}}function fl(e,t){var r=Fve(e,t.conv1);return r=l$(r,t.conv2),r=rr(r,e),r=hn(r),r}function Iy(e,t){var r=u$(e,t.conv1);r=l$(r,t.conv2);var n=lv(e,2,2,"valid"),i=Yr(n.shape),a=n.shape[3]!==r.shape[3],o=n.shape[1]!==r.shape[1]||n.shape[2]!==r.shape[2];if(o){var s=$m(r.shape);s[1]=1;var l=Yr(s);r=di([r,l],1);var u=$m(r.shape);u[2]=1;var c=Yr(u);r=di([r,c],2)}return n=a?di([n,i],3):n,r=rr(n,r),r=hn(r),r}var Ove=function(e){Wt(t,e);function t(){return e.call(this,"FaceRecognitionNet")||this}return t.prototype.forwardInput=function(r){var n=this.params;if(!n)throw new Error("FaceRecognitionNet - load model before inference");return nt(function(){var i=r.toBatchTensor(150,!0).toFloat(),a=[122.782,117.001,104.298],o=cv(i,a).div(Xe(256)),s=u$(o,n.conv32_down);s=Ni(s,3,2,"valid"),s=fl(s,n.conv32_1),s=fl(s,n.conv32_2),s=fl(s,n.conv32_3),s=Iy(s,n.conv64_down),s=fl(s,n.conv64_1),s=fl(s,n.conv64_2),s=fl(s,n.conv64_3),s=Iy(s,n.conv128_down),s=fl(s,n.conv128_1),s=fl(s,n.conv128_2),s=Iy(s,n.conv256_down),s=fl(s,n.conv256_1),s=fl(s,n.conv256_2),s=Iy(s,n.conv256_down_out);var l=s.mean([1,2]),u=b2(l,n.fc);return u})},t.prototype.forward=function(r){return xt(this,void 0,void 0,function(){var n;return bt(this,function(i){switch(i.label){case 0:return n=this.forwardInput,[4,Oi(r)];case 1:return[2,n.apply(this,[i.sent()])]}})})},t.prototype.computeFaceDescriptor=function(r){return xt(this,void 0,void 0,function(){var n,i,a,o=this;return bt(this,function(s){switch(s.label){case 0:return[4,Oi(r)];case 1:return n=s.sent(),i=nt(function(){return hi(o.forwardInput(n))}),[4,Promise.all(i.map(function(l){return l.data()}))];case 2:return a=s.sent(),i.forEach(function(l){return l.dispose()}),[2,n.isBatchInput?a:a[0]]}})})},t.prototype.getDefaultModelName=function(){return"face_recognition_model"},t.prototype.extractParamsFromWeigthMap=function(r){return Pve(r)},t.prototype.extractParams=function(r){return _ve(r)},t}(zu);function c$(e,t){var r={descriptor:t};return Object.assign({},e,r)}function A$(e,t){var r={age:t};return Object.assign({},e,r)}function f$(e,t,r){var n={gender:t,genderProbability:r};return Object.assign({},e,n)}var d$=function(){function e(t){var r=t===void 0?{}:t,n=r.minFaceSize,i=r.scaleFactor,a=r.maxNumScales,o=r.scoreThresholds,s=r.scaleSteps;if(this._name="MtcnnOptions",this._minFaceSize=n||20,this._scaleFactor=i||.709,this._maxNumScales=a||10,this._scoreThresholds=o||[.6,.7,.7],this._scaleSteps=s,typeof this._minFaceSize!="number"||this._minFaceSize<0)throw new Error(this._name+" - expected minFaceSize to be a number > 0");if(typeof this._scaleFactor!="number"||this._scaleFactor<=0||this._scaleFactor>=1)throw new Error(this._name+" - expected scaleFactor to be a number between 0 and 1");if(typeof this._maxNumScales!="number"||this._maxNumScales<0)throw new Error(this._name+" - expected maxNumScales to be a number > 0");if(!Array.isArray(this._scoreThresholds)||this._scoreThresholds.length!==3||this._scoreThresholds.some(function(l){return typeof l!="number"}))throw new Error(this._name+" - expected scoreThresholds to be an array of numbers of length 3");if(this._scaleSteps&&(!Array.isArray(this._scaleSteps)||this._scaleSteps.some(function(l){return typeof l!="number"})))throw new Error(this._name+" - expected scaleSteps to be an array of numbers")}return Object.defineProperty(e.prototype,"minFaceSize",{get:function(){return this._minFaceSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleFactor",{get:function(){return this._scaleFactor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxNumScales",{get:function(){return this._maxNumScales},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scoreThresholds",{get:function(){return this._scoreThresholds},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleSteps",{get:function(){return this._scaleSteps},enumerable:!0,configurable:!0}),e}();function Tve(e,t){function r(l,u){var c=Wa(e(9*l),[3,3,l,1]),A=Xn(e(l)),d=Xn(e(l)),f=Xn(e(l)),p=Xn(e(l));return t.push({paramPath:u+"/filters"},{paramPath:u+"/batch_norm_scale"},{paramPath:u+"/batch_norm_offset"},{paramPath:u+"/batch_norm_mean"},{paramPath:u+"/batch_norm_variance"}),{filters:c,batch_norm_scale:A,batch_norm_offset:d,batch_norm_mean:f,batch_norm_variance:p}}function n(l,u,c,A,d){var f=Wa(e(l*u*c*c),[c,c,l,u]),p=Xn(e(u));return t.push({paramPath:A+"/filters"},{paramPath:A+"/"+(d?"batch_norm_offset":"bias")}),{filters:f,bias:p}}function i(l,u,c,A){var d=n(l,u,c,A,!0),f=d.filters,p=d.bias;return{filters:f,batch_norm_offset:p}}function a(l,u,c){var A=r(l,c+"/depthwise_conv"),d=i(l,u,1,c+"/pointwise_conv");return{depthwise_conv:A,pointwise_conv:d}}function o(){var l=i(3,32,3,"mobilenetv1/conv_0"),u=a(32,64,"mobilenetv1/conv_1"),c=a(64,128,"mobilenetv1/conv_2"),A=a(128,128,"mobilenetv1/conv_3"),d=a(128,256,"mobilenetv1/conv_4"),f=a(256,256,"mobilenetv1/conv_5"),p=a(256,512,"mobilenetv1/conv_6"),g=a(512,512,"mobilenetv1/conv_7"),v=a(512,512,"mobilenetv1/conv_8"),m=a(512,512,"mobilenetv1/conv_9"),y=a(512,512,"mobilenetv1/conv_10"),w=a(512,512,"mobilenetv1/conv_11"),b=a(512,1024,"mobilenetv1/conv_12"),B=a(1024,1024,"mobilenetv1/conv_13");return{conv_0:l,conv_1:u,conv_2:c,conv_3:A,conv_4:d,conv_5:f,conv_6:p,conv_7:g,conv_8:v,conv_9:m,conv_10:y,conv_11:w,conv_12:b,conv_13:B}}function s(){var l=i(1024,256,1,"prediction_layer/conv_0"),u=i(256,512,3,"prediction_layer/conv_1"),c=i(512,128,1,"prediction_layer/conv_2"),A=i(128,256,3,"prediction_layer/conv_3"),d=i(256,128,1,"prediction_layer/conv_4"),f=i(128,256,3,"prediction_layer/conv_5"),p=i(256,64,1,"prediction_layer/conv_6"),g=i(64,128,3,"prediction_layer/conv_7"),v=n(512,12,1,"prediction_layer/box_predictor_0/box_encoding_predictor"),m=n(512,9,1,"prediction_layer/box_predictor_0/class_predictor"),y=n(1024,24,1,"prediction_layer/box_predictor_1/box_encoding_predictor"),w=n(1024,18,1,"prediction_layer/box_predictor_1/class_predictor"),b=n(512,24,1,"prediction_layer/box_predictor_2/box_encoding_predictor"),B=n(512,18,1,"prediction_layer/box_predictor_2/class_predictor"),S=n(256,24,1,"prediction_layer/box_predictor_3/box_encoding_predictor"),P=n(256,18,1,"prediction_layer/box_predictor_3/class_predictor"),k=n(256,24,1,"prediction_layer/box_predictor_4/box_encoding_predictor"),I=n(256,18,1,"prediction_layer/box_predictor_4/class_predictor"),O=n(128,24,1,"prediction_layer/box_predictor_5/box_encoding_predictor"),F=n(128,18,1,"prediction_layer/box_predictor_5/class_predictor"),N={box_encoding_predictor:v,class_predictor:m},U={box_encoding_predictor:y,class_predictor:w},M={box_encoding_predictor:b,class_predictor:B},V={box_encoding_predictor:S,class_predictor:P},Q={box_encoding_predictor:k,class_predictor:I},W={box_encoding_predictor:O,class_predictor:F};return{conv_0:l,conv_1:u,conv_2:c,conv_3:A,conv_4:d,conv_5:f,conv_6:p,conv_7:g,box_predictor_0:N,box_predictor_1:U,box_predictor_2:M,box_predictor_3:V,box_predictor_4:Q,box_predictor_5:W}}return{extractMobilenetV1Params:o,extractPredictionLayerParams:s}}function Lve(e){var t=[],r=Gu(e),n=r.extractWeights,i=r.getRemainingWeights,a=Tve(n,t),o=a.extractMobilenetV1Params,s=a.extractPredictionLayerParams,l=o(),u=s(),c=bN(n(5118*4),[1,5118,4]),A={extra_dim:c};if(t.push({paramPath:"output_layer/extra_dim"}),i().length!==0)throw new Error("weights remaing after extract: "+i().length);return{params:{mobilenetv1:l,prediction_layer:u,output_layer:A},paramMappings:t}}function Uve(e,t){var r=hA(e,t);function n(u,c,A){var d=r(u+"/Conv2d_"+c+"_pointwise/weights",4,A+"/filters"),f=r(u+"/Conv2d_"+c+"_pointwise/convolution_bn_offset",1,A+"/batch_norm_offset");return{filters:d,batch_norm_offset:f}}function i(u){var c="mobilenetv1/conv_"+u,A="MobilenetV1/Conv2d_"+u+"_depthwise",d=c+"/depthwise_conv",f=c+"/pointwise_conv",p=r(A+"/depthwise_weights",4,d+"/filters"),g=r(A+"/BatchNorm/gamma",1,d+"/batch_norm_scale"),v=r(A+"/BatchNorm/beta",1,d+"/batch_norm_offset"),m=r(A+"/BatchNorm/moving_mean",1,d+"/batch_norm_mean"),y=r(A+"/BatchNorm/moving_variance",1,d+"/batch_norm_variance");return{depthwise_conv:{filters:p,batch_norm_scale:g,batch_norm_offset:v,batch_norm_mean:m,batch_norm_variance:y},pointwise_conv:n("MobilenetV1",u,f)}}function a(){return{conv_0:n("MobilenetV1",0,"mobilenetv1/conv_0"),conv_1:i(1),conv_2:i(2),conv_3:i(3),conv_4:i(4),conv_5:i(5),conv_6:i(6),conv_7:i(7),conv_8:i(8),conv_9:i(9),conv_10:i(10),conv_11:i(11),conv_12:i(12),conv_13:i(13)}}function o(u,c){var A=r(u+"/weights",4,c+"/filters"),d=r(u+"/biases",1,c+"/bias");return{filters:A,bias:d}}function s(u){var c=o("Prediction/BoxPredictor_"+u+"/BoxEncodingPredictor","prediction_layer/box_predictor_"+u+"/box_encoding_predictor"),A=o("Prediction/BoxPredictor_"+u+"/ClassPredictor","prediction_layer/box_predictor_"+u+"/class_predictor");return{box_encoding_predictor:c,class_predictor:A}}function l(){return{conv_0:n("Prediction",0,"prediction_layer/conv_0"),conv_1:n("Prediction",1,"prediction_layer/conv_1"),conv_2:n("Prediction",2,"prediction_layer/conv_2"),conv_3:n("Prediction",3,"prediction_layer/conv_3"),conv_4:n("Prediction",4,"prediction_layer/conv_4"),conv_5:n("Prediction",5,"prediction_layer/conv_5"),conv_6:n("Prediction",6,"prediction_layer/conv_6"),conv_7:n("Prediction",7,"prediction_layer/conv_7"),box_predictor_0:s(0),box_predictor_1:s(1),box_predictor_2:s(2),box_predictor_3:s(3),box_predictor_4:s(4),box_predictor_5:s(5)}}return{extractMobilenetV1Params:a,extractPredictionLayerParams:l}}function Rve(e){var t=[],r=Uve(e,t),n=r.extractMobilenetV1Params,i=r.extractPredictionLayerParams,a=e["Output/extra_dim"];if(t.push({originalPath:"Output/extra_dim",paramPath:"output_layer/extra_dim"}),!S2(a))throw new Error("expected weightMap['Output/extra_dim'] to be a Tensor3D, instead have "+a);var o={mobilenetv1:n(),prediction_layer:i(),output_layer:{extra_dim:a}};return Vu(e,t),{params:o,paramMappings:t}}function ml(e,t,r){return nt(function(){var n=ps(e,t.filters,r,"same");return n=rr(n,t.batch_norm_offset),ON(n,0,6)})}var Dve=.0010000000474974513;function jve(e,t,r){return nt(function(){var n=x2(e,t.filters,r,"same");return n=s9(n,t.batch_norm_mean,t.batch_norm_variance,t.batch_norm_offset,t.batch_norm_scale,Dve),ON(n,0,6)})}function Mve(e){return[2,4,6,12].some(function(t){return t===e})?[2,2]:[1,1]}function Qve(e,t){return nt(function(){var r=null,n=ml(e,t.conv_0,[2,2]),i=[t.conv_1,t.conv_2,t.conv_3,t.conv_4,t.conv_5,t.conv_6,t.conv_7,t.conv_8,t.conv_9,t.conv_10,t.conv_11,t.conv_12,t.conv_13];if(i.forEach(function(a,o){var s=o+1,l=Mve(s);n=jve(n,a.depthwise_conv,l),n=ml(n,a.pointwise_conv,[1,1]),s===11&&(r=n)}),r===null)throw new Error("mobileNetV1 - output of conv layer 11 is null");return{out:n,conv11:r}})}function Hve(e,t,r,n,i){var a=e.shape[0],o=Math.min(r,a),s=t.map(function(c,A){return{score:c,boxIndex:A}}).filter(function(c){return c.score>i}).sort(function(c,A){return A.score-c.score}),l=function(c){return c<=n?1:0},u=[];return s.forEach(function(c){if(!(u.length>=o)){for(var A=c.score,d=u.length-1;d>=0;--d){var f=$ve(e,c.boxIndex,u[d]);if(f!==0&&(c.score*=l(f),c.score<=i))break}A===c.score&&u.push(c.boxIndex)}}),u}function $ve(e,t,r){var n=e.arraySync(),i=Math.min(n[t][0],n[t][2]),a=Math.min(n[t][1],n[t][3]),o=Math.max(n[t][0],n[t][2]),s=Math.max(n[t][1],n[t][3]),l=Math.min(n[r][0],n[r][2]),u=Math.min(n[r][1],n[r][3]),c=Math.max(n[r][0],n[r][2]),A=Math.max(n[r][1],n[r][3]),d=(o-i)*(s-a),f=(c-l)*(A-u);if(d<=0||f<=0)return 0;var p=Math.max(i,l),g=Math.max(a,u),v=Math.min(o,c),m=Math.min(s,A),y=Math.max(v-p,0)*Math.max(m-g,0);return y/(d+f-y)}function Wve(e){var t=hi(oA(e,[1,0])),r=[mi(t[2],t[0]),mi(t[3],t[1])],n=[rr(t[0],_s(r[0],Xe(2))),rr(t[1],_s(r[1],Xe(2)))];return{sizes:r,centers:n}}function Kve(e,t){var r=Wve(e),n=r.sizes,i=r.centers,a=hi(oA(t,[1,0])),o=_s(va(RS(_s(a[2],Xe(5))),n[0]),Xe(2)),s=rr(va(_s(a[0],Xe(10)),n[0]),i[0]),l=_s(va(RS(_s(a[3],Xe(5))),n[1]),Xe(2)),u=rr(va(_s(a[1],Xe(10)),n[1]),i[1]);return oA(Po([mi(s,o),mi(u,l),rr(s,o),rr(u,l)]),[1,0])}function zve(e,t,r){return nt(function(){var n=e.shape[0],i=Kve(Ls(ih(r.extra_dim,[n,1,1]),[-1,4]),Ls(e,[-1,4]));i=Ls(i,[n,i.shape[0]/n,4]);var a=n9(Pl(t,[0,0,1],[-1,-1,-1])),o=Pl(a,[0,0,0],[-1,-1,1]);o=Ls(o,[n,o.shape[1]]);var s=hi(i),l=hi(o);return{boxes:s,scores:l}})}function md(e,t){return nt(function(){var r=e.shape[0],n=Ls(js(e,t.box_encoding_predictor),[r,-1,1,4]),i=Ls(js(e,t.class_predictor),[r,-1,3]);return{boxPredictionEncoding:n,classPrediction:i}})}function Vve(e,t,r){return nt(function(){var n=ml(e,r.conv_0,[1,1]),i=ml(n,r.conv_1,[2,2]),a=ml(i,r.conv_2,[1,1]),o=ml(a,r.conv_3,[2,2]),s=ml(o,r.conv_4,[1,1]),l=ml(s,r.conv_5,[2,2]),u=ml(l,r.conv_6,[1,1]),c=ml(u,r.conv_7,[2,2]),A=md(t,r.box_predictor_0),d=md(e,r.box_predictor_1),f=md(i,r.box_predictor_2),p=md(o,r.box_predictor_3),g=md(l,r.box_predictor_4),v=md(c,r.box_predictor_5),m=di([A.boxPredictionEncoding,d.boxPredictionEncoding,f.boxPredictionEncoding,p.boxPredictionEncoding,g.boxPredictionEncoding,v.boxPredictionEncoding],1),y=di([A.classPrediction,d.classPrediction,f.classPrediction,p.classPrediction,g.classPrediction,v.classPrediction],1);return{boxPredictions:m,classPredictions:y}})}var _2=function(){function e(t){var r=t===void 0?{}:t,n=r.minConfidence,i=r.maxResults;if(this._name="SsdMobilenetv1Options",this._minConfidence=n||.5,this._maxResults=i||100,typeof this._minConfidence!="number"||this._minConfidence<=0||this._minConfidence>=1)throw new Error(this._name+" - expected minConfidence to be a number between 0 and 1");if(typeof this._maxResults!="number")throw new Error(this._name+" - expected maxResults to be a number")}return Object.defineProperty(e.prototype,"minConfidence",{get:function(){return this._minConfidence},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxResults",{get:function(){return this._maxResults},enumerable:!0,configurable:!0}),e}(),h$=function(e){Wt(t,e);function t(){return e.call(this,"SsdMobilenetv1")||this}return t.prototype.forwardInput=function(r){var n=this.params;if(!n)throw new Error("SsdMobilenetv1 - load model before inference");return nt(function(){var i=r.toBatchTensor(512,!1).toFloat(),a=mi(va(i,Xe(.007843137718737125)),Xe(1)),o=Qve(a,n.mobilenetv1),s=Vve(o.out,o.conv11,n.prediction_layer),l=s.boxPredictions,u=s.classPredictions;return zve(l,u,n.output_layer)})},t.prototype.forward=function(r){return xt(this,void 0,void 0,function(){var n;return bt(this,function(i){switch(i.label){case 0:return n=this.forwardInput,[4,Oi(r)];case 1:return[2,n.apply(this,[i.sent()])]}})})},t.prototype.locateFaces=function(r,n){return n===void 0&&(n={}),xt(this,void 0,void 0,function(){var i,a,o,s,l,u,c,A,d,f,p,g,v,m,y,w,b,B,S,P,k;return bt(this,function(I){switch(I.label){case 0:return i=new _2(n),a=i.maxResults,o=i.minConfidence,[4,Oi(r)];case 1:for(s=I.sent(),l=this.forwardInput(s),u=l.boxes,c=l.scores,A=u[0],d=c[0],f=1;f<u.length;f++)u[f].dispose(),c[f].dispose();return v=(g=Array).from,[4,d.data()];case 2:return p=v.apply(g,[I.sent()]),m=.5,y=Hve(A,p,a,m,o),w=s.getReshapedInputDimensions(0),b=s.inputSize,B=b/w.width,S=b/w.height,P=A.arraySync(),k=y.map(function(O){var F=[Math.max(0,P[O][0]),Math.min(1,P[O][2])].map(function(W){return W*S}),N=F[0],U=F[1],M=[Math.max(0,P[O][1]),Math.min(1,P[O][3])].map(function(W){return W*B}),V=M[0],Q=M[1];return new Hl(p[O],new XN(V,N,Q-V,U-N),{height:s.getInputHeight(0),width:s.getInputWidth(0)})}),A.dispose(),d.dispose(),[2,k]}})})},t.prototype.getDefaultModelName=function(){return"ssd_mobilenetv1_model"},t.prototype.extractParamsFromWeigthMap=function(r){return Rve(r)},t.prototype.extractParams=function(r){return Lve(r)},t}(zu);(function(e){Wt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t})(h$);var Gve=.4,qve=[new vr(.738768,.874946),new vr(2.42204,2.65704),new vr(4.30971,7.04493),new vr(10.246,4.59428),new vr(12.6868,11.8741)],Xve=[new vr(1.603231,2.094468),new vr(6.041143,7.080126),new vr(2.882459,3.518061),new vr(4.266906,5.178857),new vr(9.041765,10.66308)],Yve=[117.001,114.697,97.404],Jve="tiny_yolov2_model",Zve="tiny_yolov2_separable_conv_model",_y=function(e){return typeof e=="number"};function e0e(e){if(!e)throw new Error("invalid config: "+e);if(typeof e.withSeparableConvs!="boolean")throw new Error("config.withSeparableConvs has to be a boolean, have: "+e.withSeparableConvs);if(!_y(e.iouThreshold)||e.iouThreshold<0||e.iouThreshold>1)throw new Error("config.iouThreshold has to be a number between [0, 1], have: "+e.iouThreshold);if(!Array.isArray(e.classes)||!e.classes.length||!e.classes.every(function(t){return typeof t=="string"}))throw new Error("config.classes has to be an array class names: string[], have: "+JSON.stringify(e.classes));if(!Array.isArray(e.anchors)||!e.anchors.length||!e.anchors.map(function(t){return t||{}}).every(function(t){return _y(t.x)&&_y(t.y)}))throw new Error("config.anchors has to be an array of { x: number, y: number }, have: "+JSON.stringify(e.anchors));if(e.meanRgb&&(!Array.isArray(e.meanRgb)||e.meanRgb.length!==3||!e.meanRgb.every(_y)))throw new Error("config.meanRgb has to be an array of shape [number, number, number], have: "+JSON.stringify(e.meanRgb))}function sF(e){return nt(function(){var t=va(e,Xe(.10000000149011612));return rr(hn(mi(e,t)),t)})}function wc(e,t){return nt(function(){var r=jf(e,[[0,0],[1,1],[1,1],[0,0]]);return r=ps(r,t.conv.filters,[1,1],"valid"),r=mi(r,t.bn.sub),r=va(r,t.bn.truediv),r=rr(r,t.conv.bias),sF(r)})}function xc(e,t){return nt(function(){var r=jf(e,[[0,0],[1,1],[1,1],[0,0]]);return r=RN(r,t.depthwise_filter,t.pointwise_filter,[1,1],"valid"),r=rr(r,t.bias),sF(r)})}function t0e(e,t){var r=I2(e,t);function n(o,s){var l=Xn(e(o)),u=Xn(e(o));return t.push({paramPath:s+"/sub"},{paramPath:s+"/truediv"}),{sub:l,truediv:u}}function i(o,s,l){var u=r(o,s,3,l+"/conv"),c=n(s,l+"/bn");return{conv:u,bn:c}}var a=nF(e,t);return{extractConvParams:r,extractConvWithBatchNormParams:i,extractSeparableConvParams:a}}function r0e(e,t,r,n){var i=Gu(e),a=i.extractWeights,o=i.getRemainingWeights,s=[],l=t0e(a,s),u=l.extractConvParams,c=l.extractConvWithBatchNormParams,A=l.extractSeparableConvParams,d;if(t.withSeparableConvs){var f=n[0],p=n[1],g=n[2],v=n[3],m=n[4],y=n[5],w=n[6],b=n[7],B=n[8],S=t.isFirstLayerConv2d?u(f,p,3,"conv0"):A(f,p,"conv0"),P=A(p,g,"conv1"),k=A(g,v,"conv2"),I=A(v,m,"conv3"),O=A(m,y,"conv4"),F=A(y,w,"conv5"),N=b?A(w,b,"conv6"):void 0,U=B?A(b,B,"conv7"):void 0,M=u(B||b||w,5*r,1,"conv8");d={conv0:S,conv1:P,conv2:k,conv3:I,conv4:O,conv5:F,conv6:N,conv7:U,conv8:M}}else{var f=n[0],p=n[1],g=n[2],v=n[3],m=n[4],y=n[5],w=n[6],b=n[7],B=n[8],S=c(f,p,"conv0"),P=c(p,g,"conv1"),k=c(g,v,"conv2"),I=c(v,m,"conv3"),O=c(m,y,"conv4"),F=c(y,w,"conv5"),N=c(w,b,"conv6"),U=c(b,B,"conv7"),M=u(B,5*r,1,"conv8");d={conv0:S,conv1:P,conv2:k,conv3:I,conv4:O,conv5:F,conv6:N,conv7:U,conv8:M}}if(o().length!==0)throw new Error("weights remaing after extract: "+o().length);return{params:d,paramMappings:s}}function n0e(e,t){var r=hA(e,t);function n(s){var l=r(s+"/sub",1),u=r(s+"/truediv",1);return{sub:l,truediv:u}}function i(s){var l=r(s+"/filters",4),u=r(s+"/bias",1);return{filters:l,bias:u}}function a(s){var l=i(s+"/conv"),u=n(s+"/bn");return{conv:l,bn:u}}var o=iF(r);return{extractConvParams:i,extractConvWithBatchNormParams:a,extractSeparableConvParams:o}}function i0e(e,t){var r=[],n=n0e(e,r),i=n.extractConvParams,a=n.extractConvWithBatchNormParams,o=n.extractSeparableConvParams,s;if(t.withSeparableConvs){var l=t.filterSizes&&t.filterSizes.length||9;s={conv0:t.isFirstLayerConv2d?i("conv0"):o("conv0"),conv1:o("conv1"),conv2:o("conv2"),conv3:o("conv3"),conv4:o("conv4"),conv5:o("conv5"),conv6:l>7?o("conv6"):void 0,conv7:l>8?o("conv7"):void 0,conv8:i("conv8")}}else s={conv0:a("conv0"),conv1:a("conv1"),conv2:a("conv2"),conv3:a("conv3"),conv4:a("conv4"),conv5:a("conv5"),conv6:a("conv6"),conv7:a("conv7"),conv8:i("conv8")};return Vu(e,r),{params:s,paramMappings:r}}var JL;(function(e){e[e.XS=224]="XS",e[e.SM=320]="SM",e[e.MD=416]="MD",e[e.LG=608]="LG"})(JL||(JL={}));var lF=function(){function e(t){var r=t===void 0?{}:t,n=r.inputSize,i=r.scoreThreshold;if(this._name="TinyYolov2Options",this._inputSize=n||416,this._scoreThreshold=i||.5,typeof this._inputSize!="number"||this._inputSize%32!==0)throw new Error(this._name+" - expected inputSize to be a number divisible by 32");if(typeof this._scoreThreshold!="number"||this._scoreThreshold<=0||this._scoreThreshold>=1)throw new Error(this._name+" - expected scoreThreshold to be a number between 0 and 1")}return Object.defineProperty(e.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scoreThreshold",{get:function(){return this._scoreThreshold},enumerable:!0,configurable:!0}),e}(),p$=function(e){Wt(t,e);function t(r){var n=e.call(this,"TinyYolov2")||this;return e0e(r),n._config=r,n}return Object.defineProperty(t.prototype,"config",{get:function(){return this._config},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"withClassScores",{get:function(){return this.config.withClassScores||this.config.classes.length>1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"boxEncodingSize",{get:function(){return 5+(this.withClassScores?this.config.classes.length:0)},enumerable:!0,configurable:!0}),t.prototype.runTinyYolov2=function(r,n){var i=wc(r,n.conv0);return i=Ni(i,[2,2],[2,2],"same"),i=wc(i,n.conv1),i=Ni(i,[2,2],[2,2],"same"),i=wc(i,n.conv2),i=Ni(i,[2,2],[2,2],"same"),i=wc(i,n.conv3),i=Ni(i,[2,2],[2,2],"same"),i=wc(i,n.conv4),i=Ni(i,[2,2],[2,2],"same"),i=wc(i,n.conv5),i=Ni(i,[2,2],[1,1],"same"),i=wc(i,n.conv6),i=wc(i,n.conv7),js(i,n.conv8,"valid",!1)},t.prototype.runMobilenet=function(r,n){var i=this.config.isFirstLayerConv2d?sF(js(r,n.conv0,"valid",!1)):xc(r,n.conv0);return i=Ni(i,[2,2],[2,2],"same"),i=xc(i,n.conv1),i=Ni(i,[2,2],[2,2],"same"),i=xc(i,n.conv2),i=Ni(i,[2,2],[2,2],"same"),i=xc(i,n.conv3),i=Ni(i,[2,2],[2,2],"same"),i=xc(i,n.conv4),i=Ni(i,[2,2],[2,2],"same"),i=xc(i,n.conv5),i=Ni(i,[2,2],[1,1],"same"),i=n.conv6?xc(i,n.conv6):i,i=n.conv7?xc(i,n.conv7):i,js(i,n.conv8,"valid",!1)},t.prototype.forwardInput=function(r,n){var i=this,a=this.params;if(!a)throw new Error("TinyYolov2 - load model before inference");return nt(function(){var o=r.toBatchTensor(n,!1).toFloat();return o=i.config.meanRgb?cv(o,i.config.meanRgb):o,o=o.div(Xe(256)),i.config.withSeparableConvs?i.runMobilenet(o,a):i.runTinyYolov2(o,a)})},t.prototype.forward=function(r,n){return xt(this,void 0,void 0,function(){var i;return bt(this,function(a){switch(a.label){case 0:return i=this.forwardInput,[4,Oi(r)];case 1:return[4,i.apply(this,[a.sent(),n])];case 2:return[2,a.sent()]}})})},t.prototype.detect=function(r,n){return n===void 0&&(n={}),xt(this,void 0,void 0,function(){var i,a,o,s,l,u,c,A,d,f,p,g,v,m,y=this;return bt(this,function(w){switch(w.label){case 0:return i=new lF(n),a=i.inputSize,o=i.scoreThreshold,[4,Oi(r)];case 1:return s=w.sent(),[4,this.forwardInput(s,a)];case 2:return l=w.sent(),u=nt(function(){return hi(l)[0].expandDims()}),c={width:s.getInputWidth(0),height:s.getInputHeight(0)},[4,this.extractBoxes(u,s.getReshapedInputDimensions(0),o)];case 3:return A=w.sent(),l.dispose(),u.dispose(),d=A.map(function(b){return b.box}),f=A.map(function(b){return b.score}),p=A.map(function(b){return b.classScore}),g=A.map(function(b){return y.config.classes[b.label]}),v=Bg(d.map(function(b){return b.rescale(a)}),f,this.config.iouThreshold,!0),m=v.map(function(b){return new Q9(f[b],p[b],g[b],d[b],c)}),[2,m]}})})},t.prototype.getDefaultModelName=function(){return""},t.prototype.extractParamsFromWeigthMap=function(r){return i0e(r,this.config)},t.prototype.extractParams=function(r){var n=this.config.filterSizes||t.DEFAULT_FILTER_SIZES,i=n?n.length:void 0;if(i!==7&&i!==8&&i!==9)throw new Error("TinyYolov2 - expected 7 | 8 | 9 convolutional filters, but found "+i+" filterSizes in config");return r0e(r,this.config,this.boxEncodingSize,n)},t.prototype.extractBoxes=function(r,n,i){return xt(this,void 0,void 0,function(){var a,o,s,l,u,c,A,d,f,p,g,v,m,y,w,b,B,S,P,k,I,O,F,N,U,M,V,Q,W,D=this;return bt(this,function(K){switch(K.label){case 0:return a=n.width,o=n.height,s=Math.max(a,o),l=s/a,u=s/o,c=r.shape[1],A=this.config.anchors.length,d=nt(function(){var ie=r.reshape([c,c,A,D.boxEncodingSize]),ee=ie.slice([0,0,0,0],[c,c,A,4]),L=ie.slice([0,0,0,4],[c,c,A,1]),j=D.withClassScores?Wu(ie.slice([0,0,0,5],[c,c,A,D.config.classes.length]),3):Xe(0);return[ee,L,j]}),f=d[0],p=d[1],g=d[2],v=[],[4,p.array()];case 1:return m=K.sent(),[4,f.array()];case 2:y=K.sent(),w=0,K.label=3;case 3:if(!(w<c))return[3,12];b=0,K.label=4;case 4:if(!(b<c))return[3,11];B=0,K.label=5;case 5:return B<A?(S=u5(m[w][b][B][0]),!i||S>i?(P=(b+u5(y[w][b][B][0]))/c*l,k=(w+u5(y[w][b][B][1]))/c*u,I=Math.exp(y[w][b][B][2])*this.config.anchors[B].x/c*l,O=Math.exp(y[w][b][B][3])*this.config.anchors[B].y/c*u,F=P-I/2,N=k-O/2,U={row:w,col:b,anchor:B},this.withClassScores?[4,this.extractPredictedClass(g,U)]:[3,7]):[3,9]):[3,10];case 6:return W=K.sent(),[3,8];case 7:W={classScore:1,label:0},K.label=8;case 8:M=W,V=M.classScore,Q=M.label,v.push(da({box:new N2(F,N,F+I,N+O),score:S,classScore:S*V,label:Q},U)),K.label=9;case 9:return B++,[3,5];case 10:return b++,[3,4];case 11:return w++,[3,3];case 12:return f.dispose(),p.dispose(),g.dispose(),[2,v]}})})},t.prototype.extractPredictedClass=function(r,n){return xt(this,void 0,void 0,function(){var i,a,o,s;return bt(this,function(l){switch(l.label){case 0:return i=n.row,a=n.col,o=n.anchor,[4,r.array()];case 1:return s=l.sent(),[2,Array(this.config.classes.length).fill(0).map(function(u,c){return s[i][a][o][c]}).map(function(u,c){return{classScore:u,label:c}}).reduce(function(u,c){return u.classScore>c.classScore?u:c})]}})})},t.DEFAULT_FILTER_SIZES=[3,16,32,64,128,256,512,1024,1024],t}(zu),a0e=function(e){Wt(t,e);function t(r){r===void 0&&(r=!0);var n=this,i=Object.assign({},{withSeparableConvs:r,iouThreshold:Gve,classes:["face"]},r?{anchors:Xve,meanRgb:Yve}:{anchors:qve,withClassScores:!0});return n=e.call(this,i)||this,n}return Object.defineProperty(t.prototype,"withSeparableConvs",{get:function(){return this.config.withSeparableConvs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),t.prototype.locateFaces=function(r,n){return xt(this,void 0,void 0,function(){var i;return bt(this,function(a){switch(a.label){case 0:return[4,this.detect(r,n)];case 1:return i=a.sent(),[2,i.map(function(o){return new Hl(o.score,o.relativeBox,{width:o.imageWidth,height:o.imageHeight})})]}})})},t.prototype.getDefaultModelName=function(){return this.withSeparableConvs?Zve:Jve},t.prototype.extractParamsFromWeigthMap=function(r){return e.prototype.extractParamsFromWeigthMap.call(this,r)},t}(p$),m$=function(e){Wt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r._name="TinyFaceDetectorOptions",r}return t}(lF),Av=function(){function e(){}return e.prototype.then=function(t){return xt(this,void 0,void 0,function(){var r;return bt(this,function(n){switch(n.label){case 0:return r=t,[4,this.run()];case 1:return[2,r.apply(void 0,[n.sent()])]}})})},e.prototype.run=function(){return xt(this,void 0,void 0,function(){return bt(this,function(t){throw new Error("ComposableTask - run is not implemented")})})},e}();function k2(e,t,r,n,i){return i===void 0&&(i=function(a){var o=a.alignedRect;return o}),xt(this,void 0,void 0,function(){var a,o,s,l,u;return bt(this,function(c){switch(c.label){case 0:return a=e.map(function(A){return dve(A)?i(A):A.detection}),s=n,s?[3,5]:t instanceof dn?[4,tF(t,a)]:[3,2];case 1:return l=c.sent(),[3,4];case 2:return[4,eF(t,a)];case 3:l=c.sent(),c.label=4;case 4:s=l,c.label=5;case 5:return o=s,[4,r(o)];case 6:return u=c.sent(),o.forEach(function(A){return A instanceof dn&&A.dispose()}),[2,u]}})})}function uF(e,t,r,n,i){return xt(this,void 0,void 0,function(){var a=this;return bt(this,function(o){return[2,k2([e],t,function(s){return xt(a,void 0,void 0,function(){return bt(this,function(l){return[2,r(s[0])]})})},n,i)]})})}function o0e(e){return nt(function(){return Po(hi(e,3).reverse(),3)})}var ky=2,Rw=12;function s0e(e,t){var r=I2(e,t),n=rF(e,t);function i(u,c){var A=Xn(e(u));return t.push({paramPath:c}),A}function a(u,c,A){A===void 0&&(A=!1);var d=r(u[0],u[1],3,c+"/conv1"),f=i(u[1],c+"/prelu1_alpha"),p=r(u[1],u[2],3,c+"/conv2"),g=i(u[2],c+"/prelu2_alpha"),v=r(u[2],u[3],A?2:3,c+"/conv3"),m=i(u[3],c+"/prelu3_alpha");return{conv1:d,prelu1_alpha:f,conv2:p,prelu2_alpha:g,conv3:v,prelu3_alpha:m}}function o(){var u=a([3,10,16,32],"pnet"),c=r(32,2,1,"pnet/conv4_1"),A=r(32,4,1,"pnet/conv4_2");return da(da({},u),{conv4_1:c,conv4_2:A})}function s(){var u=a([3,28,48,64],"rnet",!0),c=n(576,128,"rnet/fc1"),A=i(128,"rnet/prelu4_alpha"),d=n(128,2,"rnet/fc2_1"),f=n(128,4,"rnet/fc2_2");return da(da({},u),{fc1:c,prelu4_alpha:A,fc2_1:d,fc2_2:f})}function l(){var u=a([3,32,64,64],"onet"),c=r(64,128,2,"onet/conv4"),A=i(128,"onet/prelu4_alpha"),d=n(1152,256,"onet/fc1"),f=i(256,"onet/prelu5_alpha"),p=n(256,2,"onet/fc2_1"),g=n(256,4,"onet/fc2_2"),v=n(256,10,"onet/fc2_3");return da(da({},u),{conv4:c,prelu4_alpha:A,fc1:d,prelu5_alpha:f,fc2_1:p,fc2_2:g,fc2_3:v})}return{extractPNetParams:o,extractRNetParams:s,extractONetParams:l}}function l0e(e){var t=Gu(e),r=t.extractWeights,n=t.getRemainingWeights,i=[],a=s0e(r,i),o=a.extractPNetParams,s=a.extractRNetParams,l=a.extractONetParams,u=o(),c=s(),A=l();if(n().length!==0)throw new Error("weights remaing after extract: "+n().length);return{params:{pnet:u,rnet:c,onet:A},paramMappings:i}}function u0e(e,t){var r=hA(e,t);function n(c){var A=r(c+"/weights",4,c+"/filters"),d=r(c+"/bias",1);return{filters:A,bias:d}}function i(c){var A=r(c+"/weights",2),d=r(c+"/bias",1);return{weights:A,bias:d}}function a(c){return r(c,1)}function o(c){var A=n(c+"/conv1"),d=a(c+"/prelu1_alpha"),f=n(c+"/conv2"),p=a(c+"/prelu2_alpha"),g=n(c+"/conv3"),v=a(c+"/prelu3_alpha");return{conv1:A,prelu1_alpha:d,conv2:f,prelu2_alpha:p,conv3:g,prelu3_alpha:v}}function s(){var c=o("pnet"),A=n("pnet/conv4_1"),d=n("pnet/conv4_2");return da(da({},c),{conv4_1:A,conv4_2:d})}function l(){var c=o("rnet"),A=i("rnet/fc1"),d=a("rnet/prelu4_alpha"),f=i("rnet/fc2_1"),p=i("rnet/fc2_2");return da(da({},c),{fc1:A,prelu4_alpha:d,fc2_1:f,fc2_2:p})}function u(){var c=o("onet"),A=n("onet/conv4"),d=a("onet/prelu4_alpha"),f=i("onet/fc1"),p=a("onet/prelu5_alpha"),g=i("onet/fc2_1"),v=i("onet/fc2_2"),m=i("onet/fc2_3");return da(da({},c),{conv4:A,prelu4_alpha:d,fc1:f,prelu5_alpha:p,fc2_1:g,fc2_2:v,fc2_3:m})}return{extractPNetParams:s,extractRNetParams:l,extractONetParams:u}}function c0e(e){var t=[],r=u0e(e,t),n=r.extractPNetParams,i=r.extractRNetParams,a=r.extractONetParams,o=n(),s=i(),l=a();return Vu(e,t),{params:{pnet:o,rnet:s,onet:l},paramMappings:t}}function KS(e,t){var r=t[0],n=t[1];return{height:Math.floor(r*e),width:Math.floor(n*e)}}function A0e(e,t,r){for(var n=r[0],i=r[1],a=Rw/e,o=[],s=Math.min(n,i)*a,l=0;s>=12;)o.push(a*Math.pow(t,l)),s=s*t,l+=1;return o}var cF=function(e){Wt(t,e);function t(r,n,i,a){return e.call(this,{left:r,top:n,right:i,bottom:a},!0)||this}return t}(sA);function g$(e){return nt(function(){return va(mi(e,Xe(127.5)),Xe(.0078125))})}function ch(e,t){return nt(function(){return rr(hn(e),va(t,_w(hn(_w(e)))))})}function AF(e,t,r){return r===void 0&&(r=!1),nt(function(){var n=js(e,t.conv1,"valid");return n=ch(n,t.prelu1_alpha),n=Ni(n,r?[2,2]:[3,3],[2,2],"same"),n=js(n,t.conv2,"valid"),n=ch(n,t.prelu2_alpha),n=r?n:Ni(n,[3,3],[2,2],"valid"),n=js(n,t.conv3,"valid"),n=ch(n,t.prelu3_alpha),n})}function f0e(e,t){return nt(function(){var r=AF(e,t,!0),n=js(r,t.conv4_1,"valid"),i=es(B2(n,3),3),a=Wu(mi(n,i),3),o=js(r,t.conv4_2,"valid");return{prob:a,regions:o}})}function d0e(e,t){return nt(function(){var r=KS(t,e.shape.slice(1)),n=r.height,i=r.width,a=HN.resizeBilinear(e,[n,i]),o=g$(a);return oA(o,[0,2,1,3])})}function h0e(e,t,r,n){for(var i=[],a=e.arraySync(),o=0;o<e.shape[0];o++)for(var s=0;s<e.shape[1];s++)a[o][s]>=n&&i.push(new vr(s,o));var l=i.map(function(u){var c=new N2(Math.round((u.y*ky+1)/r),Math.round((u.x*ky+1)/r),Math.round((u.y*ky+Rw)/r),Math.round((u.x*ky+Rw)/r)),A=a[u.y][u.x],d=t.arraySync(),f=new cF(d[u.y][u.x][0],d[u.y][u.x][1],d[u.y][u.x][2],d[u.y][u.x][3]);return{cell:c,score:A,region:f}});return l}function p0e(e,t,r,n,i){i.stage1=[];var a=t.map(function(d){return nt(function(){var f={scale:d},p=d0e(e,d),g=Date.now(),v=f0e(p,n),m=v.prob,y=v.regions;f.pnet=Date.now()-g;var w=hi(hi(m,3)[1])[0],b=hi(y)[0];return{scoresTensor:w,regionsTensor:b,scale:d,statsForScale:f}})}),o=a.map(function(d){var f=d.scoresTensor,p=d.regionsTensor,g=d.scale,v=d.statsForScale,m=h0e(f,p,g,r);if(f.dispose(),p.dispose(),!m.length)return i.stage1.push(v),[];var y=Date.now(),w=Bg(m.map(function(b){return b.cell}),m.map(function(b){return b.score}),.5);return v.nms=Date.now()-y,v.numBoxes=w.length,i.stage1.push(v),w.map(function(b){return m[b]})}),s=o.reduce(function(d,f){return d.concat(f)},[]),l=[],u=[];if(s.length>0){var c=Date.now(),A=Bg(s.map(function(d){return d.cell}),s.map(function(d){return d.score}),.7);i.stage1_nms=Date.now()-c,u=A.map(function(d){return s[d].score}),l=A.map(function(d){return s[d]}).map(function(d){var f=d.cell,p=d.region;return new N2(f.left+p.left*f.width,f.top+p.top*f.height,f.right+p.right*f.width,f.bottom+p.bottom*f.height).toSquare().round()})}return{boxes:l,scores:u}}function v$(e,t,r){var n=r.width,i=r.height;return xt(this,void 0,void 0,function(){var a,o,s,l=this;return bt(this,function(u){switch(u.label){case 0:return a=Cf(e),[4,Promise.all(t.map(function(c){return xt(l,void 0,void 0,function(){var A,d,f,p,g,v,m,y;return bt(this,function(w){return A=c.padAtBorders(e.height,e.width),d=A.y,f=A.ey,p=A.x,g=A.ex,v=p-1,m=d-1,y=a.getImageData(v,m,g-v,f-m),[2,wa.isNodejs()?ZN(y):createImageBitmap(y)]})})}))];case 1:return o=u.sent(),s=[],o.forEach(function(c){var A=F2({width:n,height:i}),d=Cf(A);d.drawImage(c,0,0,n,i);for(var f=d.getImageData(0,0,n,i).data,p=[],g=0;g<f.length;g+=4)p.push(f[g+2]),p.push(f[g+1]),p.push(f[g]);s.push(p)}),[2,s.map(function(c){var A=nt(function(){var d=oA(Wa(c,[1,n,i,3]),[0,2,1,3]).toFloat();return g$(d)});return A})]}})})}function m0e(e,t){return nt(function(){var r=AF(e,t),n=Ls(r,[r.shape[0],t.fc1.weights.shape[0]]),i=Cl(n,t.fc1),a=ch(i,t.prelu4_alpha),o=Cl(a,t.fc2_1),s=es(B2(o,1),1),l=Wu(mi(o,s),1),u=Cl(a,t.fc2_2),c=hi(l,1)[1];return{scores:c,regions:u}})}function g0e(e,t,r,n,i){return xt(this,void 0,void 0,function(){var a,o,s,l,u,c,A,d,f,p,g,v,m,y;return bt(this,function(w){switch(w.label){case 0:return a=Date.now(),[4,v$(e,t,{width:24,height:24})];case 1:return o=w.sent(),i.stage2_extractImagePatches=Date.now()-a,a=Date.now(),s=o.map(function(b){var B=m0e(b,n);return b.dispose(),B}),i.stage2_rnet=Date.now()-a,l=s.length>1?di(s.map(function(b){return b.scores})):s[0].scores,A=(c=Array).from,[4,l.data()];case 2:return u=A.apply(c,[w.sent()]),l.dispose(),d=u.map(function(b,B){return{score:b,idx:B}}).filter(function(b){return b.score>r}).map(function(b){var B=b.idx;return B}),f=d.map(function(b){return t[b]}),p=d.map(function(b){return u[b]}),g=[],v=[],f.length>0&&(a=Date.now(),m=Bg(f,p,.7),i.stage2_nms=Date.now()-a,y=m.map(function(b){var B=s[d[b]].regions.arraySync();return new cF(B[0][0],B[0][1],B[0][2],B[0][3])}),v=m.map(function(b){return p[b]}),g=m.map(function(b,B){return f[b].calibrate(y[B])})),s.forEach(function(b){b.regions.dispose(),b.scores.dispose()}),[2,{boxes:g,scores:v}]}})})}function v0e(e,t){return nt(function(){var r=AF(e,t);r=Ni(r,[2,2],[2,2],"same"),r=js(r,t.conv4,"valid"),r=ch(r,t.prelu4_alpha);var n=Ls(r,[r.shape[0],t.fc1.weights.shape[0]]),i=Cl(n,t.fc1),a=ch(i,t.prelu5_alpha),o=Cl(a,t.fc2_1),s=es(B2(o,1),1),l=Wu(mi(o,s),1),u=Cl(a,t.fc2_2),c=Cl(a,t.fc2_3),A=hi(l,1)[1];return{scores:A,regions:u,points:c}})}function y0e(e,t,r,n,i){return xt(this,void 0,void 0,function(){var a,o,s,l,u,c,A,d,f,p,g,v,m,y,w;return bt(this,function(b){switch(b.label){case 0:return a=Date.now(),[4,v$(e,t,{width:48,height:48})];case 1:return o=b.sent(),i.stage3_extractImagePatches=Date.now()-a,a=Date.now(),s=o.map(function(B){var S=v0e(B,n);return B.dispose(),S}),i.stage3_onet=Date.now()-a,l=s.length>1?di(s.map(function(B){return B.scores})):s[0].scores,A=(c=Array).from,[4,l.data()];case 2:return u=A.apply(c,[b.sent()]),l.dispose(),d=u.map(function(B,S){return{score:B,idx:S}}).filter(function(B){return B.score>r}).map(function(B){var S=B.idx;return S}),f=d.map(function(B){var S=s[B].regions.arraySync();return new cF(S[0][0],S[0][1],S[0][2],S[0][3])}),p=d.map(function(B,S){return t[B].calibrate(f[S])}),g=d.map(function(B){return u[B]}),v=[],m=[],y=[],p.length>0&&(a=Date.now(),w=Bg(p,g,.7,!1),i.stage3_nms=Date.now()-a,v=w.map(function(B){return p[B]}),m=w.map(function(B){return g[B]}),y=w.map(function(B,S){return Array(5).fill(0).map(function(P,k){var I=s[B].points.arraySync();return new vr(I[0][k]*(v[S].width+1)+v[S].left,I[0][k+5]*(v[S].height+1)+v[S].top)})})),s.forEach(function(B){B.regions.dispose(),B.scores.dispose(),B.points.dispose()}),[2,{boxes:v,scores:m,points:y}]}})})}var w0e=function(e){Wt(t,e);function t(){return e.call(this,"Mtcnn")||this}return t.prototype.load=function(r){return xt(this,void 0,void 0,function(){return bt(this,function(n){return console.warn("mtcnn is deprecated and will be removed soon"),[2,e.prototype.load.call(this,r)]})})},t.prototype.loadFromDisk=function(r){return xt(this,void 0,void 0,function(){return bt(this,function(n){return console.warn("mtcnn is deprecated and will be removed soon"),[2,e.prototype.loadFromDisk.call(this,r)]})})},t.prototype.forwardInput=function(r,n){return n===void 0&&(n={}),xt(this,void 0,void 0,function(){var i,a,o,s,l,u,c,A,d,f,p,g,v,m,y,w,b,B,S,P,k;return bt(this,function(I){switch(I.label){case 0:if(i=this.params,!i)throw new Error("Mtcnn - load model before inference");if(a=r.canvases[0],!a)throw new Error("Mtcnn - inputCanvas is not defined, note that passing tensors into Mtcnn.forwardInput is not supported yet.");return o={},s=Date.now(),l=nt(function(){return o0e(es(GN.fromPixels(a)).toFloat())}),u=function(O){return l.dispose(),o.total=Date.now()-s,O},c=l.shape.slice(1),A=c[0],d=c[1],f=new d$(n),p=f.minFaceSize,g=f.scaleFactor,v=f.maxNumScales,m=f.scoreThresholds,y=f.scaleSteps,w=(y||A0e(p,g,[A,d])).filter(function(O){var F=KS(O,[A,d]);return Math.min(F.width,F.height)>Rw}).slice(0,v),o.scales=w,o.pyramid=w.map(function(O){return KS(O,[A,d])}),b=Date.now(),[4,p0e(l,w,m[0],i.pnet,o)];case 1:return B=I.sent(),o.total_stage1=Date.now()-b,B.boxes.length?(o.stage2_numInputBoxes=B.boxes.length,b=Date.now(),[4,g0e(a,B.boxes,m[1],i.rnet,o)]):[2,u({results:[],stats:o})];case 2:return S=I.sent(),o.total_stage2=Date.now()-b,S.boxes.length?(o.stage3_numInputBoxes=S.boxes.length,b=Date.now(),[4,y0e(a,S.boxes,m[2],i.onet,o)]):[2,u({results:[],stats:o})];case 3:return P=I.sent(),o.total_stage3=Date.now()-b,k=P.boxes.map(function(O,F){return aF(YN({},new Hl(P.scores[F],new XN(O.left/d,O.top/A,O.width/d,O.height/A),{height:A,width:d})),new Xge(P.points[F].map(function(N){return N.sub(new vr(O.left,O.top)).div(new vr(O.width,O.height))}),{width:O.width,height:O.height}))}),[2,u({results:k,stats:o})]}})})},t.prototype.forward=function(r,n){return n===void 0&&(n={}),xt(this,void 0,void 0,function(){var i;return bt(this,function(a){switch(a.label){case 0:return i=this.forwardInput,[4,Oi(r)];case 1:return[4,i.apply(this,[a.sent(),n])];case 2:return[2,a.sent().results]}})})},t.prototype.forwardWithStats=function(r,n){return n===void 0&&(n={}),xt(this,void 0,void 0,function(){var i;return bt(this,function(a){switch(a.label){case 0:return i=this.forwardInput,[4,Oi(r)];case 1:return[2,i.apply(this,[a.sent(),n])]}})})},t.prototype.getDefaultModelName=function(){return"mtcnn_model"},t.prototype.extractParamsFromWeigthMap=function(r){return c0e(r)},t.prototype.extractParams=function(r){return l0e(r)},t}(zu),x0e=.4,b0e=[new vr(1.603231,2.094468),new vr(6.041143,7.080126),new vr(2.882459,3.518061),new vr(4.266906,5.178857),new vr(9.041765,10.66308)],B0e=[117.001,114.697,97.404],C0e=function(e){Wt(t,e);function t(){var r=this,n={withSeparableConvs:!0,iouThreshold:x0e,classes:["face"],anchors:b0e,meanRgb:B0e,isFirstLayerConv2d:!0,filterSizes:[3,16,32,64,128,256,512]};return r=e.call(this,n)||this,r}return Object.defineProperty(t.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),t.prototype.locateFaces=function(r,n){return xt(this,void 0,void 0,function(){var i;return bt(this,function(a){switch(a.label){case 0:return[4,this.detect(r,n)];case 1:return i=a.sent(),[2,i.map(function(o){return new Hl(o.score,o.relativeBox,{width:o.imageWidth,height:o.imageHeight})})]}})})},t.prototype.getDefaultModelName=function(){return"tiny_face_detector_model"},t.prototype.extractParamsFromWeigthMap=function(r){return e.prototype.extractParamsFromWeigthMap.call(this,r)},t}(p$),ka={ssdMobilenetv1:new h$,tinyFaceDetector:new C0e,tinyYolov2:new a0e,mtcnn:new w0e,faceLandmark68Net:new s$,faceLandmark68TinyNet:new Sve,faceRecognitionNet:new Ove,faceExpressionNet:new fve,ageGenderNet:new bve},y$=function(e){Wt(t,e);function t(r,n,i){var a=e.call(this)||this;return a.parentTask=r,a.input=n,a.extractedFaces=i,a}return t}(Av),fF=function(e){Wt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return xt(this,void 0,void 0,function(){var r,n,i=this;return bt(this,function(a){switch(a.label){case 0:return[4,this.parentTask];case 1:return r=a.sent(),[4,k2(r,this.input,function(o){return xt(i,void 0,void 0,function(){return bt(this,function(s){switch(s.label){case 0:return[4,Promise.all(o.map(function(l){return ka.faceExpressionNet.predictExpressions(l)}))];case 1:return[2,s.sent()]}})})},this.extractedFaces)];case 2:return n=a.sent(),[2,r.map(function(o,s){return i$(o,n[s])})]}})})},t.prototype.withAgeAndGender=function(){return new mF(this,this.input)},t}(y$),dF=function(e){Wt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return xt(this,void 0,void 0,function(){var r,n;return bt(this,function(i){switch(i.label){case 0:return[4,this.parentTask];case 1:return r=i.sent(),r?[4,uF(r,this.input,function(a){return ka.faceExpressionNet.predictExpressions(a)},this.extractedFaces)]:[2];case 2:return n=i.sent(),[2,i$(r,n)]}})})},t.prototype.withAgeAndGender=function(){return new gF(this,this.input)},t}(y$),hF=function(e){Wt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.withAgeAndGender=function(){return new vF(this,this.input)},t.prototype.withFaceDescriptors=function(){return new wF(this,this.input)},t}(fF),pF=function(e){Wt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.withAgeAndGender=function(){return new yF(this,this.input)},t.prototype.withFaceDescriptor=function(){return new xF(this,this.input)},t}(dF),w$=function(e){Wt(t,e);function t(r,n,i){var a=e.call(this)||this;return a.parentTask=r,a.input=n,a.extractedFaces=i,a}return t}(Av),mF=function(e){Wt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return xt(this,void 0,void 0,function(){var r,n,i=this;return bt(this,function(a){switch(a.label){case 0:return[4,this.parentTask];case 1:return r=a.sent(),[4,k2(r,this.input,function(o){return xt(i,void 0,void 0,function(){return bt(this,function(s){switch(s.label){case 0:return[4,Promise.all(o.map(function(l){return ka.ageGenderNet.predictAgeAndGender(l)}))];case 1:return[2,s.sent()]}})})},this.extractedFaces)];case 2:return n=a.sent(),[2,r.map(function(o,s){var l=n[s],u=l.age,c=l.gender,A=l.genderProbability;return A$(f$(o,c,A),u)})]}})})},t.prototype.withFaceExpressions=function(){return new fF(this,this.input)},t}(w$),gF=function(e){Wt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return xt(this,void 0,void 0,function(){var r,n,i,a,o;return bt(this,function(s){switch(s.label){case 0:return[4,this.parentTask];case 1:return r=s.sent(),r?[4,uF(r,this.input,function(l){return ka.ageGenderNet.predictAgeAndGender(l)},this.extractedFaces)]:[2];case 2:return n=s.sent(),i=n.age,a=n.gender,o=n.genderProbability,[2,A$(f$(r,a,o),i)]}})})},t.prototype.withFaceExpressions=function(){return new dF(this,this.input)},t}(w$),vF=function(e){Wt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.withFaceExpressions=function(){return new hF(this,this.input)},t.prototype.withFaceDescriptors=function(){return new wF(this,this.input)},t}(mF),yF=function(e){Wt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.withFaceExpressions=function(){return new pF(this,this.input)},t.prototype.withFaceDescriptor=function(){return new xF(this,this.input)},t}(gF),x$=function(e){Wt(t,e);function t(r,n){var i=e.call(this)||this;return i.parentTask=r,i.input=n,i}return t}(Av),wF=function(e){Wt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return xt(this,void 0,void 0,function(){var r,n;return bt(this,function(i){switch(i.label){case 0:return[4,this.parentTask];case 1:return r=i.sent(),[4,k2(r,this.input,function(a){return Promise.all(a.map(function(o){return ka.faceRecognitionNet.computeFaceDescriptor(o)}))},null,function(a){return a.landmarks.align(null,{useDlibAlignment:!0})})];case 2:return n=i.sent(),[2,n.map(function(a,o){return c$(r[o],a)})]}})})},t.prototype.withFaceExpressions=function(){return new hF(this,this.input)},t.prototype.withAgeAndGender=function(){return new vF(this,this.input)},t}(x$),xF=function(e){Wt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return xt(this,void 0,void 0,function(){var r,n;return bt(this,function(i){switch(i.label){case 0:return[4,this.parentTask];case 1:return r=i.sent(),r?[4,uF(r,this.input,function(a){return ka.faceRecognitionNet.computeFaceDescriptor(a)},null,function(a){return a.landmarks.align(null,{useDlibAlignment:!0})})]:[2];case 2:return n=i.sent(),[2,c$(r,n)]}})})},t.prototype.withFaceExpressions=function(){return new pF(this,this.input)},t.prototype.withAgeAndGender=function(){return new yF(this,this.input)},t}(x$),b$=function(e){Wt(t,e);function t(r,n,i){var a=e.call(this)||this;return a.parentTask=r,a.input=n,a.useTinyLandmarkNet=i,a}return Object.defineProperty(t.prototype,"landmarkNet",{get:function(){return this.useTinyLandmarkNet?ka.faceLandmark68TinyNet:ka.faceLandmark68Net},enumerable:!0,configurable:!0}),t}(Av),E0e=function(e){Wt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return xt(this,void 0,void 0,function(){var r,n,i,a,o,s=this;return bt(this,function(l){switch(l.label){case 0:return[4,this.parentTask];case 1:return r=l.sent(),n=r.map(function(u){return u.detection}),this.input instanceof dn?[4,tF(this.input,n)]:[3,3];case 2:return a=l.sent(),[3,5];case 3:return[4,eF(this.input,n)];case 4:a=l.sent(),l.label=5;case 5:return i=a,[4,Promise.all(i.map(function(u){return s.landmarkNet.detectLandmarks(u)}))];case 6:return o=l.sent(),i.forEach(function(u){return u instanceof dn&&u.dispose()}),[2,r.map(function(u,c){return aF(u,o[c])})]}})})},t.prototype.withFaceExpressions=function(){return new hF(this,this.input)},t.prototype.withAgeAndGender=function(){return new vF(this,this.input)},t.prototype.withFaceDescriptors=function(){return new wF(this,this.input)},t}(b$),S0e=function(e){Wt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return xt(this,void 0,void 0,function(){var r,n,i,a,o;return bt(this,function(s){switch(s.label){case 0:return[4,this.parentTask];case 1:return r=s.sent(),r?(n=r.detection,this.input instanceof dn?[4,tF(this.input,[n])]:[3,3]):[2];case 2:return a=s.sent(),[3,5];case 3:return[4,eF(this.input,[n])];case 4:a=s.sent(),s.label=5;case 5:return i=a,[4,this.landmarkNet.detectLandmarks(i[0])];case 6:return o=s.sent(),i.forEach(function(l){return l instanceof dn&&l.dispose()}),[2,aF(r,o)]}})})},t.prototype.withFaceExpressions=function(){return new pF(this,this.input)},t.prototype.withAgeAndGender=function(){return new yF(this,this.input)},t.prototype.withFaceDescriptor=function(){return new xF(this,this.input)},t}(b$),B$=function(e){Wt(t,e);function t(r,n){n===void 0&&(n=new _2);var i=e.call(this)||this;return i.input=r,i.options=n,i}return t}(Av),C$=function(e){Wt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return xt(this,void 0,void 0,function(){var r,n,i,a;return bt(this,function(o){switch(o.label){case 0:return r=this,n=r.input,i=r.options,i instanceof d$?[4,ka.mtcnn.forward(n,i)]:[3,2];case 1:return[2,o.sent().map(function(s){return s.detection})];case 2:if(a=i instanceof m$?function(s){return ka.tinyFaceDetector.locateFaces(s,i)}:i instanceof _2?function(s){return ka.ssdMobilenetv1.locateFaces(s,i)}:i instanceof lF?function(s){return ka.tinyYolov2.locateFaces(s,i)}:null,!a)throw new Error("detectFaces - expected options to be instance of TinyFaceDetectorOptions | SsdMobilenetv1Options | MtcnnOptions | TinyYolov2Options");return[2,a(n)]}})})},t.prototype.runAndExtendWithFaceDetections=function(){var r=this;return new Promise(function(n){return xt(r,void 0,void 0,function(){var i;return bt(this,function(a){switch(a.label){case 0:return[4,this.run()];case 1:return i=a.sent(),[2,n(i.map(function(o){return YN({},o)}))]}})})})},t.prototype.withFaceLandmarks=function(r){return r===void 0&&(r=!1),new E0e(this.runAndExtendWithFaceDetections(),this.input,r)},t.prototype.withFaceExpressions=function(){return new fF(this.runAndExtendWithFaceDetections(),this.input)},t.prototype.withAgeAndGender=function(){return new mF(this.runAndExtendWithFaceDetections(),this.input)},t}(B$);(function(e){Wt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return xt(this,void 0,void 0,function(){var r,n;return bt(this,function(i){switch(i.label){case 0:return[4,new C$(this.input,this.options)];case 1:return r=i.sent(),n=r[0],r.forEach(function(a){a.score>n.score&&(n=a)}),[2,n]}})})},t.prototype.runAndExtendWithFaceDetection=function(){var r=this;return new Promise(function(n){return xt(r,void 0,void 0,function(){var i;return bt(this,function(a){switch(a.label){case 0:return[4,this.run()];case 1:return i=a.sent(),[2,n(i?YN({},i):void 0)]}})})})},t.prototype.withFaceLandmarks=function(r){return r===void 0&&(r=!1),new S0e(this.runAndExtendWithFaceDetection(),this.input,r)},t.prototype.withFaceExpressions=function(){return new dF(this.runAndExtendWithFaceDetection(),this.input)},t.prototype.withAgeAndGender=function(){return new gF(this.runAndExtendWithFaceDetection(),this.input)},t})(B$);function N0e(e,t){return t===void 0&&(t=new _2),new C$(e,t)}function F0e(e,t){if(e.length!==t.length)throw new Error("euclideanDistance: arr1.length !== arr2.length");var r=Array.from(e),n=Array.from(t);return Math.sqrt(r.map(function(i,a){return i-n[a]}).reduce(function(i,a){return i+Math.pow(a,2)},0))}(function(){function e(t,r){r===void 0&&(r=.6),this._distanceThreshold=r;var n=Array.isArray(t)?t:[t];if(!n.length)throw new Error("FaceRecognizer.constructor - expected atleast one input");var i=1,a=function(){return"person "+i++};this._labeledDescriptors=n.map(function(o){if(o instanceof Ny)return o;if(o instanceof Float32Array)return new Ny(a(),[o]);if(o.descriptor&&o.descriptor instanceof Float32Array)return new Ny(a(),[o.descriptor]);throw new Error("FaceRecognizer.constructor - expected inputs to be of type LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array | Array<LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array>")})}return Object.defineProperty(e.prototype,"labeledDescriptors",{get:function(){return this._labeledDescriptors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"distanceThreshold",{get:function(){return this._distanceThreshold},enumerable:!0,configurable:!0}),e.prototype.computeMeanDistance=function(t,r){return r.map(function(n){return F0e(n,t)}).reduce(function(n,i){return n+i},0)/(r.length||1)},e.prototype.matchDescriptor=function(t){var r=this;return this.labeledDescriptors.map(function(n){var i=n.descriptors,a=n.label;return new VL(a,r.computeMeanDistance(t,i))}).reduce(function(n,i){return n.distance<i.distance?n:i})},e.prototype.findBestMatch=function(t){var r=this.matchDescriptor(t);return r.distance<this.distanceThreshold?r:new VL("unknown",r.distance)},e.prototype.toJSON=function(){return{distanceThreshold:this.distanceThreshold,labeledDescriptors:this.labeledDescriptors.map(function(t){return t.toJSON()})}},e.fromJSON=function(t){var r=t.labeledDescriptors.map(function(n){return Ny.fromJSON(n)});return new e(r,t.distanceThreshold)},e})();const ZL=5,I0e=2e3,_0e=8e3,k0e=15;function P0e(e,t){const[r,n]=E.useState(0),[i,a]=E.useState(!1),[o,s]=E.useState(null),[l,u]=E.useState(null),[c,A]=E.useState({faceDetected:!1,multipleFaces:!1,coveredCamera:!1,faceCount:0}),[d,f]=E.useState([]),[p,g]=E.useState(!1),v=E.useRef(null),m=E.useRef(null),y=E.useRef(null),w=E.useRef(Date.now()),b=E.useRef(!1),B=E.useRef(!1),S=E.useRef([]);E.useEffect(()=>{(async()=>{try{const U="/models";await Promise.all([ka.tinyFaceDetector.loadFromUri(U),ka.faceLandmark68Net.loadFromUri(U),ka.faceRecognitionNet.loadFromUri(U)]),g(!0),console.log("Face-api.js models loaded successfully")}catch(U){console.error("Failed to load face-api.js models:",U),g(!1)}})()},[]),E.useEffect(()=>{if(e){const N=localStorage.getItem(`proctoring_${e}`);if(N)try{const{warnings:U,violations:M}=JSON.parse(N);n(Math.min(U||0,ZL)),M&&Array.isArray(M)&&(f(M),S.current=M)}catch(U){console.error("Failed to load proctoring state:",U)}}},[e]),E.useEffect(()=>{e&&localStorage.setItem(`proctoring_${e}`,JSON.stringify({warnings:r,violations:S.current}))},[e,r,d]);const P=E.useCallback(N=>{const U=new Date().toISOString(),M={reason:N,timestamp:U};n(V=>{const Q=V+1;return u({reason:N,count:Q,timestamp:U}),S.current=[...S.current,M],f(S.current),k(e,N,Q),Q})},[e]),k=E.useCallback(async(N,U,M)=>{try{await fetch("http://localhost:8080/api/test/log-cheat-event",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:N,reason:U,warningCount:M,timestamp:new Date().toISOString()})})}catch(V){console.error("Failed to log cheat event:",V)}},[]);E.useEffect(()=>{const N=()=>{document.hidden?b.current||(b.current=!0,P("Tab switched or window minimized")):b.current=!1},U=()=>{B.current||(B.current=!0,P("Window lost focus"))},M=()=>{B.current=!1};return document.addEventListener("visibilitychange",N),window.addEventListener("blur",U),window.addEventListener("focus",M),()=>{document.removeEventListener("visibilitychange",N),window.removeEventListener("blur",U),window.removeEventListener("focus",M)}},[P]);const I=E.useCallback(async()=>{if(!v.current||!m.current)return{faceDetected:!1,multipleFaces:!1,coveredCamera:!1,faceCount:0};const N=v.current;if(N.readyState!==N.HAVE_ENOUGH_DATA)return{faceDetected:!1,multipleFaces:!1,coveredCamera:!1,faceCount:0};try{const U=document.createElement("canvas");U.width=N.videoWidth,U.height=N.videoHeight;const M=U.getContext("2d");M.drawImage(N,0,0);const Q=M.getImageData(0,0,U.width,U.height).data;let W=0,D=0;for(let ee=0;ee<Q.length;ee+=4){const L=Q[ee],j=Q[ee+1],z=Q[ee+2],X=(L+j+z)/3;W+=X,D++}if(W/D<k0e)return{faceDetected:!1,multipleFaces:!1,coveredCamera:!0,faceCount:0};if(p){const L=(await N0e(N,new m$({inputSize:224,scoreThreshold:.5}))).length,j=L===1,z=L>1;return{faceDetected:j,multipleFaces:z,coveredCamera:!1,faceCount:L}}else{let ee=!1,L=0;for(let z=0;z<Q.length;z+=16){const X=Q[z],ae=Q[z+1],Z=Q[z+2],ce=(X+ae+Z)/3;ce>10&&ce<250&&(ee=!0,L++)}const j=ee&&L>100;return{faceDetected:j,multipleFaces:!1,coveredCamera:!1,faceCount:j?1:0}}}catch(U){return console.error("Face detection error:",U),{faceDetected:!1,multipleFaces:!1,coveredCamera:!1,faceCount:0}}},[p]),O=E.useCallback(async()=>{if(!i)try{s(null);const N=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:640},height:{ideal:480},facingMode:"user"},audio:!1});m.current=N,v.current&&(v.current.srcObject=N,await v.current.play()),a(!0),w.current=Date.now(),y.current=setInterval(async()=>{const U=await I(),M=Date.now();A(U),U.coveredCamera?(P("Camera covered or blocked"),w.current=M):U.multipleFaces?(P("Multiple people detected"),w.current=M):U.faceDetected?w.current=M:M-w.current>_0e&&(P("No face detected"),w.current=M),v.current&&(v.current.readyState===0||m.current.ended)&&P("Video stream interrupted")},I0e)}catch(N){console.error("Failed to start webcam:",N),s(N.message),P("Webcam access denied or unavailable")}},[i,I,P]),F=E.useCallback(()=>{y.current&&(clearInterval(y.current),y.current=null),m.current&&(m.current.getTracks().forEach(N=>N.stop()),m.current=null),v.current&&(v.current.srcObject=null),a(!1)},[]);return E.useEffect(()=>()=>{F()},[F]),{warnings:r,isProctoring:i,webcamError:o,lastWarning:l,videoRef:v,startProctoring:O,stopProctoring:F,addWarning:P,detectionStatus:c,violations:d,maxWarnings:ZL}}function O0e(){var De,Y;const{sessionId:e}=$h(),t=jo(),[r,n]=E.useState(null),[i,a]=E.useState([]),[o,s]=E.useState(1),[l,u]=E.useState(0),[c,A]=E.useState({}),[d,f]=E.useState({}),[p,g]=E.useState(!0),[v,m]=E.useState(null),[y,w]=E.useState(!1),[b,B]=E.useState(!1),[S,P]=E.useState(!1),[k,I]=E.useState(!1);E.useEffect(()=>{if(!S||y||b)return;const Ae=Pe=>(Pe.preventDefault(),Pe.returnValue="Your test is in progress. If you leave now, your progress may be lost. Are you sure you want to leave?",Pe.returnValue),Ee=Pe=>{Pe.preventDefault(),window.confirm("Your test is in progress. You cannot go back during the test. Please submit the test to continue.")||window.history.pushState(null,"",window.location.href)};return window.history.pushState(null,"",window.location.href),window.addEventListener("beforeunload",Ae),window.addEventListener("popstate",Ee),()=>{window.removeEventListener("beforeunload",Ae),window.removeEventListener("popstate",Ee)}},[S,y,b]),E.useEffect(()=>{e&&i.length>0&&localStorage.setItem(`psychometric_${e}`,JSON.stringify({answers:c,questionStatuses:d}))},[c,d,e,i.length]),E.useEffect(()=>{e&&O()},[e]);const O=async()=>{g(!0),m(null);try{if((await h2(e)).status!=="READY"){m("Questions are still preparing. Please return to the instructions page."),g(!1);return}const[Ee,Pe]=await Promise.all([mN(e),gN(e)]),Se=(Pe||[]).filter(Ye=>Ye.sectionNumber===1).length,Ke=(Pe||[]).filter(Ye=>Ye.sectionNumber===2).length,Ve=(Pe||[]).filter(Ye=>Ye.sectionNumber===3).length;if(Se<40||Ke<40||Ve<40){m("Not all test sections are ready yet. Please wait on the instructions page until all sections are loaded."),g(!1);return}n(Ee),a(Pe||[]);const Oe=(Pe||[]).map(Ye=>Ye.sectionNumber).sort()[0]||1;s(Oe);const et=localStorage.getItem(`psychometric_${e}`);let Ge={},Nt={};if(et)try{const Ye=JSON.parse(et);Ge=Ye.answers||{},Nt=Ye.questionStatuses||{}}catch(Ye){console.error("Failed to parse saved data:",Ye)}const St={},Ot={};Pe==null||Pe.forEach(Ye=>{Ge[Ye.id]!==void 0?St[Ye.id]=Ge[Ye.id]:St[Ye.id]=null,Nt[Ye.id]!==void 0?Ot[Ye.id]=Nt[Ye.id]:Ot[Ye.id]={status:Lt.NOT_VISITED,selectedOption:null}}),A(St),f(Ot),g(!1)}catch(Ae){m(Ae instanceof Error?Ae.message:"Failed to load assessment"),g(!1)}},F=E.useMemo(()=>Array.from(new Set((i==null?void 0:i.map(Ee=>Ee.sectionNumber))||[])).sort((Ee,Pe)=>Ee-Pe),[i]),N=E.useMemo(()=>(i==null?void 0:i.filter(Ae=>Ae.sectionNumber===o))||[],[i,o]),U=N[l],M=(i==null?void 0:i.length)||0,V=Object.values(c).filter(Ae=>Ae!==null).length,Q=M>0?V/M*100:0;E.useEffect(()=>{var Ae;if(U){const Ee=((Ae=d[U.id])==null?void 0:Ae.status)||Lt.NOT_VISITED,Pe=c[U.id]!==null&&c[U.id]!==void 0;Ee===Lt.NOT_VISITED&&!Pe&&W(U.id,Lt.VISITED_NOT_ANSWERED,c[U.id])}},[U==null?void 0:U.id]);const W=(Ae,Ee,Pe=null)=>{f(Se=>{var Ke;return{...Se,[Ae]:{status:Ee,selectedOption:Pe!==null?Pe:((Ke=Se[Ae])==null?void 0:Ke.selectedOption)||null}}})};E.useEffect(()=>{const Ae=Ee=>{if(Ee.key!=="Enter"||b||y||!U||!(c[U.id]!==null&&c[U.id]!==void 0))return;Ee.preventDefault();const Se=F.indexOf(o)===F.length-1,Ke=l===N.length-1;Se&&Ke?ne():L()};return window.addEventListener("keydown",Ae),()=>window.removeEventListener("keydown",Ae)},[U,c,b,y,o,l,N.length,F]);const D=(Ae,Ee)=>{var Ke;A(Ve=>({...Ve,[Ae]:Ee}));const Pe=((Ke=d[Ae])==null?void 0:Ke.status)||Lt.VISITED_NOT_ANSWERED;Pe===Lt.MARKED_FOR_REVIEW||Pe===Lt.ANSWERED_AND_MARKED_FOR_REVIEW?W(Ae,Lt.ANSWERED_AND_MARKED_FOR_REVIEW,Ee):W(Ae,Lt.ANSWERED,Ee)},K=()=>{var Se;if(!U)return;const Ae=U.id;A(Ke=>({...Ke,[Ae]:null}));const Ee=((Se=d[Ae])==null?void 0:Se.status)||Lt.ANSWERED;Ee===Lt.ANSWERED_AND_MARKED_FOR_REVIEW||Ee===Lt.MARKED_FOR_REVIEW?W(Ae,Lt.MARKED_FOR_REVIEW,null):W(Ae,Lt.VISITED_NOT_ANSWERED,null)},ie=()=>{var Ke;if(!U)return;const Ae=U.id,Ee=((Ke=d[Ae])==null?void 0:Ke.status)||Lt.VISITED_NOT_ANSWERED,Pe=c[Ae]!==null&&c[Ae]!==void 0;Ee===Lt.MARKED_FOR_REVIEW||Ee===Lt.ANSWERED_AND_MARKED_FOR_REVIEW?Pe?W(Ae,Lt.ANSWERED,c[Ae]):W(Ae,Lt.VISITED_NOT_ANSWERED,null):Pe?W(Ae,Lt.ANSWERED_AND_MARKED_FOR_REVIEW,c[Ae]):W(Ae,Lt.MARKED_FOR_REVIEW,null)},ee=(Ae,Ee)=>{const Pe=i.find(Se=>Se.id===Ae);Pe&&(Pe.sectionNumber!==o&&s(Pe.sectionNumber),u(Ee))},L=()=>{if(l<N.length-1){u(Ee=>Ee+1);return}const Ae=F.indexOf(o);Ae<F.length-1&&(s(F[Ae+1]),u(0))},j=()=>{if(l>0){u(Ee=>Ee-1);return}const Ae=F.indexOf(o);if(Ae>0){const Ee=F[Ae-1],Pe=(i==null?void 0:i.filter(Se=>Se.sectionNumber===Ee))||[];s(Ee),u(Math.max(Pe.length-1,0))}},z=(Ae,Ee,Pe)=>{const Se=Ee.length;let Ke=0,Ve=0,Oe=0,et=0,Ge=0,Nt=0;return Ee.forEach(St=>{var ct;const Ot=St.id,Ye=Ae[Ot],Je=(ct=Pe[Ot])==null?void 0:ct.status,ut=St.correctOptionIndex;Ye!=null?(Ke++,ut!=null&&(Ye===ut?Oe++:et++)):Ve++,Je===Lt.MARKED_FOR_REVIEW?Ge++:Je===Lt.ANSWERED_AND_MARKED_FOR_REVIEW&&Nt++}),{totalQuestions:Se,attempted:Ke,notAttempted:Ve,correct:Oe,wrong:et,markedForReview:Ge,answeredAndMarkedForReview:Nt,submittedAt:new Date().toISOString()}},X=E.useRef(0),ae=E.useCallback(async(Ae,Ee=0)=>{var Pe;if(!(y||b)){B(!0),w(!0);try{const Se=z(c,i,d),Ke=i.map(Oe=>({questionId:Oe.id,selectedOptionIndex:c[Oe.id]!==null&&c[Oe.id]!==void 0?c[Oe.id]:null,textResponse:null})),Ve=await bS(e,{userId:((Pe=r==null?void 0:r.userInfo)==null?void 0:Pe.email)||e,testId:e,answers:Ke,results:Se,warnings:Ee,submittedBy:Ae});t(`/psychometric/result/${e}`,{state:{results:Ve}})}catch(Se){console.error("Auto-submission error:",Se),alert(`Test was automatically submitted due to ${Ae==="timer"?"time expiration":"proctoring violations"}. However, there was an error saving results.`),w(!1)}}},[y,b,c,i,d,e,r,t]),Z=sAe(e,()=>ae("timer",0)),ce=P0e(e);E.useEffect(()=>{X.current=ce.warnings},[ce.warnings]),E.useEffect(()=>{!p&&i.length>0&&(Z.isActive||Z.start(),ce.isProctoring||ce.startProctoring(),P(!0))},[p,i.length]);const ne=async()=>{var Ae;if(!(y||b)){w(!0);try{const Ee=z(c,i,d),Pe=i.map(Ke=>({questionId:Ke.id,selectedOptionIndex:c[Ke.id]!==null&&c[Ke.id]!==void 0?c[Ke.id]:null,textResponse:null})),Se=await bS(e,{userId:((Ae=r==null?void 0:r.userInfo)==null?void 0:Ae.email)||e,testId:e,answers:Pe,results:Ee,warnings:ce.warnings,submittedBy:"user"});t(`/psychometric/result/${e}`,{state:{results:Se}})}catch(Ee){console.error("Submission error:",Ee),alert(`Failed to submit test: ${Ee instanceof Error?Ee.message:"Unknown error"}`),w(!1)}}},pe=Ae=>({1:"Aptitude Assessment",2:"Behavioural Assessment",3:"Domain & Career Alignment"})[Ae]||`Section ${Ae}`;if(p)return h.jsx("div",{className:"page",children:h.jsxs("div",{className:"card",children:[h.jsx("p",{children:"Loading assessment..."}),h.jsx("p",{className:"muted",children:"Generating personalized questions for you. This may take a moment."})]})});if(v)return h.jsx("div",{className:"page",children:h.jsxs("div",{className:"card",children:[h.jsx("p",{className:"error",children:v}),h.jsx("button",{onClick:()=>t("/psychometric/start"),children:"Go Back"})]})});if(!r||!U)return h.jsx("div",{className:"page",children:h.jsxs("div",{className:"card",children:[h.jsx("p",{children:"No questions found in this session."}),h.jsx("button",{onClick:()=>t("/psychometric/start"),children:"Go Back"})]})});const ye=c[U.id],de=((De=d[U.id])==null?void 0:De.status)||Lt.NOT_VISITED,Ie=de===Lt.MARKED_FOR_REVIEW||de===Lt.ANSWERED_AND_MARKED_FOR_REVIEW;return h.jsxs("div",{className:"page",children:[h.jsxs("header",{className:"page__header page__header--sticky",children:[h.jsxs("div",{className:"header-left",children:[h.jsx("p",{className:"eyebrow",children:"Psychometric Assessment"}),h.jsx("h1",{children:"Assessment in Progress"}),h.jsxs("p",{className:"muted",children:["Session ID: ",h.jsx("strong",{children:e})]})]}),h.jsx("div",{className:"header-center",children:h.jsx("div",{className:"header-webcam",children:h.jsx(aAe,{videoRef:ce.videoRef,isProctoring:ce.isProctoring,webcamError:ce.webcamError,detectionStatus:ce.detectionStatus})})}),h.jsxs("div",{className:"header-right",children:[h.jsxs("div",{className:"header-stats-compact",children:[h.jsxs("div",{className:"muted",children:["Answered ",V," / ",M]}),h.jsxs("button",{type:"button",onClick:()=>I(!0),className:"btn-violations",title:"View Proctoring Violations",children:[" Violations: ",ce.warnings]})]}),h.jsx(tAe,{timeRemaining:Z.timeRemaining,formattedTime:Z.formattedTime,isExpired:Z.isExpired})]})]}),h.jsx(rAe,{warning:ce.lastWarning,warnings:ce.warnings,maxWarnings:ce.maxWarnings}),k&&h.jsx(nAe,{violations:ce.violations,totalViolations:ce.warnings,onClose:()=>I(!1)}),h.jsx("div",{className:"section-tabs card",children:F.map(Ae=>h.jsx("button",{className:`section-tab ${o===Ae?"active":""}`,type:"button",onClick:()=>{s(Ae),u(0)},children:pe(Ae)},Ae))}),h.jsxs("div",{className:"assessment-layout",children:[h.jsxs("main",{className:"card assessment-main",children:[h.jsxs("div",{className:"assessment-progress",children:[h.jsx("div",{className:"progress-bar",children:h.jsx("div",{className:"progress-fill",style:{width:`${Q}%`}})}),h.jsxs("div",{className:"progress-text",children:["Overall ",V," of ",M," answered"]})]}),h.jsxs("div",{className:"section-badge",children:[pe(U.sectionNumber),"  Question ",l+1," of"," ",N.length,"  ",U.category]}),h.jsxs("div",{className:"question-container",children:[h.jsx("h2",{className:"question-prompt",children:U.prompt}),h.jsx("div",{className:"options-list",children:(Y=U.options)==null?void 0:Y.map((Ae,Ee)=>h.jsxs("label",{className:`option-item ${ye===Ee?"selected":""}`,children:[h.jsx("input",{type:"radio",name:`question-${U.id}`,value:Ee,checked:ye===Ee,onChange:()=>!b&&D(U.id,Ee),disabled:b}),h.jsxs("span",{children:[Ae,U.correctOptionIndex===Ee&&" *"]})]},Ee))})]}),h.jsxs("div",{className:"assessment-actions",children:[h.jsx("button",{type:"button",onClick:j,disabled:l===0&&F.indexOf(o)===0||b,className:"btn-secondary",children:"Previous"}),h.jsxs("div",{className:"action-buttons-group",children:[h.jsx(eAe,{onClick:K,disabled:ye===null||b}),h.jsx(Zce,{onClick:ie,isMarked:Ie,disabled:b})]}),F.indexOf(o)===F.length-1&&l===N.length-1?h.jsx("button",{type:"button",onClick:ne,disabled:y||b,className:"btn-primary",children:y?"Submitting...":"Submit Assessment"}):h.jsx("button",{type:"button",onClick:L,className:"btn-primary",disabled:b,children:"Next"})]})]}),h.jsx("aside",{className:"assessment-sidebar",children:h.jsx("div",{className:"card assessment-palette-container",children:h.jsx(Jce,{questions:N,questionStatuses:d,currentQuestionId:U.id,onQuestionClick:ee})})})]})]})}function T0e(){var m;const{sessionId:e}=$h(),t=jo(),r=io(),[n,i]=E.useState(((m=r.state)==null?void 0:m.results)||null),[a,o]=E.useState(null),[s,l]=E.useState(!n),[u,c]=E.useState(!1);E.useEffect(()=>{e&&A()},[e]);const A=async()=>{try{const y=await mN(e);o(y),l(!1)}catch(y){console.error("Failed to load session:",y),l(!1)}},f=(()=>{if(!(a!=null&&a.questions)||!(a!=null&&a.answers))return null;const y={1:{name:"Aptitude",attempted:0,correct:0,wrong:0,total:0},2:{name:"Behavioral",attempted:0,correct:0,wrong:0,total:0},3:{name:"Domain",attempted:0,correct:0,wrong:0,total:0}};return a.questions.forEach(w=>{const b=w.sectionNumber;if(!y[b])return;y[b].total++;const B=a.answers.find(S=>S.questionId===w.id);if(B&&B.selectedOptionIndex!==null&&B.selectedOptionIndex!==void 0)if(y[b].attempted++,b===2){const S=w.traitImpactScores||[];S.length>0&&B.selectedOptionIndex>=0&&B.selectedOptionIndex<S.length?S[B.selectedOptionIndex]===100?y[b].correct++:y[b].wrong++:w.correctOptionIndex!==null&&w.correctOptionIndex!==void 0&&(B.selectedOptionIndex===w.correctOptionIndex?y[b].correct++:y[b].wrong++)}else{const S=w.correctOptionIndex;S!=null&&B.selectedOptionIndex==S?y[b].correct++:y[b].wrong++}}),y})();if(s&&!n)return h.jsx("div",{className:"page",children:h.jsx("div",{className:"card",children:h.jsx("p",{children:"Loading results..."})})});if(!n)return h.jsx("div",{className:"page",children:h.jsxs("div",{className:"card",children:[h.jsx("p",{className:"error",children:"No results found"}),h.jsx("button",{onClick:()=>t("/psychometric/start"),children:"Go Back"})]})});const p=n.attempted>0?(n.correct/n.attempted*100).toFixed(1):0,g=n.submittedAt?new Date(n.submittedAt).toLocaleString():"N/A",v=async()=>{c(!0);try{await vN(e),t(`/psychometric/report/${e}`)}catch(y){console.error("Failed to generate report:",y),alert("Failed to generate report. Please ensure the test is completed and try again.")}finally{c(!1)}};return h.jsxs("div",{className:"page",children:[h.jsx("header",{className:"page__header",children:h.jsxs("div",{children:[h.jsx("p",{className:"eyebrow",children:"Test Results"}),h.jsx("h1",{children:"Assessment Complete"}),h.jsxs("p",{className:"muted",children:["Session ID: ",h.jsx("strong",{children:e})]}),(a==null?void 0:a.userInfo)&&h.jsxs("p",{className:"muted",children:["Candidate: ",h.jsx("strong",{children:a.userInfo.name})]})]})}),h.jsx("main",{className:"card",children:h.jsxs("div",{className:"results-container",children:[h.jsxs("div",{className:"results-header",children:[h.jsx("h2",{children:"Test Summary"}),h.jsxs("p",{className:"muted",children:["Submitted on: ",g]})]}),h.jsxs("div",{className:"results-grid",children:[h.jsxs("div",{className:"result-card",children:[h.jsx("div",{className:"result-label",children:"Total Questions"}),h.jsx("div",{className:"result-value",children:n.totalQuestions})]}),h.jsxs("div",{className:"result-card",children:[h.jsx("div",{className:"result-label",children:"Attempted"}),h.jsx("div",{className:"result-value success",children:n.attempted})]}),h.jsxs("div",{className:"result-card",children:[h.jsx("div",{className:"result-label",children:"Not Attempted"}),h.jsx("div",{className:"result-value warning",children:n.notAttempted})]}),h.jsxs("div",{className:"result-card",children:[h.jsx("div",{className:"result-label",children:"Correct Answers"}),h.jsx("div",{className:"result-value success",children:n.correct})]}),h.jsxs("div",{className:"result-card",children:[h.jsx("div",{className:"result-label",children:"Wrong Answers"}),h.jsx("div",{className:"result-value error",children:n.wrong})]}),h.jsxs("div",{className:"result-card",children:[h.jsx("div",{className:"result-label",children:"Accuracy"}),h.jsxs("div",{className:"result-value",children:[p,"%"]})]}),h.jsxs("div",{className:"result-card",children:[h.jsx("div",{className:"result-label",children:"Marked for Review"}),h.jsx("div",{className:"result-value info",children:n.markedForReview})]}),h.jsxs("div",{className:"result-card",children:[h.jsx("div",{className:"result-label",children:"Answered & Marked"}),h.jsx("div",{className:"result-value info",children:n.answeredAndMarkedForReview})]})]}),f&&h.jsxs("div",{className:"section-breakdown",children:[h.jsx("h3",{style:{marginTop:"32px",marginBottom:"16px",fontSize:"20px",fontWeight:700,color:"#0b132b"},children:"Section-wise Performance"}),h.jsx("div",{className:"results-grid",children:Object.values(f).map(y=>{const w=y.attempted>0?(y.correct/y.attempted*100).toFixed(1):0;return h.jsxs("div",{className:"result-card",style:{gridColumn:"span 1"},children:[h.jsx("div",{className:"result-label",children:y.name}),h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",marginTop:"8px"},children:[h.jsxs("div",{style:{fontSize:"14px",color:"#52606d"},children:["Total: ",h.jsx("strong",{children:y.total})]}),h.jsxs("div",{style:{fontSize:"14px",color:"#52606d"},children:["Attempted: ",h.jsx("strong",{style:{color:"#059669"},children:y.attempted})]}),h.jsxs("div",{style:{fontSize:"14px",color:"#52606d"},children:["Correct: ",h.jsx("strong",{style:{color:"#059669"},children:y.correct})]}),h.jsxs("div",{style:{fontSize:"14px",color:"#52606d"},children:["Wrong: ",h.jsx("strong",{style:{color:"#dc2626"},children:y.wrong})]}),h.jsxs("div",{style:{fontSize:"16px",fontWeight:600,color:"#0b132b",marginTop:"4px"},children:["Accuracy: ",w,"%"]})]})]},y.name)})})]}),h.jsxs("div",{className:"results-actions",children:[h.jsx("button",{onClick:()=>t("/psychometric/start"),className:"btn-primary",children:"Start New Assessment"}),h.jsx("button",{onClick:v,className:"btn-secondary",disabled:u,children:u?"Preparing Report...":"View Detailed Report"})]})]})})]})}function L0e(){const{sessionId:e}=$h(),t=jo(),[r,n]=E.useState(null),[i,a]=E.useState(null),[o,s]=E.useState(0),l=300;E.useEffect(()=>{if(!e){t("/psychometric/start");return}let A,d=0;const f=async()=>{try{const p=await h2(e);if(n(p),s(d+1),p.status==="READY"){t(`/psychometric/assessment/${e}`);return}if(p.status==="FAILED"){a("Failed to generate questions. Please try again.");return}if(d++,d>=l){a("Questions are taking longer than expected. Please try refreshing the page.");return}A=setTimeout(f,1e3)}catch(p){a(p instanceof Error?p.message:"Failed to check status")}};return f(),()=>{A&&clearTimeout(A)}},[e,t]);const u=()=>{if(!r)return"Initializing...";const{progress:A}=r,d=[A.aptitude,A.behavioral,A.domain].filter(Boolean).length,f=3;return d===0?"Starting question generation...":d===f?"Finalizing your assessment...":`Generating questions... ${d} of ${f} sections ready`},c=(A,d)=>h.jsxs("div",{className:`loading-section ${d?"ready":"pending"}`,children:[h.jsx("span",{className:"loading-section-icon",children:d?"":""}),h.jsx("span",{className:"loading-section-name",children:A})]});return h.jsxs("div",{className:"page",children:[h.jsx("header",{className:"page__header",children:h.jsxs("div",{children:[h.jsx("p",{className:"eyebrow",children:"Psychometric Assessment"}),h.jsx("h1",{children:"Preparing Your Personalized Assessment"}),h.jsx("p",{className:"muted",children:"We're generating tailored questions based on your profile. This will only take a moment."})]})}),h.jsx("main",{className:"card",children:i?h.jsxs("div",{className:"error-container",children:[h.jsx("p",{className:"error",children:i}),h.jsx("button",{onClick:()=>t("/psychometric/start"),className:"btn-primary",children:"Go Back"})]}):h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"loading-animation",children:h.jsx("div",{className:"spinner"})}),h.jsxs("div",{className:"loading-content",children:[h.jsx("p",{className:"loading-text",children:u()}),r&&h.jsxs("div",{className:"loading-sections",children:[c("Aptitude Questions",r.progress.aptitude),c("Behavioural Questions",r.progress.behavioral),c("Domain Questions",r.progress.domain)]}),h.jsxs("p",{className:"muted",style:{marginTop:"1rem",fontSize:"0.875rem"},children:["Session ID: ",h.jsx("strong",{children:e})]})]})]})})]})}const U0e=({isOpen:e,onClose:t,title:r="Success!",message:n="Operation completed successfully",buttonText:i="Continue",onButtonClick:a,autoCloseDelay:o=null})=>{if(E.useEffect(()=>{if(e&&o){const l=setTimeout(()=>{a?a():t()},o);return()=>clearTimeout(l)}},[e,o,a,t]),!e)return null;const s=()=>{a?a():t()};return h.jsx("div",{className:"success-modal-overlay",onClick:t,children:h.jsxs("div",{className:"success-modal",onClick:l=>l.stopPropagation(),children:[h.jsx("div",{className:"success-modal-icon",children:h.jsxs("svg",{className:"checkmark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52",children:[h.jsx("circle",{className:"checkmark-circle",cx:"26",cy:"26",r:"25",fill:"none"}),h.jsx("path",{className:"checkmark-check",fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"})]})}),h.jsx("h2",{className:"success-modal-title",children:r}),h.jsx("p",{className:"success-modal-message",children:n}),h.jsx("div",{className:"success-modal-actions",children:h.jsx("button",{className:"success-modal-button",onClick:s,children:i})})]})})};function E$(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=E$(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ur(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=E$(e))&&(n&&(n+=" "),n+=t);return n}var R0e=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function bF(e){if(typeof e!="string")return!1;var t=R0e;return t.includes(e)}var D0e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],j0e=new Set(D0e);function S$(e){return typeof e!="string"?!1:j0e.has(e)}function N$(e){return typeof e=="string"&&e.startsWith("data-")}function Hn(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(S$(r)||N$(r))&&(t[r]=e[r]);return t}function Xh(e){if(e==null)return null;if(E.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Hn(t)}return typeof e=="object"&&!Array.isArray(e)?Hn(e):null}function fi(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(S$(r)||N$(r)||bF(r))&&(t[r]=e[r]);return t}function M0e(e){return e==null?null:E.isValidElement(e)?fi(e.props):typeof e=="object"&&!Array.isArray(e)?fi(e):null}var Q0e=["children","width","height","viewBox","className","style","title","desc"];function zS(){return zS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zS.apply(null,arguments)}function H0e(e,t){if(e==null)return{};var r,n,i=$0e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function $0e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var F$=E.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:o,style:s,title:l,desc:u}=e,c=H0e(e,Q0e),A=a||{width:n,height:i,x:0,y:0},d=ur("recharts-surface",o);return E.createElement("svg",zS({},fi(c),{className:d,width:n,height:i,style:s,viewBox:"".concat(A.x," ").concat(A.y," ").concat(A.width," ").concat(A.height),ref:t}),E.createElement("title",null,l),E.createElement("desc",null,u),r)}),W0e=["children","className"];function VS(){return VS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},VS.apply(null,arguments)}function K0e(e,t){if(e==null)return{};var r,n,i=z0e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function z0e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var gi=E.forwardRef((e,t)=>{var{children:r,className:n}=e,i=K0e(e,W0e),a=ur("recharts-layer",n);return E.createElement("g",VS({className:a},fi(i),{ref:t}),r)}),V0e=E.createContext(null);function Hr(e){return function(){return e}}const I$=Math.cos,Dw=Math.sin,el=Math.sqrt,jw=Math.PI,P2=2*jw,GS=Math.PI,qS=2*GS,QA=1e-6,G0e=qS-QA;function _$(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function q0e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return _$;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class X0e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?_$:q0e(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=n-t,u=i-r,c=o-t,A=s-r,d=c*c+A*A;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(d>QA)if(!(Math.abs(A*l-u*c)>QA)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let f=n-o,p=i-s,g=l*l+u*u,v=f*f+p*p,m=Math.sqrt(g),y=Math.sqrt(d),w=a*Math.tan((GS-Math.acos((g+d-v)/(2*m*y)))/2),b=w/y,B=w/m;Math.abs(b-1)>QA&&this._append`L${t+b*c},${r+b*A}`,this._append`A${a},${a},0,0,${+(A*f>c*p)},${this._x1=t+B*l},${this._y1=r+B*u}`}}arc(t,r,n,i,a,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),l=n*Math.sin(i),u=t+s,c=r+l,A=1^o,d=o?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>QA||Math.abs(this._y1-c)>QA)&&this._append`L${u},${c}`,n&&(d<0&&(d=d%qS+qS),d>G0e?this._append`A${n},${n},0,1,${A},${t-s},${r-l}A${n},${n},0,1,${A},${this._x1=u},${this._y1=c}`:d>QA&&this._append`A${n},${n},0,${+(d>=GS)},${A},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function BF(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new X0e(t)}function CF(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function k$(e){this._context=e}k$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function O2(e){return new k$(e)}function P$(e){return e[0]}function O$(e){return e[1]}function T$(e,t){var r=Hr(!0),n=null,i=O2,a=null,o=BF(s);e=typeof e=="function"?e:e===void 0?P$:Hr(e),t=typeof t=="function"?t:t===void 0?O$:Hr(t);function s(l){var u,c=(l=CF(l)).length,A,d=!1,f;for(n==null&&(a=i(f=o())),u=0;u<=c;++u)!(u<c&&r(A=l[u],u,l))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+e(A,u,l),+t(A,u,l));if(f)return a=null,f+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Hr(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Hr(+l),s):t},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Hr(!!l),s):r},s.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),s):i},s.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),s):n},s}function Py(e,t,r){var n=null,i=Hr(!0),a=null,o=O2,s=null,l=BF(u);e=typeof e=="function"?e:e===void 0?P$:Hr(+e),t=typeof t=="function"?t:Hr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?O$:Hr(+r);function u(A){var d,f,p,g=(A=CF(A)).length,v,m=!1,y,w=new Array(g),b=new Array(g);for(a==null&&(s=o(y=l())),d=0;d<=g;++d){if(!(d<g&&i(v=A[d],d,A))===m)if(m=!m)f=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),p=d-1;p>=f;--p)s.point(w[p],b[p]);s.lineEnd(),s.areaEnd()}m&&(w[d]=+e(v,d,A),b[d]=+t(v,d,A),s.point(n?+n(v,d,A):w[d],r?+r(v,d,A):b[d]))}if(y)return s=null,y+""||null}function c(){return T$().defined(i).curve(o).context(a)}return u.x=function(A){return arguments.length?(e=typeof A=="function"?A:Hr(+A),n=null,u):e},u.x0=function(A){return arguments.length?(e=typeof A=="function"?A:Hr(+A),u):e},u.x1=function(A){return arguments.length?(n=A==null?null:typeof A=="function"?A:Hr(+A),u):n},u.y=function(A){return arguments.length?(t=typeof A=="function"?A:Hr(+A),r=null,u):t},u.y0=function(A){return arguments.length?(t=typeof A=="function"?A:Hr(+A),u):t},u.y1=function(A){return arguments.length?(r=A==null?null:typeof A=="function"?A:Hr(+A),u):r},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(r)},u.lineX1=function(){return c().x(n).y(t)},u.defined=function(A){return arguments.length?(i=typeof A=="function"?A:Hr(!!A),u):i},u.curve=function(A){return arguments.length?(o=A,a!=null&&(s=o(a)),u):o},u.context=function(A){return arguments.length?(A==null?a=s=null:s=o(a=A),u):a},u}class L${constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Y0e(e){return new L$(e,!0)}function J0e(e){return new L$(e,!1)}const EF={draw(e,t){const r=el(t/jw);e.moveTo(r,0),e.arc(0,0,r,0,P2)}},Z0e={draw(e,t){const r=el(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},U$=el(1/3),eye=U$*2,tye={draw(e,t){const r=el(t/eye),n=r*U$;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},rye={draw(e,t){const r=el(t),n=-r/2;e.rect(n,n,r,r)}},nye=.8908130915292852,R$=Dw(jw/10)/Dw(7*jw/10),iye=Dw(P2/10)*R$,aye=-I$(P2/10)*R$,oye={draw(e,t){const r=el(t*nye),n=iye*r,i=aye*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const o=P2*a/5,s=I$(o),l=Dw(o);e.lineTo(l*r,-s*r),e.lineTo(s*n-l*i,l*n+s*i)}e.closePath()}},f5=el(3),sye={draw(e,t){const r=-el(t/(f5*3));e.moveTo(0,r*2),e.lineTo(-f5*r,-r),e.lineTo(f5*r,-r),e.closePath()}},Vo=-.5,Go=el(3)/2,XS=1/el(12),lye=(XS/2+1)*3,uye={draw(e,t){const r=el(t/lye),n=r/2,i=r*XS,a=n,o=r*XS+r,s=-a,l=o;e.moveTo(n,i),e.lineTo(a,o),e.lineTo(s,l),e.lineTo(Vo*n-Go*i,Go*n+Vo*i),e.lineTo(Vo*a-Go*o,Go*a+Vo*o),e.lineTo(Vo*s-Go*l,Go*s+Vo*l),e.lineTo(Vo*n+Go*i,Vo*i-Go*n),e.lineTo(Vo*a+Go*o,Vo*o-Go*a),e.lineTo(Vo*s+Go*l,Vo*l-Go*s),e.closePath()}};function cye(e,t){let r=null,n=BF(i);e=typeof e=="function"?e:Hr(e||EF),t=typeof t=="function"?t:Hr(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Hr(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Hr(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Mw(){}function Qw(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function D$(e){this._context=e}D$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Qw(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Qw(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Aye(e){return new D$(e)}function j$(e){this._context=e}j$.prototype={areaStart:Mw,areaEnd:Mw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Qw(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function fye(e){return new j$(e)}function M$(e){this._context=e}M$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Qw(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function dye(e){return new M$(e)}function Q$(e){this._context=e}Q$.prototype={areaStart:Mw,areaEnd:Mw,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function hye(e){return new Q$(e)}function eU(e){return e<0?-1:1}function tU(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(eU(a)+eU(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function rU(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function d5(e,t,r){var n=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-n)/3;e._context.bezierCurveTo(n+s,i+s*t,a-s,o-s*r,a,o)}function Hw(e){this._context=e}Hw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:d5(this,this._t0,rU(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,d5(this,rU(this,r=tU(this,e,t)),r);break;default:d5(this,this._t0,r=tU(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function H$(e){this._context=new $$(e)}(H$.prototype=Object.create(Hw.prototype)).point=function(e,t){Hw.prototype.point.call(this,t,e)};function $$(e){this._context=e}$$.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function pye(e){return new Hw(e)}function mye(e){return new H$(e)}function W$(e){this._context=e}W$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=nU(e),i=nU(t),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function nU(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function gye(e){return new W$(e)}function T2(e,t){this._context=e,this._t=t}T2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function vye(e){return new T2(e,.5)}function yye(e){return new T2(e,0)}function wye(e){return new T2(e,1)}function Ef(e,t){if((o=e.length)>1)for(var r=1,n,i,a=e[t[0]],o,s=a.length;r<o;++r)for(i=a,a=e[t[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function YS(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function xye(e,t){return e[t]}function bye(e){const t=[];return t.key=e,t}function Bye(){var e=Hr([]),t=YS,r=Ef,n=xye;function i(a){var o=Array.from(e.apply(this,arguments),bye),s,l=o.length,u=-1,c;for(const A of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+n(A,o[s].key,u,a)]).data=A;for(s=0,c=CF(t(o));s<l;++s)o[c[s]].index=s;return r(o,c),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Hr(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Hr(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?YS:typeof a=="function"?a:Hr(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??Ef,i):r},i}function Cye(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}Ef(e,t)}}function Eye(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var o=0,s=0;o<i;++o)s+=e[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}Ef(e,t)}}function Sye(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var s=0,l=0,u=0;s<o;++s){for(var c=e[t[s]],A=c[n][1]||0,d=c[n-1][1]||0,f=(A-d)/2,p=0;p<s;++p){var g=e[t[p]],v=g[n][1]||0,m=g[n-1][1]||0;f+=v-m}l+=A,u+=f*A}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,Ef(e,t)}}var L2={},K$={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(K$);var SF={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(SF);var U2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(U2);var R2={},z$={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(z$);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z$,r=U2;function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],o=i.length;if(o===0)return a;let s=0,l="",u="",c=!1;for(i.charCodeAt(0)===46&&(a.push(""),s++);s<o;){const A=i[s];u?A==="\\"&&s+1<o?(s++,l+=i[s]):A===u?u="":l+=A:c?A==='"'||A==="'"?u=A:A==="]"?(c=!1,a.push(l),l=""):l+=A:A==="["?(c=!0,l&&(a.push(l),l="")):A==="."?l&&(a.push(l),l=""):l+=A,s++}return l&&a.push(l),a}e.toPath=n})(R2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K$,r=SF,n=U2,i=R2;function a(s,l,u){if(s==null)return u;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return u;const c=s[l];return c===void 0?r.isDeepKey(l)?a(s,i.toPath(l),u):u:c}case"number":case"symbol":{typeof l=="number"&&(l=n.toKey(l));const c=s[l];return c===void 0?u:c}default:{if(Array.isArray(l))return o(s,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return u;const c=s[l];return c===void 0?u:c}}}function o(s,l,u){if(l.length===0)return u;let c=s;for(let A=0;A<l.length;A++){if(c==null||t.isUnsafeProperty(l[A]))return u;c=c[l[A]]}return c===void 0?u:c}e.get=a})(L2);var Nye=L2.get;const Sh=zs(Nye);var Fye=4;function Mc(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Fye,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function An(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((i,a,o)=>{var s=r[o-1];return typeof s=="string"?i+s+a:s!==void 0?i+Mc(s)+a:i+a},"")}var Va=e=>e===0?0:e>0?1:-1,$s=e=>typeof e=="number"&&e!=+e,Lu=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,mt=e=>(typeof e=="number"||e instanceof Number)&&!$s(e),Ol=e=>mt(e)||typeof e=="string",Iye=0,Cg=e=>{var t=++Iye;return"".concat(e||"").concat(t)},Ws=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!mt(t)&&typeof t!="string")return n;var a;if(Lu(t)){if(r==null)return n;var o=t.indexOf("%");a=r*parseFloat(t.slice(0,o))/100}else a=+t;return $s(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},V$=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function Tn(e,t,r){return mt(e)&&mt(t)?Mc(e+r*(t-e)):t}function _ye(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Sh(n,t))===r)}var $n=e=>e===null||typeof e>"u",fv=e=>$n(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function kye(e){return e!=null}function dv(){}var Pye=["type","size","sizeType"];function JS(){return JS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},JS.apply(null,arguments)}function iU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function aU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iU(Object(r),!0).forEach(function(n){Oye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oye(e,t,r){return(t=Tye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tye(e){var t=Lye(e,"string");return typeof t=="symbol"?t:t+""}function Lye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uye(e,t){if(e==null)return{};var r,n,i=Rye(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Rye(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var G$={symbolCircle:EF,symbolCross:Z0e,symbolDiamond:tye,symbolSquare:rye,symbolStar:oye,symbolTriangle:sye,symbolWye:uye},Dye=Math.PI/180,jye=e=>{var t="symbol".concat(fv(e));return G$[t]||EF},Mye=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*Dye;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Qye=(e,t)=>{G$["symbol".concat(fv(e))]=t},q$=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=Uye(e,Pye),a=aU(aU({},i),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var s=()=>{var d=jye(o),f=cye().type(d).size(Mye(r,n,o)),p=f();if(p!==null)return p},{className:l,cx:u,cy:c}=a,A=fi(a);return mt(u)&&mt(c)&&mt(r)?E.createElement("path",JS({},A,{className:ur("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(c,")"),d:s()})):null};q$.registerSymbol=Qye;var X$=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,NF=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(E.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{bF(i)&&(n[i]=a=>r[i](r,a))}),n},Hye=(e,t,r)=>n=>(e(t,r,n),null),hv=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];bF(i)&&typeof a=="function"&&(n||(n={}),n[i]=Hye(a,t,r))}),n};function oU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $ye(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oU(Object(r),!0).forEach(function(n){Wye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wye(e,t,r){return(t=Kye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kye(e){var t=zye(e,"string");return typeof t=="symbol"?t:t+""}function zye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ti(e,t){var r=$ye({},e),n=t,i=Object.keys(t),a=i.reduce((o,s)=>(o[s]===void 0&&n[s]!==void 0&&(o[s]=n[s]),o),r);return a}var Y$={},J$={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const o=r[a],s=n(o);i.has(s)||i.set(s,o)}return Array.from(i.values())}e.uniqBy=t})(J$);var pv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(pv);var Z$={},D2={},eW={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(eW);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eW;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(D2);var tW={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(tW);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D2,r=tW;function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(Z$);var j2={},rW={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L2;function r(n){return function(i){return t.get(i,n)}}e.property=r})(rW);var nW={},FF={},iW={},IF={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(IF);var _F={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(_F);var kF={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(kF);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IF,r=_F,n=kF;function i(c,A,d){return typeof d!="function"?i(c,A,()=>{}):a(c,A,function f(p,g,v,m,y,w){const b=d(p,g,v,m,y,w);return b!==void 0?!!b:a(p,g,f,w)},new Map)}function a(c,A,d,f){if(A===c)return!0;switch(typeof A){case"object":return o(c,A,d,f);case"function":return Object.keys(A).length>0?a(c,{...A},d,f):n.eq(c,A);default:return t.isObject(c)?typeof A=="string"?A==="":!0:n.eq(c,A)}}function o(c,A,d,f){if(A==null)return!0;if(Array.isArray(A))return l(c,A,d,f);if(A instanceof Map)return s(c,A,d,f);if(A instanceof Set)return u(c,A,d,f);const p=Object.keys(A);if(c==null||r.isPrimitive(c))return p.length===0;if(p.length===0)return!0;if(f!=null&&f.has(A))return f.get(A)===c;f==null||f.set(A,c);try{for(let g=0;g<p.length;g++){const v=p[g];if(!r.isPrimitive(c)&&!(v in c)||A[v]===void 0&&c[v]!==void 0||A[v]===null&&c[v]!==null||!d(c[v],A[v],v,c,A,f))return!1}return!0}finally{f==null||f.delete(A)}}function s(c,A,d,f){if(A.size===0)return!0;if(!(c instanceof Map))return!1;for(const[p,g]of A.entries()){const v=c.get(p);if(d(v,g,p,c,A,f)===!1)return!1}return!0}function l(c,A,d,f){if(A.length===0)return!0;if(!Array.isArray(c))return!1;const p=new Set;for(let g=0;g<A.length;g++){const v=A[g];let m=!1;for(let y=0;y<c.length;y++){if(p.has(y))continue;const w=c[y];let b=!1;if(d(w,v,g,c,A,f)&&(b=!0),b){p.add(y),m=!0;break}}if(!m)return!1}return!0}function u(c,A,d,f){return A.size===0?!0:c instanceof Set?l([...c],[...A],d,f):!1}e.isMatchWith=i,e.isSetMatch=u})(iW);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iW;function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(FF);var aW={},PF={},oW={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(oW);var OF={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(OF);var TF={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",s="[object Date]",l="[object Map]",u="[object Set]",c="[object Array]",A="[object Function]",d="[object ArrayBuffer]",f="[object Object]",p="[object Error]",g="[object DataView]",v="[object Uint8Array]",m="[object Uint8ClampedArray]",y="[object Uint16Array]",w="[object Uint32Array]",b="[object BigUint64Array]",B="[object Int8Array]",S="[object Int16Array]",P="[object Int32Array]",k="[object BigInt64Array]",I="[object Float32Array]",O="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=d,e.arrayTag=c,e.bigInt64ArrayTag=k,e.bigUint64ArrayTag=b,e.booleanTag=i,e.dataViewTag=g,e.dateTag=s,e.errorTag=p,e.float32ArrayTag=I,e.float64ArrayTag=O,e.functionTag=A,e.int16ArrayTag=S,e.int32ArrayTag=P,e.int8ArrayTag=B,e.mapTag=l,e.numberTag=n,e.objectTag=f,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=y,e.uint32ArrayTag=w,e.uint8ArrayTag=v,e.uint8ClampedArrayTag=m})(TF);var sW={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(sW);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oW,r=OF,n=TF,i=_F,a=sW;function o(c,A){return s(c,void 0,c,new Map,A)}function s(c,A,d,f=new Map,p=void 0){const g=p==null?void 0:p(c,A,d,f);if(g!==void 0)return g;if(i.isPrimitive(c))return c;if(f.has(c))return f.get(c);if(Array.isArray(c)){const v=new Array(c.length);f.set(c,v);for(let m=0;m<c.length;m++)v[m]=s(c[m],m,d,f,p);return Object.hasOwn(c,"index")&&(v.index=c.index),Object.hasOwn(c,"input")&&(v.input=c.input),v}if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp){const v=new RegExp(c.source,c.flags);return v.lastIndex=c.lastIndex,v}if(c instanceof Map){const v=new Map;f.set(c,v);for(const[m,y]of c)v.set(m,s(y,m,d,f,p));return v}if(c instanceof Set){const v=new Set;f.set(c,v);for(const m of c)v.add(s(m,void 0,d,f,p));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(c))return c.subarray();if(a.isTypedArray(c)){const v=new(Object.getPrototypeOf(c)).constructor(c.length);f.set(c,v);for(let m=0;m<c.length;m++)v[m]=s(c[m],m,d,f,p);return v}if(c instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&c instanceof SharedArrayBuffer)return c.slice(0);if(c instanceof DataView){const v=new DataView(c.buffer.slice(0),c.byteOffset,c.byteLength);return f.set(c,v),l(v,c,d,f,p),v}if(typeof File<"u"&&c instanceof File){const v=new File([c],c.name,{type:c.type});return f.set(c,v),l(v,c,d,f,p),v}if(typeof Blob<"u"&&c instanceof Blob){const v=new Blob([c],{type:c.type});return f.set(c,v),l(v,c,d,f,p),v}if(c instanceof Error){const v=new c.constructor;return f.set(c,v),v.message=c.message,v.name=c.name,v.stack=c.stack,v.cause=c.cause,l(v,c,d,f,p),v}if(c instanceof Boolean){const v=new Boolean(c.valueOf());return f.set(c,v),l(v,c,d,f,p),v}if(c instanceof Number){const v=new Number(c.valueOf());return f.set(c,v),l(v,c,d,f,p),v}if(c instanceof String){const v=new String(c.valueOf());return f.set(c,v),l(v,c,d,f,p),v}if(typeof c=="object"&&u(c)){const v=Object.create(Object.getPrototypeOf(c));return f.set(c,v),l(v,c,d,f,p),v}return c}function l(c,A,d=c,f,p){const g=[...Object.keys(A),...t.getSymbols(A)];for(let v=0;v<g.length;v++){const m=g[v],y=Object.getOwnPropertyDescriptor(c,m);(y==null||y.writable)&&(c[m]=s(A[m],m,d,f,p))}}function u(c){switch(r.getTag(c)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=s,e.copyProperties=l})(PF);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PF;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(aW);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FF,r=aW;function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n})(nW);var lW={},uW={},cW={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PF,r=TF;function n(i,a){return t.cloneDeepWith(i,(o,s,l,u)=>{const c=a==null?void 0:a(o,s,l,u);if(c!==void 0)return c;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const A=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(A,i),A}case r.argumentsTag:{const A={};return t.copyProperties(A,i),A.length=i.length,A[Symbol.iterator]=i[Symbol.iterator],A}default:return}})}e.cloneDeepWith=n})(cW);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cW;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(uW);var AW={},LF={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(LF);var fW={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OF;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(fW);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SF,r=LF,n=fW,i=R2;function a(o,s){let l;if(Array.isArray(s)?l=s:typeof s=="string"&&t.isDeepKey(s)&&(o==null?void 0:o[s])==null?l=i.toPath(s):l=[s],l.length===0)return!1;let u=o;for(let c=0;c<l.length;c++){const A=l[c];if((u==null||!Object.hasOwn(u,A))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(A)&&A<u.length))return!1;u=u[A]}return!0}e.has=a})(AW);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FF,r=U2,n=uW,i=L2,a=AW;function o(s,l){switch(typeof s){case"object":{Object.is(s==null?void 0:s.valueOf(),-0)&&(s="-0");break}case"number":{s=r.toKey(s);break}}return l=n.cloneDeep(l),function(u){const c=i.get(u,s);return c===void 0?a.has(u,s):l===void 0?c===void 0:t.isMatch(c,l)}}e.matchesProperty=o})(lW);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pv,r=rW,n=nW,i=lW;function a(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=a})(j2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J$,r=pv,n=Z$,i=j2;function a(o,s=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),i.iteratee(s)):[]}e.uniqBy=a})(Y$);var Vye=Y$.uniqBy;const sU=zs(Vye);function Gye(e,t,r){return t===!0?sU(e,r):typeof t=="function"?sU(e,t):e}var dW={exports:{}},hW={},pW={exports:{}},mW={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nh=E;function qye(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xye=typeof Object.is=="function"?Object.is:qye,Yye=Nh.useState,Jye=Nh.useEffect,Zye=Nh.useLayoutEffect,e1e=Nh.useDebugValue;function t1e(e,t){var r=t(),n=Yye({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return Zye(function(){i.value=r,i.getSnapshot=t,h5(i)&&a({inst:i})},[e,r,t]),Jye(function(){return h5(i)&&a({inst:i}),e(function(){h5(i)&&a({inst:i})})},[e]),e1e(r),r}function h5(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Xye(e,r)}catch{return!0}}function r1e(e,t){return t()}var n1e=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?r1e:t1e;mW.useSyncExternalStore=Nh.useSyncExternalStore!==void 0?Nh.useSyncExternalStore:n1e;pW.exports=mW;var i1e=pW.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M2=E,a1e=i1e;function o1e(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var s1e=typeof Object.is=="function"?Object.is:o1e,l1e=a1e.useSyncExternalStore,u1e=M2.useRef,c1e=M2.useEffect,A1e=M2.useMemo,f1e=M2.useDebugValue;hW.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=u1e(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=A1e(function(){function l(f){if(!u){if(u=!0,c=f,f=n(f),i!==void 0&&o.hasValue){var p=o.value;if(i(p,f))return A=p}return A=f}if(p=A,s1e(c,f))return p;var g=n(f);return i!==void 0&&i(p,g)?(c=f,p):(c=f,A=g)}var u=!1,c,A,d=r===void 0?null:r;return[function(){return l(t())},d===null?void 0:function(){return l(d())}]},[t,r,n,i]);var s=l1e(e,a[0],a[1]);return c1e(function(){o.hasValue=!0,o.value=s},[s]),f1e(s),s};dW.exports=hW;var d1e=dW.exports,UF=E.createContext(null),h1e=e=>e,zr=()=>{var e=E.useContext(UF);return e?e.store.dispatch:h1e},C1=()=>{},p1e=()=>C1,m1e=(e,t)=>e===t;function at(e){var t=E.useContext(UF);return d1e.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:p1e,t?t.store.getState:C1,t?t.store.getState:C1,t?e:C1,m1e)}function g1e(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function v1e(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function y1e(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var lU=e=>Array.isArray(e)?e:[e];function w1e(e){const t=Array.isArray(e[0])?e[0]:e;return y1e(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function x1e(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var b1e=class{constructor(e){this.value=e}deref(){return this.value}},B1e=typeof WeakRef<"u"?WeakRef:b1e,C1e=0,uU=1;function Oy(){return{s:C1e,v:void 0,o:null,p:null}}function gW(e,t={}){let r=Oy();const{resultEqualityCheck:n}=t;let i,a=0;function o(){var A;let s=r;const{length:l}=arguments;for(let d=0,f=l;d<f;d++){const p=arguments[d];if(typeof p=="function"||typeof p=="object"&&p!==null){let g=s.o;g===null&&(s.o=g=new WeakMap);const v=g.get(p);v===void 0?(s=Oy(),g.set(p,s)):s=v}else{let g=s.p;g===null&&(s.p=g=new Map);const v=g.get(p);v===void 0?(s=Oy(),g.set(p,s)):s=v}}const u=s;let c;if(s.s===uU)c=s.v;else if(c=e.apply(null,arguments),a++,n){const d=((A=i==null?void 0:i.deref)==null?void 0:A.call(i))??i;d!=null&&n(d,c)&&(c=d,a!==0&&a--),i=typeof c=="object"&&c!==null||typeof c=="function"?new B1e(c):c}return u.s=uU,u.v=c,c}return o.clearCache=()=>{r=Oy(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function E1e(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,o=0,s,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),g1e(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...r,...l},{memoize:A,memoizeOptions:d=[],argsMemoize:f=gW,argsMemoizeOptions:p=[]}=c,g=lU(d),v=lU(p),m=w1e(i),y=A(function(){return a++,u.apply(null,arguments)},...g),w=f(function(){o++;const B=x1e(m,arguments);return s=y.apply(null,B),s},...v);return Object.assign(w,{resultFunc:u,memoizedResultFunc:y,dependencies:m,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>s,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:A,argsMemoize:f})};return Object.assign(n,{withTypes:()=>n}),n}var be=E1e(gW),S1e=Object.assign((e,t=be)=>{v1e(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((o,s,l)=>(o[r[l]]=s,o),{}))},{withTypes:()=>S1e}),vW={},yW={},wW={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const o=t(n),s=t(i);if(o===s&&o===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?s-o:o-s}return 0};e.compareValues=r})(wW);var xW={},RF={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(RF);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RF,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||o!=null&&Object.hasOwn(o,a)}e.isKey=i})(xW);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wW,r=xW,n=R2;function i(a,o,s,l){if(a==null)return[];s=l?void 0:s,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(f=>String(f));const u=(f,p)=>{let g=f;for(let v=0;v<p.length&&g!=null;++v)g=g[p[v]];return g},c=(f,p)=>p==null||f==null?p:typeof f=="object"&&"key"in f?Object.hasOwn(p,f.key)?p[f.key]:u(p,f.path):typeof f=="function"?f(p):Array.isArray(f)?u(p,f):typeof p=="object"?p[f]:p,A=o.map(f=>(Array.isArray(f)&&f.length===1&&(f=f[0]),f==null||typeof f=="function"||Array.isArray(f)||r.isKey(f)?f:{key:f,path:n.toPath(f)}));return a.map(f=>({original:f,criteria:A.map(p=>c(p,f))})).slice().sort((f,p)=>{for(let g=0;g<A.length;g++){const v=t.compareValues(f.criteria[g],p.criteria[g],s[g]);if(v!==0)return v}return 0}).map(f=>f.original)}e.orderBy=i})(yW);var bW={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),o=(s,l)=>{for(let u=0;u<s.length;u++){const c=s[u];Array.isArray(c)&&l<a?o(c,l+1):i.push(c)}};return o(r,0),i}e.flatten=t})(bW);var DF={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LF,r=D2,n=IF,i=kF;function a(o,s,l){return n.isObject(l)&&(typeof s=="number"&&r.isArrayLike(l)&&t.isIndex(s)&&s<l.length||typeof s=="string"&&s in l)?i.eq(l[s],o):!1}e.isIterateeCall=a})(DF);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yW,r=bW,n=DF;function i(a,...o){const s=o.length;return s>1&&n.isIterateeCall(a,o[0],o[1])?o=[]:s>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(a,r.flatten(o),["asc"])}e.sortBy=i})(vW);var N1e=vW.sortBy;const Q2=zs(N1e);var BW=e=>e.legend.settings,F1e=e=>e.legend.size,I1e=e=>e.legend.payload;be([I1e,BW],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Q2(n,r):n});var Ty=1;function _1e(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=E.useState({height:0,left:0,top:0,width:0}),n=E.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-t.height)>Ty||Math.abs(o.left-t.left)>Ty||Math.abs(o.top-t.top)>Ty||Math.abs(o.width-t.width)>Ty)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function $i(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var k1e=typeof Symbol=="function"&&Symbol.observable||"@@observable",cU=k1e,p5=()=>Math.random().toString(36).substring(7).split("").join("."),P1e={INIT:`@@redux/INIT${p5()}`,REPLACE:`@@redux/REPLACE${p5()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${p5()}`},$w=P1e;function jF(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function CW(e,t,r){if(typeof e!="function")throw new Error($i(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error($i(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error($i(1));return r(CW)(e,t)}let n=e,i=t,a=new Map,o=a,s=0,l=!1;function u(){o===a&&(o=new Map,a.forEach((v,m)=>{o.set(m,v)}))}function c(){if(l)throw new Error($i(3));return i}function A(v){if(typeof v!="function")throw new Error($i(4));if(l)throw new Error($i(5));let m=!0;u();const y=s++;return o.set(y,v),function(){if(m){if(l)throw new Error($i(6));m=!1,u(),o.delete(y),a=null}}}function d(v){if(!jF(v))throw new Error($i(7));if(typeof v.type>"u")throw new Error($i(8));if(typeof v.type!="string")throw new Error($i(17));if(l)throw new Error($i(9));try{l=!0,i=n(i,v)}finally{l=!1}return(a=o).forEach(y=>{y()}),v}function f(v){if(typeof v!="function")throw new Error($i(10));n=v,d({type:$w.REPLACE})}function p(){const v=A;return{subscribe(m){if(typeof m!="object"||m===null)throw new Error($i(11));function y(){const b=m;b.next&&b.next(c())}return y(),{unsubscribe:v(y)}},[cU](){return this}}}return d({type:$w.INIT}),{dispatch:d,subscribe:A,getState:c,replaceReducer:f,[cU]:p}}function O1e(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:$w.INIT})>"u")throw new Error($i(12));if(typeof r(void 0,{type:$w.PROBE_UNKNOWN_ACTION()})>"u")throw new Error($i(13))})}function EW(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const o=t[a];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let i;try{O1e(r)}catch(a){i=a}return function(o={},s){if(i)throw i;let l=!1;const u={};for(let c=0;c<n.length;c++){const A=n[c],d=r[A],f=o[A],p=d(f,s);if(typeof p>"u")throw s&&s.type,new Error($i(14));u[A]=p,l=l||p!==f}return l=l||n.length!==Object.keys(o).length,l?u:o}}function Ww(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function T1e(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error($i(15))};const o={getState:i.getState,dispatch:(l,...u)=>a(l,...u)},s=e.map(l=>l(o));return a=Ww(...s)(i.dispatch),{...i,dispatch:a}}}function SW(e){return jF(e)&&"type"in e&&typeof e.type=="string"}var NW=Symbol.for("immer-nothing"),AU=Symbol.for("immer-draftable"),Ta=Symbol.for("immer-state");function ks(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var _o=Object,Fh=_o.getPrototypeOf,Kw="constructor",H2="prototype",ZS="configurable",zw="enumerable",E1="writable",Eg="value",Uu=e=>!!e&&!!e[Ta];function Ks(e){var t;return e?FW(e)||$2(e)||!!e[AU]||!!((t=e[Kw])!=null&&t[AU])||W2(e)||K2(e):!1}var L1e=_o[H2][Kw].toString(),fU=new WeakMap;function FW(e){if(!e||!MF(e))return!1;const t=Fh(e);if(t===null||t===_o[H2])return!0;const r=_o.hasOwnProperty.call(t,Kw)&&t[Kw];if(r===Object)return!0;if(!Fd(r))return!1;let n=fU.get(r);return n===void 0&&(n=Function.toString.call(r),fU.set(r,n)),n===L1e}function mv(e,t,r=!0){gv(e)===0?(r?Reflect.ownKeys(e):_o.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function gv(e){const t=e[Ta];return t?t.type_:$2(e)?1:W2(e)?2:K2(e)?3:0}var dU=(e,t,r=gv(e))=>r===2?e.has(t):_o[H2].hasOwnProperty.call(e,t),e4=(e,t,r=gv(e))=>r===2?e.get(t):e[t],Vw=(e,t,r,n=gv(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function U1e(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var $2=Array.isArray,W2=e=>e instanceof Map,K2=e=>e instanceof Set,MF=e=>typeof e=="object",Fd=e=>typeof e=="function",m5=e=>typeof e=="boolean",hu=e=>e.copy_||e.base_,QF=e=>e.modified_?e.copy_:e.base_;function t4(e,t){if(W2(e))return new Map(e);if(K2(e))return new Set(e);if($2(e))return Array[H2].slice.call(e);const r=FW(e);if(t===!0||t==="class_only"&&!r){const n=_o.getOwnPropertyDescriptors(e);delete n[Ta];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const o=i[a],s=n[o];s[E1]===!1&&(s[E1]=!0,s[ZS]=!0),(s.get||s.set)&&(n[o]={[ZS]:!0,[E1]:!0,[zw]:s[zw],[Eg]:e[o]})}return _o.create(Fh(e),n)}else{const n=Fh(e);if(n!==null&&r)return{...e};const i=_o.create(n);return _o.assign(i,e)}}function HF(e,t=!1){return z2(e)||Uu(e)||!Ks(e)||(gv(e)>1&&_o.defineProperties(e,{set:Ly,add:Ly,clear:Ly,delete:Ly}),_o.freeze(e),t&&mv(e,(r,n)=>{HF(n,!0)},!1)),e}function R1e(){ks(2)}var Ly={[Eg]:R1e};function z2(e){return e===null||!MF(e)?!0:_o.isFrozen(e)}var Gw="MapSet",r4="Patches",IW={};function Ih(e){const t=IW[e];return t||ks(0,e),t}var D1e=e=>!!IW[e],Sg,_W=()=>Sg,j1e=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:D1e(Gw)?Ih(Gw):void 0});function hU(e,t){t&&(e.patchPlugin_=Ih(r4),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function n4(e){i4(e),e.drafts_.forEach(M1e),e.drafts_=null}function i4(e){e===Sg&&(Sg=e.parent_)}var pU=e=>Sg=j1e(Sg,e);function M1e(e){const t=e[Ta];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function mU(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Ta].modified_&&(n4(t),ks(4)),Ks(e)&&(e=gU(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(r[Ta].base_,e,t)}else e=gU(t,r);return Q1e(t,e,!0),n4(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==NW?e:void 0}function gU(e,t){if(z2(t))return t;const r=t[Ta];if(!r)return $F(t,e.handledSet_,e);if(!V2(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);OW(r,e)}return r.copy_}function Q1e(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&HF(t,r)}function kW(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var V2=(e,t)=>e.scope_===t,H1e=[];function PW(e,t,r,n){const i=hu(e),a=e.type_;if(n!==void 0&&e4(i,n,a)===t){Vw(i,n,r,a);return}if(!e.draftLocations_){const s=e.draftLocations_=new Map;mv(i,(l,u)=>{if(Uu(u)){const c=s.get(u)||[];c.push(l),s.set(u,c)}})}const o=e.draftLocations_.get(t)??H1e;for(const s of o)Vw(i,s,r,a)}function $1e(e,t,r){e.callbacks_.push(function(i){var s;const a=t;if(!a||!V2(a,i))return;(s=i.mapSetPlugin_)==null||s.fixSetContents(a);const o=QF(a);PW(e,a.draft_??a,o,r),OW(a,i)})}function OW(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}kW(e)}}function W1e(e,t,r){const{scope_:n}=e;if(Uu(r)){const i=r[Ta];V2(i,n)&&i.callbacks_.push(function(){S1(e);const o=QF(i);PW(e,r,o,t)})}else Ks(r)&&e.callbacks_.push(function(){const a=hu(e);e4(a,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&$F(e4(e.copy_,t,e.type_),n.handledSet_,n)})}function $F(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Uu(e)||t.has(e)||!Ks(e)||z2(e)||(t.add(e),mv(e,(n,i)=>{if(Uu(i)){const a=i[Ta];if(V2(a,r)){const o=QF(a);Vw(e,n,o,e.type_),kW(a)}}else Ks(i)&&$F(i,t,r)})),e}function K1e(e,t){const r=$2(e),n={type_:r?1:0,scope_:t?t.scope_:_W(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,a=WF;r&&(i=[n],a=Ng);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return n.draft_=s,n.revoke_=o,[s,n]}var WF={get(e,t){if(t===Ta)return e;const r=hu(e);if(!dU(r,t,e.type_))return z1e(e,r,t);const n=r[t];if(e.finalized_||!Ks(n))return n;if(n===g5(e.base_,t)){S1(e);const i=e.type_===1?+t:t,a=o4(e.scope_,n,e,i);return e.copy_[i]=a}return n},has(e,t){return t in hu(e)},ownKeys(e){return Reflect.ownKeys(hu(e))},set(e,t,r){const n=TW(hu(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=g5(hu(e),t),a=i==null?void 0:i[Ta];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(U1e(r,i)&&(r!==void 0||dU(e.base_,t,e.type_)))return!0;S1(e),a4(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),W1e(e,t,r)),!0},deleteProperty(e,t){return S1(e),g5(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),a4(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=hu(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[E1]:!0,[ZS]:e.type_!==1||t!=="length",[zw]:n[zw],[Eg]:r[t]}},defineProperty(){ks(11)},getPrototypeOf(e){return Fh(e.base_)},setPrototypeOf(){ks(12)}},Ng={};mv(WF,(e,t)=>{Ng[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});Ng.deleteProperty=function(e,t){return Ng.set.call(this,e,t,void 0)};Ng.set=function(e,t,r){return WF.set.call(this,e[0],t,r,e[0])};function g5(e,t){const r=e[Ta];return(r?hu(r):e)[t]}function z1e(e,t,r){var i;const n=TW(t,r);return n?Eg in n?n[Eg]:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function TW(e,t){if(!(t in e))return;let r=Fh(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Fh(r)}}function a4(e){e.modified_||(e.modified_=!0,e.parent_&&a4(e.parent_))}function S1(e){e.copy_||(e.assigned_=new Map,e.copy_=t4(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var V1e=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(Fd(r)&&!Fd(n)){const o=n;n=r;const s=this;return function(u=o,...c){return s.produce(u,A=>n.call(this,A,...c))}}Fd(n)||ks(6),i!==void 0&&!Fd(i)&&ks(7);let a;if(Ks(r)){const o=pU(this),s=o4(o,r,void 0);let l=!0;try{a=n(s),l=!1}finally{l?n4(o):i4(o)}return hU(o,i),mU(a,o)}else if(!r||!MF(r)){if(a=n(r),a===void 0&&(a=r),a===NW&&(a=void 0),this.autoFreeze_&&HF(a,!0),i){const o=[],s=[];Ih(r4).generateReplacementPatches_(r,a,{patches_:o,inversePatches_:s}),i(o,s)}return a}else ks(1,r)},this.produceWithPatches=(r,n)=>{if(Fd(r))return(s,...l)=>this.produceWithPatches(s,u=>r(u,...l));let i,a;return[this.produce(r,n,(s,l)=>{i=s,a=l}),i,a]},m5(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),m5(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),m5(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Ks(t)||ks(8),Uu(t)&&(t=Ms(t));const r=pU(this),n=o4(r,t,void 0);return n[Ta].isManual_=!0,i4(r),n}finishDraft(t,r){const n=t&&t[Ta];(!n||!n.isManual_)&&ks(9);const{scope_:i}=n;return hU(i,r),mU(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const a=r[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(r=r.slice(n+1));const i=Ih(r4).applyPatches_;return Uu(t)?i(t,r):this.produce(t,a=>i(a,r))}};function o4(e,t,r,n){const[i,a]=W2(t)?Ih(Gw).proxyMap_(t,r):K2(t)?Ih(Gw).proxySet_(t,r):K1e(t,r);return((r==null?void 0:r.scope_)??_W()).drafts_.push(i),a.callbacks_=(r==null?void 0:r.callbacks_)??[],a.key_=n,r&&n!==void 0?$1e(r,a,n):a.callbacks_.push(function(l){var c;(c=l.mapSetPlugin_)==null||c.fixSetContents(a);const{patchPlugin_:u}=l;a.modified_&&u&&u.generatePatches_(a,[],l)}),i}function Ms(e){return Uu(e)||ks(10,e),LW(e)}function LW(e){if(!Ks(e)||z2(e))return e;const t=e[Ta];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=t4(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=t4(e,!0);return mv(r,(i,a)=>{Vw(r,i,LW(a))},n),t&&(t.finalized_=!1),r}var G1e=new V1e,UW=G1e.produce;function RW(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var q1e=RW(),X1e=RW,Y1e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ww:Ww.apply(null,arguments)};function fs(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(Oo(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>SW(n)&&n.type===e,r}var DW=class bm extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,bm.prototype)}static get[Symbol.species](){return bm}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new bm(...t[0].concat(this)):new bm(...t.concat(this))}};function vU(e){return Ks(e)?UW(e,()=>{}):e}function Uy(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function J1e(e){return typeof e=="boolean"}var Z1e=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let o=new DW;return r&&(J1e(r)?o.push(q1e):o.push(X1e(r.extraArgument))),o},jW="RTK_autoBatch",an=()=>e=>({payload:e,meta:{[jW]:!0}}),yU=e=>t=>{setTimeout(t,e)},MW=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,o=!1;const s=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:yU(10):e.type==="callback"?e.queueNotification:yU(e.timeout),u=()=>{o=!1,a&&(a=!1,s.forEach(c=>c()))};return Object.assign({},n,{subscribe(c){const A=()=>i&&c(),d=n.subscribe(A);return s.add(c),()=>{d(),s.delete(c)}},dispatch(c){var A;try{return i=!((A=c==null?void 0:c.meta)!=null&&A[jW]),a=!i,a&&(o||(o=!0,l(u))),n.dispatch(c)}finally{i=!0}}})},ewe=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new DW(e);return n&&i.push(MW(typeof n=="object"?n:void 0)),i};function twe(e){const t=Z1e(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=e||{};let s;if(typeof r=="function")s=r;else if(jF(r))s=EW(r);else throw new Error(Oo(1));let l;typeof n=="function"?l=n(t):l=t();let u=Ww;i&&(u=Y1e({trace:!1,...typeof i=="object"&&i}));const c=T1e(...l),A=ewe(c);let d=typeof o=="function"?o(A):A();const f=u(...d);return CW(s,a,f)}function QW(e){const t={},r=[];let n;const i={addCase(a,o){const s=typeof a=="string"?a:a.type;if(!s)throw new Error(Oo(28));if(s in t)throw new Error(Oo(29));return t[s]=o,i},addAsyncThunk(a,o){return o.pending&&(t[a.pending.type]=o.pending),o.rejected&&(t[a.rejected.type]=o.rejected),o.fulfilled&&(t[a.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return r.push({matcher:a,reducer:o}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function rwe(e){return typeof e=="function"}function nwe(e,t){let[r,n,i]=QW(t),a;if(rwe(e))a=()=>vU(e());else{const s=vU(e);a=()=>s}function o(s=a(),l){let u=[r[l.type],...n.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,A)=>{if(A)if(Uu(c)){const f=A(c,l);return f===void 0?c:f}else{if(Ks(c))return UW(c,d=>A(d,l));{const d=A(c,l);if(d===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return d}}return c},s)}return o.getInitialState=a,o}var iwe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",awe=(e=21)=>{let t="",r=e;for(;r--;)t+=iwe[Math.random()*64|0];return t},owe=Symbol.for("rtk-slice-createasyncthunk");function swe(e,t){return`${e}/${t}`}function lwe({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[owe];return function(i){const{name:a,reducerPath:o=a}=i;if(!a)throw new Error(Oo(11));const s=(typeof i.reducers=="function"?i.reducers(cwe()):i.reducers)||{},l=Object.keys(s),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(b,B){const S=typeof b=="string"?b:b.type;if(!S)throw new Error(Oo(12));if(S in u.sliceCaseReducersByType)throw new Error(Oo(13));return u.sliceCaseReducersByType[S]=B,c},addMatcher(b,B){return u.sliceMatchers.push({matcher:b,reducer:B}),c},exposeAction(b,B){return u.actionCreators[b]=B,c},exposeCaseReducer(b,B){return u.sliceCaseReducersByName[b]=B,c}};l.forEach(b=>{const B=s[b],S={reducerName:b,type:swe(a,b),createNotation:typeof i.reducers=="function"};fwe(B)?hwe(S,B,c,t):Awe(S,B,c)});function A(){const[b={},B=[],S=void 0]=typeof i.extraReducers=="function"?QW(i.extraReducers):[i.extraReducers],P={...b,...u.sliceCaseReducersByType};return nwe(i.initialState,k=>{for(let I in P)k.addCase(I,P[I]);for(let I of u.sliceMatchers)k.addMatcher(I.matcher,I.reducer);for(let I of B)k.addMatcher(I.matcher,I.reducer);S&&k.addDefaultCase(S)})}const d=b=>b,f=new Map,p=new WeakMap;let g;function v(b,B){return g||(g=A()),g(b,B)}function m(){return g||(g=A()),g.getInitialState()}function y(b,B=!1){function S(k){let I=k[b];return typeof I>"u"&&B&&(I=Uy(p,S,m)),I}function P(k=d){const I=Uy(f,B,()=>new WeakMap);return Uy(I,k,()=>{const O={};for(const[F,N]of Object.entries(i.selectors??{}))O[F]=uwe(N,k,()=>Uy(p,k,m),B);return O})}return{reducerPath:b,getSelectors:P,get selectors(){return P(S)},selectSlice:S}}const w={name:a,reducer:v,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:m,...y(o),injectInto(b,{reducerPath:B,...S}={}){const P=B??o;return b.inject({reducerPath:P,reducer:v},S),{...w,...y(P,!0)}}};return w}}function uwe(e,t,r,n){function i(a,...o){let s=t(a);return typeof s>"u"&&n&&(s=r()),e(s,...o)}return i.unwrapped=e,i}var so=lwe();function cwe(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function Awe({type:e,reducerName:t,createNotation:r},n,i){let a,o;if("reducer"in n){if(r&&!dwe(n))throw new Error(Oo(17));a=n.reducer,o=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?fs(e,o):fs(e))}function fwe(e){return e._reducerDefinitionType==="asyncThunk"}function dwe(e){return e._reducerDefinitionType==="reducerWithPrepare"}function hwe({type:e,reducerName:t},r,n,i){if(!i)throw new Error(Oo(18));const{payloadCreator:a,fulfilled:o,pending:s,rejected:l,settled:u,options:c}=r,A=i(e,a,c);n.exposeAction(t,A),o&&n.addCase(A.fulfilled,o),s&&n.addCase(A.pending,s),l&&n.addCase(A.rejected,l),u&&n.addMatcher(A.settled,u),n.exposeCaseReducer(t,{fulfilled:o||Ry,pending:s||Ry,rejected:l||Ry,settled:u||Ry})}function Ry(){}var pwe="task",HW="listener",$W="completed",KF="cancelled",mwe=`task-${KF}`,gwe=`task-${$W}`,s4=`${HW}-${KF}`,vwe=`${HW}-${$W}`,G2=class{constructor(e){gr(this,"name","TaskAbortError");gr(this,"message");this.code=e,this.message=`${pwe} ${KF} (reason: ${e})`}},zF=(e,t)=>{if(typeof e!="function")throw new TypeError(Oo(32))},qw=()=>{},WW=(e,t=qw)=>(e.catch(t),e),KW=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ff=e=>{if(e.aborted)throw new G2(e.reason)};function zW(e,t){let r=qw;return new Promise((n,i)=>{const a=()=>i(new G2(e.reason));if(e.aborted){a();return}r=KW(e,a),t.finally(()=>r()).then(n,i)}).finally(()=>{r=qw})}var ywe=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof G2?"cancelled":"rejected",error:r}}finally{t==null||t()}},Xw=e=>t=>WW(zW(e,t).then(r=>(ff(e),r))),VW=e=>{const t=Xw(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Ah}=Object,wU={},q2="listenerMiddleware",wwe=(e,t)=>{const r=n=>KW(e,()=>n.abort(e.reason));return(n,i)=>{zF(n);const a=new AbortController;r(a);const o=ywe(async()=>{ff(e),ff(a.signal);const s=await n({pause:Xw(a.signal),delay:VW(a.signal),signal:a.signal});return ff(a.signal),s},()=>a.abort(gwe));return i!=null&&i.autoJoin&&t.push(o.catch(qw)),{result:Xw(e)(o),cancel(){a.abort(mwe)}}}},xwe=(e,t)=>{const r=async(n,i)=>{ff(t);let a=()=>{};const s=[new Promise((l,u)=>{let c=e({predicate:n,effect:(A,d)=>{d.unsubscribe(),l([A,d.getState(),d.getOriginalState()])}});a=()=>{c(),u()}})];i!=null&&s.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await zW(t,Promise.race(s));return ff(t),l}finally{a()}};return(n,i)=>WW(r(n,i))},GW=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=fs(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Oo(21));return zF(a),{predicate:i,type:t,effect:a}},qW=Ah(e=>{const{type:t,predicate:r,effect:n}=GW(e);return{id:awe(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Oo(22))}}},{withTypes:()=>qW}),xU=(e,t)=>{const{type:r,effect:n,predicate:i}=GW(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},l4=e=>{e.pending.forEach(t=>{t.abort(s4)})},bwe=(e,t)=>()=>{for(const r of t.keys())l4(r);e.clear()},bU=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},XW=Ah(fs(`${q2}/add`),{withTypes:()=>XW}),Bwe=fs(`${q2}/removeAll`),YW=Ah(fs(`${q2}/remove`),{withTypes:()=>YW}),Cwe=(...e)=>{console.error(`${q2}/error`,...e)},vv=(e={})=>{const t=new Map,r=new Map,n=f=>{const p=r.get(f)??0;r.set(f,p+1)},i=f=>{const p=r.get(f)??1;p===1?r.delete(f):r.set(f,p-1)},{extra:a,onError:o=Cwe}=e;zF(o);const s=f=>(f.unsubscribe=()=>t.delete(f.id),t.set(f.id,f),p=>{f.unsubscribe(),p!=null&&p.cancelActive&&l4(f)}),l=f=>{const p=xU(t,f)??qW(f);return s(p)};Ah(l,{withTypes:()=>l});const u=f=>{const p=xU(t,f);return p&&(p.unsubscribe(),f.cancelActive&&l4(p)),!!p};Ah(u,{withTypes:()=>u});const c=async(f,p,g,v)=>{const m=new AbortController,y=xwe(l,m.signal),w=[];try{f.pending.add(m),n(f),await Promise.resolve(f.effect(p,Ah({},g,{getOriginalState:v,condition:(b,B)=>y(b,B).then(Boolean),take:y,delay:VW(m.signal),pause:Xw(m.signal),extra:a,signal:m.signal,fork:wwe(m.signal,w),unsubscribe:f.unsubscribe,subscribe:()=>{t.set(f.id,f)},cancelActiveListeners:()=>{f.pending.forEach((b,B,S)=>{b!==m&&(b.abort(s4),S.delete(b))})},cancel:()=>{m.abort(s4),f.pending.delete(m)},throwIfCancelled:()=>{ff(m.signal)}})))}catch(b){b instanceof G2||bU(o,b,{raisedBy:"effect"})}finally{await Promise.all(w),m.abort(vwe),i(f),f.pending.delete(m)}},A=bwe(t,r);return{middleware:f=>p=>g=>{if(!SW(g))return p(g);if(XW.match(g))return l(g.payload);if(Bwe.match(g)){A();return}if(YW.match(g))return u(g.payload);let v=f.getState();const m=()=>{if(v===wU)throw new Error(Oo(23));return v};let y;try{if(y=p(g),t.size>0){const w=f.getState(),b=Array.from(t.values());for(const B of b){let S=!1;try{S=B.predicate(g,w,v)}catch(P){S=!1,bU(o,P,{raisedBy:"predicate"})}S&&c(B,g,f,m)}}}finally{v=wU}return y},startListening:l,stopListening:u,clearListeners:A}};function Oo(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Ewe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},JW=so({name:"chartLayout",initialState:Ewe,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Swe,setLayout:Nwe,setChartSize:Fwe,setScale:Iwe}=JW.actions,_we=JW.reducer;function ZW(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function vn(e){return Number.isFinite(e)}function Tl(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function BU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $d(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BU(Object(r),!0).forEach(function(n){kwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kwe(e,t,r){return(t=Pwe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pwe(e){var t=Owe(e,"string");return typeof t=="symbol"?t:t+""}function Owe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qn(e,t,r){return $n(e)||$n(t)?r:Ol(t)?Sh(e,t,r):typeof t=="function"?t(e):r}var Twe=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:o,layout:s}=t;if((s==="vertical"||s==="horizontal"&&o==="middle")&&a!=="center"&&mt(e[a]))return $d($d({},e),{},{[a]:e[a]+(n||0)});if((s==="horizontal"||s==="vertical"&&a==="center")&&o!=="middle"&&mt(e[o]))return $d($d({},e),{},{[o]:e[o]+(i||0)})}return e},pA=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",eK=(e,t,r,n)=>{if(n)return e.map(s=>s.coordinate);var i,a,o=e.map(s=>(s.coordinate===t&&(i=!0),s.coordinate===r&&(a=!0),s.coordinate));return i||o.push(t),a||o.push(r),o},tK=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:o,realScaleType:s,isCategorical:l,categoricalDomain:u,tickCount:c,ticks:A,niceTicks:d,axisType:f}=e;if(!o)return null;var p=s==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,g=i==="category"&&o.bandwidth?o.bandwidth()/p:0;if(g=f==="angleAxis"&&a&&a.length>=2?Va(a[0]-a[1])*2*g:g,A||d){var v=(A||d||[]).map((m,y)=>{var w=n?n.indexOf(m):m;return{coordinate:o(w)+g,value:m,offset:g,index:y}});return v.filter(m=>!$s(m.coordinate))}return l&&u?u.map((m,y)=>({coordinate:o(m)+g,value:m,index:y,offset:g})):o.ticks&&c!=null?o.ticks(c).map((m,y)=>({coordinate:o(m)+g,value:m,offset:g,index:y})):o.domain().map((m,y)=>({coordinate:o(m)+g,value:n?n[m]:m,index:y,offset:g}))},CU=1e-4,Lwe=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-CU,a=Math.max(n[0],n[1])+CU,o=e(t[0]),s=e(t[r-1]);(o<i||o>a||s<i||s>a)&&e.domain([t[0],t[r-1]])}},Uwe=(e,t)=>{if(!t||t.length!==2||!mt(t[0])||!mt(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!mt(e[0])||e[0]<r)&&(i[0]=r),(!mt(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},Rwe=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var a=0,o=0,s=0;s<r;++s){var l=e[s],u=l==null?void 0:l[i];if(u!=null){var c=u[1],A=u[0],d=$s(c)?A:c;d>=0?(u[0]=a,u[1]=a+d,a=c):(u[0]=o,u[1]=o+d,o=c)}}}},Dwe=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var a=0,o=0;o<r;++o){var s=e[o],l=s==null?void 0:s[i];if(l!=null){var u=$s(l[1])?l[0]:l[1];u>=0?(l[0]=a,l[1]=a+u,a=l[1]):(l[0]=0,l[1]=0)}}}},jwe={sign:Rwe,expand:Cye,none:Ef,silhouette:Eye,wiggle:Sye,positive:Dwe},Mwe=(e,t,r)=>{var n,i=(n=jwe[r])!==null&&n!==void 0?n:Ef,a=Bye().keys(t).value((s,l)=>Number(Qn(s,l,0))).order(YS).offset(i),o=a(e);return o.forEach((s,l)=>{s.forEach((u,c)=>{var A=Qn(e[c],t[l],0);Array.isArray(A)&&A.length===2&&mt(A[0])&&mt(A[1])&&(u[0]=A[0],u[1]=A[1])})}),o};function Qwe(e){return e==null?void 0:String(e)}var EU=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:a,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var s=Qn(a,t.dataKey,t.scale.domain()[o]);return $n(s)?null:t.scale(s)-i/2+n},Hwe=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},$we=e=>{var t=e.flat(2).filter(mt);return[Math.min(...t),Math.max(...t)]},Wwe=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Kwe=(e,t,r)=>{if(e!=null)return Wwe(Object.keys(e).reduce((n,i)=>{var a=e[i];if(!a)return n;var{stackedData:o}=a,s=o.reduce((l,u)=>{var c=ZW(u,t,r),A=$we(c);return!vn(A[0])||!vn(A[1])?l:[Math.min(l[0],A[0]),Math.max(l[1],A[1])]},[1/0,-1/0]);return[Math.min(s[0],n[0]),Math.max(s[1],n[1])]},[1/0,-1/0]))},SU=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,NU=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_h=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=Q2(t,c=>c.coordinate),a=1/0,o=1,s=i.length;o<s;o++){var l=i[o],u=i[o-1];a=Math.min(((l==null?void 0:l.coordinate)||0)-((u==null?void 0:u.coordinate)||0),a)}return a===1/0?0:a}return r?void 0:0};function FU(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return $d($d({},t),{},{dataKey:r,payload:n,value:i,name:a})}function X2(e,t){if(e)return String(e);if(typeof t=="string")return t}var zwe=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},Vwe=(e,t)=>t==="centric"?e.angle:e.radius,qu=e=>e.layout.width,Xu=e=>e.layout.height,Gwe=e=>e.layout.scale,rK=e=>e.layout.margin,Y2=be(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),J2=be(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),qwe="data-recharts-item-index",Xwe="data-recharts-item-id",yv=60;function IU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Dy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IU(Object(r),!0).forEach(function(n){Ywe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ywe(e,t,r){return(t=Jwe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jwe(e){var t=Zwe(e,"string");return typeof t=="symbol"?t:t+""}function Zwe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var exe=e=>e.brush.height;function txe(e){var t=J2(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:yv;return r+i}return r},0)}function rxe(e){var t=J2(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:yv;return r+i}return r},0)}function nxe(e){var t=Y2(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function ixe(e){var t=Y2(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Li=be([qu,Xu,rK,exe,txe,rxe,nxe,ixe,BW,F1e],(e,t,r,n,i,a,o,s,l,u)=>{var c={left:(r.left||0)+i,right:(r.right||0)+a},A={top:(r.top||0)+o,bottom:(r.bottom||0)+s},d=Dy(Dy({},A),c),f=d.bottom;d.bottom+=n,d=Twe(d,l,u);var p=e-d.left-d.right,g=t-d.top-d.bottom;return Dy(Dy({brushBottom:f},d),{},{width:Math.max(p,0),height:Math.max(g,0)})}),axe=be(Li,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),VF=be(qu,Xu,(e,t)=>({x:0,y:0,width:e,height:t})),oxe=E.createContext(null),xa=()=>E.useContext(oxe)!=null,Z2=e=>e.brush,eb=be([Z2,Li,rK],(e,t,r)=>({height:e.height,x:mt(e.x)?e.x:t.left,y:mt(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:mt(e.width)?e.width:t.width})),nK={},iK={},aK={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:a}={}){let o,s=null;const l=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),c=()=>{s!==null&&(r.apply(o,s),o=void 0,s=null)},A=()=>{u&&c(),g()};let d=null;const f=()=>{d!=null&&clearTimeout(d),d=setTimeout(()=>{d=null,A()},n)},p=()=>{d!==null&&(clearTimeout(d),d=null)},g=()=>{p(),o=void 0,s=null},v=()=>{c()},m=function(...y){if(i!=null&&i.aborted)return;o=this,s=y;const w=d==null;f(),l&&w&&c()};return m.schedule=f,m.cancel=g,m.flush=v,i==null||i.addEventListener("abort",g,{once:!0}),m}e.debounce=t})(aK);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aK;function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:s=!0,maxWait:l}=a,u=Array(2);o&&(u[0]="leading"),s&&(u[1]="trailing");let c,A=null;const d=t.debounce(function(...g){c=n.apply(this,g),A=null},i,{edges:u}),f=function(...g){return l!=null&&(A===null&&(A=Date.now()),Date.now()-A>=l)?(c=n.apply(this,g),A=Date.now(),d.cancel(),d.schedule(),c):(d.apply(this,g),c)},p=()=>(d.flush(),c);return f.cancel=d.cancel,f.flush=p,f}e.debounce=r})(iK);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iK;function r(n,i=0,a={}){const{leading:o=!0,trailing:s=!0}=a;return t.debounce(n,i,{leading:o,maxWait:i,trailing:s})}e.throttle=r})(nK);var sxe=nK.throttle;const lxe=zs(sxe);var Yw=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(r.replace(/%s/g,()=>i[o++]))}},oK=(e,t,r)=>{var{width:n="100%",height:i="100%",aspect:a,maxHeight:o}=r,s=Lu(n)?e:Number(n),l=Lu(i)?t:Number(i);return a&&a>0&&(s?l=s/a:l&&(s=l*a),o&&l!=null&&l>o&&(l=o)),{calculatedWidth:s,calculatedHeight:l}},uxe={width:0,height:0,overflow:"visible"},cxe={width:0,overflowX:"visible"},Axe={height:0,overflowY:"visible"},fxe={},dxe=e=>{var{width:t,height:r}=e,n=Lu(t),i=Lu(r);return n&&i?uxe:n?cxe:i?Axe:fxe};function hxe(e){var{width:t,height:r,aspect:n}=e,i=t,a=r;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=n&&n>0?void 0:"100%":a===void 0&&(a=n&&n>0?void 0:"100%"),{width:i,height:a}}function u4(){return u4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u4.apply(null,arguments)}function _U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_U(Object(r),!0).forEach(function(n){pxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_U(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pxe(e,t,r){return(t=mxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mxe(e){var t=gxe(e,"string");return typeof t=="symbol"?t:t+""}function gxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sK=E.createContext({width:-1,height:-1});function vxe(e){return Tl(e.width)&&Tl(e.height)}function lK(e){var{children:t,width:r,height:n}=e,i=E.useMemo(()=>({width:r,height:n}),[r,n]);return vxe(i)?E.createElement(sK.Provider,{value:i},t):null}var GF=()=>E.useContext(sK),yxe=E.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i,height:a,minWidth:o=0,minHeight:s,maxHeight:l,children:u,debounce:c=0,id:A,className:d,onResize:f,style:p={}}=e,g=E.useRef(null),v=E.useRef();v.current=f,E.useImperativeHandle(t,()=>g.current);var[m,y]=E.useState({containerWidth:n.width,containerHeight:n.height}),w=E.useCallback((k,I)=>{y(O=>{var F=Math.round(k),N=Math.round(I);return O.containerWidth===F&&O.containerHeight===N?O:{containerWidth:F,containerHeight:N}})},[]);E.useEffect(()=>{if(g.current==null||typeof ResizeObserver>"u")return dv;var k=N=>{var U,{width:M,height:V}=N[0].contentRect;w(M,V),(U=v.current)===null||U===void 0||U.call(v,M,V)};c>0&&(k=lxe(k,c,{trailing:!0,leading:!1}));var I=new ResizeObserver(k),{width:O,height:F}=g.current.getBoundingClientRect();return w(O,F),I.observe(g.current),()=>{I.disconnect()}},[w,c]);var{containerWidth:b,containerHeight:B}=m;Yw(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:S,calculatedHeight:P}=oK(b,B,{width:i,height:a,aspect:r,maxHeight:l});return Yw(S!=null&&S>0||P!=null&&P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,S,P,i,a,o,s,r),E.createElement("div",{id:A?"".concat(A):void 0,className:ur("recharts-responsive-container",d),style:kU(kU({},p),{},{width:i,height:a,minWidth:o,minHeight:s,maxHeight:l}),ref:g},E.createElement("div",{style:dxe({width:i,height:a})},E.createElement(lK,{width:S,height:P},u)))}),v5=E.forwardRef((e,t)=>{var r=GF();if(Tl(r.width)&&Tl(r.height))return e.children;var{width:n,height:i}=hxe({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:o}=oK(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return mt(a)&&mt(o)?E.createElement(lK,{width:a,height:o},e.children):E.createElement(yxe,u4({},e,{width:n,height:i,ref:t}))});function uK(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var tb=()=>{var e,t=xa(),r=at(axe),n=at(eb),i=(e=at(Z2))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},wxe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},cK=()=>{var e;return(e=at(Li))!==null&&e!==void 0?e:wxe},AK=()=>at(qu),fK=()=>at(Xu),sr=e=>e.layout.layoutType,wv=()=>at(sr),xxe=()=>{var e=wv();return e!==void 0},rb=e=>{var t=zr(),r=xa(),{width:n,height:i}=e,a=GF(),o=n,s=i;return a&&(o=a.width>0?a.width:n,s=a.height>0?a.height:i),E.useEffect(()=>{!r&&Tl(o)&&Tl(s)&&t(Fwe({width:o,height:s}))},[t,r,o,s]),null},dK=Symbol.for("immer-nothing"),PU=Symbol.for("immer-draftable"),Uo=Symbol.for("immer-state");function Ps(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Fg=Object.getPrototypeOf;function kh(e){return!!e&&!!e[Uo]}function Sf(e){var t;return e?hK(e)||Array.isArray(e)||!!e[PU]||!!((t=e.constructor)!=null&&t[PU])||xv(e)||ib(e):!1}var bxe=Object.prototype.constructor.toString(),OU=new WeakMap;function hK(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=OU.get(r);return n===void 0&&(n=Function.toString.call(r),OU.set(r,n)),n===bxe}function Jw(e,t,r=!0){nb(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function nb(e){const t=e[Uo];return t?t.type_:Array.isArray(e)?1:xv(e)?2:ib(e)?3:0}function c4(e,t){return nb(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function pK(e,t,r){const n=nb(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function Bxe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function xv(e){return e instanceof Map}function ib(e){return e instanceof Set}function HA(e){return e.copy_||e.base_}function A4(e,t){if(xv(e))return new Map(e);if(ib(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=hK(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Uo];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const o=i[a],s=n[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(n[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(Fg(e),n)}else{const n=Fg(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function qF(e,t=!1){return ab(e)||kh(e)||!Sf(e)||(nb(e)>1&&Object.defineProperties(e,{set:jy,add:jy,clear:jy,delete:jy}),Object.freeze(e),t&&Object.values(e).forEach(r=>qF(r,!0))),e}function Cxe(){Ps(2)}var jy={value:Cxe};function ab(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Exe={};function Nf(e){const t=Exe[e];return t||Ps(0,e),t}var Ig;function mK(){return Ig}function Sxe(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function TU(e,t){t&&(Nf("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function f4(e){d4(e),e.drafts_.forEach(Nxe),e.drafts_=null}function d4(e){e===Ig&&(Ig=e.parent_)}function LU(e){return Ig=Sxe(Ig,e)}function Nxe(e){const t=e[Uo];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function UU(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Uo].modified_&&(f4(t),Ps(4)),Sf(e)&&(e=Zw(t,e),t.parent_||ex(t,e)),t.patches_&&Nf("Patches").generateReplacementPatches_(r[Uo].base_,e,t.patches_,t.inversePatches_)):e=Zw(t,r,[]),f4(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==dK?e:void 0}function Zw(e,t,r){if(ab(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[Uo];if(!i)return Jw(t,(a,o)=>RU(e,i,t,a,o,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return ex(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let o=a,s=!1;i.type_===3&&(o=new Set(a),a.clear(),s=!0),Jw(o,(l,u)=>RU(e,i,a,l,u,r,s),n),ex(e,a,!1),r&&e.patches_&&Nf("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function RU(e,t,r,n,i,a,o){if(i==null||typeof i!="object"&&!o)return;const s=ab(i);if(!(s&&!o)){if(kh(i)){const l=a&&t&&t.type_!==3&&!c4(t.assigned_,n)?a.concat(n):void 0,u=Zw(e,i,l);if(pK(r,n,u),kh(u))e.canAutoFreeze_=!1;else return}else o&&r.add(i);if(Sf(i)&&!s){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&s)return;Zw(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(xv(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&ex(e,i)}}}function ex(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&qF(t,r)}function Fxe(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:mK(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=XF;r&&(i=[n],a=_g);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return n.draft_=s,n.revoke_=o,s}var XF={get(e,t){if(t===Uo)return e;const r=HA(e);if(!c4(r,t))return Ixe(e,r,t);const n=r[t];return e.finalized_||!Sf(n)?n:n===y5(e.base_,t)?(w5(e),e.copy_[t]=p4(n,e)):n},has(e,t){return t in HA(e)},ownKeys(e){return Reflect.ownKeys(HA(e))},set(e,t,r){const n=gK(HA(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=y5(HA(e),t),a=i==null?void 0:i[Uo];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(Bxe(r,i)&&(r!==void 0||c4(e.base_,t)))return!0;w5(e),h4(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return y5(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,w5(e),h4(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=HA(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Ps(11)},getPrototypeOf(e){return Fg(e.base_)},setPrototypeOf(){Ps(12)}},_g={};Jw(XF,(e,t)=>{_g[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});_g.deleteProperty=function(e,t){return _g.set.call(this,e,t,void 0)};_g.set=function(e,t,r){return XF.set.call(this,e[0],t,r,e[0])};function y5(e,t){const r=e[Uo];return(r?HA(r):e)[t]}function Ixe(e,t,r){var i;const n=gK(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function gK(e,t){if(!(t in e))return;let r=Fg(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Fg(r)}}function h4(e){e.modified_||(e.modified_=!0,e.parent_&&h4(e.parent_))}function w5(e){e.copy_||(e.copy_=A4(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var _xe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const o=this;return function(l=a,...u){return o.produce(l,c=>r.call(this,c,...u))}}typeof r!="function"&&Ps(6),n!==void 0&&typeof n!="function"&&Ps(7);let i;if(Sf(t)){const a=LU(this),o=p4(t,void 0);let s=!0;try{i=r(o),s=!1}finally{s?f4(a):d4(a)}return TU(a,n),UU(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===dK&&(i=void 0),this.autoFreeze_&&qF(i,!0),n){const a=[],o=[];Nf("Patches").generateReplacementPatches_(t,i,a,o),n(a,o)}return i}else Ps(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...s)=>this.produceWithPatches(o,l=>t(l,...s));let n,i;return[this.produce(t,r,(o,s)=>{n=o,i=s}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Sf(e)||Ps(8),kh(e)&&(e=kxe(e));const t=LU(this),r=p4(e,void 0);return r[Uo].isManual_=!0,d4(t),r}finishDraft(e,t){const r=e&&e[Uo];(!r||!r.isManual_)&&Ps(9);const{scope_:n}=r;return TU(n,t),UU(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=Nf("Patches").applyPatches_;return kh(e)?n(e,t):this.produce(e,i=>n(i,t))}};function p4(e,t){const r=xv(e)?Nf("MapSet").proxyMap_(e,t):ib(e)?Nf("MapSet").proxySet_(e,t):Fxe(e,t);return(t?t.scope_:mK()).drafts_.push(r),r}function kxe(e){return kh(e)||Ps(10,e),vK(e)}function vK(e){if(!Sf(e)||ab(e))return e;const t=e[Uo];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=A4(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=A4(e,!0);return Jw(r,(i,a)=>{pK(r,i,vK(a))},n),t&&(t.finalized_=!1),r}var Pxe=new _xe;Pxe.produce;var Oxe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},yK=so({name:"legend",initialState:Oxe,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:an()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Ms(e).payload.indexOf(r);i>-1&&(e.payload[i]=n)},prepare:an()},removeLegendPayload:{reducer(e,t){var r=Ms(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:an()}}}),{setLegendSize:xOe,setLegendSettings:bOe,addLegendPayload:wK,replaceLegendPayload:xK,removeLegendPayload:bK}=yK.actions,Txe=yK.reducer;function m4(){return m4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m4.apply(null,arguments)}function DU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function x5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DU(Object(r),!0).forEach(function(n){Lxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lxe(e,t,r){return(t=Uxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uxe(e){var t=Rxe(e,"string");return typeof t=="symbol"?t:t+""}function Rxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dxe(e){return Array.isArray(e)&&Ol(e[0])&&Ol(e[1])?e.join(" ~ "):e}var jxe=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:o,itemSorter:s,wrapperClassName:l,labelClassName:u,label:c,labelFormatter:A,accessibilityLayer:d=!1}=e,f=()=>{if(a&&a.length){var B={padding:0,margin:0},S=(s?Q2(a,s):a).map((P,k)=>{if(P.type==="none")return null;var I=P.formatter||o||Dxe,{value:O,name:F}=P,N=O,U=F;if(I){var M=I(O,F,P,k,a);if(Array.isArray(M))[N,U]=M;else if(M!=null)N=M;else return null}var V=x5({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},n);return E.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(k),style:V},Ol(U)?E.createElement("span",{className:"recharts-tooltip-item-name"},U):null,Ol(U)?E.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,E.createElement("span",{className:"recharts-tooltip-item-value"},N),E.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return E.createElement("ul",{className:"recharts-tooltip-item-list",style:B},S)}return null},p=x5({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),g=x5({margin:0},i),v=!$n(c),m=v?c:"",y=ur("recharts-default-tooltip",l),w=ur("recharts-tooltip-label",u);v&&A&&a!==void 0&&a!==null&&(m=A(c,a));var b=d?{role:"status","aria-live":"assertive"}:{};return E.createElement("div",m4({className:y,style:p},b),E.createElement("p",{className:w,style:g},E.isValidElement(m)?m:"".concat(m)),f())},nm="recharts-tooltip-wrapper",Mxe={visibility:"hidden"};function Qxe(e){var{coordinate:t,translateX:r,translateY:n}=e;return ur(nm,{["".concat(nm,"-right")]:mt(r)&&t&&mt(t.x)&&r>=t.x,["".concat(nm,"-left")]:mt(r)&&t&&mt(t.x)&&r<t.x,["".concat(nm,"-bottom")]:mt(n)&&t&&mt(t.y)&&n>=t.y,["".concat(nm,"-top")]:mt(n)&&t&&mt(t.y)&&n<t.y})}function jU(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:s,viewBox:l,viewBoxDimension:u}=e;if(a&&mt(a[n]))return a[n];var c=r[n]-s-(i>0?i:0),A=r[n]+i;if(t[n])return o[n]?c:A;var d=l[n];if(d==null)return 0;if(o[n]){var f=c,p=d;return f<p?Math.max(A,d):Math.max(c,d)}if(u==null)return 0;var g=A+s,v=d+u;return g>v?Math.max(c,d):Math.max(A,d)}function Hxe(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function $xe(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:s,viewBox:l}=e,u,c,A;return o.height>0&&o.width>0&&r?(c=jU({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),A=jU({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=Hxe({translateX:c,translateY:A,useTranslate3d:s})):u=Mxe,{cssProperties:u,cssClasses:Qxe({translateX:c,translateY:A,coordinate:r})}}function MU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function My(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MU(Object(r),!0).forEach(function(n){g4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g4(e,t,r){return(t=Wxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wxe(e){var t=Kxe(e,"string");return typeof t=="symbol"?t:t+""}function Kxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class zxe extends E.PureComponent{constructor(){super(...arguments),g4(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),g4(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:o,hasPayload:s,isAnimationActive:l,offset:u,position:c,reverseDirection:A,useTranslate3d:d,viewBox:f,wrapperStyle:p,lastBoundingBox:g,innerRef:v,hasPortalFromProps:m}=this.props,{cssClasses:y,cssProperties:w}=$xe({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:u,position:c,reverseDirection:A,tooltipBox:{height:g.height,width:g.width},useTranslate3d:d,viewBox:f}),b=m?{}:My(My({transition:l&&t?"transform ".concat(n,"ms ").concat(i):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&s?"visible":"hidden",position:"absolute",top:0,left:0}),B=My(My({},b),{},{visibility:!this.state.dismissed&&t&&s?"visible":"hidden"},p);return E.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:y,style:B,ref:v},a)}}var BK=()=>{var e;return(e=at(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function v4(){return v4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v4.apply(null,arguments)}function QU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function HU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QU(Object(r),!0).forEach(function(n){Vxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vxe(e,t,r){return(t=Gxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gxe(e){var t=qxe(e,"string");return typeof t=="symbol"?t:t+""}function qxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $U={curveBasisClosed:fye,curveBasisOpen:dye,curveBasis:Aye,curveBumpX:Y0e,curveBumpY:J0e,curveLinearClosed:hye,curveLinear:O2,curveMonotoneX:pye,curveMonotoneY:mye,curveNatural:gye,curveStep:vye,curveStepAfter:wye,curveStepBefore:yye},tx=e=>vn(e.x)&&vn(e.y),WU=e=>e.base!=null&&tx(e.base)&&tx(e),im=e=>e.x,am=e=>e.y,Xxe=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(fv(e));return(r==="curveMonotone"||r==="curveBump")&&t?$U["".concat(r).concat(t==="vertical"?"Y":"X")]:$U[r]||O2},Yxe=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=e,o=Xxe(t,i),s=a?r.filter(tx):r,l;if(Array.isArray(n)){var u=r.map((f,p)=>HU(HU({},f),{},{base:n[p]}));i==="vertical"?l=Py().y(am).x1(im).x0(f=>f.base.x):l=Py().x(im).y1(am).y0(f=>f.base.y);var c=l.defined(WU).curve(o),A=a?u.filter(WU):u;return c(A)}i==="vertical"&&mt(n)?l=Py().y(am).x1(im).x0(n):mt(n)?l=Py().x(im).y1(am).y0(n):l=T$().x(im).y(am);var d=l.defined(tx).curve(o);return d(s)},CK=e=>{var{className:t,points:r,path:n,pathRef:i}=e,a=wv();if((!r||!r.length)&&!n)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||a,connectNulls:e.connectNulls},s=r&&r.length?Yxe(o):n;return E.createElement("path",v4({},Hn(e),NF(e),{className:ur("recharts-curve",t),d:s===null?void 0:s,ref:i}))},Jxe=["x","y","top","left","width","height","className"];function y4(){return y4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y4.apply(null,arguments)}function KU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zxe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KU(Object(r),!0).forEach(function(n){e2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e2e(e,t,r){return(t=t2e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t2e(e){var t=r2e(e,"string");return typeof t=="symbol"?t:t+""}function r2e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n2e(e,t){if(e==null)return{};var r,n,i=i2e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function i2e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var a2e=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),o2e=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:o=0,className:s}=e,l=n2e(e,Jxe),u=Zxe({x:t,y:r,top:n,left:i,width:a,height:o},l);return!mt(t)||!mt(r)||!mt(a)||!mt(o)||!mt(n)||!mt(i)?null:E.createElement("path",y4({},fi(u),{className:ur("recharts-cross",s),d:a2e(t,r,a,o,n,i)}))};function s2e(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function zU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function VU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zU(Object(r),!0).forEach(function(n){l2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l2e(e,t,r){return(t=u2e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u2e(e){var t=c2e(e,"string");return typeof t=="symbol"?t:t+""}function c2e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var A2e=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),EK=(e,t,r)=>e.map(n=>"".concat(A2e(n)," ").concat(t,"ms ").concat(r)).join(","),f2e=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),kg=(e,t)=>Object.keys(t).reduce((r,n)=>VU(VU({},r),{},{[n]:e(n,t[n])}),{});function GU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ui(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GU(Object(r),!0).forEach(function(n){d2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d2e(e,t,r){return(t=h2e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h2e(e){var t=p2e(e,"string");return typeof t=="symbol"?t:t+""}function p2e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rx=(e,t,r)=>e+(t-e)*r,w4=e=>{var{from:t,to:r}=e;return t!==r},SK=(e,t,r)=>{var n=kg((i,a)=>{if(w4(a)){var[o,s]=e(a.from,a.to,a.velocity);return ui(ui({},a),{},{from:o,velocity:s})}return a},t);return r<1?kg((i,a)=>w4(a)&&n[i]!=null?ui(ui({},a),{},{velocity:rx(a.velocity,n[i].velocity,r),from:rx(a.from,n[i].from,r)}):a,t):SK(e,n,r-1)};function m2e(e,t,r,n,i,a){var o,s=n.reduce((d,f)=>ui(ui({},d),{},{[f]:{from:e[f],velocity:0,to:t[f]}}),{}),l=()=>kg((d,f)=>f.from,s),u=()=>!Object.values(s).filter(w4).length,c=null,A=d=>{o||(o=d);var f=d-o,p=f/r.dt;s=SK(r,s,p),i(ui(ui(ui({},e),t),l())),o=d,u()||(c=a.setTimeout(A))};return()=>(c=a.setTimeout(A),()=>{var d;(d=c)===null||d===void 0||d()})}function g2e(e,t,r,n,i,a,o){var s=null,l=i.reduce((A,d)=>{var f=e[d],p=t[d];return f==null||p==null?A:ui(ui({},A),{},{[d]:[f,p]})},{}),u,c=A=>{u||(u=A);var d=(A-u)/n,f=kg((g,v)=>rx(...v,r(d)),l);if(a(ui(ui(ui({},e),t),f)),d<1)s=o.setTimeout(c);else{var p=kg((g,v)=>rx(...v,r(1)),l);a(ui(ui(ui({},e),t),p))}};return()=>(s=o.setTimeout(c),()=>{var A;(A=s)===null||A===void 0||A()})}const v2e=(e,t,r,n,i,a)=>{var o=f2e(e,t);return r==null?()=>(i(ui(ui({},e),t)),()=>{}):r.isStepper===!0?m2e(e,t,r,o,i,a):g2e(e,t,r,n,o,i,a)};var nx=1e-4,NK=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],FK=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),qU=(e,t)=>r=>{var n=NK(e,t);return FK(n,r)},y2e=(e,t)=>r=>{var n=NK(e,t),i=[...n.map((a,o)=>a*o).slice(1),0];return FK(i,r)},w2e=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var i=n.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},x2e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=w2e(r[0]);if(i)return i}}return r.length===4?r:[0,0,1,1]},b2e=(e,t,r,n)=>{var i=qU(e,r),a=qU(t,n),o=y2e(e,r),s=u=>u>1?1:u<0?0:u,l=u=>{for(var c=u>1?1:u,A=c,d=0;d<8;++d){var f=i(A)-c,p=o(A);if(Math.abs(f-c)<nx||p<nx)return a(A);A=s(A-f/p)}return a(A)};return l.isStepper=!1,l},XU=function(){return b2e(...x2e(...arguments))},B2e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(o,s,l)=>{var u=-(o-s)*r,c=l*n,A=l+(u-c)*i/1e3,d=l*i/1e3+o;return Math.abs(d-s)<nx&&Math.abs(A)<nx?[s,0]:[d,A]};return a.isStepper=!0,a.dt=i,a},C2e=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return XU(e);case"spring":return B2e();default:if(e.split("(")[0]==="cubic-bezier")return XU(e)}return typeof e=="function"?e:null};function E2e(e){var t,r=()=>null,n=!1,i=null,a=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,[l,...u]=s;if(typeof l=="number"){i=e.setTimeout(a.bind(null,u),l);return}a(l),i=e.setTimeout(a.bind(null,u));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,i&&(i(),i=null),a(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class S2e{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function N2e(){return E2e(new S2e)}var F2e=E.createContext(N2e);function I2e(e,t){var r=E.useContext(F2e);return E.useMemo(()=>t??r(e),[e,t,r])}var _2e=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ob={isSsr:_2e()},k2e={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},YU={t:0},b5={t:1};function sb(e){var t=Ti(e,k2e),{isActive:r,canBegin:n,duration:i,easing:a,begin:o,onAnimationEnd:s,onAnimationStart:l,children:u}=t,c=r==="auto"?!ob.isSsr:r,A=I2e(t.animationId,t.animationManager),[d,f]=E.useState(c?YU:b5),p=E.useRef(null);return E.useEffect(()=>{c||f(b5)},[c]),E.useEffect(()=>{if(!c||!n)return dv;var g=v2e(YU,b5,C2e(a),i,f,A.getTimeoutController()),v=()=>{p.current=g()};return A.start([l,o,v,i,s]),()=>{A.stop(),p.current&&p.current(),s()}},[c,n,i,a,o,l,s,A]),u(d.t)}function lb(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=E.useRef(Cg(t)),n=E.useRef(e);return n.current!==e&&(r.current=Cg(t),n.current=e),r.current}var P2e=["radius"],O2e=["radius"],JU,ZU,eR,tR,rR,nR,iR,aR,oR,sR;function lR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lR(Object(r),!0).forEach(function(n){T2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T2e(e,t,r){return(t=L2e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L2e(e){var t=U2e(e,"string");return typeof t=="symbol"?t:t+""}function U2e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ix(){return ix=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ix.apply(null,arguments)}function cR(e,t){if(e==null)return{};var r,n,i=R2e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function R2e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function dl(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var AR=(e,t,r,n,i)=>{var a=Mc(r),o=Mc(n),s=Math.min(Math.abs(a)/2,Math.abs(o)/2),l=o>=0?1:-1,u=a>=0?1:-1,c=o>=0&&a>=0||o<0&&a<0?1:0,A;if(s>0&&i instanceof Array){for(var d=[0,0,0,0],f=0,p=4;f<p;f++)d[f]=i[f]>s?s:i[f];A=An(JU||(JU=dl(["M",",",""])),e,t+l*d[0]),d[0]>0&&(A+=An(ZU||(ZU=dl(["A ",",",",0,0,",",",",",""])),d[0],d[0],c,e+u*d[0],t)),A+=An(eR||(eR=dl(["L ",",",""])),e+r-u*d[1],t),d[1]>0&&(A+=An(tR||(tR=dl(["A ",",",",0,0,",`,
        `,",",""])),d[1],d[1],c,e+r,t+l*d[1])),A+=An(rR||(rR=dl(["L ",",",""])),e+r,t+n-l*d[2]),d[2]>0&&(A+=An(nR||(nR=dl(["A ",",",",0,0,",`,
        `,",",""])),d[2],d[2],c,e+r-u*d[2],t+n)),A+=An(iR||(iR=dl(["L ",",",""])),e+u*d[3],t+n),d[3]>0&&(A+=An(aR||(aR=dl(["A ",",",",0,0,",`,
        `,",",""])),d[3],d[3],c,e,t+n-l*d[3])),A+="Z"}else if(s>0&&i===+i&&i>0){var g=Math.min(s,i);A=An(oR||(oR=dl(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+l*g,g,g,c,e+u*g,t,e+r-u*g,t,g,g,c,e+r,t+l*g,e+r,t+n-l*g,g,g,c,e+r-u*g,t+n,e+u*g,t+n,g,g,c,e,t+n-l*g)}else A=An(sR||(sR=dl(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return A},fR={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},IK=e=>{var t=Ti(e,fR),r=E.useRef(null),[n,i]=E.useState(-1);E.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var W=r.current.getTotalLength();W&&i(W)}catch{}},[]);var{x:a,y:o,width:s,height:l,radius:u,className:c}=t,{animationEasing:A,animationDuration:d,animationBegin:f,isAnimationActive:p,isUpdateAnimationActive:g}=t,v=E.useRef(s),m=E.useRef(l),y=E.useRef(a),w=E.useRef(o),b=E.useMemo(()=>({x:a,y:o,width:s,height:l,radius:u}),[a,o,s,l,u]),B=lb(b,"rectangle-");if(a!==+a||o!==+o||s!==+s||l!==+l||s===0||l===0)return null;var S=ur("recharts-rectangle",c);if(!g){var P=fi(t),{radius:k}=P,I=cR(P,P2e);return E.createElement("path",ix({},I,{x:Mc(a),y:Mc(o),width:Mc(s),height:Mc(l),radius:typeof u=="number"?u:void 0,className:S,d:AR(a,o,s,l,u)}))}var O=v.current,F=m.current,N=y.current,U=w.current,M="0px ".concat(n===-1?1:n,"px"),V="".concat(n,"px 0px"),Q=EK(["strokeDasharray"],d,typeof A=="string"?A:fR.animationEasing);return E.createElement(sb,{animationId:B,key:B,canBegin:n>0,duration:d,easing:A,isActive:g,begin:f},W=>{var D=Tn(O,s,W),K=Tn(F,l,W),ie=Tn(N,a,W),ee=Tn(U,o,W);r.current&&(v.current=D,m.current=K,y.current=ie,w.current=ee);var L;p?W>0?L={transition:Q,strokeDasharray:V}:L={strokeDasharray:M}:L={strokeDasharray:V};var j=fi(t),{radius:z}=j,X=cR(j,O2e);return E.createElement("path",ix({},X,{radius:typeof u=="number"?u:void 0,className:S,d:AR(ie,ee,D,K,u),ref:r,style:uR(uR({},L),t.style)}))})};function dR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dR(Object(r),!0).forEach(function(n){D2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function D2e(e,t,r){return(t=j2e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j2e(e){var t=M2e(e,"string");return typeof t=="symbol"?t:t+""}function M2e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ax=Math.PI/180,ox=e=>e*Math.PI/180,Q2e=e=>e*180/Math.PI,_r=(e,t,r,n)=>({x:e+Math.cos(-ax*n)*r,y:t+Math.sin(-ax*n)*r}),H2e=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},$2e=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},W2e=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,o=$2e({x:r,y:n},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var s=(r-i)/o,l=Math.acos(s);return n>a&&(l=2*Math.PI-l),{radius:o,angle:Q2e(l),angleInRadian:l}},K2e=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},z2e=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return e+o*360},V2e=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:i,angle:a}=W2e({x:r,y:n},t),{innerRadius:o,outerRadius:s}=t;if(i<o||i>s||i===0)return null;var{startAngle:l,endAngle:u}=K2e(t),c=a,A;if(l<=u){for(;c>u;)c-=360;for(;c<l;)c+=360;A=c>=l&&c<=u}else{for(;c>l;)c-=360;for(;c<u;)c+=360;A=c>=u&&c<=l}return A?hR(hR({},t),{},{radius:i,angle:z2e(c,t)}):null},_K=e=>!E.isValidElement(e)&&typeof e!="function"&&typeof e!="boolean"&&e!=null?e.className:"";function kK(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,o=_r(t,r,n,i),s=_r(t,r,n,a);return{points:[o,s],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}var pR,mR,gR,vR,yR,wR,xR;function x4(){return x4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x4.apply(null,arguments)}function ef(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var G2e=(e,t)=>{var r=Va(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Qy=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:o,cornerRadius:s,cornerIsExternal:l}=e,u=s*(o?1:-1)+n,c=Math.asin(s/u)/ax,A=l?i:i+a*c,d=_r(t,r,u,A),f=_r(t,r,n,A),p=l?i-a*c:i,g=_r(t,r,u*Math.cos(c*ax),p);return{center:d,circleTangency:f,lineTangency:g,theta:c}},PK=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:o}=e,s=G2e(a,o),l=a+s,u=_r(t,r,i,a),c=_r(t,r,i,l),A=An(pR||(pR=ef(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,i,i,+(Math.abs(s)>180),+(a>l),c.x,c.y);if(n>0){var d=_r(t,r,n,a),f=_r(t,r,n,l);A+=An(mR||(mR=ef(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),f.x,f.y,n,n,+(Math.abs(s)>180),+(a<=l),d.x,d.y)}else A+=An(gR||(gR=ef(["L ",","," Z"])),t,r);return A},q2e=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:s,startAngle:l,endAngle:u}=e,c=Va(u-l),{circleTangency:A,lineTangency:d,theta:f}=Qy({cx:t,cy:r,radius:i,angle:l,sign:c,cornerRadius:a,cornerIsExternal:s}),{circleTangency:p,lineTangency:g,theta:v}=Qy({cx:t,cy:r,radius:i,angle:u,sign:-c,cornerRadius:a,cornerIsExternal:s}),m=s?Math.abs(l-u):Math.abs(l-u)-f-v;if(m<0)return o?An(vR||(vR=ef(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),d.x,d.y,a,a,a*2,a,a,-a*2):PK({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:l,endAngle:u});var y=An(yR||(yR=ef(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),d.x,d.y,a,a,+(c<0),A.x,A.y,i,i,+(m>180),+(c<0),p.x,p.y,a,a,+(c<0),g.x,g.y);if(n>0){var{circleTangency:w,lineTangency:b,theta:B}=Qy({cx:t,cy:r,radius:n,angle:l,sign:c,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),{circleTangency:S,lineTangency:P,theta:k}=Qy({cx:t,cy:r,radius:n,angle:u,sign:-c,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),I=s?Math.abs(l-u):Math.abs(l-u)-B-k;if(I<0&&a===0)return"".concat(y,"L").concat(t,",").concat(r,"Z");y+=An(wR||(wR=ef(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),P.x,P.y,a,a,+(c<0),S.x,S.y,n,n,+(I>180),+(c>0),w.x,w.y,a,a,+(c<0),b.x,b.y)}else y+=An(xR||(xR=ef(["L",",","Z"])),t,r);return y},X2e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},OK=e=>{var t=Ti(e,X2e),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:c,className:A}=t;if(a<i||u===c)return null;var d=ur("recharts-sector",A),f=a-i,p=Ws(o,f,0,!0),g;return p>0&&Math.abs(u-c)<360?g=q2e({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(p,f/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:c}):g=PK({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c}),E.createElement("path",x4({},fi(t),{className:d,d:g}))};function Y2e(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(X$(t)){if(e==="centric"){var{cx:n,cy:i,innerRadius:a,outerRadius:o,angle:s}=t,l=_r(n,i,a,s),u=_r(n,i,o,s);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return kK(t)}}var TK={},LK={},UK={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RF;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(UK);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UK;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(LK);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DF,r=LK;function n(i,a,o){o&&typeof o!="number"&&t.isIterateeCall(i,a,o)&&(a=o=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),o=o===void 0?i<a?1:-1:r.toFinite(o);const s=Math.max(Math.ceil((a-i)/(o||1)),0),l=new Array(s);for(let u=0;u<s;u++)l[u]=i,i+=o;return l}e.range=n})(TK);var J2e=TK.range;const RK=zs(J2e);function tA(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Z2e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function YF(e){let t,r,n;e.length!==2?(t=tA,r=(s,l)=>tA(e(s),l),n=(s,l)=>e(s)-l):(t=e===tA||e===Z2e?e:ebe,r=e,n=e);function i(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const A=u+c>>>1;r(s[A],l)<0?u=A+1:c=A}while(u<c)}return u}function a(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const A=u+c>>>1;r(s[A],l)<=0?u=A+1:c=A}while(u<c)}return u}function o(s,l,u=0,c=s.length){const A=i(s,l,u,c-1);return A>u&&n(s[A-1],l)>-n(s[A],l)?A-1:A}return{left:i,center:o,right:a}}function ebe(){return 0}function DK(e){return e===null?NaN:+e}function*tbe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const rbe=YF(tA),bv=rbe.right;YF(DK).center;class bR extends Map{constructor(t,r=abe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(BR(this,t))}has(t){return super.has(BR(this,t))}set(t,r){return super.set(nbe(this,t),r)}delete(t){return super.delete(ibe(this,t))}}function BR({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function nbe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function ibe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function abe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function obe(e=tA){if(e===tA)return jK;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function jK(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const sbe=Math.sqrt(50),lbe=Math.sqrt(10),ube=Math.sqrt(2);function sx(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=sbe?10:a>=lbe?5:a>=ube?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=r&&r<2?sx(e,t,r*2):[s,l,u]}function b4(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,o]=n?sx(t,e,r):sx(e,t,r);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(n)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function B4(e,t,r){return t=+t,e=+e,r=+r,sx(e,t,r)[2]}function C4(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?B4(t,e,r):B4(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function CR(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function ER(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function MK(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?jK:obe(i);n>r;){if(n-r>600){const l=n-r+1,u=t-r+1,c=Math.log(l),A=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*A*(l-A)/l)*(u-l/2<0?-1:1),f=Math.max(r,Math.floor(t-u*A/l+d)),p=Math.min(n,Math.floor(t+(l-u)*A/l+d));MK(e,t,f,p,i)}const a=e[t];let o=r,s=n;for(om(e,r,t),i(e[n],a)>0&&om(e,r,n);o<s;){for(om(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}i(e[r],a)===0?om(e,r,s):(++s,om(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function om(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function cbe(e,t,r){if(e=Float64Array.from(tbe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return ER(e);if(t>=1)return CR(e);var n,i=(n-1)*t,a=Math.floor(i),o=CR(MK(e,a).subarray(0,a+1)),s=ER(e.subarray(a+1));return o+(s-o)*(i-a)}}function Abe(e,t,r=DK){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),o=+r(e[a],a,e),s=+r(e[a+1],a+1,e);return o+(s-o)*(i-a)}}function fbe(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function ms(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Yu(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const E4=Symbol("implicit");function JF(){var e=new bR,t=[],r=[],n=E4;function i(a){let o=e.get(a);if(o===void 0){if(n!==E4)return n;e.set(a,o=t.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new bR;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return JF(t,r).unknown(n)},ms.apply(i,arguments),i}function ZF(){var e=JF().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,o,s=!1,l=0,u=0,c=.5;delete e.unknown;function A(){var d=t().length,f=i<n,p=f?i:n,g=f?n:i;a=(g-p)/Math.max(1,d-l+u*2),s&&(a=Math.floor(a)),p+=(g-p-a*(d-l))*c,o=a*(1-l),s&&(p=Math.round(p),o=Math.round(o));var v=fbe(d).map(function(m){return p+a*m});return r(f?v.reverse():v)}return e.domain=function(d){return arguments.length?(t(d),A()):t()},e.range=function(d){return arguments.length?([n,i]=d,n=+n,i=+i,A()):[n,i]},e.rangeRound=function(d){return[n,i]=d,n=+n,i=+i,s=!0,A()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(d){return arguments.length?(s=!!d,A()):s},e.padding=function(d){return arguments.length?(l=Math.min(1,u=+d),A()):l},e.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),A()):l},e.paddingOuter=function(d){return arguments.length?(u=+d,A()):u},e.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),A()):c},e.copy=function(){return ZF(t(),[n,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},ms.apply(A(),arguments)}function QK(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return QK(t())},e}function dbe(){return QK(ZF.apply(null,arguments).paddingInner(1))}function eI(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function HK(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Bv(){}var Pg=.7,lx=1/Pg,fh="\\s*([+-]?\\d+)\\s*",Og="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",kl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",hbe=/^#([0-9a-f]{3,8})$/,pbe=new RegExp(`^rgb\\(${fh},${fh},${fh}\\)$`),mbe=new RegExp(`^rgb\\(${kl},${kl},${kl}\\)$`),gbe=new RegExp(`^rgba\\(${fh},${fh},${fh},${Og}\\)$`),vbe=new RegExp(`^rgba\\(${kl},${kl},${kl},${Og}\\)$`),ybe=new RegExp(`^hsl\\(${Og},${kl},${kl}\\)$`),wbe=new RegExp(`^hsla\\(${Og},${kl},${kl},${Og}\\)$`),SR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};eI(Bv,Tg,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:NR,formatHex:NR,formatHex8:xbe,formatHsl:bbe,formatRgb:FR,toString:FR});function NR(){return this.rgb().formatHex()}function xbe(){return this.rgb().formatHex8()}function bbe(){return $K(this).formatHsl()}function FR(){return this.rgb().formatRgb()}function Tg(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=hbe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?IR(t):r===3?new Ga(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Hy(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Hy(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=pbe.exec(e))?new Ga(t[1],t[2],t[3],1):(t=mbe.exec(e))?new Ga(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=gbe.exec(e))?Hy(t[1],t[2],t[3],t[4]):(t=vbe.exec(e))?Hy(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ybe.exec(e))?PR(t[1],t[2]/100,t[3]/100,1):(t=wbe.exec(e))?PR(t[1],t[2]/100,t[3]/100,t[4]):SR.hasOwnProperty(e)?IR(SR[e]):e==="transparent"?new Ga(NaN,NaN,NaN,0):null}function IR(e){return new Ga(e>>16&255,e>>8&255,e&255,1)}function Hy(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ga(e,t,r,n)}function Bbe(e){return e instanceof Bv||(e=Tg(e)),e?(e=e.rgb(),new Ga(e.r,e.g,e.b,e.opacity)):new Ga}function S4(e,t,r,n){return arguments.length===1?Bbe(e):new Ga(e,t,r,n??1)}function Ga(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}eI(Ga,S4,HK(Bv,{brighter(e){return e=e==null?lx:Math.pow(lx,e),new Ga(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Pg:Math.pow(Pg,e),new Ga(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ga(df(this.r),df(this.g),df(this.b),ux(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_R,formatHex:_R,formatHex8:Cbe,formatRgb:kR,toString:kR}));function _R(){return`#${tf(this.r)}${tf(this.g)}${tf(this.b)}`}function Cbe(){return`#${tf(this.r)}${tf(this.g)}${tf(this.b)}${tf((isNaN(this.opacity)?1:this.opacity)*255)}`}function kR(){const e=ux(this.opacity);return`${e===1?"rgb(":"rgba("}${df(this.r)}, ${df(this.g)}, ${df(this.b)}${e===1?")":`, ${e})`}`}function ux(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function df(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function tf(e){return e=df(e),(e<16?"0":"")+e.toString(16)}function PR(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Os(e,t,r,n)}function $K(e){if(e instanceof Os)return new Os(e.h,e.s,e.l,e.opacity);if(e instanceof Bv||(e=Tg(e)),!e)return new Os;if(e instanceof Os)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(t===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-t)/s+2:o=(t-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Os(o,s,l,e.opacity)}function Ebe(e,t,r,n){return arguments.length===1?$K(e):new Os(e,t,r,n??1)}function Os(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}eI(Os,Ebe,HK(Bv,{brighter(e){return e=e==null?lx:Math.pow(lx,e),new Os(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Pg:Math.pow(Pg,e),new Os(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Ga(B5(e>=240?e-240:e+120,i,n),B5(e,i,n),B5(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Os(OR(this.h),$y(this.s),$y(this.l),ux(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ux(this.opacity);return`${e===1?"hsl(":"hsla("}${OR(this.h)}, ${$y(this.s)*100}%, ${$y(this.l)*100}%${e===1?")":`, ${e})`}`}}));function OR(e){return e=(e||0)%360,e<0?e+360:e}function $y(e){return Math.max(0,Math.min(1,e||0))}function B5(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const tI=e=>()=>e;function Sbe(e,t){return function(r){return e+r*t}}function Nbe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Fbe(e){return(e=+e)==1?WK:function(t,r){return r-t?Nbe(t,r,e):tI(isNaN(t)?r:t)}}function WK(e,t){var r=t-e;return r?Sbe(e,r):tI(isNaN(e)?t:e)}const TR=function e(t){var r=Fbe(t);function n(i,a){var o=r((i=S4(i)).r,(a=S4(a)).r),s=r(i.g,a.g),l=r(i.b,a.b),u=WK(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return n.gamma=e,n}(1);function Ibe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function _be(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function kbe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=Yh(e[o],t[o]);for(;o<r;++o)a[o]=t[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function Pbe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function cx(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Obe(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Yh(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var N4=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,C5=new RegExp(N4.source,"g");function Tbe(e){return function(){return e}}function Lbe(e){return function(t){return e(t)+""}}function Ube(e,t){var r=N4.lastIndex=C5.lastIndex=0,n,i,a,o=-1,s=[],l=[];for(e=e+"",t=t+"";(n=N4.exec(e))&&(i=C5.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:cx(n,i)})),r=C5.lastIndex;return r<t.length&&(a=t.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?Lbe(l[0].x):Tbe(t):(t=l.length,function(u){for(var c=0,A;c<t;++c)s[(A=l[c]).i]=A.x(u);return s.join("")})}function Yh(e,t){var r=typeof t,n;return t==null||r==="boolean"?tI(t):(r==="number"?cx:r==="string"?(n=Tg(t))?(t=n,TR):Ube:t instanceof Tg?TR:t instanceof Date?Pbe:_be(t)?Ibe:Array.isArray(t)?kbe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Obe:cx)(e,t)}function rI(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Rbe(e,t){t===void 0&&(t=e,e=Yh);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function Dbe(e){return function(){return e}}function Ax(e){return+e}var LR=[0,1];function Pa(e){return e}function F4(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Dbe(isNaN(t)?NaN:.5)}function jbe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Mbe(e,t,r){var n=e[0],i=e[1],a=t[0],o=t[1];return i<n?(n=F4(i,n),a=r(o,a)):(n=F4(n,i),a=r(a,o)),function(s){return a(n(s))}}function Qbe(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=F4(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(s){var l=bv(e,s,1,n)-1;return a[l](i[l](s))}}function Cv(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ub(){var e=LR,t=LR,r=Yh,n,i,a,o=Pa,s,l,u;function c(){var d=Math.min(e.length,t.length);return o!==Pa&&(o=jbe(e[0],e[d-1])),s=d>2?Qbe:Mbe,l=u=null,A}function A(d){return d==null||isNaN(d=+d)?a:(l||(l=s(e.map(n),t,r)))(n(o(d)))}return A.invert=function(d){return o(i((u||(u=s(t,e.map(n),cx)))(d)))},A.domain=function(d){return arguments.length?(e=Array.from(d,Ax),c()):e.slice()},A.range=function(d){return arguments.length?(t=Array.from(d),c()):t.slice()},A.rangeRound=function(d){return t=Array.from(d),r=rI,c()},A.clamp=function(d){return arguments.length?(o=d?!0:Pa,c()):o!==Pa},A.interpolate=function(d){return arguments.length?(r=d,c()):r},A.unknown=function(d){return arguments.length?(a=d,A):a},function(d,f){return n=d,i=f,c()}}function nI(){return ub()(Pa,Pa)}function Hbe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function fx(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ph(e){return e=fx(Math.abs(e)),e?e[1]:NaN}function $be(e,t){return function(r,n){for(var i=r.length,a=[],o=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function Wbe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Kbe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Lg(e){if(!(t=Kbe.exec(e)))throw new Error("invalid format: "+e);var t;return new iI({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Lg.prototype=iI.prototype;function iI(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}iI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function zbe(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var KK;function Vbe(e,t){var r=fx(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(KK=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+fx(e,Math.max(0,t+a-1))[0]}function UR(e,t){var r=fx(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const RR={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Hbe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>UR(e*100,t),r:UR,s:Vbe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function DR(e){return e}var jR=Array.prototype.map,MR=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Gbe(e){var t=e.grouping===void 0||e.thousands===void 0?DR:$be(jR.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?DR:Wbe(jR.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(A){A=Lg(A);var d=A.fill,f=A.align,p=A.sign,g=A.symbol,v=A.zero,m=A.width,y=A.comma,w=A.precision,b=A.trim,B=A.type;B==="n"?(y=!0,B="g"):RR[B]||(w===void 0&&(w=12),b=!0,B="g"),(v||d==="0"&&f==="=")&&(v=!0,d="0",f="=");var S=g==="$"?r:g==="#"&&/[boxX]/.test(B)?"0"+B.toLowerCase():"",P=g==="$"?n:/[%p]/.test(B)?o:"",k=RR[B],I=/[defgprs%]/.test(B);w=w===void 0?6:/[gprs]/.test(B)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function O(F){var N=S,U=P,M,V,Q;if(B==="c")U=k(F)+U,F="";else{F=+F;var W=F<0||1/F<0;if(F=isNaN(F)?l:k(Math.abs(F),w),b&&(F=zbe(F)),W&&+F==0&&p!=="+"&&(W=!1),N=(W?p==="("?p:s:p==="-"||p==="("?"":p)+N,U=(B==="s"?MR[8+KK/3]:"")+U+(W&&p==="("?")":""),I){for(M=-1,V=F.length;++M<V;)if(Q=F.charCodeAt(M),48>Q||Q>57){U=(Q===46?i+F.slice(M+1):F.slice(M))+U,F=F.slice(0,M);break}}}y&&!v&&(F=t(F,1/0));var D=N.length+F.length+U.length,K=D<m?new Array(m-D+1).join(d):"";switch(y&&v&&(F=t(K+F,K.length?m-U.length:1/0),K=""),f){case"<":F=N+F+U+K;break;case"=":F=N+K+F+U;break;case"^":F=K.slice(0,D=K.length>>1)+N+F+U+K.slice(D);break;default:F=K+N+F+U;break}return a(F)}return O.toString=function(){return A+""},O}function c(A,d){var f=u((A=Lg(A),A.type="f",A)),p=Math.max(-8,Math.min(8,Math.floor(Ph(d)/3)))*3,g=Math.pow(10,-p),v=MR[8+p/3];return function(m){return f(g*m)+v}}return{format:u,formatPrefix:c}}var Wy,aI,zK;qbe({thousands:",",grouping:[3],currency:["$",""]});function qbe(e){return Wy=Gbe(e),aI=Wy.format,zK=Wy.formatPrefix,Wy}function Xbe(e){return Math.max(0,-Ph(Math.abs(e)))}function Ybe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ph(t)/3)))*3-Ph(Math.abs(e)))}function Jbe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ph(t)-Ph(e))+1}function VK(e,t,r,n){var i=C4(e,t,r),a;switch(n=Lg(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=Ybe(i,o))&&(n.precision=a),zK(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=Jbe(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=Xbe(i))&&(n.precision=a-(n.type==="%")*2);break}}return aI(n)}function mA(e){var t=e.domain;return e.ticks=function(r){var n=t();return b4(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return VK(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,o=n[i],s=n[a],l,u,c=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);c-- >0;){if(u=B4(o,s,r),u===l)return n[i]=o,n[a]=s,t(n);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return e},e}function GK(){var e=nI();return e.copy=function(){return Cv(e,GK())},ms.apply(e,arguments),mA(e)}function qK(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Ax),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return qK(e).unknown(t)},e=arguments.length?Array.from(e,Ax):[0,1],mA(r)}function XK(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),e[r]=t.floor(i),e[n]=t.ceil(a),e}function QR(e){return Math.log(e)}function HR(e){return Math.exp(e)}function Zbe(e){return-Math.log(-e)}function eBe(e){return-Math.exp(-e)}function tBe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function rBe(e){return e===10?tBe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function nBe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function $R(e){return(t,r)=>-e(-t,r)}function oI(e){const t=e(QR,HR),r=t.domain;let n=10,i,a;function o(){return i=nBe(n),a=rBe(n),r()[0]<0?(i=$R(i),a=$R(a),e(Zbe,eBe)):e(QR,HR),t}return t.base=function(s){return arguments.length?(n=+s,o()):n},t.domain=function(s){return arguments.length?(r(s),o()):r()},t.ticks=s=>{const l=r();let u=l[0],c=l[l.length-1];const A=c<u;A&&([u,c]=[c,u]);let d=i(u),f=i(c),p,g;const v=s==null?10:+s;let m=[];if(!(n%1)&&f-d<v){if(d=Math.floor(d),f=Math.ceil(f),u>0){for(;d<=f;++d)for(p=1;p<n;++p)if(g=d<0?p/a(-d):p*a(d),!(g<u)){if(g>c)break;m.push(g)}}else for(;d<=f;++d)for(p=n-1;p>=1;--p)if(g=d>0?p/a(-d):p*a(d),!(g<u)){if(g>c)break;m.push(g)}m.length*2<v&&(m=b4(u,c,v))}else m=b4(d,f,Math.min(f-d,v)).map(a);return A?m.reverse():m},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Lg(l)).precision==null&&(l.trim=!0),l=aI(l)),s===1/0)return l;const u=Math.max(1,n*s/t.ticks().length);return c=>{let A=c/a(Math.round(i(c)));return A*n<n-.5&&(A*=n),A<=u?l(c):""}},t.nice=()=>r(XK(r(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),t}function YK(){const e=oI(ub()).domain([1,10]);return e.copy=()=>Cv(e,YK()).base(e.base()),ms.apply(e,arguments),e}function WR(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function KR(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function sI(e){var t=1,r=e(WR(t),KR(t));return r.constant=function(n){return arguments.length?e(WR(t=+n),KR(t)):t},mA(r)}function JK(){var e=sI(ub());return e.copy=function(){return Cv(e,JK()).constant(e.constant())},ms.apply(e,arguments)}function zR(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function iBe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function aBe(e){return e<0?-e*e:e*e}function lI(e){var t=e(Pa,Pa),r=1;function n(){return r===1?e(Pa,Pa):r===.5?e(iBe,aBe):e(zR(r),zR(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},mA(t)}function uI(){var e=lI(ub());return e.copy=function(){return Cv(e,uI()).exponent(e.exponent())},ms.apply(e,arguments),e}function oBe(){return uI.apply(null,arguments).exponent(.5)}function VR(e){return Math.sign(e)*e*e}function sBe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function ZK(){var e=nI(),t=[0,1],r=!1,n;function i(a){var o=sBe(e(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return e.invert(VR(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Ax)).map(VR)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return ZK(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ms.apply(i,arguments),mA(i)}function ez(){var e=[],t=[],r=[],n;function i(){var o=0,s=Math.max(1,t.length);for(r=new Array(s-1);++o<s;)r[o-1]=Abe(e,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:t[bv(r,o)]}return a.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(tA),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return ez().domain(e).range(t).unknown(n)},ms.apply(a,arguments)}function tz(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[bv(n,l,0,r)]:a}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return tz().domain([e,t]).range(i).unknown(a)},ms.apply(mA(o),arguments)}function rz(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[bv(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return rz().domain(e).range(t).unknown(r)},ms.apply(i,arguments)}const E5=new Date,S5=new Date;function yi(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),t(a,s),e(a);while(u<a&&a<o);return l},i.filter=a=>yi(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!a(o););else for(;--s>=0;)for(;t(o,1),!a(o););}),r&&(i.count=(a,o)=>(E5.setTime(+a),S5.setTime(+o),e(E5),e(S5),Math.floor(r(E5,S5))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const dx=yi(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);dx.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?yi(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):dx);dx.range;const yu=1e3,os=yu*60,wu=os*60,Ru=wu*24,cI=Ru*7,GR=Ru*30,N5=Ru*365,rf=yi(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*yu)},(e,t)=>(t-e)/yu,e=>e.getUTCSeconds());rf.range;const AI=yi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*yu)},(e,t)=>{e.setTime(+e+t*os)},(e,t)=>(t-e)/os,e=>e.getMinutes());AI.range;const fI=yi(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*os)},(e,t)=>(t-e)/os,e=>e.getUTCMinutes());fI.range;const dI=yi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*yu-e.getMinutes()*os)},(e,t)=>{e.setTime(+e+t*wu)},(e,t)=>(t-e)/wu,e=>e.getHours());dI.range;const hI=yi(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*wu)},(e,t)=>(t-e)/wu,e=>e.getUTCHours());hI.range;const Ev=yi(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*os)/Ru,e=>e.getDate()-1);Ev.range;const cb=yi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ru,e=>e.getUTCDate()-1);cb.range;const nz=yi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ru,e=>Math.floor(e/Ru));nz.range;function $f(e){return yi(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*os)/cI)}const Ab=$f(0),hx=$f(1),lBe=$f(2),uBe=$f(3),Oh=$f(4),cBe=$f(5),ABe=$f(6);Ab.range;hx.range;lBe.range;uBe.range;Oh.range;cBe.range;ABe.range;function Wf(e){return yi(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/cI)}const fb=Wf(0),px=Wf(1),fBe=Wf(2),dBe=Wf(3),Th=Wf(4),hBe=Wf(5),pBe=Wf(6);fb.range;px.range;fBe.range;dBe.range;Th.range;hBe.range;pBe.range;const pI=yi(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());pI.range;const mI=yi(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());mI.range;const Du=yi(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Du.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:yi(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Du.range;const ju=yi(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ju.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:yi(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ju.range;function iz(e,t,r,n,i,a){const o=[[rf,1,yu],[rf,5,5*yu],[rf,15,15*yu],[rf,30,30*yu],[a,1,os],[a,5,5*os],[a,15,15*os],[a,30,30*os],[i,1,wu],[i,3,3*wu],[i,6,6*wu],[i,12,12*wu],[n,1,Ru],[n,2,2*Ru],[r,1,cI],[t,1,GR],[t,3,3*GR],[e,1,N5]];function s(u,c,A){const d=c<u;d&&([u,c]=[c,u]);const f=A&&typeof A.range=="function"?A:l(u,c,A),p=f?f.range(u,+c+1):[];return d?p.reverse():p}function l(u,c,A){const d=Math.abs(c-u)/A,f=YF(([,,v])=>v).right(o,d);if(f===o.length)return e.every(C4(u/N5,c/N5,A));if(f===0)return dx.every(Math.max(C4(u,c,A),1));const[p,g]=o[d/o[f-1][2]<o[f][2]/d?f-1:f];return p.every(g)}return[s,l]}const[mBe,gBe]=iz(ju,mI,fb,nz,hI,fI),[vBe,yBe]=iz(Du,pI,Ab,Ev,dI,AI);function F5(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function I5(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function sm(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function wBe(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,u=lm(i),c=um(i),A=lm(a),d=um(a),f=lm(o),p=um(o),g=lm(s),v=um(s),m=lm(l),y=um(l),w={a:W,A:D,b:K,B:ie,c:null,d:eD,e:eD,f:$Be,g:ZBe,G:tCe,H:MBe,I:QBe,j:HBe,L:az,m:WBe,M:KBe,p:ee,q:L,Q:nD,s:iD,S:zBe,u:VBe,U:GBe,V:qBe,w:XBe,W:YBe,x:null,X:null,y:JBe,Y:eCe,Z:rCe,"%":rD},b={a:j,A:z,b:X,B:ae,c:null,d:tD,e:tD,f:oCe,g:mCe,G:vCe,H:nCe,I:iCe,j:aCe,L:sz,m:sCe,M:lCe,p:Z,q:ce,Q:nD,s:iD,S:uCe,u:cCe,U:ACe,V:fCe,w:dCe,W:hCe,x:null,X:null,y:pCe,Y:gCe,Z:yCe,"%":rD},B={a:O,A:F,b:N,B:U,c:M,d:JR,e:JR,f:UBe,g:YR,G:XR,H:ZR,I:ZR,j:PBe,L:LBe,m:kBe,M:OBe,p:I,q:_Be,Q:DBe,s:jBe,S:TBe,u:EBe,U:SBe,V:NBe,w:CBe,W:FBe,x:V,X:Q,y:YR,Y:XR,Z:IBe,"%":RBe};w.x=S(r,w),w.X=S(n,w),w.c=S(t,w),b.x=S(r,b),b.X=S(n,b),b.c=S(t,b);function S(ne,pe){return function(ye){var de=[],Ie=-1,De=0,Y=ne.length,Ae,Ee,Pe;for(ye instanceof Date||(ye=new Date(+ye));++Ie<Y;)ne.charCodeAt(Ie)===37&&(de.push(ne.slice(De,Ie)),(Ee=qR[Ae=ne.charAt(++Ie)])!=null?Ae=ne.charAt(++Ie):Ee=Ae==="e"?" ":"0",(Pe=pe[Ae])&&(Ae=Pe(ye,Ee)),de.push(Ae),De=Ie+1);return de.push(ne.slice(De,Ie)),de.join("")}}function P(ne,pe){return function(ye){var de=sm(1900,void 0,1),Ie=k(de,ne,ye+="",0),De,Y;if(Ie!=ye.length)return null;if("Q"in de)return new Date(de.Q);if("s"in de)return new Date(de.s*1e3+("L"in de?de.L:0));if(pe&&!("Z"in de)&&(de.Z=0),"p"in de&&(de.H=de.H%12+de.p*12),de.m===void 0&&(de.m="q"in de?de.q:0),"V"in de){if(de.V<1||de.V>53)return null;"w"in de||(de.w=1),"Z"in de?(De=I5(sm(de.y,0,1)),Y=De.getUTCDay(),De=Y>4||Y===0?px.ceil(De):px(De),De=cb.offset(De,(de.V-1)*7),de.y=De.getUTCFullYear(),de.m=De.getUTCMonth(),de.d=De.getUTCDate()+(de.w+6)%7):(De=F5(sm(de.y,0,1)),Y=De.getDay(),De=Y>4||Y===0?hx.ceil(De):hx(De),De=Ev.offset(De,(de.V-1)*7),de.y=De.getFullYear(),de.m=De.getMonth(),de.d=De.getDate()+(de.w+6)%7)}else("W"in de||"U"in de)&&("w"in de||(de.w="u"in de?de.u%7:"W"in de?1:0),Y="Z"in de?I5(sm(de.y,0,1)).getUTCDay():F5(sm(de.y,0,1)).getDay(),de.m=0,de.d="W"in de?(de.w+6)%7+de.W*7-(Y+5)%7:de.w+de.U*7-(Y+6)%7);return"Z"in de?(de.H+=de.Z/100|0,de.M+=de.Z%100,I5(de)):F5(de)}}function k(ne,pe,ye,de){for(var Ie=0,De=pe.length,Y=ye.length,Ae,Ee;Ie<De;){if(de>=Y)return-1;if(Ae=pe.charCodeAt(Ie++),Ae===37){if(Ae=pe.charAt(Ie++),Ee=B[Ae in qR?pe.charAt(Ie++):Ae],!Ee||(de=Ee(ne,ye,de))<0)return-1}else if(Ae!=ye.charCodeAt(de++))return-1}return de}function I(ne,pe,ye){var de=u.exec(pe.slice(ye));return de?(ne.p=c.get(de[0].toLowerCase()),ye+de[0].length):-1}function O(ne,pe,ye){var de=f.exec(pe.slice(ye));return de?(ne.w=p.get(de[0].toLowerCase()),ye+de[0].length):-1}function F(ne,pe,ye){var de=A.exec(pe.slice(ye));return de?(ne.w=d.get(de[0].toLowerCase()),ye+de[0].length):-1}function N(ne,pe,ye){var de=m.exec(pe.slice(ye));return de?(ne.m=y.get(de[0].toLowerCase()),ye+de[0].length):-1}function U(ne,pe,ye){var de=g.exec(pe.slice(ye));return de?(ne.m=v.get(de[0].toLowerCase()),ye+de[0].length):-1}function M(ne,pe,ye){return k(ne,t,pe,ye)}function V(ne,pe,ye){return k(ne,r,pe,ye)}function Q(ne,pe,ye){return k(ne,n,pe,ye)}function W(ne){return o[ne.getDay()]}function D(ne){return a[ne.getDay()]}function K(ne){return l[ne.getMonth()]}function ie(ne){return s[ne.getMonth()]}function ee(ne){return i[+(ne.getHours()>=12)]}function L(ne){return 1+~~(ne.getMonth()/3)}function j(ne){return o[ne.getUTCDay()]}function z(ne){return a[ne.getUTCDay()]}function X(ne){return l[ne.getUTCMonth()]}function ae(ne){return s[ne.getUTCMonth()]}function Z(ne){return i[+(ne.getUTCHours()>=12)]}function ce(ne){return 1+~~(ne.getUTCMonth()/3)}return{format:function(ne){var pe=S(ne+="",w);return pe.toString=function(){return ne},pe},parse:function(ne){var pe=P(ne+="",!1);return pe.toString=function(){return ne},pe},utcFormat:function(ne){var pe=S(ne+="",b);return pe.toString=function(){return ne},pe},utcParse:function(ne){var pe=P(ne+="",!0);return pe.toString=function(){return ne},pe}}}var qR={"-":"",_:" ",0:"0"},Ui=/^\s*\d+/,xBe=/^%/,bBe=/[\\^$*+?|[\]().{}]/g;function mr(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function BBe(e){return e.replace(bBe,"\\$&")}function lm(e){return new RegExp("^(?:"+e.map(BBe).join("|")+")","i")}function um(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function CBe(e,t,r){var n=Ui.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function EBe(e,t,r){var n=Ui.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function SBe(e,t,r){var n=Ui.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function NBe(e,t,r){var n=Ui.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function FBe(e,t,r){var n=Ui.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function XR(e,t,r){var n=Ui.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function YR(e,t,r){var n=Ui.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function IBe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function _Be(e,t,r){var n=Ui.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function kBe(e,t,r){var n=Ui.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function JR(e,t,r){var n=Ui.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function PBe(e,t,r){var n=Ui.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function ZR(e,t,r){var n=Ui.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function OBe(e,t,r){var n=Ui.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function TBe(e,t,r){var n=Ui.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function LBe(e,t,r){var n=Ui.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function UBe(e,t,r){var n=Ui.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function RBe(e,t,r){var n=xBe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function DBe(e,t,r){var n=Ui.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function jBe(e,t,r){var n=Ui.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function eD(e,t){return mr(e.getDate(),t,2)}function MBe(e,t){return mr(e.getHours(),t,2)}function QBe(e,t){return mr(e.getHours()%12||12,t,2)}function HBe(e,t){return mr(1+Ev.count(Du(e),e),t,3)}function az(e,t){return mr(e.getMilliseconds(),t,3)}function $Be(e,t){return az(e,t)+"000"}function WBe(e,t){return mr(e.getMonth()+1,t,2)}function KBe(e,t){return mr(e.getMinutes(),t,2)}function zBe(e,t){return mr(e.getSeconds(),t,2)}function VBe(e){var t=e.getDay();return t===0?7:t}function GBe(e,t){return mr(Ab.count(Du(e)-1,e),t,2)}function oz(e){var t=e.getDay();return t>=4||t===0?Oh(e):Oh.ceil(e)}function qBe(e,t){return e=oz(e),mr(Oh.count(Du(e),e)+(Du(e).getDay()===4),t,2)}function XBe(e){return e.getDay()}function YBe(e,t){return mr(hx.count(Du(e)-1,e),t,2)}function JBe(e,t){return mr(e.getFullYear()%100,t,2)}function ZBe(e,t){return e=oz(e),mr(e.getFullYear()%100,t,2)}function eCe(e,t){return mr(e.getFullYear()%1e4,t,4)}function tCe(e,t){var r=e.getDay();return e=r>=4||r===0?Oh(e):Oh.ceil(e),mr(e.getFullYear()%1e4,t,4)}function rCe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+mr(t/60|0,"0",2)+mr(t%60,"0",2)}function tD(e,t){return mr(e.getUTCDate(),t,2)}function nCe(e,t){return mr(e.getUTCHours(),t,2)}function iCe(e,t){return mr(e.getUTCHours()%12||12,t,2)}function aCe(e,t){return mr(1+cb.count(ju(e),e),t,3)}function sz(e,t){return mr(e.getUTCMilliseconds(),t,3)}function oCe(e,t){return sz(e,t)+"000"}function sCe(e,t){return mr(e.getUTCMonth()+1,t,2)}function lCe(e,t){return mr(e.getUTCMinutes(),t,2)}function uCe(e,t){return mr(e.getUTCSeconds(),t,2)}function cCe(e){var t=e.getUTCDay();return t===0?7:t}function ACe(e,t){return mr(fb.count(ju(e)-1,e),t,2)}function lz(e){var t=e.getUTCDay();return t>=4||t===0?Th(e):Th.ceil(e)}function fCe(e,t){return e=lz(e),mr(Th.count(ju(e),e)+(ju(e).getUTCDay()===4),t,2)}function dCe(e){return e.getUTCDay()}function hCe(e,t){return mr(px.count(ju(e)-1,e),t,2)}function pCe(e,t){return mr(e.getUTCFullYear()%100,t,2)}function mCe(e,t){return e=lz(e),mr(e.getUTCFullYear()%100,t,2)}function gCe(e,t){return mr(e.getUTCFullYear()%1e4,t,4)}function vCe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Th(e):Th.ceil(e),mr(e.getUTCFullYear()%1e4,t,4)}function yCe(){return"+0000"}function rD(){return"%"}function nD(e){return+e}function iD(e){return Math.floor(+e/1e3)}var gd,uz,cz;wCe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function wCe(e){return gd=wBe(e),uz=gd.format,gd.parse,cz=gd.utcFormat,gd.utcParse,gd}function xCe(e){return new Date(e)}function bCe(e){return e instanceof Date?+e:+new Date(+e)}function gI(e,t,r,n,i,a,o,s,l,u){var c=nI(),A=c.invert,d=c.domain,f=u(".%L"),p=u(":%S"),g=u("%I:%M"),v=u("%I %p"),m=u("%a %d"),y=u("%b %d"),w=u("%B"),b=u("%Y");function B(S){return(l(S)<S?f:s(S)<S?p:o(S)<S?g:a(S)<S?v:n(S)<S?i(S)<S?m:y:r(S)<S?w:b)(S)}return c.invert=function(S){return new Date(A(S))},c.domain=function(S){return arguments.length?d(Array.from(S,bCe)):d().map(xCe)},c.ticks=function(S){var P=d();return e(P[0],P[P.length-1],S??10)},c.tickFormat=function(S,P){return P==null?B:u(P)},c.nice=function(S){var P=d();return(!S||typeof S.range!="function")&&(S=t(P[0],P[P.length-1],S??10)),S?d(XK(P,S)):c},c.copy=function(){return Cv(c,gI(e,t,r,n,i,a,o,s,l,u))},c}function BCe(){return ms.apply(gI(vBe,yBe,Du,pI,Ab,Ev,dI,AI,rf,uz).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function CCe(){return ms.apply(gI(mBe,gBe,ju,mI,fb,cb,hI,fI,rf,cz).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function db(){var e=0,t=1,r,n,i,a,o=Pa,s=!1,l;function u(A){return A==null||isNaN(A=+A)?l:o(i===0?.5:(A=(a(A)-r)*i,s?Math.max(0,Math.min(1,A)):A))}u.domain=function(A){return arguments.length?([e,t]=A,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(A){return arguments.length?(s=!!A,u):s},u.interpolator=function(A){return arguments.length?(o=A,u):o};function c(A){return function(d){var f,p;return arguments.length?([f,p]=d,o=A(f,p),u):[o(0),o(1)]}}return u.range=c(Yh),u.rangeRound=c(rI),u.unknown=function(A){return arguments.length?(l=A,u):l},function(A){return a=A,r=A(e),n=A(t),i=r===n?0:1/(n-r),u}}function gA(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Az(){var e=mA(db()(Pa));return e.copy=function(){return gA(e,Az())},Yu.apply(e,arguments)}function fz(){var e=oI(db()).domain([1,10]);return e.copy=function(){return gA(e,fz()).base(e.base())},Yu.apply(e,arguments)}function dz(){var e=sI(db());return e.copy=function(){return gA(e,dz()).constant(e.constant())},Yu.apply(e,arguments)}function vI(){var e=lI(db());return e.copy=function(){return gA(e,vI()).exponent(e.exponent())},Yu.apply(e,arguments)}function ECe(){return vI.apply(null,arguments).exponent(.5)}function hz(){var e=[],t=Pa;function r(n){if(n!=null&&!isNaN(n=+n))return t((bv(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(tA),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>cbe(e,a/n))},r.copy=function(){return hz(t).domain(e)},Yu.apply(r,arguments)}function hb(){var e=0,t=.5,r=1,n=1,i,a,o,s,l,u=Pa,c,A=!1,d;function f(g){return isNaN(g=+g)?d:(g=.5+((g=+c(g))-a)*(n*g<n*a?s:l),u(A?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([e,t,r]=g,i=c(e=+e),a=c(t=+t),o=c(r=+r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,f):[e,t,r]},f.clamp=function(g){return arguments.length?(A=!!g,f):A},f.interpolator=function(g){return arguments.length?(u=g,f):u};function p(g){return function(v){var m,y,w;return arguments.length?([m,y,w]=v,u=Rbe(g,[m,y,w]),f):[u(0),u(.5),u(1)]}}return f.range=p(Yh),f.rangeRound=p(rI),f.unknown=function(g){return arguments.length?(d=g,f):d},function(g){return c=g,i=g(e),a=g(t),o=g(r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,f}}function pz(){var e=mA(hb()(Pa));return e.copy=function(){return gA(e,pz())},Yu.apply(e,arguments)}function mz(){var e=oI(hb()).domain([.1,1,10]);return e.copy=function(){return gA(e,mz()).base(e.base())},Yu.apply(e,arguments)}function gz(){var e=sI(hb());return e.copy=function(){return gA(e,gz()).constant(e.constant())},Yu.apply(e,arguments)}function yI(){var e=lI(hb());return e.copy=function(){return gA(e,yI()).exponent(e.exponent())},Yu.apply(e,arguments)}function SCe(){return yI.apply(null,arguments).exponent(.5)}const Bm=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ZF,scaleDiverging:pz,scaleDivergingLog:mz,scaleDivergingPow:yI,scaleDivergingSqrt:SCe,scaleDivergingSymlog:gz,scaleIdentity:qK,scaleImplicit:E4,scaleLinear:GK,scaleLog:YK,scaleOrdinal:JF,scalePoint:dbe,scalePow:uI,scaleQuantile:ez,scaleQuantize:tz,scaleRadial:ZK,scaleSequential:Az,scaleSequentialLog:fz,scaleSequentialPow:vI,scaleSequentialQuantile:hz,scaleSequentialSqrt:ECe,scaleSequentialSymlog:dz,scaleSqrt:oBe,scaleSymlog:JK,scaleThreshold:rz,scaleTime:BCe,scaleUtc:CCe,tickFormat:VK},Symbol.toStringTag,{value:"Module"}));var Ju=e=>e.chartData,pb=be([Ju],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),vz=(e,t,r,n)=>n?pb(e):Ju(e),NCe=(e,t,r)=>r?pb(e):Ju(e);function lA(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(vn(t)&&vn(r))return!0}return!1}function aD(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function yz(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if(vn(r))i=r;else if(typeof r=="function")return;if(vn(n))a=n;else if(typeof n=="function")return;var o=[i,a];if(lA(o))return o}}function FCe(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(lA(n))return aD(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,o,s;if(i==="auto")t!=null&&(o=Math.min(...t));else if(mt(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&SU.test(i)){var l=SU.exec(i);if(l==null||l[1]==null||t==null)o=void 0;else{var u=+l[1];o=t[0]-u}}else o=t==null?void 0:t[0];if(a==="auto")t!=null&&(s=Math.max(...t));else if(mt(a))s=a;else if(typeof a=="function")try{t!=null&&(s=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&NU.test(a)){var c=NU.exec(a);if(c==null||c[1]==null||t==null)s=void 0;else{var A=+c[1];s=t[1]+A}}else s=t==null?void 0:t[1];var d=[o,s];if(lA(d))return t==null?d:aD(d,t,r)}}}var Jh=1e9,ICe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},xI,sn=!0,ds="[DecimalError] ",hf=ds+"Invalid argument: ",wI=ds+"Exponent out of range: ",Zh=Math.floor,$A=Math.pow,_Ce=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Co,Fi=1e7,Jr=7,wz=9007199254740991,mx=Zh(wz/Jr),st={};st.absoluteValue=st.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};st.comparedTo=st.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};st.decimalPlaces=st.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Jr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};st.dividedBy=st.div=function(e){return Su(this,new this.constructor(e))};st.dividedToIntegerBy=st.idiv=function(e){var t=this,r=t.constructor;return Lr(Su(t,new r(e),0,1),r.precision)};st.equals=st.eq=function(e){return!this.cmp(e)};st.exponent=function(){return Yn(this)};st.greaterThan=st.gt=function(e){return this.cmp(e)>0};st.greaterThanOrEqualTo=st.gte=function(e){return this.cmp(e)>=0};st.isInteger=st.isint=function(){return this.e>this.d.length-2};st.isNegative=st.isneg=function(){return this.s<0};st.isPositive=st.ispos=function(){return this.s>0};st.isZero=function(){return this.s===0};st.lessThan=st.lt=function(e){return this.cmp(e)<0};st.lessThanOrEqualTo=st.lte=function(e){return this.cmp(e)<1};st.logarithm=st.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Co))throw Error(ds+"NaN");if(r.s<1)throw Error(ds+(r.s?"NaN":"-Infinity"));return r.eq(Co)?new n(0):(sn=!1,t=Su(Ug(r,a),Ug(e,a),a),sn=!0,Lr(t,i))};st.minus=st.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Bz(t,e):xz(t,(e.s=-e.s,e))};st.modulo=st.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(ds+"NaN");return r.s?(sn=!1,t=Su(r,e,0,1).times(e),sn=!0,r.minus(t)):Lr(new n(r),i)};st.naturalExponential=st.exp=function(){return bz(this)};st.naturalLogarithm=st.ln=function(){return Ug(this)};st.negated=st.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};st.plus=st.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?xz(t,e):Bz(t,(e.s=-e.s,e))};st.precision=st.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(hf+e);if(t=Yn(i)+1,n=i.d.length-1,r=n*Jr+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};st.squareRoot=st.sqrt=function(){var e,t,r,n,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(ds+"NaN")}for(e=Yn(s),sn=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=El(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Zh((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(i.toString()),r=l.precision,i=o=r+3;;)if(a=n,n=a.plus(Su(s,a,o+2)).times(.5),El(a.d).slice(0,o)===(t=El(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Lr(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(t!="9999")break;o+=4}return sn=!0,Lr(n,r)};st.times=st.mul=function(e){var t,r,n,i,a,o,s,l,u,c=this,A=c.constructor,d=c.d,f=(e=new A(e)).d;if(!c.s||!e.s)return new A(0);for(e.s*=c.s,r=c.e+e.e,l=d.length,u=f.length,l<u&&(a=d,d=f,f=a,o=l,l=u,u=o),a=[],o=l+u,n=o;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=l+n;i>n;)s=a[i]+f[n]*d[i-n-1]+t,a[i--]=s%Fi|0,t=s/Fi|0;a[i]=(a[i]+t)%Fi|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,sn?Lr(e,A.precision):e};st.toDecimalPlaces=st.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ll(e,0,Jh),t===void 0?t=n.rounding:Ll(t,0,8),Lr(r,e+Yn(r)+1,t))};st.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Ff(n,!0):(Ll(e,0,Jh),t===void 0?t=i.rounding:Ll(t,0,8),n=Lr(new i(n),e+1,t),r=Ff(n,!0,e+1)),r};st.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?Ff(i):(Ll(e,0,Jh),t===void 0?t=a.rounding:Ll(t,0,8),n=Lr(new a(i),e+Yn(i)+1,t),r=Ff(n.abs(),!1,e+Yn(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};st.toInteger=st.toint=function(){var e=this,t=e.constructor;return Lr(new t(e),Yn(e)+1,t.rounding)};st.toNumber=function(){return+this};st.toPower=st.pow=function(e){var t,r,n,i,a,o,s=this,l=s.constructor,u=12,c=+(e=new l(e));if(!e.s)return new l(Co);if(s=new l(s),!s.s){if(e.s<1)throw Error(ds+"Infinity");return s}if(s.eq(Co))return s;if(n=l.precision,e.eq(Co))return Lr(s,n);if(t=e.e,r=e.d.length-1,o=t>=r,a=s.s,o){if((r=c<0?-c:c)<=wz){for(i=new l(Co),t=Math.ceil(n/Jr+4),sn=!1;r%2&&(i=i.times(s),sD(i.d,t)),r=Zh(r/2),r!==0;)s=s.times(s),sD(s.d,t);return sn=!0,e.s<0?new l(Co).div(i):Lr(i,n)}}else if(a<0)throw Error(ds+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,sn=!1,i=e.times(Ug(s,n+u)),sn=!0,i=bz(i),i.s=a,i};st.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=Yn(i),n=Ff(i,r<=a.toExpNeg||r>=a.toExpPos)):(Ll(e,1,Jh),t===void 0?t=a.rounding:Ll(t,0,8),i=Lr(new a(i),e,t),r=Yn(i),n=Ff(i,e<=r||r<=a.toExpNeg,e)),n};st.toSignificantDigits=st.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ll(e,1,Jh),t===void 0?t=n.rounding:Ll(t,0,8)),Lr(new n(r),e,t)};st.toString=st.valueOf=st.val=st.toJSON=st[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Yn(e),r=e.constructor;return Ff(e,t<=r.toExpNeg||t>=r.toExpPos)};function xz(e,t){var r,n,i,a,o,s,l,u,c=e.constructor,A=c.precision;if(!e.s||!t.s)return t.s||(t=new c(e)),sn?Lr(t,A):t;if(l=e.d,u=t.d,o=e.e,i=t.e,l=l.slice(),a=o-i,a){for(a<0?(n=l,a=-a,s=u.length):(n=u,i=o,s=l.length),o=Math.ceil(A/Jr),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,n=u,u=l,l=n),r=0;a;)r=(l[--a]=l[a]+u[a]+r)/Fi|0,l[a]%=Fi;for(r&&(l.unshift(r),++i),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=i,sn?Lr(t,A):t}function Ll(e,t,r){if(e!==~~e||e<t||e>r)throw Error(hf+e)}function El(e){var t,r,n,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)n=e[t]+"",r=Jr-n.length,r&&(a+=Nc(r)),a+=n;o=e[t],n=o+"",r=Jr-n.length,r&&(a+=Nc(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Su=function(){function e(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%Fi|0,o=a/Fi|0;return o&&n.unshift(o),n}function t(n,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*Fi+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,l,u,c,A,d,f,p,g,v,m,y,w,b,B,S,P,k,I=n.constructor,O=n.s==i.s?1:-1,F=n.d,N=i.d;if(!n.s)return new I(n);if(!i.s)throw Error(ds+"Division by zero");for(l=n.e-i.e,P=N.length,B=F.length,f=new I(O),p=f.d=[],u=0;N[u]==(F[u]||0);)++u;if(N[u]>(F[u]||0)&&--l,a==null?y=a=I.precision:o?y=a+(Yn(n)-Yn(i))+1:y=a,y<0)return new I(0);if(y=y/Jr+2|0,u=0,P==1)for(c=0,N=N[0],y++;(u<B||c)&&y--;u++)w=c*Fi+(F[u]||0),p[u]=w/N|0,c=w%N|0;else{for(c=Fi/(N[0]+1)|0,c>1&&(N=e(N,c),F=e(F,c),P=N.length,B=F.length),b=P,g=F.slice(0,P),v=g.length;v<P;)g[v++]=0;k=N.slice(),k.unshift(0),S=N[0],N[1]>=Fi/2&&++S;do c=0,s=t(N,g,P,v),s<0?(m=g[0],P!=v&&(m=m*Fi+(g[1]||0)),c=m/S|0,c>1?(c>=Fi&&(c=Fi-1),A=e(N,c),d=A.length,v=g.length,s=t(A,g,d,v),s==1&&(c--,r(A,P<d?k:N,d))):(c==0&&(s=c=1),A=N.slice()),d=A.length,d<v&&A.unshift(0),r(g,A,v),s==-1&&(v=g.length,s=t(N,g,P,v),s<1&&(c++,r(g,P<v?k:N,v))),v=g.length):s===0&&(c++,g=[0]),p[u++]=c,s&&g[0]?g[v++]=F[b]||0:(g=[F[b]],v=1);while((b++<B||g[0]!==void 0)&&y--)}return p[0]||p.shift(),f.e=l,Lr(f,o?a+Yn(f)+1:a)}}();function bz(e,t){var r,n,i,a,o,s,l=0,u=0,c=e.constructor,A=c.precision;if(Yn(e)>16)throw Error(wI+Yn(e));if(!e.s)return new c(Co);for(sn=!1,s=A,o=new c(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log($A(2,u))/Math.LN10*2+5|0,s+=n,r=i=a=new c(Co),c.precision=s;;){if(i=Lr(i.times(e),s),r=r.times(++l),o=a.plus(Su(i,r,s)),El(o.d).slice(0,s)===El(a.d).slice(0,s)){for(;u--;)a=Lr(a.times(a),s);return c.precision=A,t==null?(sn=!0,Lr(a,A)):a}a=o}}function Yn(e){for(var t=e.e*Jr,r=e.d[0];r>=10;r/=10)t++;return t}function _5(e,t,r){if(t>e.LN10.sd())throw sn=!0,r&&(e.precision=r),Error(ds+"LN10 precision limit exceeded");return Lr(new e(e.LN10),t)}function Nc(e){for(var t="";e--;)t+="0";return t}function Ug(e,t){var r,n,i,a,o,s,l,u,c,A=1,d=10,f=e,p=f.d,g=f.constructor,v=g.precision;if(f.s<1)throw Error(ds+(f.s?"NaN":"-Infinity"));if(f.eq(Co))return new g(0);if(t==null?(sn=!1,u=v):u=t,f.eq(10))return t==null&&(sn=!0),_5(g,u);if(u+=d,g.precision=u,r=El(p),n=r.charAt(0),a=Yn(f),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)f=f.times(e),r=El(f.d),n=r.charAt(0),A++;a=Yn(f),n>1?(f=new g("0."+r),a++):f=new g(n+"."+r.slice(1))}else return l=_5(g,u+2,v).times(a+""),f=Ug(new g(n+"."+r.slice(1)),u-d).plus(l),g.precision=v,t==null?(sn=!0,Lr(f,v)):f;for(s=o=f=Su(f.minus(Co),f.plus(Co),u),c=Lr(f.times(f),u),i=3;;){if(o=Lr(o.times(c),u),l=s.plus(Su(o,new g(i),u)),El(l.d).slice(0,u)===El(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(_5(g,u+2,v).times(a+""))),s=Su(s,new g(A),u),g.precision=v,t==null?(sn=!0,Lr(s,v)):s;s=l,i+=2}}function oD(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Zh(r/Jr),e.d=[],n=(r+1)%Jr,r<0&&(n+=Jr),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Jr;n<i;)e.d.push(+t.slice(n,n+=Jr));t=t.slice(n),n=Jr-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),sn&&(e.e>mx||e.e<-mx))throw Error(wI+r)}else e.s=0,e.e=0,e.d=[0];return e}function Lr(e,t,r){var n,i,a,o,s,l,u,c,A=e.d;for(o=1,a=A[0];a>=10;a/=10)o++;if(n=t-o,n<0)n+=Jr,i=t,u=A[c=0];else{if(c=Math.ceil((n+1)/Jr),a=A.length,c>=a)return e;for(u=a=A[c],o=1;a>=10;a/=10)o++;n%=Jr,i=n-Jr+o}if(r!==void 0&&(a=$A(10,o-i-1),s=u/a%10|0,l=t<0||A[c+1]!==void 0||u%a,l=r<4?(s||l)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?i>0?u/$A(10,o-i):0:A[c-1])%10&1||r==(e.s<0?8:7))),t<1||!A[0])return l?(a=Yn(e),A.length=1,t=t-a-1,A[0]=$A(10,(Jr-t%Jr)%Jr),e.e=Zh(-t/Jr)||0):(A.length=1,A[0]=e.e=e.s=0),e;if(n==0?(A.length=c,a=1,c--):(A.length=c+1,a=$A(10,Jr-n),A[c]=i>0?(u/$A(10,o-i)%$A(10,i)|0)*a:0),l)for(;;)if(c==0){(A[0]+=a)==Fi&&(A[0]=1,++e.e);break}else{if(A[c]+=a,A[c]!=Fi)break;A[c--]=0,a=1}for(n=A.length;A[--n]===0;)A.pop();if(sn&&(e.e>mx||e.e<-mx))throw Error(wI+Yn(e));return e}function Bz(e,t){var r,n,i,a,o,s,l,u,c,A,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new d(e),sn?Lr(t,f):t;if(l=e.d,A=t.d,n=t.e,u=e.e,l=l.slice(),o=u-n,o){for(c=o<0,c?(r=l,o=-o,s=A.length):(r=A,n=u,s=l.length),i=Math.max(Math.ceil(f/Jr),s)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=l.length,s=A.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=A[i]){c=l[i]<A[i];break}o=0}for(c&&(r=l,l=A,A=r,t.s=-t.s),s=l.length,i=A.length-s;i>0;--i)l[s++]=0;for(i=A.length;i>o;){if(l[--i]<A[i]){for(a=i;a&&l[--a]===0;)l[a]=Fi-1;--l[a],l[i]+=Fi}l[i]-=A[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,sn?Lr(t,f):t):new d(0)}function Ff(e,t,r){var n,i=Yn(e),a=El(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+Nc(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Nc(-i-1)+a,r&&(n=r-o)>0&&(a+=Nc(n))):i>=o?(a+=Nc(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+Nc(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=Nc(n))),e.s<0?"-"+a:a}function sD(e,t){if(e.length>t)return e.length=t,!0}function Cz(e){var t,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(hf+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return oD(o,a.toString())}else if(typeof a!="string")throw Error(hf+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,_Ce.test(a))oD(o,a);else throw Error(hf+a)}if(i.prototype=st,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Cz,i.config=i.set=kCe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function kCe(e){if(!e||typeof e!="object")throw Error(ds+"Object expected");var t,r,n,i=["precision",1,Jh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Zh(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(hf+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(hf+r+": "+n);return this}var xI=Cz(ICe);Co=new xI(1);const Cr=xI;var PCe=e=>e,Ez={},Sz=e=>e===Ez,lD=e=>function t(){return arguments.length===0||arguments.length===1&&Sz(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},Nz=(e,t)=>e===1?t:lD(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(o=>o!==Ez).length;return a>=e?t(...n):Nz(e-a,lD(function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];var u=n.map(c=>Sz(c)?s.shift():c);return t(...u,...s)}))}),OCe=e=>Nz(e.length,e),I4=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},TCe=OCe((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),LCe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return PCe;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((s,l)=>l(s),a(...arguments))}};function Fz(e){var t;return e===0?t=1:t=Math.floor(new Cr(e).abs().log(10).toNumber())+1,t}function Iz(e,t,r){for(var n=new Cr(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var _z=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},kz=(e,t,r)=>{if(e.lte(0))return new Cr(0);var n=Fz(e.toNumber()),i=new Cr(10).pow(n),a=e.div(i),o=n!==1?.05:.1,s=new Cr(Math.ceil(a.div(o).toNumber())).add(r).mul(o),l=s.mul(i);return t?new Cr(l.toNumber()):new Cr(Math.ceil(l.toNumber()))},UCe=(e,t,r)=>{var n=new Cr(1),i=new Cr(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new Cr(10).pow(Fz(e)-1),i=new Cr(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Cr(Math.floor(e)))}else e===0?i=new Cr(Math.floor((t-1)/2)):r||(i=new Cr(Math.floor(e)));var o=Math.floor((t-1)/2),s=LCe(TCe(l=>i.add(new Cr(l-o).mul(n)).toNumber()),I4);return s(0,t)},Pz=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Cr(0),tickMin:new Cr(0),tickMax:new Cr(0)};var o=kz(new Cr(r).sub(t).div(n-1),i,a),s;t<=0&&r>=0?s=new Cr(0):(s=new Cr(t).add(r).div(2),s=s.sub(new Cr(s).mod(o)));var l=Math.ceil(s.sub(t).div(o).toNumber()),u=Math.ceil(new Cr(r).sub(s).div(o).toNumber()),c=l+u+1;return c>n?Pz(t,r,n,i,a+1):(c<n&&(u=r>0?u+(n-c):u,l=r>0?l:l+(n-c)),{step:o,tickMin:s.sub(new Cr(l).mul(o)),tickMax:s.add(new Cr(u).mul(o))})},RCe=function(t){var[r,n]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[s,l]=_z([r,n]);if(s===-1/0||l===1/0){var u=l===1/0?[s,...I4(0,i-1).map(()=>1/0)]:[...I4(0,i-1).map(()=>-1/0),l];return r>n?u.reverse():u}if(s===l)return UCe(s,i,a);var{step:c,tickMin:A,tickMax:d}=Pz(s,l,o,a,0),f=Iz(A,d.add(new Cr(.1).mul(c)),c);return r>n?f.reverse():f},DCe=function(t,r){var[n,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,s]=_z([n,i]);if(o===-1/0||s===1/0)return[n,i];if(o===s)return[o];var l=Math.max(r,2),u=kz(new Cr(s).sub(o).div(l-1),a,0),c=[...Iz(new Cr(o),new Cr(s),u),s];return a===!1&&(c=c.map(A=>Math.round(A))),n>i?c.reverse():c},Oz=e=>e.rootProps.maxBarSize,jCe=e=>e.rootProps.barGap,Tz=e=>e.rootProps.barCategoryGap,MCe=e=>e.rootProps.barSize,Sv=e=>e.rootProps.stackOffset,Lz=e=>e.rootProps.reverseStackOrder,bI=e=>e.options.chartName,BI=e=>e.rootProps.syncId,Uz=e=>e.rootProps.syncMethod,CI=e=>e.options.eventEmitter,jn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},xl={allowDecimals:!1,allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,axisLineType:"polygon",cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category",zIndex:jn.axis},Ha={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,includeHidden:!1,hide:!1,label:!1,orientation:"right",radiusAxisId:0,reversed:!1,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number",zIndex:jn.axis},mb=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},QCe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:xl.angleAxisId,includeHidden:!1,name:void 0,reversed:xl.reversed,scale:xl.scale,tick:xl.tick,tickCount:void 0,ticks:void 0,type:xl.type,unit:void 0},HCe={allowDataOverflow:Ha.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ha.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ha.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ha.scale,tick:Ha.tick,tickCount:Ha.tickCount,ticks:void 0,type:Ha.type,unit:void 0},$Ce={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:xl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:xl.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:xl.scale,tick:xl.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},WCe={allowDataOverflow:Ha.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ha.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ha.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ha.scale,tick:Ha.tick,tickCount:Ha.tickCount,ticks:void 0,type:"category",unit:void 0},ep=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?$Ce:QCe,Nv=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?WCe:HCe,gb=e=>e.polarOptions,EI=be([qu,Xu,Li],H2e),Rz=be([gb,EI],(e,t)=>{if(e!=null)return Ws(e.innerRadius,t,0)}),Dz=be([gb,EI],(e,t)=>{if(e!=null)return Ws(e.outerRadius,t,t*.8)}),KCe=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},jz=be([gb],KCe),zCe=be([ep,jz],mb),Mz=be([EI,Rz,Dz],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]}),VCe=be([Nv,Mz],mb),tp=be([sr,gb,Rz,Dz,qu,Xu],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:s,startAngle:l,endAngle:u}=t;return{cx:Ws(o,i,i/2),cy:Ws(s,a,a/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:u,clockWise:!1}}}),Ur=(e,t)=>t,Fv=(e,t,r)=>r;function SI(e){return e==null?void 0:e.id}function Qz(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,o=new Map;return e.forEach(s=>{var l,u=(l=s.data)!==null&&l!==void 0?l:n;if(!(u==null||u.length===0)){var c=SI(s);u.forEach((A,d)=>{var f=a==null||i?d:String(Qn(A,a,null)),p=Qn(A,s.dataKey,0),g;o.has(f)?g=o.get(f):g={},Object.assign(g,{[c]:p}),o.set(f,g)})}}),Array.from(o.values())}function vb(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var yb=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function wb(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function GCe(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var wi=e=>{var t=sr(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},rp=e=>e.tooltip.settings.axisId;function uD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uD(Object(r),!0).forEach(function(n){qCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qCe(e,t,r){return(t=XCe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XCe(e){var t=YCe(e,"string");return typeof t=="symbol"?t:t+""}function YCe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _4=[0,"auto"],Ei={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Hz=(e,t)=>e.cartesianAxis.xAxis[t],Zu=(e,t)=>{var r=Hz(e,t);return r??Ei},Si={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:_4,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:yv},$z=(e,t)=>e.cartesianAxis.yAxis[t],ec=(e,t)=>{var r=$z(e,t);return r??Si},JCe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},NI=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??JCe},yn=(e,t,r)=>{switch(t){case"xAxis":return Zu(e,r);case"yAxis":return ec(e,r);case"zAxis":return NI(e,r);case"angleAxis":return ep(e,r);case"radiusAxis":return Nv(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},ZCe=(e,t,r)=>{switch(t){case"xAxis":return Zu(e,r);case"yAxis":return ec(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},np=(e,t,r)=>{switch(t){case"xAxis":return Zu(e,r);case"yAxis":return ec(e,r);case"angleAxis":return ep(e,r);case"radiusAxis":return Nv(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Wz=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function FI(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var II=e=>e.graphicalItems.cartesianItems,e5e=be([Ur,Fv],FI),_I=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Iv=be([II,yn,e5e],_I,{memoizeOptions:{resultEqualityCheck:wb}}),Kz=be([Iv],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(vb)),zz=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),t5e=be([Iv],zz),kI=e=>e.map(t=>t.data).filter(Boolean).flat(1),r5e=be([Iv],kI,{memoizeOptions:{resultEqualityCheck:wb}}),PI=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},OI=be([r5e,vz],PI),TI=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Qn(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:Qn(i,n)}))):e.map(n=>({value:n})),xb=be([OI,yn,Iv],TI);function Vz(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function N1(e){if(Ol(e)||e instanceof Date){var t=Number(e);if(vn(t))return t}}function cD(e){if(Array.isArray(e)){var t=[N1(e[0]),N1(e[1])];return lA(t)?t:void 0}var r=N1(e);if(r!=null)return[r,r]}function Mu(e){return e.map(N1).filter(kye)}function n5e(e,t,r){return!r||typeof t!="number"||$s(t)?[]:r.length?Mu(r.flatMap(n=>{var i=Qn(e,n.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!vn(a)||!vn(o)))return[t-a,t+o]})):[]}var xi=e=>{var t=wi(e),r=rp(e);return np(e,t,r)},_v=be([xi],e=>e==null?void 0:e.dataKey),i5e=be([Kz,vz,xi],Qz),Gz=(e,t,r,n)=>{var i={},a=t.reduce((o,s)=>{if(s.stackId==null)return o;var l=o[s.stackId];return l==null&&(l=[]),l.push(s),o[s.stackId]=l,o},i);return Object.fromEntries(Object.entries(a).map(o=>{var[s,l]=o,u=n?[...l].reverse():l,c=u.map(SI);return[s,{stackedData:Mwe(e,c,r),graphicalItems:u}]}))},k4=be([i5e,Kz,Sv,Lz],Gz),qz=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(n==null&&r!=="zAxis"){var o=Kwe(e,i,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},a5e=be([yn],e=>e.allowDataOverflow),LI=e=>{var t;if(e==null||!("domain"in e))return _4;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Mu(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:_4},UI=be([yn],LI),RI=be([UI,a5e],yz),o5e=be([k4,Ju,Ur,RI],qz,{memoizeOptions:{resultEqualityCheck:yb}}),bb=e=>e.errorBars,s5e=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>Vz(r,n)),vx=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),s=Math.max(...a);return[o,s]}},DI=(e,t,r,n,i)=>{var a,o;if(r.length>0&&e.forEach(s=>{r.forEach(l=>{var u,c,A=(u=n[l.id])===null||u===void 0?void 0:u.filter(m=>Vz(i,m)),d=Qn(s,(c=t.dataKey)!==null&&c!==void 0?c:l.dataKey),f=n5e(s,d,A);if(f.length>=2){var p=Math.min(...f),g=Math.max(...f);(a==null||p<a)&&(a=p),(o==null||g>o)&&(o=g)}var v=cD(d);v!=null&&(a=a==null?v[0]:Math.min(a,v[0]),o=o==null?v[1]:Math.max(o,v[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(s=>{var l=cD(Qn(s,t.dataKey));l!=null&&(a=a==null?l[0]:Math.min(a,l[0]),o=o==null?l[1]:Math.max(o,l[1]))}),vn(a)&&vn(o))return[a,o]},l5e=be([OI,yn,t5e,bb,Ur],DI,{memoizeOptions:{resultEqualityCheck:yb}});function u5e(e){var{value:t}=e;if(Ol(t)||t instanceof Date)return t}var c5e=(e,t,r)=>{var n=e.map(u5e).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&V$(n))?RK(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},Xz=e=>e.referenceElements.dots,ip=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),A5e=be([Xz,Ur,Fv],ip),Yz=e=>e.referenceElements.areas,f5e=be([Yz,Ur,Fv],ip),Jz=e=>e.referenceElements.lines,d5e=be([Jz,Ur,Fv],ip),Zz=(e,t)=>{if(e!=null){var r=Mu(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},h5e=be(A5e,Ur,Zz),eV=(e,t)=>{if(e!=null){var r=Mu(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},p5e=be([f5e,Ur],eV);function m5e(e){var t;if(e.x!=null)return Mu([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Mu(r)}function g5e(e){var t;if(e.y!=null)return Mu([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Mu(r)}var tV=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?m5e(n):g5e(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},v5e=be([d5e,Ur],tV),y5e=be(h5e,v5e,p5e,(e,t,r)=>vx(e,r,t)),jI=(e,t,r,n,i,a,o,s)=>{if(r!=null)return r;var l=o==="vertical"&&s==="xAxis"||o==="horizontal"&&s==="yAxis",u=l?vx(n,a,i):vx(a,i);return FCe(t,u,e.allowDataOverflow)},w5e=be([yn,UI,RI,o5e,l5e,y5e,sr,Ur],jI,{memoizeOptions:{resultEqualityCheck:yb}}),x5e=[0,1],MI=(e,t,r,n,i,a,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:s,type:l}=e,u=pA(t,a);if(u&&s==null){var c;return RK(0,(c=r==null?void 0:r.length)!==null&&c!==void 0?c:0)}return l==="category"?c5e(n,e,u):i==="expand"?x5e:o}},QI=be([yn,sr,OI,xb,Sv,Ur,w5e],MI),rV=(e,t,r,n,i)=>{if(e!=null){var{scale:a,type:o}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var s="scale".concat(fv(a));return s in Bm?s:"point"}}},vA=be([yn,sr,Wz,bI,Ur],rV);function b5e(e){if(e!=null){if(e in Bm)return Bm[e]();var t="scale".concat(fv(e));if(t in Bm)return Bm[t]()}}function Bb(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=b5e(t);if(i!=null){var a=i.domain(r).range(n);return Lwe(a),a}}}var HI=(e,t,r)=>{var n=LI(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&lA(e))return RCe(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&lA(e))return DCe(e,t.tickCount,t.allowDecimals)}},$I=be([QI,np,vA],HI),WI=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&lA(t)&&Array.isArray(r)&&r.length>0){var i=t[0],a=r[0],o=t[1],s=r[r.length-1];return[Math.min(i,a),Math.max(o,s)]}return t},B5e=be([yn,QI,$I,Ur],WI),C5e=be(xb,yn,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Mu(e.map(A=>A.value))).sort((A,d)=>A-d),i=n[0],a=n[n.length-1];if(i==null||a==null)return 1/0;var o=a-i;if(o===0)return 1/0;for(var s=0;s<n.length-1;s++){var l=n[s],u=n[s+1];if(!(l==null||u==null)){var c=u-l;r=Math.min(r,c)}}return r/o}}),nV=be(C5e,sr,Tz,Li,(e,t,r,n,i)=>i,(e,t,r,n,i)=>{if(!vn(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var o=Ws(r,e*a),s=e*a/2;return s-o-(s-o)/a*o}return 0}),E5e=(e,t,r)=>{var n=Zu(e,t);return n==null||typeof n.padding!="string"?0:nV(e,"xAxis",t,r,n.padding)},S5e=(e,t,r)=>{var n=ec(e,t);return n==null||typeof n.padding!="string"?0:nV(e,"yAxis",t,r,n.padding)},N5e=be(Zu,E5e,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),F5e=be(ec,S5e,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),I5e=be([Li,N5e,eb,Z2,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),_5e=be([Li,sr,F5e,eb,Z2,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:o}=i;return a?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),kv=(e,t,r,n)=>{var i;switch(t){case"xAxis":return I5e(e,r,n);case"yAxis":return _5e(e,r,n);case"zAxis":return(i=NI(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return jz(e);case"radiusAxis":return Mz(e,r);default:return}},iV=be([yn,kv],mb),Cb=be([yn,vA,B5e,iV],Bb);be([Iv,bb,Ur],s5e);function aV(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Eb=(e,t)=>t,Sb=(e,t,r)=>r,k5e=be(Y2,Eb,Sb,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(aV)),P5e=be(J2,Eb,Sb,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(aV)),oV=(e,t)=>({width:e.width,height:t.height}),O5e=(e,t)=>{var r=typeof t.width=="number"?t.width:yv;return{width:r,height:e.height}},sV=be(Li,Zu,oV),T5e=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},L5e=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},U5e=be(Xu,Li,k5e,Eb,Sb,(e,t,r,n,i)=>{var a={},o;return r.forEach(s=>{var l=oV(t,s);o==null&&(o=T5e(t,n,e));var u=n==="top"&&!i||n==="bottom"&&i;a[s.id]=o-Number(u)*l.height,o+=(u?-1:1)*l.height}),a}),R5e=be(qu,Li,P5e,Eb,Sb,(e,t,r,n,i)=>{var a={},o;return r.forEach(s=>{var l=O5e(t,s);o==null&&(o=L5e(t,n,e));var u=n==="left"&&!i||n==="right"&&i;a[s.id]=o-Number(u)*l.width,o+=(u?-1:1)*l.width}),a}),D5e=(e,t)=>{var r=Zu(e,t);if(r!=null)return U5e(e,r.orientation,r.mirror)},j5e=be([Li,Zu,D5e,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),M5e=(e,t)=>{var r=ec(e,t);if(r!=null)return R5e(e,r.orientation,r.mirror)},Q5e=be([Li,ec,M5e,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),lV=be(Li,ec,(e,t)=>{var r=typeof t.width=="number"?t.width:yv;return{width:r,height:e.height}}),AD=(e,t,r)=>{switch(t){case"xAxis":return sV(e,r).width;case"yAxis":return lV(e,r).height;default:return}},uV=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=r,s=pA(e,n),l=t.map(u=>u.value);if(o&&s&&a==="category"&&i&&V$(l))return l}},Pv=be([sr,xb,yn,Ur],uV),KI=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,o=pA(e,n);if(o&&(i==="number"||a!=="auto"))return t.map(s=>s.value)}},zI=be([sr,xb,np,Ur],KI),fD=be([sr,ZCe,vA,Cb,Pv,zI,kv,$I,Ur],(e,t,r,n,i,a,o,s,l)=>{if(t!=null){var u=pA(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:s,range:o,realScaleType:r,scale:n}}}),cV=(e,t,r,n,i,a,o,s,l)=>{if(!(t==null||n==null)){var u=pA(e,l),{type:c,ticks:A,tickCount:d}=t,f=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,p=c==="category"&&n.bandwidth?n.bandwidth()/f:0;p=l==="angleAxis"&&a!=null&&a.length>=2?Va(a[0]-a[1])*2*p:p;var g=A||i;if(g){var v=g.map((m,y)=>{var w=o?o.indexOf(m):m;return{index:y,coordinate:n(w)+p,value:m,offset:p}});return v.filter(m=>vn(m.coordinate))}return u&&s?s.map((m,y)=>({coordinate:n(m)+p,value:m,index:y,offset:p})).filter(m=>vn(m.coordinate)):n.ticks?n.ticks(d).map(m=>({coordinate:n(m)+p,value:m,offset:p})):n.domain().map((m,y)=>({coordinate:n(m)+p,value:o?o[m]:m,index:y,offset:p}))}},AV=be([sr,np,vA,Cb,$I,kv,Pv,zI,Ur],cV),fV=(e,t,r,n,i,a,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var s=pA(e,o),{tickCount:l}=t,u=0;return u=o==="angleAxis"&&(n==null?void 0:n.length)>=2?Va(n[0]-n[1])*2*u:u,s&&a?a.map((c,A)=>({coordinate:r(c)+u,value:c,index:A,offset:u})):r.ticks?r.ticks(l).map(c=>({coordinate:r(c)+u,value:c,offset:u})):r.domain().map((c,A)=>({coordinate:r(c)+u,value:i?i[c]:c,index:A,offset:u}))}},Lh=be([sr,np,Cb,kv,Pv,zI,Ur],fV),Uh=be(yn,Cb,(e,t)=>{if(!(e==null||t==null))return gx(gx({},e),{},{scale:t})}),H5e=be([yn,vA,QI,iV],Bb);be((e,t,r)=>NI(e,r),H5e,(e,t)=>{if(!(e==null||t==null))return gx(gx({},e),{},{scale:t})});var $5e=be([sr,Y2,J2],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),dV=e=>e.options.defaultTooltipEventType,hV=e=>e.options.validateTooltipEventTypes;function pV(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function VI(e,t){var r=dV(e),n=hV(e);return pV(t,r,n)}function W5e(e){return at(t=>VI(t,e))}var mV=(e,t)=>{var r,n=Number(t);if(!($s(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},K5e=e=>e.tooltip.settings,kc={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},z5e={itemInteraction:{click:kc,hover:kc},axisInteraction:{click:kc,hover:kc},keyboardInteraction:kc,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},gV=so({name:"tooltip",initialState:z5e,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:an()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Ms(e).tooltipItemPayloads.indexOf(r);i>-1&&(e.tooltipItemPayloads[i]=n)},prepare:an()},removeTooltipEntrySettings:{reducer(e,t){var r=Ms(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:an()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:V5e,replaceTooltipEntrySettings:G5e,removeTooltipEntrySettings:q5e,setTooltipSettingsState:X5e,setActiveMouseOverItemIndex:vV,mouseLeaveItem:Y5e,mouseLeaveChart:yV,setActiveClickItemIndex:J5e,setMouseOverAxisIndex:wV,setMouseClickAxisIndex:Z5e,setSyncInteraction:P4,setKeyboardInteraction:O4}=gV.actions,eEe=gV.reducer;function dD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ky(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dD(Object(r),!0).forEach(function(n){tEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tEe(e,t,r){return(t=rEe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rEe(e){var t=nEe(e,"string");return typeof t=="symbol"?t:t+""}function nEe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iEe(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function aEe(e){return e.index!=null}var xV=(e,t,r,n)=>{if(t==null)return kc;var i=iEe(e,t,r);if(i==null)return kc;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(aEe(i)){if(a)return Ky(Ky({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return Ky(Ky({},kc),{},{coordinate:i.coordinate})};function oEe(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function sEe(e,t){var r=oEe(e),n=t[0],i=t[1];if(r===void 0)return!1;var a=Math.min(n,i),o=Math.max(n,i);return r>=a&&r<=o}function lEe(e,t,r){if(r==null||t==null)return!0;var n=Qn(e,t);return n==null||!lA(r)?!0:sEe(n,r)}var GI=(e,t,r,n)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!vn(a))return i;var o=0,s=1/0;t.length>0&&(s=t.length-1);var l=Math.max(o,Math.min(a,s)),u=t[l];return u==null||lEe(u,r,n)?String(l):null},bV=(e,t,r,n,i,a,o,s)=>{if(!(a==null||s==null)){var l=o[0],u=l==null?void 0:s(l.positions,a);if(u!=null)return u;var c=i==null?void 0:i[Number(a)];if(c)switch(r){case"horizontal":return{x:c.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:c.coordinate}}}},BV=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(r==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&n!=null){var a=e.tooltipItemPayloads[0];return a!=null?[a]:[]}return e.tooltipItemPayloads.filter(o=>{var s;return((s=o.settings)===null||s===void 0?void 0:s.graphicalItemId)===i})},Ov=e=>e.options.tooltipPayloadSearcher,ap=e=>e.tooltip;function hD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hD(Object(r),!0).forEach(function(n){uEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uEe(e,t,r){return(t=cEe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cEe(e){var t=AEe(e,"string");return typeof t=="symbol"?t:t+""}function AEe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fEe(e,t){return e??t}var CV=(e,t,r,n,i,a,o)=>{if(!(t==null||a==null)){var{chartData:s,computedData:l,dataStartIndex:u,dataEndIndex:c}=r,A=[];return e.reduce((d,f)=>{var p,{dataDefinedOnItem:g,settings:v}=f,m=fEe(g,s),y=Array.isArray(m)?ZW(m,u,c):m,w=(p=v==null?void 0:v.dataKey)!==null&&p!==void 0?p:n,b=v==null?void 0:v.nameKey,B;if(n&&Array.isArray(y)&&!Array.isArray(y[0])&&o==="axis"?B=_ye(y,n,i):B=a(y,t,l,b),Array.isArray(B))B.forEach(P=>{var k=pD(pD({},v),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});d.push(FU({tooltipEntrySettings:k,dataKey:P.dataKey,payload:P.payload,value:Qn(P.payload,P.dataKey),name:P.name}))});else{var S;d.push(FU({tooltipEntrySettings:v,dataKey:w,payload:B,value:Qn(B,w),name:(S=Qn(B,b))!==null&&S!==void 0?S:v==null?void 0:v.name}))}return d},A)}},qI=be([xi,sr,Wz,bI,wi],rV),dEe=be([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),hEe=be([wi,rp],FI),op=be([dEe,xi,hEe],_I,{memoizeOptions:{resultEqualityCheck:wb}}),pEe=be([op],e=>e.filter(vb)),mEe=be([op],kI,{memoizeOptions:{resultEqualityCheck:wb}}),sp=be([mEe,Ju],PI),gEe=be([pEe,Ju,xi],Qz),XI=be([sp,xi,op],TI),EV=be([xi],LI),vEe=be([xi],e=>e.allowDataOverflow),SV=be([EV,vEe],yz),yEe=be([op],e=>e.filter(vb)),wEe=be([gEe,yEe,Sv,Lz],Gz),xEe=be([wEe,Ju,wi,SV],qz),bEe=be([op],zz),BEe=be([sp,xi,bEe,bb,wi],DI,{memoizeOptions:{resultEqualityCheck:yb}}),CEe=be([Xz,wi,rp],ip),EEe=be([CEe,wi],Zz),SEe=be([Yz,wi,rp],ip),NEe=be([SEe,wi],eV),FEe=be([Jz,wi,rp],ip),IEe=be([FEe,wi],tV),_Ee=be([EEe,IEe,NEe],vx),kEe=be([xi,EV,SV,xEe,BEe,_Ee,sr,wi],jI),Tv=be([xi,sr,sp,XI,Sv,wi,kEe],MI),PEe=be([Tv,xi,qI],HI),OEe=be([xi,Tv,PEe,wi],WI),NV=e=>{var t=wi(e),r=rp(e),n=!1;return kv(e,t,r,n)},FV=be([xi,NV],mb),IV=be([xi,qI,OEe,FV],Bb),TEe=be([sr,XI,xi,wi],uV),LEe=be([sr,XI,xi,wi],KI),UEe=(e,t,r,n,i,a,o,s)=>{if(t){var{type:l}=t,u=pA(e,s);if(n){var c=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,A=l==="category"&&n.bandwidth?n.bandwidth()/c:0;return A=s==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Va(i[0]-i[1])*2*A:A,u&&o?o.map((d,f)=>({coordinate:n(d)+A,value:d,index:f,offset:A})):n.domain().map((d,f)=>({coordinate:n(d)+A,value:a?a[d]:d,index:f,offset:A}))}}},tc=be([sr,xi,qI,IV,NV,TEe,LEe,wi],UEe),YI=be([dV,hV,K5e],(e,t,r)=>pV(r.shared,e,t)),_V=e=>e.tooltip.settings.trigger,JI=e=>e.tooltip.settings.defaultIndex,Lv=be([ap,YI,_V,JI],xV),If=be([Lv,sp,_v,Tv],GI),kV=be([tc,If],mV),PV=be([Lv],e=>{if(e)return e.dataKey});be([Lv],e=>{if(e)return e.graphicalItemId});var OV=be([ap,YI,_V,JI],BV),REe=be([qu,Xu,sr,Li,tc,JI,OV,Ov],bV),DEe=be([Lv,REe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),jEe=be([Lv],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),MEe=be([OV,If,Ju,_v,kV,Ov,YI],CV),QEe=be([MEe],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function mD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mD(Object(r),!0).forEach(function(n){HEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HEe(e,t,r){return(t=$Ee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Ee(e){var t=WEe(e,"string");return typeof t=="symbol"?t:t+""}function WEe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KEe=()=>at(xi),zEe=()=>{var e=KEe(),t=at(tc),r=at(IV);return _h(!e||!r?void 0:gD(gD({},e),{},{scale:r}),t)};function vD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vD(Object(r),!0).forEach(function(n){VEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VEe(e,t,r){return(t=GEe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GEe(e){var t=qEe(e,"string");return typeof t=="symbol"?t:t+""}function qEe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XEe=(e,t,r,n)=>{var i=t.find(a=>a&&a.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},YEe=(e,t,r,n)=>{var i=t.find(u=>u&&u.index===r);if(i){if(e==="centric"){var a=i.coordinate,{radius:o}=n;return vd(vd(vd({},n),_r(n.cx,n.cy,o,a)),{},{angle:a,radius:o})}var s=i.coordinate,{angle:l}=n;return vd(vd(vd({},n),_r(n.cx,n.cy,s,l)),{},{angle:l,radius:s})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function JEe(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var TV=(e,t,r,n,i)=>{var a,o=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var s=0;s<o;s++){var l,u,c,A,d,f=s>0?(l=r[s-1])===null||l===void 0?void 0:l.coordinate:(u=r[o-1])===null||u===void 0?void 0:u.coordinate,p=(c=r[s])===null||c===void 0?void 0:c.coordinate,g=s>=o-1?(A=r[0])===null||A===void 0?void 0:A.coordinate:(d=r[s+1])===null||d===void 0?void 0:d.coordinate,v=void 0;if(!(f==null||p==null||g==null))if(Va(p-f)!==Va(g-p)){var m=[];if(Va(g-p)===Va(i[1]-i[0])){v=g;var y=p+i[1]-i[0];m[0]=Math.min(y,(y+f)/2),m[1]=Math.max(y,(y+f)/2)}else{v=f;var w=g+i[1]-i[0];m[0]=Math.min(p,(w+p)/2),m[1]=Math.max(p,(w+p)/2)}var b=[Math.min(p,(v+p)/2),Math.max(p,(v+p)/2)];if(e>b[0]&&e<=b[1]||e>=m[0]&&e<=m[1]){var B;return(B=r[s])===null||B===void 0?void 0:B.index}}else{var S=Math.min(f,g),P=Math.max(f,g);if(e>(S+p)/2&&e<=(P+p)/2){var k;return(k=r[s])===null||k===void 0?void 0:k.index}}}else if(t)for(var I=0;I<o;I++){var O=t[I];if(O!=null){var F=t[I+1],N=t[I-1];if(I===0&&F!=null&&e<=(O.coordinate+F.coordinate)/2||I===o-1&&N!=null&&e>(O.coordinate+N.coordinate)/2||I>0&&I<o-1&&N!=null&&F!=null&&e>(O.coordinate+N.coordinate)/2&&e<=(O.coordinate+F.coordinate)/2)return O.index}}return-1},ZEe=()=>at(bI),ZI=(e,t)=>t,LV=(e,t,r)=>r,e_=(e,t,r,n)=>n,eSe=be(tc,e=>Q2(e,t=>t.coordinate)),t_=be([ap,ZI,LV,e_],xV),r_=be([t_,sp,_v,Tv],GI),tSe=(e,t,r)=>{if(t!=null){var n=ap(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},UV=be([ap,ZI,LV,e_],BV),yx=be([qu,Xu,sr,Li,tc,e_,UV,Ov],bV),rSe=be([t_,yx],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),RV=be([tc,r_],mV),nSe=be([UV,r_,Ju,_v,RV,Ov,ZI],CV),iSe=be([t_,r_],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),aSe=(e,t,r,n,i,a,o)=>{if(!(!e||!r||!n||!i)&&JEe(e,o)){var s=zwe(e,t),l=TV(s,a,i,r,n),u=XEe(t,i,l,e);return{activeIndex:String(l),activeCoordinate:u}}},oSe=(e,t,r,n,i,a,o)=>{if(!(!e||!n||!i||!a||!r)){var s=V2e(e,r);if(s){var l=Vwe(s,t),u=TV(l,o,a,n,i),c=YEe(t,a,u,s);return{activeIndex:String(u),activeCoordinate:c}}}},sSe=(e,t,r,n,i,a,o,s)=>{if(!(!e||!t||!n||!i||!a))return t==="horizontal"||t==="vertical"?aSe(e,t,n,i,a,o,s):oSe(e,t,r,n,i,a,o)},lSe=be(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),uSe=be(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(jn)),r=Array.from(new Set(t));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:GCe}});function yD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yD(Object(r),!0).forEach(function(n){cSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cSe(e,t,r){return(t=ASe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ASe(e){var t=fSe(e,"string");return typeof t=="symbol"?t:t+""}function fSe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dSe={},hSe={zIndexMap:Object.values(jn).reduce((e,t)=>wD(wD({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),dSe)},pSe=new Set(Object.values(jn));function mSe(e){return pSe.has(e)}var DV=so({name:"zIndex",initialState:hSe,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:an()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!mSe(r)&&delete e.zIndexMap[r])},prepare:an()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:i?void 0:n,panoramaElement:i?n:void 0}},prepare:an()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:an()}}}),{registerZIndexPortal:gSe,unregisterZIndexPortal:vSe,registerZIndexPortalElement:ySe,unregisterZIndexPortalElement:wSe}=DV.actions,xSe=DV.reducer;function Ra(e){var{zIndex:t,children:r}=e,n=xxe(),i=n&&t!==void 0&&t!==0,a=xa(),o=zr();E.useLayoutEffect(()=>i?(o(gSe({zIndex:t})),()=>{o(vSe({zIndex:t}))}):dv,[o,t,i]);var s=at(l=>lSe(l,t,a));return i?s?Vx.createPortal(r,s):null:r}function T4(){return T4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T4.apply(null,arguments)}function xD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xD(Object(r),!0).forEach(function(n){bSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bSe(e,t,r){return(t=BSe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BSe(e){var t=CSe(e,"string");return typeof t=="symbol"?t:t+""}function CSe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ESe(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return E.isValidElement(t)?E.cloneElement(t,n):E.createElement(r,n)}function SSe(e){var t,{coordinate:r,payload:n,index:i,offset:a,tooltipAxisBandSize:o,layout:s,cursor:l,tooltipEventType:u,chartName:c}=e,A=r,d=n,f=i;if(!l||!A||c!=="ScatterChart"&&u!=="axis")return null;var p,g,v;if(c==="ScatterChart")p=A,g=o2e,v=jn.cursorLine;else if(c==="BarChart")p=s2e(s,A,a,o),g=IK,v=jn.cursorRectangle;else if(s==="radial"&&X$(A)){var{cx:m,cy:y,radius:w,startAngle:b,endAngle:B}=kK(A);p={cx:m,cy:y,startAngle:b,endAngle:B,innerRadius:w,outerRadius:w},g=OK,v=jn.cursorLine}else p={points:Y2e(s,A,a)},g=CK,v=jn.cursorLine;var S=typeof l=="object"&&"className"in l?l.className:void 0,P=zy(zy(zy(zy({stroke:"#ccc",pointerEvents:"none"},a),p),Xh(l)),{},{payload:d,payloadIndex:f,className:ur("recharts-tooltip-cursor",S)});return E.createElement(Ra,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:v},E.createElement(ESe,{cursor:l,cursorComp:g,cursorProps:P}))}function NSe(e){var t=zEe(),r=cK(),n=wv(),i=ZEe();return t==null||r==null||n==null||i==null?null:E.createElement(SSe,T4({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var jV=E.createContext(null),FSe=()=>E.useContext(jV),MV={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,A,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var f=new i(c,A||l,d),p=r?r+u:u;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],f]:l._events[p].push(f):(l._events[p]=f,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,A;if(this._eventsCount===0)return u;for(A in c=this._events)t.call(c,A)&&u.push(r?A.slice(1):A);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=r?r+u:u,A=this._events[c];if(!A)return[];if(A.fn)return[A.fn];for(var d=0,f=A.length,p=new Array(f);d<f;d++)p[d]=A[d].fn;return p},s.prototype.listenerCount=function(u){var c=r?r+u:u,A=this._events[c];return A?A.fn?1:A.length:0},s.prototype.emit=function(u,c,A,d,f,p){var g=r?r+u:u;if(!this._events[g])return!1;var v=this._events[g],m=arguments.length,y,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),m){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,c),!0;case 3:return v.fn.call(v.context,c,A),!0;case 4:return v.fn.call(v.context,c,A,d),!0;case 5:return v.fn.call(v.context,c,A,d,f),!0;case 6:return v.fn.call(v.context,c,A,d,f,p),!0}for(w=1,y=new Array(m-1);w<m;w++)y[w-1]=arguments[w];v.fn.apply(v.context,y)}else{var b=v.length,B;for(w=0;w<b;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),m){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,c);break;case 3:v[w].fn.call(v[w].context,c,A);break;case 4:v[w].fn.call(v[w].context,c,A,d);break;default:if(!y)for(B=1,y=new Array(m-1);B<m;B++)y[B-1]=arguments[B];v[w].fn.apply(v[w].context,y)}}return!0},s.prototype.on=function(u,c,A){return a(this,u,c,A,!1)},s.prototype.once=function(u,c,A){return a(this,u,c,A,!0)},s.prototype.removeListener=function(u,c,A,d){var f=r?r+u:u;if(!this._events[f])return this;if(!c)return o(this,f),this;var p=this._events[f];if(p.fn)p.fn===c&&(!d||p.once)&&(!A||p.context===A)&&o(this,f);else{for(var g=0,v=[],m=p.length;g<m;g++)(p[g].fn!==c||d&&!p[g].once||A&&p[g].context!==A)&&v.push(p[g]);v.length?this._events[f]=v.length===1?v[0]:v:o(this,f)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=r?r+u:u,this._events[c]&&o(this,c)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(MV);var ISe=MV.exports;const _Se=zs(ISe);var Rg=new _Se,L4="recharts.syncEvent.tooltip",bD="recharts.syncEvent.brush";function QV(e,t){if(t){var r=Number.parseInt(t,10);if(!$s(r))return e==null?void 0:e[r]}}var kSe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},HV=so({name:"options",initialState:kSe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),PSe=HV.reducer,{createEventEmitter:OSe}=HV.actions;function TSe(e){return e.tooltip.syncInteraction}var LSe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},$V=so({name:"chartData",initialState:LSe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:BD,setDataStartEndIndexes:USe,setComputedData:BOe}=$V.actions,RSe=$V.reducer,DSe=["x","y"];function CD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CD(Object(r),!0).forEach(function(n){jSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jSe(e,t,r){return(t=MSe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MSe(e){var t=QSe(e,"string");return typeof t=="symbol"?t:t+""}function QSe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HSe(e,t){if(e==null)return{};var r,n,i=$Se(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function $Se(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function WSe(){var e=at(BI),t=at(CI),r=zr(),n=at(Uz),i=at(tc),a=wv(),o=tb(),s=at(l=>l.rootProps.className);E.useEffect(()=>{if(e==null)return dv;var l=(u,c,A)=>{if(t!==A&&e===u){if(n==="index"){var d;if(o&&c!==null&&c!==void 0&&(d=c.payload)!==null&&d!==void 0&&d.coordinate&&c.payload.sourceViewBox){var f=c.payload.coordinate,{x:p,y:g}=f,v=HSe(f,DSe),{x:m,y,width:w,height:b}=c.payload.sourceViewBox,B=yd(yd({},v),{},{x:o.x+(w?(p-m)/w:0)*o.width,y:o.y+(b?(g-y)/b:0)*o.height});r(yd(yd({},c),{},{payload:yd(yd({},c.payload),{},{coordinate:B})}))}else r(c);return}if(i!=null){var S;if(typeof n=="function"){var P={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},k=n(i,P);S=i[k]}else n==="value"&&(S=i.find(Q=>String(Q.value)===c.payload.label));var{coordinate:I}=c.payload;if(S==null||c.payload.active===!1||I==null||o==null){r(P4({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:O,y:F}=I,N=Math.min(O,o.x+o.width),U=Math.min(F,o.y+o.height),M={x:a==="horizontal"?S.coordinate:N,y:a==="horizontal"?U:S.coordinate},V=P4({active:c.payload.active,coordinate:M,dataKey:c.payload.dataKey,index:String(S.index),label:c.payload.label,sourceViewBox:c.payload.sourceViewBox,graphicalItemId:c.payload.graphicalItemId});r(V)}}};return Rg.on(L4,l),()=>{Rg.off(L4,l)}},[s,r,t,e,n,i,a,o])}function KSe(){var e=at(BI),t=at(CI),r=zr();E.useEffect(()=>{if(e==null)return dv;var n=(i,a,o)=>{t!==o&&e===i&&r(USe(a))};return Rg.on(bD,n),()=>{Rg.off(bD,n)}},[r,t,e])}function zSe(){var e=zr();E.useEffect(()=>{e(OSe())},[e]),WSe(),KSe()}function VSe(e,t,r,n,i,a){var o=at(f=>tSe(f,e,t)),s=at(CI),l=at(BI),u=at(Uz),c=at(TSe),A=c==null?void 0:c.active,d=tb();E.useEffect(()=>{if(!A&&l!=null&&s!=null){var f=P4({active:a,coordinate:r,dataKey:o,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:d,graphicalItemId:void 0});Rg.emit(L4,l,f,s)}},[A,r,o,i,n,s,l,u,a,d])}function ED(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function SD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ED(Object(r),!0).forEach(function(n){GSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ED(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GSe(e,t,r){return(t=qSe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qSe(e){var t=XSe(e,"string");return typeof t=="symbol"?t:t+""}function XSe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YSe(e){return e.dataKey}function JSe(e,t){return E.isValidElement(e)?E.cloneElement(e,t):typeof e=="function"?E.createElement(e,t):E.createElement(jxe,t)}var ND=[],ZSe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function k5(e){var t,r,n=Ti(e,ZSe),{active:i,allowEscapeViewBox:a,animationDuration:o,animationEasing:s,content:l,filterNull:u,isAnimationActive:c,offset:A,payloadUniqBy:d,position:f,reverseDirection:p,useTranslate3d:g,wrapperStyle:v,cursor:m,shared:y,trigger:w,defaultIndex:b,portal:B,axisId:S}=n,P=zr(),k=typeof b=="number"?String(b):b;E.useEffect(()=>{P(X5e({shared:y,trigger:w,axisId:S,active:i,defaultIndex:k}))},[P,y,w,S,i,k]);var I=tb(),O=BK(),F=W5e(y),{activeIndex:N,isActive:U}=(t=at(Z=>iSe(Z,F,w,k)))!==null&&t!==void 0?t:{},M=at(Z=>nSe(Z,F,w,k)),V=at(Z=>RV(Z,F,w,k)),Q=at(Z=>rSe(Z,F,w,k)),W=M,D=FSe(),K=(r=i??U)!==null&&r!==void 0?r:!1,[ie,ee]=_1e([W,K]),L=F==="axis"?V:void 0;VSe(F,w,Q,L,N,K);var j=B??D;if(j==null||I==null||F==null)return null;var z=W??ND;K||(z=ND),u&&z.length&&(z=Gye(z.filter(Z=>Z.value!=null&&(Z.hide!==!0||n.includeHidden)),d,YSe));var X=z.length>0,ae=E.createElement(zxe,{allowEscapeViewBox:a,animationDuration:o,animationEasing:s,isAnimationActive:c,active:K,coordinate:Q,hasPayload:X,offset:A,position:f,reverseDirection:p,useTranslate3d:g,viewBox:I,wrapperStyle:v,lastBoundingBox:ie,innerRef:ee,hasPortalFromProps:!!B},JSe(l,SD(SD({},n),{},{payload:z,label:L,active:K,activeIndex:N,coordinate:Q,accessibilityLayer:O})));return E.createElement(E.Fragment,null,Vx.createPortal(ae,j),K&&E.createElement(NSe,{cursor:m,tooltipEventType:F,coordinate:Q,payload:z,index:N}))}var wx=e=>null;wx.displayName="Cell";function e4e(e,t,r){return(t=t4e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t4e(e){var t=r4e(e,"string");return typeof t=="symbol"?t:t+""}function r4e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class n4e{constructor(t){e4e(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function FD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function i4e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FD(Object(r),!0).forEach(function(n){a4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a4e(e,t,r){return(t=o4e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o4e(e){var t=s4e(e,"string");return typeof t=="symbol"?t:t+""}function s4e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var l4e={cacheSize:2e3,enableCache:!0},WV=i4e({},l4e),ID=new n4e(WV.cacheSize),u4e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},_D="recharts_measurement_span";function c4e(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(s)}var kD=(e,t)=>{try{var r=document.getElementById(_D);r||(r=document.createElement("span"),r.setAttribute("id",_D),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,u4e,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Wm=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ob.isSsr)return{width:0,height:0};if(!WV.enableCache)return kD(t,r);var n=c4e(t,r),i=ID.get(n);if(i)return i;var a=kD(t,r);return ID.set(n,a),a},KV;function A4e(e,t,r){return(t=f4e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f4e(e){var t=d4e(e,"string");return typeof t=="symbol"?t:t+""}function d4e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,OD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,h4e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,p4e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,m4e={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},g4e=["cm","mm","pt","pc","in","Q","px"];function v4e(e){return g4e.includes(e)}var Wd="NaN";function y4e(e,t){return e*m4e[t]}class Ki{static parse(t){var r,[,n,i]=(r=p4e.exec(t))!==null&&r!==void 0?r:[];return n==null?Ki.NaN:new Ki(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,$s(t)&&(this.unit=""),r!==""&&!h4e.test(r)&&(this.num=NaN,this.unit=""),v4e(r)&&(this.num=y4e(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Ki(NaN,""):new Ki(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Ki(NaN,""):new Ki(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ki(NaN,""):new Ki(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ki(NaN,""):new Ki(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return $s(this.num)}}KV=Ki;A4e(Ki,"NaN",new KV(NaN,""));function zV(e){if(e==null||e.includes(Wd))return Wd;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=PD.exec(t))!==null&&r!==void 0?r:[],o=Ki.parse(n??""),s=Ki.parse(a??""),l=i==="*"?o.multiply(s):o.divide(s);if(l.isNaN())return Wd;t=t.replace(PD,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,c,A,d]=(u=OD.exec(t))!==null&&u!==void 0?u:[],f=Ki.parse(c??""),p=Ki.parse(d??""),g=A==="+"?f.add(p):f.subtract(p);if(g.isNaN())return Wd;t=t.replace(OD,g.toString())}return t}var TD=/\(([^()]*)\)/;function w4e(e){for(var t=e,r;(r=TD.exec(t))!=null;){var[,n]=r;t=t.replace(TD,zV(n))}return t}function x4e(e){var t=e.replace(/\s+/g,"");return t=w4e(t),t=zV(t),t}function b4e(e){try{return x4e(e)}catch{return Wd}}function P5(e){var t=b4e(e.slice(5,-1));return t===Wd?"":t}var B4e=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],C4e=["dx","dy","angle","className","breakAll"];function U4(){return U4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},U4.apply(null,arguments)}function LD(e,t){if(e==null)return{};var r,n,i=E4e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function E4e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var VV=/[ \f\n\r\t\v\u2028\u2029]+/,GV=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];$n(t)||(r?i=t.toString().split(""):i=t.toString().split(VV));var a=i.map(s=>({word:s,width:Wm(s,n).width})),o=r?0:Wm("",n).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}};function S4e(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var qV=(e,t,r,n)=>e.reduce((i,a)=>{var{word:o,width:s}=a,l=i[i.length-1];if(l&&s!=null&&(t==null||n||l.width+s+r<Number(t)))l.words.push(o),l.width+=s+r;else{var u={words:[o],width:s};i.push(u)}return i},[]),XV=e=>e.reduce((t,r)=>t.width>r.width?t:r),N4e="",UD=(e,t,r,n,i,a,o,s)=>{var l=e.slice(0,t),u=GV({breakAll:r,style:n,children:l+N4e});if(!u)return[!1,[]];var c=qV(u.wordsWithComputedWidth,a,o,s),A=c.length>i||XV(c).width>Number(a);return[A,c]},F4e=(e,t,r,n,i)=>{var{maxLines:a,children:o,style:s,breakAll:l}=e,u=mt(a),c=String(o),A=qV(t,n,r,i);if(!u||i)return A;var d=A.length>a||XV(A).width>Number(n);if(!d)return A;for(var f=0,p=c.length-1,g=0,v;f<=p&&g<=c.length-1;){var m=Math.floor((f+p)/2),y=m-1,[w,b]=UD(c,y,l,s,a,n,r,i),[B]=UD(c,m,l,s,a,n,r,i);if(!w&&!B&&(f=m+1),w&&B&&(p=m-1),!w&&B){v=b;break}g++}return v||A},RD=e=>{var t=$n(e)?[]:e.toString().split(VV);return[{words:t,width:void 0}]},I4e=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:o}=e;if((t||r)&&!ob.isSsr){var s,l,u=GV({breakAll:a,children:n,style:i});if(u){var{wordsWithComputedWidth:c,spaceWidth:A}=u;s=c,l=A}else return RD(n);return F4e({breakAll:a,children:n,maxLines:o,style:i},s,l,t,!!r)}return RD(n)},YV="#808080",_4e={angle:0,breakAll:!1,capHeight:"0.71em",fill:YV,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Uv=E.forwardRef((e,t)=>{var r=Ti(e,_4e),{x:n,y:i,lineHeight:a,capHeight:o,fill:s,scaleToFit:l,textAnchor:u,verticalAnchor:c}=r,A=LD(r,B4e),d=E.useMemo(()=>I4e({breakAll:A.breakAll,children:A.children,maxLines:A.maxLines,scaleToFit:l,style:A.style,width:A.width}),[A.breakAll,A.children,A.maxLines,l,A.style,A.width]),{dx:f,dy:p,angle:g,className:v,breakAll:m}=A,y=LD(A,C4e);if(!Ol(n)||!Ol(i)||d.length===0)return null;var w=Number(n)+(mt(f)?f:0),b=Number(i)+(mt(p)?p:0);if(!vn(w)||!vn(b))return null;var B;switch(c){case"start":B=P5("calc(".concat(o,")"));break;case"middle":B=P5("calc(".concat((d.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:B=P5("calc(".concat(d.length-1," * -").concat(a,")"));break}var S=[];if(l){var P=d[0].width,{width:k}=A;S.push("scale(".concat(mt(k)&&mt(P)?k/P:1,")"))}return g&&S.push("rotate(".concat(g,", ").concat(w,", ").concat(b,")")),S.length&&(y.transform=S.join(" ")),E.createElement("text",U4({},fi(y),{ref:t,x:w,y:b,className:ur("recharts-text",v),textAnchor:u,fill:s.includes("url")?YV:s}),d.map((I,O)=>{var F=I.words.join(m?"":" ");return E.createElement("tspan",{x:w,dy:O===0?B:a,key:"".concat(F,"-").concat(O)},F)}))});Uv.displayName="Text";var k4e=["labelRef"],P4e=["content"];function DD(e,t){if(e==null)return{};var r,n,i=O4e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function O4e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function jD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jD(Object(r),!0).forEach(function(n){T4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T4e(e,t,r){return(t=L4e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L4e(e){var t=U4e(e,"string");return typeof t=="symbol"?t:t+""}function U4e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mu(){return mu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mu.apply(null,arguments)}var JV=E.createContext(null),R4e=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:o,children:s}=e,l=E.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:o}),[t,r,n,i,a,o]);return E.createElement(JV.Provider,{value:l},s)},ZV=()=>{var e=E.useContext(JV),t=tb();return e||uK(t)},eG=E.createContext(null),D4e=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:o,clockWise:s,children:l}=e,u=E.useMemo(()=>({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:o,clockWise:s}),[t,r,n,i,a,o,s]);return E.createElement(eG.Provider,{value:u},l)},tG=()=>{var e=E.useContext(eG),t=at(tp);return e||t},j4e=e=>{var{value:t,formatter:r}=e,n=$n(e.children)?t:e.children;return typeof r=="function"?r(n):n},n_=e=>e!=null&&typeof e=="function",M4e=(e,t)=>{var r=Va(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Q4e=(e,t,r,n,i)=>{var{offset:a,className:o}=e,{cx:s,cy:l,innerRadius:u,outerRadius:c,startAngle:A,endAngle:d,clockWise:f}=i,p=(u+c)/2,g=M4e(A,d),v=g>=0?1:-1,m,y;switch(t){case"insideStart":m=A+v*a,y=f;break;case"insideEnd":m=d-v*a,y=!f;break;case"end":m=d+v*a,y=f;break;default:throw new Error("Unsupported position ".concat(t))}y=g<=0?y:!y;var w=_r(s,l,p,m),b=_r(s,l,p,m+(y?1:-1)*359),B="M".concat(w.x,",").concat(w.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(y?0:1,`,
    `).concat(b.x,",").concat(b.y),S=$n(e.id)?Cg("recharts-radial-line-"):e.id;return E.createElement("text",mu({},n,{dominantBaseline:"central",className:ur("recharts-radial-bar-label",o)}),E.createElement("defs",null,E.createElement("path",{id:S,d:B})),E.createElement("textPath",{xlinkHref:"#".concat(S)},r))},H4e=(e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:s,endAngle:l}=e,u=(s+l)/2;if(r==="outside"){var{x:c,y:A}=_r(n,i,o+t,u);return{x:c,y:A,textAnchor:c>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var d=(a+o)/2,{x:f,y:p}=_r(n,i,d,u);return{x:f,y:p,textAnchor:"middle",verticalAnchor:"middle"}},R4=e=>"cx"in e&&mt(e.cx),$4e=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,a;r!=null&&!R4(r)&&(a=r);var{x:o,y:s,upperWidth:l,lowerWidth:u,height:c}=t,A=o,d=o+(l-u)/2,f=(A+d)/2,p=(l+u)/2,g=A+l/2,v=c>=0?1:-1,m=v*n,y=v>0?"end":"start",w=v>0?"start":"end",b=l>=0?1:-1,B=b*n,S=b>0?"end":"start",P=b>0?"start":"end";if(i==="top"){var k={x:A+l/2,y:s-m,textAnchor:"middle",verticalAnchor:y};return Pn(Pn({},k),a?{height:Math.max(s-a.y,0),width:l}:{})}if(i==="bottom"){var I={x:d+u/2,y:s+c+m,textAnchor:"middle",verticalAnchor:w};return Pn(Pn({},I),a?{height:Math.max(a.y+a.height-(s+c),0),width:u}:{})}if(i==="left"){var O={x:f-B,y:s+c/2,textAnchor:S,verticalAnchor:"middle"};return Pn(Pn({},O),a?{width:Math.max(O.x-a.x,0),height:c}:{})}if(i==="right"){var F={x:f+p+B,y:s+c/2,textAnchor:P,verticalAnchor:"middle"};return Pn(Pn({},F),a?{width:Math.max(a.x+a.width-F.x,0),height:c}:{})}var N=a?{width:p,height:c}:{};return i==="insideLeft"?Pn({x:f+B,y:s+c/2,textAnchor:P,verticalAnchor:"middle"},N):i==="insideRight"?Pn({x:f+p-B,y:s+c/2,textAnchor:S,verticalAnchor:"middle"},N):i==="insideTop"?Pn({x:A+l/2,y:s+m,textAnchor:"middle",verticalAnchor:w},N):i==="insideBottom"?Pn({x:d+u/2,y:s+c-m,textAnchor:"middle",verticalAnchor:y},N):i==="insideTopLeft"?Pn({x:A+B,y:s+m,textAnchor:P,verticalAnchor:w},N):i==="insideTopRight"?Pn({x:A+l-B,y:s+m,textAnchor:S,verticalAnchor:w},N):i==="insideBottomLeft"?Pn({x:d+B,y:s+c-m,textAnchor:P,verticalAnchor:y},N):i==="insideBottomRight"?Pn({x:d+u-B,y:s+c-m,textAnchor:S,verticalAnchor:y},N):i&&typeof i=="object"&&(mt(i.x)||Lu(i.x))&&(mt(i.y)||Lu(i.y))?Pn({x:o+Ws(i.x,p),y:s+Ws(i.y,c),textAnchor:"end",verticalAnchor:"end"},N):Pn({x:g,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},N)},W4e={angle:0,offset:5,zIndex:jn.label,position:"middle",textBreakAll:!1};function Fc(e){var t=Ti(e,W4e),{viewBox:r,position:n,value:i,children:a,content:o,className:s="",textBreakAll:l,labelRef:u}=t,c=tG(),A=ZV(),d=n==="center"?A:c??A,f,p,g;if(r==null?f=d:R4(r)?f=r:f=uK(r),!f||$n(i)&&$n(a)&&!E.isValidElement(o)&&typeof o!="function")return null;var v=Pn(Pn({},t),{},{viewBox:f});if(E.isValidElement(o)){var{labelRef:m}=v,y=DD(v,k4e);return E.cloneElement(o,y)}if(typeof o=="function"){var{content:w}=v,b=DD(v,P4e);if(p=E.createElement(o,b),E.isValidElement(p))return p}else p=j4e(t);var B=fi(t);if(R4(f)){if(n==="insideStart"||n==="insideEnd"||n==="end")return Q4e(t,n,p,B,f);g=H4e(f,t.offset,t.position)}else g=$4e(t,f);return E.createElement(Ra,{zIndex:t.zIndex},E.createElement(Uv,mu({ref:u,className:ur("recharts-label",s)},B,g,{textAnchor:S4e(B.textAnchor)?B.textAnchor:g.textAnchor,breakAll:l}),p))}Fc.displayName="Label";var rG=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?E.createElement(Fc,mu({key:"label-implicit"},n)):Ol(e)?E.createElement(Fc,mu({key:"label-implicit",value:e},n)):E.isValidElement(e)?e.type===Fc?E.cloneElement(e,Pn({key:"label-implicit"},n)):E.createElement(Fc,mu({key:"label-implicit",content:e},n)):n_(e)?E.createElement(Fc,mu({key:"label-implicit",content:e},n)):e&&typeof e=="object"?E.createElement(Fc,mu({},e,{key:"label-implicit"},n)):null};function K4e(e){var{label:t,labelRef:r}=e,n=ZV();return rG(t,n,r)||null}function z4e(e){var{label:t}=e,r=tG();return rG(t,r)||null}var nG={},iG={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(iG);var aG={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(aG);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iG,r=aG,n=D2;function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i})(nG);var V4e=nG.last;const oG=zs(V4e);var G4e=["valueAccessor"],q4e=["dataKey","clockWise","id","textBreakAll","zIndex"];function xx(){return xx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xx.apply(null,arguments)}function MD(e,t){if(e==null)return{};var r,n,i=X4e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function X4e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Y4e=e=>Array.isArray(e.value)?oG(e.value):e.value,sG=E.createContext(void 0),lG=sG.Provider,uG=E.createContext(void 0);uG.Provider;function J4e(){return E.useContext(sG)}function Z4e(){return E.useContext(uG)}function F1(e){var{valueAccessor:t=Y4e}=e,r=MD(e,G4e),{dataKey:n,clockWise:i,id:a,textBreakAll:o,zIndex:s}=r,l=MD(r,q4e),u=J4e(),c=Z4e(),A=u||c;return!A||!A.length?null:E.createElement(Ra,{zIndex:s??jn.label},E.createElement(gi,{className:"recharts-label-list"},A.map((d,f)=>{var p,g=$n(n)?t(d,f):Qn(d&&d.payload,n),v=$n(a)?{}:{id:"".concat(a,"-").concat(f)};return E.createElement(Fc,xx({key:"label-".concat(f)},fi(d),l,v,{fill:(p=r.fill)!==null&&p!==void 0?p:d.fill,parentViewBox:d.parentViewBox,value:g,textBreakAll:o,viewBox:d.viewBox,index:f,zIndex:0}))})))}F1.displayName="LabelList";function cG(e){var{label:t}=e;return t?t===!0?E.createElement(F1,{key:"labelList-implicit"}):E.isValidElement(t)||n_(t)?E.createElement(F1,{key:"labelList-implicit",content:t}):typeof t=="object"?E.createElement(F1,xx({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var e3e=["points","className","baseLinePoints","connectNulls"],QD;function Kd(){return Kd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kd.apply(null,arguments)}function t3e(e,t){if(e==null)return{};var r,n,i=r3e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function r3e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function n3e(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var HD=e=>e&&e.x===+e.x&&e.y===+e.y,i3e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(n=>{HD(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),HD(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Km=(e,t)=>{var r=i3e(e);t&&(r=[r.reduce((i,a)=>[...i,...a],[])]);var n=r.map(i=>i.reduce((a,o,s)=>An(QD||(QD=n3e(["","","",",",""])),a,s===0?"M":"L",o.x,o.y),"")).join("");return r.length===1?"".concat(n,"Z"):n},a3e=(e,t,r)=>{var n=Km(e,r);return"".concat(n.slice(-1)==="Z"?n.slice(0,-1):n,"L").concat(Km(Array.from(t).reverse(),r).slice(1))},AG=e=>{var{points:t,className:r,baseLinePoints:n,connectNulls:i}=e,a=t3e(e,e3e);if(!t||!t.length)return null;var o=ur("recharts-polygon",r);if(n&&n.length){var s=a.stroke&&a.stroke!=="none",l=a3e(t,n,i);return E.createElement("g",{className:o},E.createElement("path",Kd({},fi(a),{fill:l.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:l})),s?E.createElement("path",Kd({},fi(a),{fill:"none",d:Km(t,i)})):null,s?E.createElement("path",Kd({},fi(a),{fill:"none",d:Km(n,i)})):null)}var u=Km(t,i);return E.createElement("path",Kd({},fi(a),{fill:u.slice(-1)==="Z"?a.fill:"none",className:o,d:u}))};function D4(){return D4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D4.apply(null,arguments)}var i_=e=>{var{cx:t,cy:r,r:n,className:i}=e,a=ur("recharts-dot",i);return mt(t)&&mt(r)&&mt(n)?E.createElement("circle",D4({},Hn(e),NF(e),{className:a,cx:t,cy:r,r:n})):null},fG=e=>e.graphicalItems.polarItems,o3e=be([Ur,Fv],FI),Nb=be([fG,yn,o3e],_I),s3e=be([Nb],kI),Fb=be([s3e,pb],PI),dG=be([Fb,yn,Nb],TI);be([Fb,yn,Nb],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var a,o=Qn(n,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Qn(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var $D=()=>{},l3e=be([Fb,yn,Nb,bb,Ur],DI),u3e=be([yn,UI,RI,$D,l3e,$D,sr,Ur],jI),hG=be([yn,sr,Fb,dG,Sv,Ur,u3e],MI),pG=be([hG,yn,vA],HI),c3e=be([yn,hG,pG,Ur],WI),a_=(e,t,r)=>{switch(t){case"angleAxis":return ep(e,r);case"radiusAxis":return Nv(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},o_=(e,t,r)=>{switch(t){case"angleAxis":return zCe(e,r);case"radiusAxis":return VCe(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},lp=be([a_,vA,c3e,o_],Bb),mG=be([sr,dG,np,Ur],KI),up=be([sr,a_,vA,lp,pG,o_,Pv,mG,Ur],cV),A3e=be([up],e=>{if(e){var t=new Map;return e.forEach(r=>{var n=(r.coordinate+360)%360;t.has(n)||t.set(n,r)}),Array.from(t.values())}});be([sr,a_,lp,o_,Pv,mG,Ur],fV);var f3e=(e,t)=>up(e,"angleAxis",t,!1),d3e=be([f3e],e=>{if(e)return e.map(t=>t.coordinate)}),h3e=(e,t)=>up(e,"radiusAxis",t,!1),p3e=be([h3e],e=>{if(e)return e.map(t=>t.coordinate)}),m3e=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius","polarAngles","polarRadius"];function g3e(e,t){if(e==null)return{};var r,n,i=v3e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function v3e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Us(){return Us=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Us.apply(null,arguments)}function WD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Dg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WD(Object(r),!0).forEach(function(n){y3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y3e(e,t,r){return(t=w3e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w3e(e){var t=x3e(e,"string");return typeof t=="symbol"?t:t+""}function x3e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var b3e=(e,t,r,n)=>{var i="";return n.forEach((a,o)=>{var s=_r(t,r,e,a);o?i+="L ".concat(s.x,",").concat(s.y):i+="M ".concat(s.x,",").concat(s.y)}),i+="Z",i},B3e=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,polarAngles:a,radialLines:o}=e;if(!a||!a.length||!o)return null;var s=Dg({stroke:"#ccc"},Hn(e));return E.createElement("g",{className:"recharts-polar-grid-angle"},a.map(l=>{var u=_r(t,r,n,l),c=_r(t,r,i,l);return E.createElement("line",Us({key:"line-".concat(l)},s,{x1:u.x,y1:u.y,x2:c.x,y2:c.y}))}))},KD=e=>{var{cx:t,cy:r,radius:n}=e,i=Dg({stroke:"#ccc",fill:"none"},Hn(e));return E.createElement("circle",Us({},i,{className:ur("recharts-polar-grid-concentric-circle",e.className),cx:t,cy:r,r:n}))},zD=e=>{var{radius:t}=e,r=Dg({stroke:"#ccc",fill:"none"},Hn(e));return E.createElement("path",Us({},r,{className:ur("recharts-polar-grid-concentric-polygon",e.className),d:b3e(t,e.cx,e.cy,e.polarAngles)}))},C3e=e=>{var{polarRadius:t,gridType:r}=e;if(!t||!t.length)return null;var n=Math.max(...t),i=e.fill&&e.fill!=="none";return E.createElement("g",{className:"recharts-polar-grid-concentric"},i&&r==="circle"&&E.createElement(KD,Us({},e,{radius:n})),i&&r!=="circle"&&E.createElement(zD,Us({},e,{radius:n})),t.map((a,o)=>{var s=o;return r==="circle"?E.createElement(KD,Us({key:s},e,{fill:"none",radius:a})):E.createElement(zD,Us({key:s},e,{fill:"none",radius:a}))}))},gG=e=>{var t,r,n,i,a,o,s,l,u,{gridType:c="polygon",radialLines:A=!0,angleAxisId:d=0,radiusAxisId:f=0,cx:p,cy:g,innerRadius:v,outerRadius:m,polarAngles:y,polarRadius:w}=e,b=g3e(e,m3e),B=at(tp),S=at(N=>d3e(N,d)),P=at(N=>p3e(N,f)),k=Array.isArray(y)?y:S,I=Array.isArray(w)?w:P;if(k==null||I==null)return null;var O=Dg(Dg({cx:(t=(r=B==null?void 0:B.cx)!==null&&r!==void 0?r:p)!==null&&t!==void 0?t:0,cy:(n=(i=B==null?void 0:B.cy)!==null&&i!==void 0?i:g)!==null&&n!==void 0?n:0,innerRadius:(a=(o=B==null?void 0:B.innerRadius)!==null&&o!==void 0?o:v)!==null&&a!==void 0?a:0,outerRadius:(s=(l=B==null?void 0:B.outerRadius)!==null&&l!==void 0?l:m)!==null&&s!==void 0?s:0,polarAngles:k,polarRadius:I},b),{},{zIndex:(u=b.zIndex)!==null&&u!==void 0?u:jn.grid}),{outerRadius:F}=O;return F<=0?null:E.createElement(Ra,{zIndex:O.zIndex},E.createElement("g",{className:"recharts-polar-grid"},E.createElement(C3e,Us({gridType:c,radialLines:A},O,{polarAngles:k,polarRadius:I})),E.createElement(B3e,Us({gridType:c,radialLines:A},O,{polarAngles:k,polarRadius:I}))))};gG.displayName="PolarGrid";var vG={},yG={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){if(r.length===0)return;let i=r[0],a=n(i);for(let o=1;o<r.length;o++){const s=r[o],l=n(s);l>a&&(a=l,i=s)}return i}e.maxBy=t})(yG);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yG,r=pv,n=j2;function i(a,o){if(a!=null)return t.maxBy(Array.from(a),n.iteratee(o??r.identity))}e.maxBy=i})(vG);var E3e=vG.maxBy;const S3e=zs(E3e);var wG={},xG={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){if(r.length===0)return;let i=r[0],a=n(i);for(let o=1;o<r.length;o++){const s=r[o],l=n(s);l<a&&(a=l,i=s)}return i}e.minBy=t})(xG);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xG,r=pv,n=j2;function i(a,o){if(a!=null)return t.minBy(Array.from(a),n.iteratee(o??r.identity))}e.minBy=i})(wG);var N3e=wG.minBy;const F3e=zs(N3e);var I3e={radiusAxis:{},angleAxis:{}},bG=so({name:"polarAxis",initialState:I3e,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:_3e,removeRadiusAxis:k3e,addAngleAxis:P3e,removeAngleAxis:O3e}=bG.actions,T3e=bG.reducer,L3e=["cx","cy","angle","axisLine"],U3e=["angle","tickFormatter","stroke","tick"];function jg(){return jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jg.apply(null,arguments)}function VD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VD(Object(r),!0).forEach(function(n){R3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R3e(e,t,r){return(t=D3e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D3e(e){var t=j3e(e,"string");return typeof t=="symbol"?t:t+""}function j3e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BG(e,t){if(e==null)return{};var r,n,i=M3e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function M3e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Q3e="radiusAxis";function H3e(e){var t=zr();return E.useEffect(()=>(t(_3e(e)),()=>{t(k3e(e))})),null}var $3e=(e,t,r,n)=>{var{coordinate:i}=e;return _r(r,n,i,t)},W3e=e=>{var t;switch(e){case"left":t="end";break;case"right":t="start";break;default:t="middle";break}return t},K3e=(e,t,r,n)=>{var i=S3e(n,o=>o.coordinate||0),a=F3e(n,o=>o.coordinate||0);return{cx:t,cy:r,startAngle:e,endAngle:e,innerRadius:(a==null?void 0:a.coordinate)||0,outerRadius:(i==null?void 0:i.coordinate)||0,clockWise:!1}},z3e=(e,t)=>{var{cx:r,cy:n,angle:i,axisLine:a}=e,o=BG(e,L3e),s=t.reduce((A,d)=>[Math.min(A[0],d.coordinate),Math.max(A[1],d.coordinate)],[1/0,-1/0]),l=_r(r,n,s[0],i),u=_r(r,n,s[1],i),c=xu(xu(xu({},Hn(o)),{},{fill:"none"},Hn(a)),{},{x1:l.x,y1:l.y,x2:u.x,y2:u.y});return E.createElement("line",jg({className:"recharts-polar-radius-axis-line"},c))},V3e=(e,t,r)=>{var n;return E.isValidElement(e)?n=E.cloneElement(e,t):typeof e=="function"?n=e(t):n=E.createElement(Uv,jg({},t,{className:"recharts-polar-radius-axis-tick-value"}),r),n},G3e=(e,t)=>{var{angle:r,tickFormatter:n,stroke:i,tick:a}=e,o=BG(e,U3e),s=W3e(e.orientation),l=Hn(o),u=Xh(a),c=t.map((A,d)=>{var f=$3e(A,e.angle,e.cx,e.cy),p=xu(xu(xu(xu({textAnchor:s,transform:"rotate(".concat(90-r,", ").concat(f.x,", ").concat(f.y,")")},l),{},{stroke:"none",fill:i},u),{},{index:d},f),{},{payload:A});return E.createElement(gi,jg({className:ur("recharts-polar-radius-axis-tick",_K(a)),key:"tick-".concat(A.coordinate)},hv(e,A,d)),V3e(a,p,n?n(A.value,d):A.value))});return E.createElement(gi,{className:"recharts-polar-radius-axis-ticks"},c)},q3e=e=>{var{radiusAxisId:t}=e,r=at(tp),n=at(l=>lp(l,"radiusAxis",t)),i=at(l=>up(l,"radiusAxis",t,!1));if(r==null||!i||!i.length||n==null)return null;var a=xu(xu({},e),{},{scale:n},r),{tick:o,axisLine:s}=a;return E.createElement(Ra,{zIndex:a.zIndex},E.createElement(gi,{className:ur("recharts-polar-radius-axis",Q3e,a.className)},s&&z3e(a,i),o&&G3e(a,i),E.createElement(D4e,K3e(a.angle,a.cx,a.cy,i),E.createElement(z4e,{label:a.label}),a.children)))};function CG(e){var t=Ti(e,Ha);return E.createElement(E.Fragment,null,E.createElement(H3e,{domain:t.domain,id:t.radiusAxisId,scale:t.scale,type:t.type,dataKey:t.dataKey,unit:void 0,name:t.name,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDataOverflow:t.allowDataOverflow,reversed:t.reversed,includeHidden:t.includeHidden,allowDecimals:t.allowDecimals,ticks:t.ticks,tickCount:t.tickCount,tick:t.tick}),E.createElement(q3e,t))}CG.displayName="PolarRadiusAxis";var X3e=["children"];function _f(){return _f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_f.apply(null,arguments)}function GD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GD(Object(r),!0).forEach(function(n){Y3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y3e(e,t,r){return(t=J3e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J3e(e){var t=Z3e(e,"string");return typeof t=="symbol"?t:t+""}function Z3e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eNe(e,t){if(e==null)return{};var r,n,i=tNe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function tNe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var qD=1e-5,rNe=Math.cos(ox(45)),nNe="angleAxis";function iNe(e){var t=zr(),r=E.useMemo(()=>{var{children:a}=e,o=eNe(e,X3e);return o},[e]),n=at(a=>ep(a,r.id)),i=r===n;return E.useEffect(()=>(t(P3e(r)),()=>{t(O3e(r))}),[t,r]),i?e.children:null}var aNe=(e,t)=>{var{cx:r,cy:n,radius:i,orientation:a,tickSize:o}=t,s=o||8,l=_r(r,n,i,e.coordinate),u=_r(r,n,i+(a==="inner"?-1:1)*s,e.coordinate);return{x1:l.x,y1:l.y,x2:u.x,y2:u.y}},oNe=(e,t)=>{var r=Math.cos(ox(-e.coordinate));return r>qD?t==="outer"?"start":"end":r<-qD?t==="outer"?"end":"start":"middle"},sNe=e=>{var t=Math.cos(ox(-e.coordinate)),r=Math.sin(ox(-e.coordinate));return Math.abs(t)<=rNe?r>0?"start":"end":"middle"},lNe=e=>{var{cx:t,cy:r,radius:n,axisLineType:i,axisLine:a,ticks:o}=e;if(!a)return null;var s=bl(bl({},Hn(e)),{},{fill:"none"},Hn(a));if(i==="circle")return E.createElement(i_,_f({className:"recharts-polar-angle-axis-line"},s,{cx:t,cy:r,r:n}));var l=o.map(u=>_r(t,r,n,u.coordinate));return E.createElement(AG,_f({className:"recharts-polar-angle-axis-line"},s,{points:l}))},uNe=e=>{var{tick:t,tickProps:r,value:n}=e;return t?E.isValidElement(t)?E.cloneElement(t,r):typeof t=="function"?t(r):E.createElement(Uv,_f({},r,{className:"recharts-polar-angle-axis-tick-value"}),n):null},cNe=e=>{var{tick:t,tickLine:r,tickFormatter:n,stroke:i,ticks:a}=e,o=Hn(e),s=Xh(t),l=bl(bl({},o),{},{fill:"none"},Hn(r)),u=a.map((c,A)=>{var d=aNe(c,e),f=oNe(c,e.orientation),p=sNe(c),g=bl(bl(bl({},o),{},{textAnchor:f,verticalAnchor:p,stroke:"none",fill:i},s),{},{index:A,payload:c,x:d.x2,y:d.y2});return E.createElement(gi,_f({className:ur("recharts-polar-angle-axis-tick",_K(t)),key:"tick-".concat(c.coordinate)},hv(e,c,A)),r&&E.createElement("line",_f({className:"recharts-polar-angle-axis-tick-line"},l,d)),E.createElement(uNe,{tick:t,tickProps:g,value:n?n(c.value,A):c.value}))});return E.createElement(gi,{className:"recharts-polar-angle-axis-ticks"},u)},ANe=e=>{var{angleAxisId:t}=e,r=at(tp),n=at(s=>lp(s,"angleAxis",t)),i=xa(),a=at(s=>A3e(s,"angleAxis",t,i));if(r==null||!a||!a.length||n==null)return null;var o=bl(bl(bl({},e),{},{scale:n},r),{},{radius:r.outerRadius,ticks:a});return E.createElement(Ra,{zIndex:o.zIndex},E.createElement(gi,{className:ur("recharts-polar-angle-axis",nNe,o.className)},E.createElement(lNe,o),E.createElement(cNe,o)))};function EG(e){var t=Ti(e,xl);return E.createElement(iNe,{id:t.angleAxisId,scale:t.scale,type:t.type,dataKey:t.dataKey,unit:void 0,name:t.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:t.reversed,includeHidden:!1,allowDecimals:t.allowDecimals,tickCount:t.tickCount,ticks:t.ticks,tick:t.tick,domain:t.domain},E.createElement(ANe,t))}EG.displayName="PolarAngleAxis";var SG={exports:{}},Rr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s_=Symbol.for("react.transitional.element"),l_=Symbol.for("react.portal"),Ib=Symbol.for("react.fragment"),_b=Symbol.for("react.strict_mode"),kb=Symbol.for("react.profiler"),Pb=Symbol.for("react.consumer"),Ob=Symbol.for("react.context"),Tb=Symbol.for("react.forward_ref"),Lb=Symbol.for("react.suspense"),Ub=Symbol.for("react.suspense_list"),Rb=Symbol.for("react.memo"),Db=Symbol.for("react.lazy"),fNe=Symbol.for("react.view_transition"),dNe=Symbol.for("react.client.reference");function gs(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case s_:switch(e=e.type,e){case Ib:case kb:case _b:case Lb:case Ub:case fNe:return e;default:switch(e=e&&e.$$typeof,e){case Ob:case Tb:case Db:case Rb:return e;case Pb:return e;default:return t}}case l_:return t}}}Rr.ContextConsumer=Pb;Rr.ContextProvider=Ob;Rr.Element=s_;Rr.ForwardRef=Tb;Rr.Fragment=Ib;Rr.Lazy=Db;Rr.Memo=Rb;Rr.Portal=l_;Rr.Profiler=kb;Rr.StrictMode=_b;Rr.Suspense=Lb;Rr.SuspenseList=Ub;Rr.isContextConsumer=function(e){return gs(e)===Pb};Rr.isContextProvider=function(e){return gs(e)===Ob};Rr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===s_};Rr.isForwardRef=function(e){return gs(e)===Tb};Rr.isFragment=function(e){return gs(e)===Ib};Rr.isLazy=function(e){return gs(e)===Db};Rr.isMemo=function(e){return gs(e)===Rb};Rr.isPortal=function(e){return gs(e)===l_};Rr.isProfiler=function(e){return gs(e)===kb};Rr.isStrictMode=function(e){return gs(e)===_b};Rr.isSuspense=function(e){return gs(e)===Lb};Rr.isSuspenseList=function(e){return gs(e)===Ub};Rr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ib||e===kb||e===_b||e===Lb||e===Ub||typeof e=="object"&&e!==null&&(e.$$typeof===Db||e.$$typeof===Rb||e.$$typeof===Ob||e.$$typeof===Pb||e.$$typeof===Tb||e.$$typeof===dNe||e.getModuleId!==void 0)};Rr.typeOf=gs;SG.exports=Rr;var hNe=SG.exports,XD=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",YD=null,O5=null,NG=e=>{if(e===YD&&Array.isArray(O5))return O5;var t=[];return E.Children.forEach(e,r=>{$n(r)||(hNe.isFragment(r)?t=t.concat(NG(r.props.children)):t.push(r))}),O5=t,YD=e,t};function pNe(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>XD(i)):n=[XD(t)],NG(e).forEach(i=>{var a=Sh(i,"type.displayName")||Sh(i,"type.name");a&&n.indexOf(a)!==-1&&r.push(i)}),r}var mNe=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,FG={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(FG);var gNe=FG.isPlainObject;const vNe=zs(gNe);var JD,ZD,ej,tj,rj;function nj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ij(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nj(Object(r),!0).forEach(function(n){yNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yNe(e,t,r){return(t=wNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wNe(e){var t=xNe(e,"string");return typeof t=="symbol"?t:t+""}function xNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bx(){return bx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bx.apply(null,arguments)}function cm(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var aj=(e,t,r,n,i)=>{var a=r-n,o;return o=An(JD||(JD=cm(["M ",",",""])),e,t),o+=An(ZD||(ZD=cm(["L ",",",""])),e+r,t),o+=An(ej||(ej=cm(["L ",",",""])),e+r-a/2,t+i),o+=An(tj||(tj=cm(["L ",",",""])),e+r-a/2-n,t+i),o+=An(rj||(rj=cm(["L ",","," Z"])),e,t),o},bNe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},BNe=e=>{var t=Ti(e,bNe),{x:r,y:n,upperWidth:i,lowerWidth:a,height:o,className:s}=t,{animationEasing:l,animationDuration:u,animationBegin:c,isUpdateAnimationActive:A}=t,d=E.useRef(null),[f,p]=E.useState(-1),g=E.useRef(i),v=E.useRef(a),m=E.useRef(o),y=E.useRef(r),w=E.useRef(n),b=lb(e,"trapezoid-");if(E.useEffect(()=>{if(d.current&&d.current.getTotalLength)try{var M=d.current.getTotalLength();M&&p(M)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||o!==+o||i===0&&a===0||o===0)return null;var B=ur("recharts-trapezoid",s);if(!A)return E.createElement("g",null,E.createElement("path",bx({},fi(t),{className:B,d:aj(r,n,i,a,o)})));var S=g.current,P=v.current,k=m.current,I=y.current,O=w.current,F="0px ".concat(f===-1?1:f,"px"),N="".concat(f,"px 0px"),U=EK(["strokeDasharray"],u,l);return E.createElement(sb,{animationId:b,key:b,canBegin:f>0,duration:u,easing:l,isActive:A,begin:c},M=>{var V=Tn(S,i,M),Q=Tn(P,a,M),W=Tn(k,o,M),D=Tn(I,r,M),K=Tn(O,n,M);d.current&&(g.current=V,v.current=Q,m.current=W,y.current=D,w.current=K);var ie=M>0?{transition:U,strokeDasharray:N}:{strokeDasharray:F};return E.createElement("path",bx({},fi(t),{className:B,d:aj(D,K,V,Q,W),ref:d,style:ij(ij({},ie),t.style)}))})},CNe=["option","shapeType","activeClassName"];function ENe(e,t){if(e==null)return{};var r,n,i=SNe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function SNe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function oj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Bx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oj(Object(r),!0).forEach(function(n){NNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NNe(e,t,r){return(t=FNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FNe(e){var t=INe(e,"string");return typeof t=="symbol"?t:t+""}function INe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _Ne(e,t){return Bx(Bx({},t),e)}function kNe(e,t){return e==="symbols"}function sj(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return E.createElement(IK,r);case"trapezoid":return E.createElement(BNe,r);case"sector":return E.createElement(OK,r);case"symbols":if(kNe(t))return E.createElement(q$,r);break;case"curve":return E.createElement(CK,r);default:return null}}function PNe(e){return E.isValidElement(e)?e.props:e}function ONe(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,i=ENe(e,CNe),a;if(E.isValidElement(t))a=E.cloneElement(t,Bx(Bx({},i),PNe(t)));else if(typeof t=="function")a=t(i,i.index);else if(vNe(t)&&typeof t!="boolean"){var o=_Ne(t,i);a=E.createElement(sj,{shapeType:r,elementProps:o})}else{var s=i;a=E.createElement(sj,{shapeType:r,elementProps:s})}return i.isActive?E.createElement(gi,{className:n},a):a}var IG=(e,t,r)=>{var n=zr();return(i,a)=>o=>{e==null||e(i,a,o),n(vV({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}},_G=e=>{var t=zr();return(r,n)=>i=>{e==null||e(r,n,i),t(Y5e())}},kG=(e,t,r)=>{var n=zr();return(i,a)=>o=>{e==null||e(i,a,o),n(J5e({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}};function PG(e){var{tooltipEntrySettings:t}=e,r=zr(),n=xa(),i=E.useRef(null);return E.useLayoutEffect(()=>{n||(i.current===null?r(V5e(t)):i.current!==t&&r(G5e({prev:i.current,next:t})),i.current=t)},[t,r,n]),E.useLayoutEffect(()=>()=>{i.current&&(r(q5e(i.current)),i.current=null)},[r]),null}function TNe(e){var{legendPayload:t}=e,r=zr(),n=xa(),i=E.useRef(null);return E.useLayoutEffect(()=>{n||(i.current===null?r(wK(t)):i.current!==t&&r(xK({prev:i.current,next:t})),i.current=t)},[r,n,t]),E.useLayoutEffect(()=>()=>{i.current&&(r(bK(i.current)),i.current=null)},[r]),null}function LNe(e){var{legendPayload:t}=e,r=zr(),n=at(sr),i=E.useRef(null);return E.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(i.current===null?r(wK(t)):i.current!==t&&r(xK({prev:i.current,next:t})),i.current=t)},[r,n,t]),E.useLayoutEffect(()=>()=>{i.current&&(r(bK(i.current)),i.current=null)},[r]),null}var T5,UNe=()=>{var[e]=E.useState(()=>Cg("uid-"));return e},RNe=(T5=mX.useId)!==null&&T5!==void 0?T5:UNe;function DNe(e,t){var r=RNe();return t||(e?"".concat(e,"-").concat(r):r)}var jNe=E.createContext(void 0),OG=e=>{var{id:t,type:r,children:n}=e,i=DNe("recharts-".concat(r),t);return E.createElement(jNe.Provider,{value:i},n(i))},MNe={cartesianItems:[],polarItems:[]},TG=so({name:"graphicalItems",initialState:MNe,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:an()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Ms(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:an()},removeCartesianGraphicalItem:{reducer(e,t){var r=Ms(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:an()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:an()},removePolarGraphicalItem:{reducer(e,t){var r=Ms(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:an()}}}),{addCartesianGraphicalItem:QNe,replaceCartesianGraphicalItem:HNe,removeCartesianGraphicalItem:$Ne,addPolarGraphicalItem:WNe,removePolarGraphicalItem:KNe}=TG.actions,zNe=TG.reducer,VNe=e=>{var t=zr(),r=E.useRef(null);return E.useLayoutEffect(()=>{r.current===null?t(QNe(e)):r.current!==e&&t(HNe({prev:r.current,next:e})),r.current=e},[t,e]),E.useLayoutEffect(()=>()=>{r.current&&(t($Ne(r.current)),r.current=null)},[t]),null},GNe=E.memo(VNe);function qNe(e){var t=zr();return E.useLayoutEffect(()=>(t(WNe(e)),()=>{t(KNe(e))}),[t,e]),null}var XNe=["points"];function lj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function L5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lj(Object(r),!0).forEach(function(n){YNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YNe(e,t,r){return(t=JNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JNe(e){var t=ZNe(e,"string");return typeof t=="symbol"?t:t+""}function ZNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cx(){return Cx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cx.apply(null,arguments)}function eFe(e,t){if(e==null)return{};var r,n,i=tFe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function tFe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function rFe(e){var{option:t,dotProps:r,className:n}=e;if(E.isValidElement(t))return E.cloneElement(t,r);if(typeof t=="function")return t(r);var i=ur(n,typeof t!="boolean"?t.className:""),a=r??{},{points:o}=a,s=eFe(a,XNe);return E.createElement(i_,Cx({},s,{className:i}))}function nFe(e,t){return e==null?!1:t?!0:e.length===1}function iFe(e){var{points:t,dot:r,className:n,dotClassName:i,dataKey:a,baseProps:o,needClip:s,clipPathId:l,zIndex:u=jn.scatter}=e;if(!nFe(t,r))return null;var c=mNe(r),A=M0e(r),d=t.map((p,g)=>{var v,m,y=L5(L5(L5({r:3},o),A),{},{index:g,cx:(v=p.x)!==null&&v!==void 0?v:void 0,cy:(m=p.y)!==null&&m!==void 0?m:void 0,dataKey:a,value:p.value,payload:p.payload,points:t});return E.createElement(rFe,{key:"dot-".concat(g),option:r,dotProps:y,className:i})}),f={};return s&&l!=null&&(f.clipPath="url(#clipPath-".concat(c?"":"dots-").concat(l,")")),E.createElement(Ra,{zIndex:u},E.createElement(gi,Cx({className:n},f),d))}function uj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uj(Object(r),!0).forEach(function(n){aFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aFe(e,t,r){return(t=oFe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oFe(e){var t=sFe(e,"string");return typeof t=="symbol"?t:t+""}function sFe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LG=0,lFe={xAxis:{},yAxis:{},zAxis:{}},UG=so({name:"cartesianAxis",initialState:lFe,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:an()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:an()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:an()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:an()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:an()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:an()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:an()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:an()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:an()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&n===a[1]&&n!==i.width&&Math.abs(n-a[0])<=1)return;var o=[...a,n].slice(-3);e.yAxis[r]=cj(cj({},e.yAxis[r]),{},{width:n,widthHistory:o})}}}}),{addXAxis:uFe,replaceXAxis:cFe,removeXAxis:AFe,addYAxis:fFe,replaceYAxis:dFe,removeYAxis:hFe,addZAxis:COe,replaceZAxis:EOe,removeZAxis:SOe,updateYAxisWidth:pFe}=UG.actions,mFe=UG.reducer,gFe=be([Li],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),vFe=be([gFe,qu,Xu],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),RG=()=>at(vFe),yFe=()=>at(QEe);function Aj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function U5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Aj(Object(r),!0).forEach(function(n){wFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Aj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wFe(e,t,r){return(t=xFe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xFe(e){var t=bFe(e,"string");return typeof t=="symbol"?t:t+""}function bFe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BFe=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:i,dataKey:a,clipPath:o}=e;if(i===!1||t.x==null||t.y==null)return null;var s={index:r,dataKey:a,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},l=U5(U5(U5({},s),Xh(i)),NF(i)),u;return E.isValidElement(i)?u=E.cloneElement(i,l):typeof i=="function"?u=i(l):u=E.createElement(i_,l),E.createElement(gi,{className:"recharts-active-dot",clipPath:o},u)};function CFe(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i,clipPath:a,zIndex:o=jn.activeDot}=e,s=at(If),l=yFe();if(t==null||l==null)return null;var u=t.find(c=>l.includes(c.payload));return $n(u)?null:E.createElement(Ra,{zIndex:o},E.createElement(BFe,{point:u,childIndex:Number(s),mainColor:r,dataKey:i,activeDot:n,clipPath:a}))}function fj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ex(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fj(Object(r),!0).forEach(function(n){EFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EFe(e,t,r){return(t=SFe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SFe(e){var t=NFe(e,"string");return typeof t=="symbol"?t:t+""}function NFe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DG=(e,t)=>lp(e,"radiusAxis",t),FFe=be([DG],e=>{if(e!=null)return{scale:e}}),IFe=be([Nv,DG],(e,t)=>{if(!(e==null||t==null))return Ex(Ex({},e),{},{scale:t})}),_Fe=(e,t,r,n)=>up(e,"radiusAxis",t,n),jG=(e,t,r)=>ep(e,r),MG=(e,t,r)=>lp(e,"angleAxis",r),kFe=be([jG,MG],(e,t)=>{if(!(e==null||t==null))return Ex(Ex({},e),{},{scale:t})}),PFe=(e,t,r,n)=>up(e,"angleAxis",r,n),OFe=be([jG,MG,tp],(e,t,r)=>{if(!(r==null||t==null))return{scale:t,type:e.type,dataKey:e.dataKey,cx:r.cx,cy:r.cy}}),TFe=(e,t,r,n,i)=>i,LFe=be([sr,IFe,_Fe,kFe,PFe],(e,t,r,n,i)=>pA(e,"radiusAxis")?_h(t,r,!1):_h(n,i,!1)),UFe=be([fG,TFe],(e,t)=>{if(e!=null){var r=e.find(n=>n.type==="radar"&&t===n.id);return r==null?void 0:r.dataKey}}),RFe=be([FFe,OFe,pb,UFe,LFe],(e,t,r,n,i)=>{var{chartData:a,dataStartIndex:o,dataEndIndex:s}=r;if(!(e==null||t==null||a==null||i==null||n==null)){var l=a.slice(o,s+1);return VFe({radiusAxis:e,angleAxis:t,displayedData:l,dataKey:n,bandSize:i})}}),DFe=["id"];function Mg(){return Mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mg.apply(null,arguments)}function dj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dj(Object(r),!0).forEach(function(n){jFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jFe(e,t,r){return(t=MFe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MFe(e){var t=QFe(e,"string");return typeof t=="symbol"?t:t+""}function QFe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HFe(e,t){if(e==null)return{};var r,n,i=$Fe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function $Fe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function u_(e,t){return e&&e!=="none"?e:t}var WFe=e=>{var{dataKey:t,name:r,stroke:n,fill:i,legendType:a,hide:o}=e;return[{inactive:o,dataKey:t,type:a,color:u_(n,i),value:X2(r,t),payload:e}]},KFe=E.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:a,hide:o,tooltipType:s,id:l}=e,u={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,nameKey:void 0,dataKey:t,name:X2(a,t),hide:o,type:s,color:u_(r,i),unit:"",graphicalItemId:l}};return E.createElement(PG,{tooltipEntrySettings:u})});function zFe(e){var{points:t,props:r}=e,{dot:n,dataKey:i}=r,{id:a}=r,o=HFe(r,DFe),s=Hn(o);return E.createElement(iFe,{points:t,dot:n,className:"recharts-radar-dots",dotClassName:"recharts-radar-dot",dataKey:i,baseProps:s})}function VFe(e){var{radiusAxis:t,angleAxis:r,displayedData:n,dataKey:i,bandSize:a}=e,{cx:o,cy:s}=r,l=!1,u=[],c=r.type!=="number"?a??0:0;n.forEach((d,f)=>{var p=Qn(d,r.dataKey,f),g=Qn(d,i),v=r.scale(p)+c,m=Array.isArray(g)?oG(g):g,y=$n(m)?0:t.scale(m);Array.isArray(g)&&g.length>=2&&(l=!0),u.push(qa(qa({},_r(o,s,y,v)),{},{name:p,value:g,cx:o,cy:s,radius:y,angle:v,payload:d}))});var A=[];return l&&u.forEach(d=>{if(Array.isArray(d.value)){var f=d.value[0],p=$n(f)?0:t.scale(f);A.push(qa(qa({},d),{},{radius:p},_r(o,s,p,d.angle)))}else A.push(d)}),{points:u,isRange:l,baseLinePoints:A}}function GFe(e){var{showLabels:t,points:r,children:n}=e,i=r.map(a=>{var o,s={x:a.x,y:a.y,width:0,lowerWidth:0,upperWidth:0,height:0};return qa(qa({},s),{},{value:(o=a.value)!==null&&o!==void 0?o:"",payload:a.payload,parentViewBox:void 0,viewBox:s,fill:void 0})});return E.createElement(lG,{value:t?i:void 0},n)}function qFe(e){var{points:t,baseLinePoints:r,props:n}=e;if(t==null)return null;var{shape:i,isRange:a,connectNulls:o}=n,s=c=>{var{onMouseEnter:A}=n;A&&A(n,c)},l=c=>{var{onMouseLeave:A}=n;A&&A(n,c)},u;return E.isValidElement(i)?u=E.cloneElement(i,qa(qa({},n),{},{points:t})):typeof i=="function"?u=i(qa(qa({},n),{},{points:t})):u=E.createElement(AG,Mg({},fi(n),{onMouseEnter:s,onMouseLeave:l,points:t,baseLinePoints:a?r:void 0,connectNulls:o})),E.createElement(gi,{className:"recharts-radar-polygon"},u,E.createElement(zFe,{props:n,points:t}))}var hj=(e,t,r)=>(n,i)=>{var a=e&&e[Math.floor(i*t)];return a?qa(qa({},n),{},{x:Tn(a.x,n.x,r),y:Tn(a.y,n.y,r)}):qa(qa({},n),{},{x:Tn(n.cx,n.x,r),y:Tn(n.cy,n.y,r)})};function XFe(e){var{props:t,previousPointsRef:r,previousBaseLinePointsRef:n}=e,{points:i,baseLinePoints:a,isAnimationActive:o,animationBegin:s,animationDuration:l,animationEasing:u,onAnimationEnd:c,onAnimationStart:A}=t,d=r.current,f=n.current,p=d?d.length/i.length:1,g=f?f.length/a.length:1,v=lb(t,"recharts-radar-"),[m,y]=E.useState(!1),w=!m,b=E.useCallback(()=>{typeof c=="function"&&c(),y(!1)},[c]),B=E.useCallback(()=>{typeof A=="function"&&A(),y(!0)},[A]);return E.createElement(GFe,{showLabels:w,points:i},E.createElement(sb,{animationId:v,begin:s,duration:l,isActive:o,easing:u,key:"radar-".concat(v),onAnimationEnd:b,onAnimationStart:B},S=>{var P=S===1?i:i.map(hj(d,p,S)),k=S===1?a:a==null?void 0:a.map(hj(f,g,S));return S>0&&(r.current=P,n.current=k),E.createElement(qFe,{points:P,baseLinePoints:k,props:t})}),E.createElement(cG,{label:t.label}),t.children)}function YFe(e){var t=E.useRef(void 0),r=E.useRef(void 0);return E.createElement(XFe,{props:e,previousPointsRef:t,previousBaseLinePointsRef:r})}var JFe={activeDot:!0,angleAxisId:0,animationBegin:0,animationDuration:1500,animationEasing:"ease",dot:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",radiusAxisId:0,zIndex:jn.area};function ZFe(e){var{hide:t,className:r,points:n}=e;if(t)return null;var i=ur("recharts-radar",r);return E.createElement(Ra,{zIndex:e.zIndex},E.createElement(gi,{className:i},E.createElement(YFe,e)),E.createElement(CFe,{points:n,mainColor:u_(e.stroke,e.fill),itemDataKey:e.dataKey,activeDot:e.activeDot}))}function eIe(e){var t=xa(),r=at(n=>RFe(n,e.radiusAxisId,e.angleAxisId,t,e.id));return(r==null?void 0:r.points)==null?null:E.createElement(ZFe,Mg({},e,{points:r==null?void 0:r.points,baseLinePoints:r==null?void 0:r.baseLinePoints,isRange:r==null?void 0:r.isRange}))}function QG(e){var t=Ti(e,JFe);return E.createElement(OG,{id:t.id,type:"radar"},r=>E.createElement(E.Fragment,null,E.createElement(qNe,{type:"radar",id:r,data:void 0,dataKey:t.dataKey,hide:t.hide,angleAxisId:t.angleAxisId,radiusAxisId:t.radiusAxisId}),E.createElement(LNe,{legendPayload:WFe(t)}),E.createElement(KFe,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:r}),E.createElement(eIe,Mg({},t,{id:r}))))}QG.displayName="Radar";var pj=(e,t,r)=>{var n=r??e;if(!$n(n))return Ws(n,t,0)},tIe=(e,t,r)=>{var n={},i=e.filter(vb),a=e.filter(u=>u.stackId==null),o=i.reduce((u,c)=>(u[c.stackId]||(u[c.stackId]=[]),u[c.stackId].push(c),u),n),s=Object.entries(o).map(u=>{var[c,A]=u,d=A.map(p=>p.dataKey),f=pj(t,r,A[0].barSize);return{stackId:c,dataKeys:d,barSize:f}}),l=a.map(u=>{var c=[u.dataKey].filter(d=>d!=null),A=pj(t,r,u.barSize);return{stackId:void 0,dataKeys:c,barSize:A}});return[...s,...l]};function mj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mj(Object(r),!0).forEach(function(n){rIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rIe(e,t,r){return(t=nIe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nIe(e){var t=iIe(e,"string");return typeof t=="symbol"?t:t+""}function iIe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aIe(e,t,r,n,i){var a=n.length;if(!(a<1)){var o=Ws(e,r,0,!0),s,l=[];if(vn(n[0].barSize)){var u=!1,c=r/a,A=n.reduce((m,y)=>m+(y.barSize||0),0);A+=(a-1)*o,A>=r&&(A-=(a-1)*o,o=0),A>=r&&c>0&&(u=!0,c*=.9,A=a*c);var d=(r-A)/2>>0,f={offset:d-o,size:0};s=n.reduce((m,y)=>{var w,b={stackId:y.stackId,dataKeys:y.dataKeys,position:{offset:f.offset+f.size+o,size:u?c:(w=y.barSize)!==null&&w!==void 0?w:0}},B=[...m,b];return f=B[B.length-1].position,B},l)}else{var p=Ws(t,r,0,!0);r-2*p-(a-1)*o<=0&&(o=0);var g=(r-2*p-(a-1)*o)/a;g>1&&(g>>=0);var v=vn(i)?Math.min(g,i):g;s=n.reduce((m,y,w)=>[...m,{stackId:y.stackId,dataKeys:y.dataKeys,position:{offset:p+(g+o)*w+(g-v)/2,size:v}}],l)}return s}}var oIe=(e,t,r,n,i,a,o)=>{var s=$n(o)?t:o,l=aIe(r,n,i!==a?i:a,e,s);return i!==a&&l!=null&&(l=l.map(u=>Vy(Vy({},u),{},{position:Vy(Vy({},u.position),{},{offset:u.position.offset-i/2})}))),l},sIe=(e,t)=>{var r=SI(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:a}=i;if(a)return a.find(o=>o.key===r)}}}};function lIe(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&vn(e.zIndex)?e.zIndex:t}var HG=e=>{var{chartData:t}=e,r=zr(),n=xa();return E.useEffect(()=>n?()=>{}:(r(BD(t)),()=>{r(BD(void 0))}),[t,r,n]),null},gj={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},$G=so({name:"brush",initialState:gj,reducers:{setBrushSettings(e,t){return t.payload==null?gj:t.payload}}}),{setBrushSettings:NOe}=$G.actions,uIe=$G.reducer;function cIe(e,t,r){return(t=AIe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AIe(e){var t=fIe(e,"string");return typeof t=="symbol"?t:t+""}function fIe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class c_{static create(t){return new c_(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}cIe(c_,"EPS",1e-4);function dIe(e){return(e%180+180)%180}var hIe=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=dIe(i),o=a*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},pIe={dots:[],areas:[],lines:[]},WG=so({name:"referenceElements",initialState:pIe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Ms(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Ms(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Ms(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:FOe,removeDot:IOe,addArea:_Oe,removeArea:kOe,addLine:POe,removeLine:OOe}=WG.actions,mIe=WG.reducer,gIe=E.createContext(void 0),vIe=e=>{var{children:t}=e,[r]=E.useState("".concat(Cg("recharts"),"-clip")),n=RG();if(n==null)return null;var{x:i,y:a,width:o,height:s}=n;return E.createElement(gIe.Provider,{value:r},E.createElement("defs",null,E.createElement("clipPath",{id:r},E.createElement("rect",{x:i,y:a,height:s,width:o}))),t)};function KG(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var i=e[n];i!==void 0&&r.push(i)}return r}function yIe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return hIe(n,r)}function wIe(e,t,r){var n=r==="width",{x:i,y:a,width:o,height:s}=e;return t===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function Qg(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function xIe(e,t){return KG(e,t+1)}function bIe(e,t,r,n,i){for(var a=(n||[]).slice(),{start:o,end:s}=t,l=0,u=1,c=o,A=function(){var p=n==null?void 0:n[l];if(p===void 0)return{v:KG(n,u)};var g=l,v,m=()=>(v===void 0&&(v=r(p,g)),v),y=p.coordinate,w=l===0||Qg(e,y,m,c,s);w||(l=0,c=o,u+=1),w&&(c=y+e*(m()/2+i),l+=u)},d;u<=a.length;)if(d=A(),d)return d.v;return[]}function BIe(e,t,r,n,i){var a=(n||[]).slice(),o=a.length;if(o===0)return[];for(var{start:s,end:l}=t,u=1;u<=o;u++){for(var c=(o-1)%u,A=s,d=!0,f=function(){var y=n[p],w=p,b,B=()=>(b===void 0&&(b=r(y,w)),b),S=y.coordinate,P=p===c||Qg(e,S,B,A,l);if(!P)return d=!1,1;P&&(A=S+e*(B()/2+i))},p=c;p<o&&!f();p+=u);if(d){for(var g=[],v=c;v<o;v+=u)g.push(n[v]);return g}}return[]}function vj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ua(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vj(Object(r),!0).forEach(function(n){CIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CIe(e,t,r){return(t=EIe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EIe(e){var t=SIe(e,"string");return typeof t=="symbol"?t:t+""}function SIe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NIe(e,t,r,n,i){for(var a=(n||[]).slice(),o=a.length,{start:s}=t,{end:l}=t,u=function(d){var f=a[d],p,g=()=>(p===void 0&&(p=r(f,d)),p);if(d===o-1){var v=e*(f.coordinate+e*g()/2-l);a[d]=f=ua(ua({},f),{},{tickCoord:v>0?f.coordinate-v*e:f.coordinate})}else a[d]=f=ua(ua({},f),{},{tickCoord:f.coordinate});if(f.tickCoord!=null){var m=Qg(e,f.tickCoord,g,s,l);m&&(l=f.tickCoord-e*(g()/2+i),a[d]=ua(ua({},f),{},{isShow:!0}))}},c=o-1;c>=0;c--)u(c);return a}function FIe(e,t,r,n,i,a){var o=(n||[]).slice(),s=o.length,{start:l,end:u}=t;if(a){var c=n[s-1],A=r(c,s-1),d=e*(c.coordinate+e*A/2-u);if(o[s-1]=c=ua(ua({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate}),c.tickCoord!=null){var f=Qg(e,c.tickCoord,()=>A,l,u);f&&(u=c.tickCoord-e*(A/2+i),o[s-1]=ua(ua({},c),{},{isShow:!0}))}}for(var p=a?s-1:s,g=function(y){var w=o[y],b,B=()=>(b===void 0&&(b=r(w,y)),b);if(y===0){var S=e*(w.coordinate-e*B()/2-l);o[y]=w=ua(ua({},w),{},{tickCoord:S<0?w.coordinate-S*e:w.coordinate})}else o[y]=w=ua(ua({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var P=Qg(e,w.tickCoord,B,l,u);P&&(l=w.tickCoord+e*(B()/2+i),o[y]=ua(ua({},w),{},{isShow:!0}))}},v=0;v<p;v++)g(v);return o}function A_(e,t,r){var{tick:n,ticks:i,viewBox:a,minTickGap:o,orientation:s,interval:l,tickFormatter:u,unit:c,angle:A}=e;if(!i||!i.length||!n)return[];if(mt(l)||ob.isSsr){var d;return(d=xIe(i,mt(l)?l:0))!==null&&d!==void 0?d:[]}var f=[],p=s==="top"||s==="bottom"?"width":"height",g=c&&p==="width"?Wm(c,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=(w,b)=>{var B=typeof u=="function"?u(w.value,b):w.value;return p==="width"?yIe(Wm(B,{fontSize:t,letterSpacing:r}),g,A):Wm(B,{fontSize:t,letterSpacing:r})[p]},m=i.length>=2?Va(i[1].coordinate-i[0].coordinate):1,y=wIe(a,m,p);return l==="equidistantPreserveStart"?bIe(m,y,v,i,o):l==="equidistantPreserveEnd"?BIe(m,y,v,i,o):(l==="preserveStart"||l==="preserveStartEnd"?f=FIe(m,y,v,i,o,l==="preserveStartEnd"):f=NIe(m,y,v,i,o),f.filter(w=>w.isShow))}var IIe=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){Array.from(t).forEach(c=>{if(c){var A=c.getBoundingClientRect();A.width>o&&(o=A.width)}});var s=r?r.getBoundingClientRect().width:0,l=i+a,u=o+l+s+(r?n:0);return Math.round(u)}return 0},_Ie=["axisLine","width","height","className","hide","ticks","axisType"];function kIe(e,t){if(e==null)return{};var r,n,i=PIe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function PIe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function kf(){return kf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kf.apply(null,arguments)}function yj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yj(Object(r),!0).forEach(function(n){OIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OIe(e,t,r){return(t=TIe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TIe(e){var t=LIe(e,"string");return typeof t=="symbol"?t:t+""}function LIe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nu={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:jn.axis};function UIe(e){var{x:t,y:r,width:n,height:i,orientation:a,mirror:o,axisLine:s,otherSvgProps:l}=e;if(!s)return null;var u=Vn(Vn(Vn({},l),Hn(s)),{},{fill:"none"});if(a==="top"||a==="bottom"){var c=+(a==="top"&&!o||a==="bottom"&&o);u=Vn(Vn({},u),{},{x1:t,y1:r+c*i,x2:t+n,y2:r+c*i})}else{var A=+(a==="left"&&!o||a==="right"&&o);u=Vn(Vn({},u),{},{x1:t+A*n,y1:r,x2:t+A*n,y2:r+i})}return E.createElement("line",kf({},u,{className:ur("recharts-cartesian-axis-line",Sh(s,"className"))}))}function RIe(e,t,r,n,i,a,o,s,l){var u,c,A,d,f,p,g=s?-1:1,v=e.tickSize||o,m=mt(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=c=e.coordinate,d=r+ +!s*i,A=d-g*v,p=A-g*l,f=m;break;case"left":A=d=e.coordinate,c=t+ +!s*n,u=c-g*v,f=u-g*l,p=m;break;case"right":A=d=e.coordinate,c=t+ +s*n,u=c+g*v,f=u+g*l,p=m;break;default:u=c=e.coordinate,d=r+ +s*i,A=d+g*v,p=A+g*l,f=m;break}return{line:{x1:u,y1:A,x2:c,y2:d},tick:{x:f,y:p}}}function DIe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function jIe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function MIe(e){var{option:t,tickProps:r,value:n}=e,i,a=ur(r.className,"recharts-cartesian-axis-tick-value");if(E.isValidElement(t))i=E.cloneElement(t,Vn(Vn({},r),{},{className:a}));else if(typeof t=="function")i=t(Vn(Vn({},r),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=ur(o,t==null?void 0:t.className)),i=E.createElement(Uv,kf({},r,{className:o}),n)}return i}var QIe=E.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:a,tickFormatter:o,unit:s,padding:l,tickTextProps:u,orientation:c,mirror:A,x:d,y:f,width:p,height:g,tickSize:v,tickMargin:m,fontSize:y,letterSpacing:w,getTicksConfig:b,events:B,axisType:S}=e,P=A_(Vn(Vn({},b),{},{ticks:r}),y,w),k=DIe(c,A),I=jIe(c,A),O=Hn(b),F=Xh(n),N={};typeof i=="object"&&(N=i);var U=Vn(Vn({},O),{},{fill:"none"},N),M=P.map(W=>Vn({entry:W},RIe(W,d,f,p,g,c,v,A,m))),V=M.map(W=>{var{entry:D,line:K}=W;return E.createElement(gi,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(D.value,"-").concat(D.coordinate,"-").concat(D.tickCoord)},i&&E.createElement("line",kf({},U,K,{className:ur("recharts-cartesian-axis-tick-line",Sh(i,"className"))})))}),Q=M.map((W,D)=>{var{entry:K,tick:ie}=W,ee=Vn(Vn(Vn(Vn({textAnchor:k,verticalAnchor:I},O),{},{stroke:"none",fill:a},F),ie),{},{index:D,payload:K,visibleTicksCount:P.length,tickFormatter:o,padding:l},u);return E.createElement(gi,kf({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(K.value,"-").concat(K.coordinate,"-").concat(K.tickCoord)},hv(B,K,D)),n&&E.createElement(MIe,{option:n,tickProps:ee,value:"".concat(typeof o=="function"?o(K.value,D):K.value).concat(s||"")}))});return E.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(S,"-ticks")},Q.length>0&&E.createElement(Ra,{zIndex:jn.label},E.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(S,"-tick-labels"),ref:t},Q)),V.length>0&&E.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(S,"-tick-lines")},V))}),HIe=E.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:a,hide:o,ticks:s,axisType:l}=e,u=kIe(e,_Ie),[c,A]=E.useState(""),[d,f]=E.useState(""),p=E.useRef(null);E.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var v;return IIe({ticks:p.current,label:(v=e.labelRef)===null||v===void 0?void 0:v.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var g=E.useCallback(v=>{if(v){var m=v.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=m;var y=m[0];if(y){var w=window.getComputedStyle(y),b=w.fontSize,B=w.letterSpacing;(b!==c||B!==d)&&(A(b),f(B))}}},[c,d]);return o||n!=null&&n<=0||i!=null&&i<=0?null:E.createElement(Ra,{zIndex:e.zIndex},E.createElement(gi,{className:ur("recharts-cartesian-axis",a)},E.createElement(UIe,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Hn(e)}),E.createElement(QIe,{ref:g,axisType:l,events:u,fontSize:c,getTicksConfig:e,height:e.height,letterSpacing:d,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:s,unit:e.unit,width:e.width,x:e.x,y:e.y}),E.createElement(R4e,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},E.createElement(K4e,{label:e.label,labelRef:e.labelRef}),e.children)))}),f_=E.forwardRef((e,t)=>{var r=Ti(e,Nu);return E.createElement(HIe,kf({},r,{ref:t}))});f_.displayName="CartesianAxis";var $Ie=["x1","y1","x2","y2","key"],WIe=["offset"],KIe=["xAxisId","yAxisId"],zIe=["xAxisId","yAxisId"];function wj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ha(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wj(Object(r),!0).forEach(function(n){VIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VIe(e,t,r){return(t=GIe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GIe(e){var t=qIe(e,"string");return typeof t=="symbol"?t:t+""}function qIe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nf(){return nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nf.apply(null,arguments)}function Sx(e,t){if(e==null)return{};var r,n,i=XIe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function XIe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var YIe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:o,ry:s}=e;return E.createElement("rect",{x:n,y:i,ry:s,width:a,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function zG(e){var{option:t,lineItemProps:r}=e,n;if(E.isValidElement(t))n=E.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var i,{x1:a,y1:o,x2:s,y2:l,key:u}=r,c=Sx(r,$Ie),A=(i=Hn(c))!==null&&i!==void 0?i:{},{offset:d}=A,f=Sx(A,WIe);n=E.createElement("line",nf({},f,{x1:a,y1:o,x2:s,y2:l,fill:"none",key:u}))}return n}function JIe(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,s=Sx(e,KIe),l=i.map((u,c)=>{var A=ha(ha({},s),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(c),index:c});return E.createElement(zG,{key:"line-".concat(c),option:n,lineItemProps:A})});return E.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function ZIe(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,s=Sx(e,zIe),l=i.map((u,c)=>{var A=ha(ha({},s),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(c),index:c});return E.createElement(zG,{option:n,lineItemProps:A,key:"line-".concat(c)})});return E.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function e_e(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:a,height:o,horizontalPoints:s,horizontal:l=!0}=e;if(!l||!t||!t.length||s==null)return null;var u=s.map(A=>Math.round(A+i-i)).sort((A,d)=>A-d);i!==u[0]&&u.unshift(0);var c=u.map((A,d)=>{var f=!u[d+1],p=f?i+o-A:u[d+1]-A;if(p<=0)return null;var g=d%t.length;return E.createElement("rect",{key:"react-".concat(d),y:A,x:n,height:p,width:a,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return E.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function t_e(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:o,height:s,verticalPoints:l}=e;if(!t||!r||!r.length)return null;var u=l.map(A=>Math.round(A+i-i)).sort((A,d)=>A-d);i!==u[0]&&u.unshift(0);var c=u.map((A,d)=>{var f=!u[d+1],p=f?i+o-A:u[d+1]-A;if(p<=0)return null;var g=d%r.length;return E.createElement("rect",{key:"react-".concat(d),x:A,y:a,width:p,height:s,stroke:"none",fill:r[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return E.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var r_e=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return eK(A_(ha(ha(ha({},Nu),r),{},{ticks:tK(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},n_e=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return eK(A_(ha(ha(ha({},Nu),r),{},{ticks:tK(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},i_e={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:jn.grid};function j4(e){var t=AK(),r=fK(),n=cK(),i=ha(ha({},Ti(e,i_e)),{},{x:mt(e.x)?e.x:n.left,y:mt(e.y)?e.y:n.top,width:mt(e.width)?e.width:n.width,height:mt(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:o,x:s,y:l,width:u,height:c,syncWithTicks:A,horizontalValues:d,verticalValues:f}=i,p=xa(),g=at(I=>fD(I,"xAxis",a,p)),v=at(I=>fD(I,"yAxis",o,p));if(!Tl(u)||!Tl(c)||!mt(s)||!mt(l))return null;var m=i.verticalCoordinatesGenerator||r_e,y=i.horizontalCoordinatesGenerator||n_e,{horizontalPoints:w,verticalPoints:b}=i;if((!w||!w.length)&&typeof y=="function"){var B=d&&d.length,S=y({yAxis:v?ha(ha({},v),{},{ticks:B?d:v.ticks}):void 0,width:t??u,height:r??c,offset:n},B?!0:A);Yw(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(w=S)}if((!b||!b.length)&&typeof m=="function"){var P=f&&f.length,k=m({xAxis:g?ha(ha({},g),{},{ticks:P?f:g.ticks}):void 0,width:t??u,height:r??c,offset:n},P?!0:A);Yw(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(b=k)}return E.createElement(Ra,{zIndex:i.zIndex},E.createElement("g",{className:"recharts-cartesian-grid"},E.createElement(YIe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),E.createElement(e_e,nf({},i,{horizontalPoints:w})),E.createElement(t_e,nf({},i,{verticalPoints:b})),E.createElement(JIe,nf({},i,{offset:n,horizontalPoints:w,xAxis:g,yAxis:v})),E.createElement(ZIe,nf({},i,{offset:n,verticalPoints:b,xAxis:g,yAxis:v}))))}j4.displayName="CartesianGrid";var a_e={},VG=so({name:"errorBars",initialState:a_e,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:TOe,replaceErrorBar:LOe,removeErrorBar:UOe}=VG.actions,o_e=VG.reducer,s_e=["children"];function l_e(e,t){if(e==null)return{};var r,n,i=u_e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function u_e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var c_e={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},A_e=E.createContext(c_e);function f_e(e){var{children:t}=e,r=l_e(e,s_e);return E.createElement(A_e.Provider,{value:r},t)}function GG(e,t){var r,n,i=at(u=>Zu(u,e)),a=at(u=>ec(u,t)),o=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:Ei.allowDataOverflow,s=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:Si.allowDataOverflow,l=o||s;return{needClip:l,needClipX:o,needClipY:s}}function d_e(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=RG(),{needClipX:a,needClipY:o,needClip:s}=GG(t,r);if(!s||!i)return null;var{x:l,y:u,width:c,height:A}=i;return E.createElement("clipPath",{id:"clipPath-".concat(n)},E.createElement("rect",{x:a?l:l-c/2,y:o?u:u-A/2,width:a?c:c*2,height:o?A:A*2}))}var h_e={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rv=E;function p_e(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var m_e=typeof Object.is=="function"?Object.is:p_e,g_e=Rv.useSyncExternalStore,v_e=Rv.useRef,y_e=Rv.useEffect,w_e=Rv.useMemo,x_e=Rv.useDebugValue;h_e.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=v_e(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=w_e(function(){function l(f){if(!u){if(u=!0,c=f,f=n(f),i!==void 0&&o.hasValue){var p=o.value;if(i(p,f))return A=p}return A=f}if(p=A,m_e(c,f))return p;var g=n(f);return i!==void 0&&i(p,g)?(c=f,p):(c=f,A=g)}var u=!1,c,A,d=r===void 0?null:r;return[function(){return l(t())},d===null?void 0:function(){return l(d())}]},[t,r,n,i]);var s=g_e(e,a[0],a[1]);return y_e(function(){o.hasValue=!0,o.value=s},[s]),x_e(s),s};function b_e(e){e()}function B_e(){let e=null,t=null;return{clear(){e=null,t=null},notify(){b_e(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var xj={notify(){},get:()=>[]};function C_e(e,t){let r,n=xj,i=0,a=!1;function o(g){c();const v=n.subscribe(g);let m=!1;return()=>{m||(m=!0,v(),A())}}function s(){n.notify()}function l(){p.onStateChange&&p.onStateChange()}function u(){return a}function c(){i++,r||(r=e.subscribe(l),n=B_e())}function A(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=xj)}function d(){a||(a=!0,c())}function f(){a&&(a=!1,A())}const p={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:u,trySubscribe:d,tryUnsubscribe:f,getListeners:()=>n};return p}var E_e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",S_e=E_e(),N_e=()=>typeof navigator<"u"&&navigator.product==="ReactNative",F_e=N_e(),I_e=()=>S_e||F_e?E.useLayoutEffect:E.useEffect,__e=I_e();function bj(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function k_e(e,t){if(bj(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!bj(e[r[i]],t[r[i]]))return!1;return!0}var R5=Symbol.for("react-redux-context"),D5=typeof globalThis<"u"?globalThis:{};function P_e(){if(!E.createContext)return{};const e=D5[R5]??(D5[R5]=new Map);let t=e.get(E.createContext);return t||(t=E.createContext(null),e.set(E.createContext,t)),t}var O_e=P_e();function T_e(e){const{children:t,context:r,serverState:n,store:i}=e,a=E.useMemo(()=>{const l=C_e(i);return{store:i,subscription:l,getServerState:n?()=>n:void 0}},[i,n]),o=E.useMemo(()=>i.getState(),[i]);__e(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,o]);const s=r||O_e;return E.createElement(s.Provider,{value:a},t)}var L_e=T_e,U_e=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function R_e(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function d_(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(U_e.has(n)){if(e[n]==null&&t[n]==null)continue;if(!k_e(e[n],t[n]))return!1}else if(!R_e(e[n],t[n]))return!1;return!0}function Kf(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:LG}function zf(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:LG}var D_e="Invariant failed";function j_e(e,t){throw new Error(D_e)}function M4(){return M4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M4.apply(null,arguments)}function Nx(e){return E.createElement(ONe,M4({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var M_e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(mt(t))return t;var a=mt(n)||$n(n);return a?t(n,i):(a||j_e(),r)}},Q_e=(e,t,r)=>r,H_e=(e,t)=>t,Dv=be([II,H_e],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),$_e=be([Dv],e=>e==null?void 0:e.maxBarSize),W_e=(e,t,r,n)=>n,K_e=be([sr,II,Kf,zf,Q_e],(e,t,r,n,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),z_e=(e,t,r)=>{var n=sr(e),i=Kf(e,t),a=zf(e,t);if(!(i==null||a==null))return n==="horizontal"?k4(e,"yAxis",a,r):k4(e,"xAxis",i,r)},V_e=(e,t)=>{var r=sr(e),n=Kf(e,t),i=zf(e,t);if(!(n==null||i==null))return r==="horizontal"?AD(e,"xAxis",n):AD(e,"yAxis",i)},G_e=be([K_e,MCe,V_e],tIe),q_e=(e,t,r)=>{var n,i,a=Dv(e,t);if(a!=null){var o=Kf(e,t),s=zf(e,t);if(!(o==null||s==null)){var l=sr(e),u=Oz(e),{maxBarSize:c}=a,A=$n(c)?u:c,d,f;return l==="horizontal"?(d=Uh(e,"xAxis",o,r),f=Lh(e,"xAxis",o,r)):(d=Uh(e,"yAxis",s,r),f=Lh(e,"yAxis",s,r)),(n=(i=_h(d,f,!0))!==null&&i!==void 0?i:A)!==null&&n!==void 0?n:0}}},qG=(e,t,r)=>{var n=sr(e),i=Kf(e,t),a=zf(e,t);if(!(i==null||a==null)){var o,s;return n==="horizontal"?(o=Uh(e,"xAxis",i,r),s=Lh(e,"xAxis",i,r)):(o=Uh(e,"yAxis",a,r),s=Lh(e,"yAxis",a,r)),_h(o,s)}},X_e=be([G_e,Oz,jCe,Tz,q_e,qG,$_e],oIe),Y_e=(e,t,r)=>{var n=Kf(e,t);if(n!=null)return Uh(e,"xAxis",n,r)},J_e=(e,t,r)=>{var n=zf(e,t);if(n!=null)return Uh(e,"yAxis",n,r)},Z_e=(e,t,r)=>{var n=Kf(e,t);if(n!=null)return Lh(e,"xAxis",n,r)},eke=(e,t,r)=>{var n=zf(e,t);if(n!=null)return Lh(e,"yAxis",n,r)},tke=be([X_e,Dv],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),rke=be([z_e,Dv],sIe),nke=be([Li,VF,Y_e,J_e,Z_e,eke,tke,sr,NCe,qG,rke,Dv,W_e],(e,t,r,n,i,a,o,s,l,u,c,A,d)=>{var{chartData:f,dataStartIndex:p,dataEndIndex:g}=l;if(!(A==null||o==null||t==null||s!=="horizontal"&&s!=="vertical"||r==null||n==null||i==null||a==null||u==null)){var{data:v}=A,m;if(v!=null&&v.length>0?m=v:m=f==null?void 0:f.slice(p,g+1),m!=null)return Pke({layout:s,barSettings:A,pos:o,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:c,displayedData:m,offset:e,cells:d,dataStartIndex:p})}}),ike=["index"];function Q4(){return Q4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q4.apply(null,arguments)}function ake(e,t){if(e==null)return{};var r,n,i=oke(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function oke(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var XG=E.createContext(void 0),ske=e=>{var t=E.useContext(XG);if(t!=null)return t.stackId;if(e!=null)return Qwe(e)},lke=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),uke=e=>{var t=E.useContext(XG);if(t!=null){var{stackId:r}=t;return"url(#".concat(lke(r,e),")")}},cke=e=>{var{index:t}=e,r=ake(e,ike),n=uke(t);return E.createElement(gi,Q4({className:"recharts-bar-stack-layer",clipPath:n},r))},Ake=["onMouseEnter","onMouseLeave","onClick"],fke=["value","background","tooltipPosition"],dke=["id"],hke=["onMouseEnter","onClick","onMouseLeave"];function Qu(){return Qu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qu.apply(null,arguments)}function Bj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _a(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bj(Object(r),!0).forEach(function(n){pke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pke(e,t,r){return(t=mke(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mke(e){var t=gke(e,"string");return typeof t=="symbol"?t:t+""}function gke(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fx(e,t){if(e==null)return{};var r,n,i=vke(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function vke(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var yke=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:X2(r,t),payload:e}]},wke=E.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:a,hide:o,unit:s,tooltipType:l,id:u}=e,c={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:X2(a,t),hide:o,type:l,color:i,unit:s,graphicalItemId:u}};return E.createElement(PG,{tooltipEntrySettings:c})});function xke(e){var t=at(If),{data:r,dataKey:n,background:i,allOtherBarProps:a}=e,{onMouseEnter:o,onMouseLeave:s,onClick:l}=a,u=Fx(a,Ake),c=IG(o,n,a.id),A=_G(s),d=kG(l,n,a.id);if(!i||r==null)return null;var f=Xh(i);return E.createElement(Ra,{zIndex:lIe(i,jn.barBackground)},r.map((p,g)=>{var{value:v,background:m,tooltipPosition:y}=p,w=Fx(p,fke);if(!m)return null;var b=c(p,g),B=A(p,g),S=d(p,g),P=_a(_a(_a(_a(_a({option:i,isActive:String(g)===t},w),{},{fill:"#eee"},m),f),hv(u,p,g)),{},{onMouseEnter:b,onMouseLeave:B,onClick:S,dataKey:n,index:g,className:"recharts-bar-background-rectangle"});return E.createElement(Nx,Qu({key:"background-bar-".concat(g)},P))}))}function bke(e){var{showLabels:t,children:r,rects:n}=e,i=n==null?void 0:n.map(a=>{var o={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return _a(_a({},o),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:o,fill:a.fill})});return E.createElement(lG,{value:t?i:void 0},r)}function Bke(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:a,dataKey:o}=e,s=at(If),l=at(PV),u=r&&String(a)===s&&(l==null||o===l),c=u?r:t;return u?E.createElement(Ra,{zIndex:jn.activeBar},E.createElement(Nx,Qu({},n,{name:String(n.name)},i,{isActive:u,option:c,index:a,dataKey:o}))):E.createElement(Nx,Qu({},n,{name:String(n.name)},i,{isActive:u,option:c,index:a,dataKey:o}))}function Cke(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:a}=e;return E.createElement(Nx,Qu({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:i,dataKey:a}))}function Eke(e){var t,{data:r,props:n}=e,i=(t=Hn(n))!==null&&t!==void 0?t:{},{id:a}=i,o=Fx(i,dke),{shape:s,dataKey:l,activeBar:u}=n,{onMouseEnter:c,onClick:A,onMouseLeave:d}=n,f=Fx(n,hke),p=IG(c,l,a),g=_G(d),v=kG(A,l,a);return r?E.createElement(E.Fragment,null,r.map((m,y)=>E.createElement(cke,Qu({index:y,key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(y),className:"recharts-bar-rectangle"},hv(f,m,y),{onMouseEnter:p(m,y),onMouseLeave:g(m,y),onClick:v(m,y)}),u?E.createElement(Bke,{shape:s,activeBar:u,baseProps:o,entry:m,index:y,dataKey:l}):E.createElement(Cke,{shape:s,baseProps:o,entry:m,index:y,dataKey:l})))):null}function Ske(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:a,animationBegin:o,animationDuration:s,animationEasing:l,onAnimationEnd:u,onAnimationStart:c}=t,A=r.current,d=lb(t,"recharts-bar-"),[f,p]=E.useState(!1),g=!f,v=E.useCallback(()=>{typeof u=="function"&&u(),p(!1)},[u]),m=E.useCallback(()=>{typeof c=="function"&&c(),p(!0)},[c]);return E.createElement(bke,{showLabels:g,rects:n},E.createElement(sb,{animationId:d,begin:o,duration:s,isActive:a,easing:l,onAnimationEnd:v,onAnimationStart:m,key:d},y=>{var w=y===1?n:n==null?void 0:n.map((b,B)=>{var S=A&&A[B];if(S)return _a(_a({},b),{},{x:Tn(S.x,b.x,y),y:Tn(S.y,b.y,y),width:Tn(S.width,b.width,y),height:Tn(S.height,b.height,y)});if(i==="horizontal"){var P=Tn(0,b.height,y),k=Tn(b.stackedBarStart,b.y,y);return _a(_a({},b),{},{y:k,height:P})}var I=Tn(0,b.width,y),O=Tn(b.stackedBarStart,b.x,y);return _a(_a({},b),{},{width:I,x:O})});return y>0&&(r.current=w??null),w==null?null:E.createElement(gi,null,E.createElement(Eke,{props:t,data:w}))}),E.createElement(cG,{label:t.label}),t.children)}function Nke(e){var t=E.useRef(null);return E.createElement(Ske,{previousRectanglesRef:t,props:e})}var YG=0,Fke=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Qn(e,t)}};class Ike extends E.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:o,needClip:s,background:l,id:u}=this.props;if(t||r==null)return null;var c=ur("recharts-bar",i),A=u;return E.createElement(gi,{className:c,id:u},s&&E.createElement("defs",null,E.createElement(d_e,{clipPathId:A,xAxisId:a,yAxisId:o})),E.createElement(gi,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(A,")"):void 0},E.createElement(xke,{data:r,dataKey:n,background:l,allOtherBarProps:this.props}),E.createElement(Nke,this.props)))}}var _ke={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:YG,xAxisId:0,yAxisId:0,zIndex:jn.bar};function kke(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:s,animationDuration:l,animationEasing:u,isAnimationActive:c}=e,{needClip:A}=GG(t,r),d=wv(),f=xa(),p=pNe(e.children,wx),g=at(y=>nke(y,e.id,f,p));if(d!=="vertical"&&d!=="horizontal")return null;var v,m=g==null?void 0:g[0];return m==null||m.height==null||m.width==null?v=0:v=d==="vertical"?m.height/2:m.width/2,E.createElement(f_e,{xAxisId:t,yAxisId:r,data:g,dataPointFormatter:Fke,errorBarOffset:v},E.createElement(Ike,Qu({},e,{layout:d,needClip:A,data:g,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:s,animationDuration:l,animationEasing:u,isAnimationActive:c})))}function Pke(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:o,yAxis:s,xAxisTicks:l,yAxisTicks:u,stackedData:c,displayedData:A,offset:d,cells:f,parentViewBox:p,dataStartIndex:g}=e,v=t==="horizontal"?s:o,m=c?v.scale.domain():null,y=Hwe({numericAxis:v}),w=v.scale(y);return A.map((b,B)=>{var S,P,k,I,O,F;if(c){var N=c[B+g];if(N==null)return null;S=Uwe(N,m)}else S=Qn(b,r),Array.isArray(S)||(S=[y,S]);var U=M_e(n,YG)(S[1],B);if(t==="horizontal"){var M,[V,Q]=[s.scale(S[0]),s.scale(S[1])];P=EU({axis:o,ticks:l,bandSize:a,offset:i.offset,entry:b,index:B}),k=(M=Q??V)!==null&&M!==void 0?M:void 0,I=i.size;var W=V-Q;if(O=$s(W)?0:W,F={x:P,y:d.top,width:I,height:d.height},Math.abs(U)>0&&Math.abs(O)<Math.abs(U)){var D=Va(O||U)*(Math.abs(U)-Math.abs(O));k-=D,O+=D}}else{var[K,ie]=[o.scale(S[0]),o.scale(S[1])];if(P=K,k=EU({axis:s,ticks:u,bandSize:a,offset:i.offset,entry:b,index:B}),I=ie-K,O=i.size,F={x:d.left,y:k,width:d.width,height:O},Math.abs(U)>0&&Math.abs(I)<Math.abs(U)){var ee=Va(I||U)*(Math.abs(U)-Math.abs(I));I+=ee}}if(P==null||k==null||I==null||O==null)return null;var L=_a(_a({},b),{},{stackedBarStart:w,x:P,y:k,width:I,height:O,value:c?S:S[1],payload:b,background:F,tooltipPosition:{x:P+I/2,y:k+O/2},parentViewBox:p},f&&f[B]&&f[B].props);return L}).filter(Boolean)}function Oke(e){var t=Ti(e,_ke),r=ske(t.stackId),n=xa();return E.createElement(OG,{id:t.id,type:"bar"},i=>E.createElement(E.Fragment,null,E.createElement(TNe,{legendPayload:yke(t)}),E.createElement(wke,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),E.createElement(GNe,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),E.createElement(Ra,{zIndex:t.zIndex},E.createElement(kke,Qu({},t,{id:i})))))}var H4=E.memo(Oke,d_);H4.displayName="Bar";var Tke=["domain","range"],Lke=["domain","range"];function Cj(e,t){if(e==null)return{};var r,n,i=Uke(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Uke(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ej(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function JG(e,t){if(e===t)return!0;var{domain:r,range:n}=e,i=Cj(e,Tke),{domain:a,range:o}=t,s=Cj(t,Lke);return!Ej(r,a)||!Ej(n,o)?!1:d_(i,s)}var Rke=["dangerouslySetInnerHTML","ticks","scale"],Dke=["id","scale"];function $4(){return $4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$4.apply(null,arguments)}function Sj(e,t){if(e==null)return{};var r,n,i=jke(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function jke(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Mke(e){var t=zr(),r=E.useRef(null);return E.useLayoutEffect(()=>{r.current===null?t(uFe(e)):r.current!==e&&t(cFe({prev:r.current,next:e})),r.current=e},[e,t]),E.useLayoutEffect(()=>()=>{r.current&&(t(AFe(r.current)),r.current=null)},[t]),null}var Qke=e=>{var{xAxisId:t,className:r}=e,n=at(VF),i=xa(),a="xAxis",o=at(m=>AV(m,a,t,i)),s=at(m=>sV(m,t)),l=at(m=>j5e(m,t)),u=at(m=>Hz(m,t));if(s==null||l==null||u==null)return null;var{dangerouslySetInnerHTML:c,ticks:A,scale:d}=e,f=Sj(e,Rke),{id:p,scale:g}=u,v=Sj(u,Dke);return E.createElement(f_,$4({},f,v,{x:l.x,y:l.y,width:s.width,height:s.height,className:ur("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:o,axisType:a}))},Hke={allowDataOverflow:Ei.allowDataOverflow,allowDecimals:Ei.allowDecimals,allowDuplicatedCategory:Ei.allowDuplicatedCategory,angle:Ei.angle,axisLine:Nu.axisLine,height:Ei.height,hide:!1,includeHidden:Ei.includeHidden,interval:Ei.interval,minTickGap:Ei.minTickGap,mirror:Ei.mirror,orientation:Ei.orientation,padding:Ei.padding,reversed:Ei.reversed,scale:Ei.scale,tick:Ei.tick,tickCount:Ei.tickCount,tickLine:Nu.tickLine,tickSize:Nu.tickSize,type:Ei.type,xAxisId:0},$ke=e=>{var t=Ti(e,Hke);return E.createElement(E.Fragment,null,E.createElement(Mke,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),E.createElement(Qke,t))},W4=E.memo($ke,JG);W4.displayName="XAxis";var Wke=["dangerouslySetInnerHTML","ticks","scale"],Kke=["id","scale"];function K4(){return K4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},K4.apply(null,arguments)}function Nj(e,t){if(e==null)return{};var r,n,i=zke(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function zke(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Vke(e){var t=zr(),r=E.useRef(null);return E.useLayoutEffect(()=>{r.current===null?t(fFe(e)):r.current!==e&&t(dFe({prev:r.current,next:e})),r.current=e},[e,t]),E.useLayoutEffect(()=>()=>{r.current&&(t(hFe(r.current)),r.current=null)},[t]),null}var Gke=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,a=E.useRef(null),o=E.useRef(null),s=at(VF),l=xa(),u=zr(),c="yAxis",A=at(S=>lV(S,t)),d=at(S=>Q5e(S,t)),f=at(S=>AV(S,c,t,l)),p=at(S=>$z(S,t));if(E.useLayoutEffect(()=>{if(!(n!=="auto"||!A||n_(i)||E.isValidElement(i)||p==null)){var S=a.current;if(S){var P=S.getCalculatedWidth();Math.round(A.width)!==Math.round(P)&&u(pFe({id:t,width:P}))}}},[f,A,u,i,t,n,p]),A==null||d==null||p==null)return null;var{dangerouslySetInnerHTML:g,ticks:v,scale:m}=e,y=Nj(e,Wke),{id:w,scale:b}=p,B=Nj(p,Kke);return E.createElement(f_,K4({},y,B,{ref:a,labelRef:o,x:d.x,y:d.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:A.width,height:A.height,className:ur("recharts-".concat(c," ").concat(c),r),viewBox:s,ticks:f,axisType:c}))},qke={allowDataOverflow:Si.allowDataOverflow,allowDecimals:Si.allowDecimals,allowDuplicatedCategory:Si.allowDuplicatedCategory,angle:Si.angle,axisLine:Nu.axisLine,hide:!1,includeHidden:Si.includeHidden,interval:Si.interval,minTickGap:Si.minTickGap,mirror:Si.mirror,orientation:Si.orientation,padding:Si.padding,reversed:Si.reversed,scale:Si.scale,tick:Si.tick,tickCount:Si.tickCount,tickLine:Nu.tickLine,tickSize:Nu.tickSize,type:Si.type,width:Si.width,yAxisId:0},Xke=e=>{var t=Ti(e,qke);return E.createElement(E.Fragment,null,E.createElement(Vke,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),E.createElement(Gke,t))},z4=E.memo(Xke,JG);z4.displayName="YAxis";var Yke=(e,t)=>t,h_=be([Yke,sr,tp,wi,FV,tc,eSe,Li],sSe),p_=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},ZG=fs("mouseClick"),eq=vv();eq.startListening({actionCreator:ZG,effect:(e,t)=>{var r=e.payload,n=h_(t.getState(),p_(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(Z5e({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var V4=fs("mouseMove"),tq=vv(),Gy=null;tq.startListening({actionCreator:V4,effect:(e,t)=>{var r=e.payload;Gy!==null&&cancelAnimationFrame(Gy);var n=p_(r);Gy=requestAnimationFrame(()=>{var i=t.getState(),a=VI(i,i.tooltip.settings.shared);if(a==="axis"){var o=h_(i,n);(o==null?void 0:o.activeIndex)!=null?t.dispatch(wV({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(yV())}Gy=null})}});function Jke(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var Fj={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},rq=so({name:"rootProps",initialState:Fj,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:Fj.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Zke=rq.reducer,{updateOptions:ePe}=rq.actions,nq=so({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:tPe}=nq.actions,rPe=nq.reducer,iq=fs("keyDown"),aq=fs("focus"),m_=vv();m_.startListening({actionCreator:iq,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=GI(i,sp(r),_v(r),Tv(r)),s=o==null?-1:Number(o);if(!(!Number.isFinite(s)||s<0)){var l=tc(r);if(a==="Enter"){var u=yx(r,"axis","hover",String(i.index));t.dispatch(O4({active:!i.active,activeIndex:i.index,activeCoordinate:u}));return}var c=$5e(r),A=c==="left-to-right"?1:-1,d=a==="ArrowRight"?1:-1,f=s+d*A;if(!(l==null||f>=l.length||f<0)){var p=yx(r,"axis","hover",String(f));t.dispatch(O4({active:!0,activeIndex:f.toString(),activeCoordinate:p}))}}}}}});m_.startListening({actionCreator:aq,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",o=yx(r,"axis","hover",String(a));t.dispatch(O4({active:!0,activeIndex:a,activeCoordinate:o}))}}}});var qo=fs("externalEvent"),oq=vv(),j5=new Map;oq.startListening({actionCreator:qo,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var i=n.type,a=j5.get(i);a!==void 0&&cancelAnimationFrame(a);var o=requestAnimationFrame(()=>{try{var s=t.getState(),l={activeCoordinate:DEe(s),activeDataKey:PV(s),activeIndex:If(s),activeLabel:kV(s),activeTooltipIndex:If(s),isTooltipActive:jEe(s)};r(l,n)}finally{j5.delete(i)}});j5.set(i,o)}}});var nPe=be([ap],e=>e.tooltipItemPayloads),iPe=be([nPe,Ov,(e,t)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(s=>s.settings.graphicalItemId===n);if(i!=null){var{positions:a}=i;if(a!=null){var o=t(a,r);return o}}}),sq=fs("touchMove"),lq=vv();lq.startListening({actionCreator:sq,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),i=VI(n,n.tooltip.settings.shared);if(i==="axis"){var a=r.touches[0];if(a==null)return;var o=h_(n,p_({clientX:a.clientX,clientY:a.clientY,currentTarget:r.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(wV({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var s,l=r.touches[0];if(document.elementFromPoint==null||l==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var c=u.getAttribute(qwe),A=(s=u.getAttribute(Xwe))!==null&&s!==void 0?s:void 0,d=op(n).find(g=>g.id===A);if(c==null||d==null||A==null)return;var{dataKey:f}=d,p=iPe(n,c,A);t.dispatch(vV({activeDataKey:f,activeIndex:c,activeCoordinate:p,activeGraphicalItemId:A}))}}}});var aPe=EW({brush:uIe,cartesianAxis:mFe,chartData:RSe,errorBars:o_e,graphicalItems:zNe,layout:_we,legend:Txe,options:PSe,polarAxis:T3e,polarOptions:rPe,referenceElements:mIe,rootProps:Zke,tooltip:eEe,zIndex:xSe}),oPe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return twe({reducer:aPe,preloadedState:t,middleware:n=>{var i;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([eq.middleware,tq.middleware,m_.middleware,oq.middleware,lq.middleware])},enhancers:n=>{var i=n;return typeof n=="function"&&(i=n()),i.concat(MW({type:"raf"}))},devTools:{serialize:{replacer:Jke},name:"recharts-".concat(r)}})};function uq(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=xa(),a=E.useRef(null);if(i)return r;a.current==null&&(a.current=oPe(t,n));var o=UF;return E.createElement(L_e,{context:o,store:a.current},r)}function sPe(e){var{layout:t,margin:r}=e,n=zr(),i=xa();return E.useEffect(()=>{i||(n(Nwe(t)),n(Swe(r)))},[n,i,t,r]),null}var cq=E.memo(sPe,d_);function Aq(e){var t=zr();return E.useEffect(()=>{t(ePe(e))},[t,e]),null}function Ij(e){var{zIndex:t,isPanorama:r}=e,n=E.useRef(null),i=zr();return E.useLayoutEffect(()=>(n.current&&i(ySe({zIndex:t,element:n.current,isPanorama:r})),()=>{i(wSe({zIndex:t,isPanorama:r}))}),[i,t,r]),E.createElement("g",{tabIndex:-1,ref:n})}function _j(e){var{children:t,isPanorama:r}=e,n=at(uSe);if(!n||n.length===0)return t;var i=n.filter(o=>o<0),a=n.filter(o=>o>0);return E.createElement(E.Fragment,null,i.map(o=>E.createElement(Ij,{key:o,zIndex:o,isPanorama:r})),t,a.map(o=>E.createElement(Ij,{key:o,zIndex:o,isPanorama:r})))}var lPe=["children"];function uPe(e,t){if(e==null)return{};var r,n,i=cPe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function cPe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ix(){return Ix=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ix.apply(null,arguments)}var APe={width:"100%",height:"100%",display:"block"},fPe=E.forwardRef((e,t)=>{var r=AK(),n=fK(),i=BK();if(!Tl(r)||!Tl(n))return null;var{children:a,otherAttributes:o,title:s,desc:l}=e,u,c;return o!=null&&(typeof o.tabIndex=="number"?u=o.tabIndex:u=i?0:void 0,typeof o.role=="string"?c=o.role:c=i?"application":void 0),E.createElement(F$,Ix({},o,{title:s,desc:l,role:c,tabIndex:u,width:r,height:n,style:APe,ref:t}),a)}),dPe=e=>{var{children:t}=e,r=at(eb);if(!r)return null;var{width:n,height:i,y:a,x:o}=r;return E.createElement(F$,{width:n,height:i,x:o,y:a},t)},kj=E.forwardRef((e,t)=>{var{children:r}=e,n=uPe(e,lPe),i=xa();return i?E.createElement(dPe,null,E.createElement(_j,{isPanorama:!0},r)):E.createElement(fPe,Ix({ref:t},n),E.createElement(_j,{isPanorama:!1},r))});function hPe(){var e=zr(),[t,r]=E.useState(null),n=at(Gwe);return E.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;vn(a)&&a!==n&&e(Iwe(a))}},[t,e,n]),r}function Pj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pPe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pj(Object(r),!0).forEach(function(n){mPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mPe(e,t,r){return(t=gPe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gPe(e){var t=vPe(e,"string");return typeof t=="symbol"?t:t+""}function vPe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pf(){return Pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pf.apply(null,arguments)}var yPe=()=>(zSe(),null);function _x(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var wPe=E.forwardRef((e,t)=>{var r,n,i=E.useRef(null),[a,o]=E.useState({containerWidth:_x((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:_x((n=e.style)===null||n===void 0?void 0:n.height)}),s=E.useCallback((u,c)=>{o(A=>{var d=Math.round(u),f=Math.round(c);return A.containerWidth===d&&A.containerHeight===f?A:{containerWidth:d,containerHeight:f}})},[]),l=E.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:c,height:A}=u.getBoundingClientRect();s(c,A);var d=p=>{var{width:g,height:v}=p[0].contentRect;s(g,v)},f=new ResizeObserver(d);f.observe(u),i.current=f}},[t,s]);return E.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[s]),E.createElement(E.Fragment,null,E.createElement(rb,{width:a.containerWidth,height:a.containerHeight}),E.createElement("div",Pf({ref:l},e)))}),xPe=E.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,a]=E.useState({containerWidth:_x(r),containerHeight:_x(n)}),o=E.useCallback((l,u)=>{a(c=>{var A=Math.round(l),d=Math.round(u);return c.containerWidth===A&&c.containerHeight===d?c:{containerWidth:A,containerHeight:d}})},[]),s=E.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:u,height:c}=l.getBoundingClientRect();o(u,c)}},[t,o]);return E.createElement(E.Fragment,null,E.createElement(rb,{width:i.containerWidth,height:i.containerHeight}),E.createElement("div",Pf({ref:s},e)))}),bPe=E.forwardRef((e,t)=>{var{width:r,height:n}=e;return E.createElement(E.Fragment,null,E.createElement(rb,{width:r,height:n}),E.createElement("div",Pf({ref:t},e)))}),BPe=E.forwardRef((e,t)=>{var{width:r,height:n}=e;return Lu(r)||Lu(n)?E.createElement(xPe,Pf({},e,{ref:t})):E.createElement(bPe,Pf({},e,{ref:t}))});function CPe(e){return e===!0?wPe:BPe}var EPe=E.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:o,onDoubleClick:s,onMouseDown:l,onMouseEnter:u,onMouseLeave:c,onMouseMove:A,onMouseUp:d,onTouchEnd:f,onTouchMove:p,onTouchStart:g,style:v,width:m,responsive:y,dispatchTouchEvents:w=!0}=e,b=E.useRef(null),B=zr(),[S,P]=E.useState(null),[k,I]=E.useState(null),O=hPe(),F=GF(),N=(F==null?void 0:F.width)>0?F.width:m,U=(F==null?void 0:F.height)>0?F.height:i,M=E.useCallback(ne=>{O(ne),typeof t=="function"&&t(ne),P(ne),I(ne),ne!=null&&(b.current=ne)},[O,t,P,I]),V=E.useCallback(ne=>{B(ZG(ne)),B(qo({handler:a,reactEvent:ne}))},[B,a]),Q=E.useCallback(ne=>{B(V4(ne)),B(qo({handler:u,reactEvent:ne}))},[B,u]),W=E.useCallback(ne=>{B(yV()),B(qo({handler:c,reactEvent:ne}))},[B,c]),D=E.useCallback(ne=>{B(V4(ne)),B(qo({handler:A,reactEvent:ne}))},[B,A]),K=E.useCallback(()=>{B(aq())},[B]),ie=E.useCallback(ne=>{B(iq(ne.key))},[B]),ee=E.useCallback(ne=>{B(qo({handler:o,reactEvent:ne}))},[B,o]),L=E.useCallback(ne=>{B(qo({handler:s,reactEvent:ne}))},[B,s]),j=E.useCallback(ne=>{B(qo({handler:l,reactEvent:ne}))},[B,l]),z=E.useCallback(ne=>{B(qo({handler:d,reactEvent:ne}))},[B,d]),X=E.useCallback(ne=>{B(qo({handler:g,reactEvent:ne}))},[B,g]),ae=E.useCallback(ne=>{w&&B(sq(ne)),B(qo({handler:p,reactEvent:ne}))},[B,w,p]),Z=E.useCallback(ne=>{B(qo({handler:f,reactEvent:ne}))},[B,f]),ce=CPe(y);return E.createElement(jV.Provider,{value:S},E.createElement(V0e.Provider,{value:k},E.createElement(ce,{width:N??(v==null?void 0:v.width),height:U??(v==null?void 0:v.height),className:ur("recharts-wrapper",n),style:pPe({position:"relative",cursor:"default",width:N,height:U},v),onClick:V,onContextMenu:ee,onDoubleClick:L,onFocus:K,onKeyDown:ie,onMouseDown:j,onMouseEnter:Q,onMouseLeave:W,onMouseMove:D,onMouseUp:z,onTouchEnd:Z,onTouchMove:ae,onTouchStart:X,ref:M},E.createElement(yPe,null),r)))}),SPe=["width","height","responsive","children","className","style","compact","title","desc"];function NPe(e,t){if(e==null)return{};var r,n,i=FPe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function FPe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var fq=E.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:a,className:o,style:s,compact:l,title:u,desc:c}=e,A=NPe(e,SPe),d=Hn(A);return l?E.createElement(E.Fragment,null,E.createElement(rb,{width:r,height:n}),E.createElement(kj,{otherAttributes:d,title:u,desc:c},a)):E.createElement(EPe,{className:o,style:s,width:r,height:n,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},E.createElement(kj,{otherAttributes:d,title:u,desc:c,ref:t},E.createElement(vIe,null,a)))});function G4(){return G4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G4.apply(null,arguments)}var IPe={top:5,right:5,bottom:5,left:5},_Pe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:IPe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},kPe=E.forwardRef(function(t,r){var n,i=Ti(t.categoricalChartProps,_Pe),{chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:s,tooltipPayloadSearcher:l,categoricalChartProps:u}=t,c={chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:s,tooltipPayloadSearcher:l,eventEmitter:void 0};return E.createElement(uq,{preloadedState:{options:c},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:a},E.createElement(HG,{chartData:u.data}),E.createElement(cq,{layout:i.layout,margin:i.margin}),E.createElement(Aq,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),E.createElement(fq,G4({},i,{ref:r})))}),PPe=["axis","item"],Oj=E.forwardRef((e,t)=>E.createElement(kPe,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:PPe,tooltipPayloadSearcher:QV,categoricalChartProps:e,ref:t}));function OPe(e){var t=zr();return E.useEffect(()=>{t(tPe(e))},[t,e]),null}var TPe=["layout"];function q4(){return q4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q4.apply(null,arguments)}function LPe(e,t){if(e==null)return{};var r,n,i=UPe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function UPe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var RPe={top:5,right:5,bottom:5,left:5},dq={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:RPe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},DPe=E.forwardRef(function(t,r){var n,i=Ti(t.categoricalChartProps,dq),{layout:a}=i,o=LPe(i,TPe),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c}=t,A={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,eventEmitter:void 0};return E.createElement(uq,{preloadedState:{options:A},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:s},E.createElement(HG,{chartData:i.data}),E.createElement(cq,{layout:a,margin:i.margin}),E.createElement(Aq,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),E.createElement(OPe,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),E.createElement(fq,q4({},o,{ref:r})))});function Tj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Lj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tj(Object(r),!0).forEach(function(n){jPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jPe(e,t,r){return(t=MPe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MPe(e){var t=QPe(e,"string");return typeof t=="symbol"?t:t+""}function QPe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HPe=["axis"],$Pe=Lj(Lj({},dq),{},{layout:"centric",startAngle:90,endAngle:-270}),WPe=E.forwardRef((e,t)=>{var r=Ti(e,$Pe);return E.createElement(DPe,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:HPe,tooltipPayloadSearcher:QV,categoricalChartProps:r,ref:t})});function KPe(){var ne,pe,ye,de,Ie,De,Y;const{sessionId:e}=$h(),t=jo(),[r,n]=E.useState(null),[i,a]=E.useState(!0),[o,s]=E.useState(!1),[l,u]=E.useState(null),[c,A]=E.useState(!1),[d,f]=E.useState(!1),[p,g]=E.useState(!1),[v,m]=E.useState([]),[y,w]=E.useState(null),[b,B]=E.useState(null),[S,P]=E.useState(!1),[k,I]=E.useState("select"),[O,F]=E.useState(!1),[N,U]=E.useState(null);E.useEffect(()=>{e&&(M(),V())},[e]);const M=async()=>{try{a(!0),u(null);const Ae=await p2(e);n(Ae)}catch(Ae){if(console.error("Failed to load report:",Ae),Ae.message.includes("404")||Ae.message.includes("not found"))try{s(!0);const Ee=await vN(e);n(Ee)}catch{u("Failed to generate report. Please ensure the test is completed.")}finally{s(!1)}else u(Ae.message)}finally{a(!1)}},V=async()=>{try{const Ae=await i7(e);A(Ae)}catch(Ae){console.error("Failed to check if report is saved:",Ae)}},Q=async()=>{try{await e7(e,r)}catch(Ae){console.error("Failed to download PDF:",Ae),alert("Failed to download PDF report. Please try again.")}},W=async()=>{try{await t7(e)}catch(Ae){console.error("Failed to download answers PDF:",Ae),alert(Ae.message||"Failed to download answers. Please try again.")}},D=async()=>{if(c){alert("This report is already saved!");return}try{f(!0),await r7(e),A(!0),alert("Report saved successfully! You can view it from the home page.")}catch(Ae){console.error("Failed to save report:",Ae),alert(Ae.message||"Failed to save report. Please try again.")}finally{f(!1)}},K=async()=>{g(!0),I("select");try{const Ae=await cg();Ae.success&&Ae.data&&m(Ae.data)}catch(Ae){console.error("Failed to load profiles:",Ae)}},ie=async Ae=>{const Ee=Ae.target.files[0];if(Ee)if(Ee.type==="application/json"||Ee.name.endsWith(".json")){const Pe=new FileReader;Pe.onload=Se=>{try{const Ke=JSON.parse(Se.target.result);ee(Ke)}catch{alert("Invalid profile file. Please upload a valid JSON file.")}},Pe.readAsText(Ee)}else if(Ee.type==="application/pdf"||Ee.name.endsWith(".pdf"))try{const Pe=await KQ(Ee);if(Pe.success&&Pe.data)ee(Pe.data);else throw new Error(Pe.error||"Failed to parse PDF file")}catch(Pe){console.error("Error parsing PDF:",Pe),alert(Pe.message||"Failed to parse PDF file. Please try again.")}else alert("Please upload a JSON or PDF file.")},ee=Ae=>{B(Ae),g(!1),t("/psychometric/profile-preview",{state:{profileData:Ae,reportData:r,sessionId:e}})},L=Ae=>{w(Ae),B(null)},j=async()=>{if(y)try{P(!0);const Ae=y.profile||y,Ee=await HQ({profileId:Ae.id,profileData:Ae,reportData:r,sessionId:e});Ee.success?(g(!1),w(null),alert("Profile enhanced successfully! To check, visit saved profiles.")):alert(Ee.error||"Failed to enhance profile. Please try again.")}catch(Ae){console.error("Failed to enhance profile:",Ae),alert(Ae.message||"Failed to enhance profile. Please try again.")}finally{P(!1)}},z=()=>{F(!1),N&&t(`/profile/${N}`)},X=()=>{g(!1),w(null),B(null),I("select")},ae=async()=>{t(`/psychometric/profile-from-report/${e}`,{state:{reportData:r,sessionId:e}})};if(i||o)return h.jsx("div",{className:"page",children:h.jsxs("div",{className:"card",children:[h.jsx("p",{children:o?"Generating report...":"Loading report..."}),h.jsx("p",{className:"muted",children:"This may take a moment."})]})});if(l)return h.jsx("div",{className:"page",children:h.jsxs("div",{className:"card",children:[h.jsx("p",{className:"error",children:l}),h.jsx("button",{onClick:()=>t("/psychometric/start"),className:"btn-primary",children:"Go Back"})]})});if(!r)return h.jsx("div",{className:"page",children:h.jsxs("div",{className:"card",children:[h.jsx("p",{className:"error",children:"No report found"}),h.jsx("button",{onClick:()=>t("/psychometric/start"),className:"btn-primary",children:"Go Back"})]})});const Z=r.userInfo||{},ce=r.chartsData||{};return h.jsxs("div",{className:"page report-page",children:[h.jsxs("div",{className:"report-container",children:[h.jsx("div",{className:"report-header",children:h.jsx("h1",{className:"report-title",children:"CANDIDATE REPORT"})}),h.jsxs("div",{className:"candidate-info-section",children:[h.jsxs("div",{className:"candidate-info-left",children:[h.jsxs("div",{className:"candidate-name-section",children:[h.jsx("div",{className:"candidate-label",children:"CANDIDATE NAME"}),h.jsx("h2",{className:"candidate-name",children:Z.name||"Candidate"})]}),h.jsxs("div",{className:"resume-link-section",children:[h.jsx("div",{className:"resume-label",children:"EMAIL"}),h.jsx("div",{className:"email-text",children:Z.email||"connect@crezam.com"})]}),r.reportGeneratedAt&&h.jsx("div",{className:"report-date",children:new Date(r.reportGeneratedAt).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})})]}),h.jsxs("div",{className:"candidate-info-right",children:[h.jsxs("div",{className:"scores-section",children:[h.jsxs("div",{className:"score-box",children:[h.jsx("div",{className:"score-label",children:"MCQ SCORING"}),h.jsxs("div",{className:"score-value",children:[r.correct||0,"/",r.totalQuestions||0]})]}),h.jsxs("div",{className:"score-box",children:[h.jsx("div",{className:"score-label",children:"CANDIDATE PERCENTAGE"}),h.jsxs("div",{className:"score-value",children:[((ne=r.candidatePercentile)==null?void 0:ne.toFixed(2))||"0.00","%"]})]})]}),h.jsxs("div",{className:"progress-bar-section",children:[h.jsx("div",{className:"progress-bar-container",children:h.jsx("div",{className:"progress-bar-fill",style:{width:`${r.candidatePercentile||0}%`}})}),h.jsxs("div",{className:"progress-text",children:[((pe=r.candidatePercentile)==null?void 0:pe.toFixed(2))||"0.00","/100"]})]})]})]}),h.jsxs("div",{className:"report-actions",children:[h.jsx("button",{onClick:W,className:"btn-view-answers",children:"VIEW ANSWERS"}),h.jsx("button",{onClick:D,className:`btn-save-report ${c?"saved":""}`,disabled:d||c,children:d?"SAVING...":c?"SAVED ":"SAVE REPORT"}),h.jsx("button",{onClick:Q,className:"btn-download-report",children:"DOWNLOAD FULL REPORT"}),h.jsx("button",{onClick:ae,className:"btn-create-profile",disabled:!r,children:"CREATE PROFILE FROM REPORT"}),h.jsx("button",{onClick:K,className:"btn-enhance-profile",children:"ENHANCE PROFILE"})]}),h.jsxs("div",{className:"report-section",children:[h.jsx("h3",{children:"BIO"}),h.jsx("p",{className:"section-description",children:"This section provides a comprehensive overview of the candidate's professional background, educational qualifications, career aspirations, and personal interests."}),h.jsx("div",{className:"bio-content",children:r.summaryBio?h.jsx("p",{children:r.summaryBio}):h.jsxs("div",{children:[Z.careerInterest&&h.jsxs("p",{children:[h.jsx("strong",{children:"Career Interest:"})," ",Z.careerInterest]}),Z.degree&&h.jsxs("p",{children:[h.jsx("strong",{children:"Education:"})," ",Z.degree," ",Z.specialization?`in ${Z.specialization}`:""]}),Z.technicalSkills&&h.jsxs("p",{children:[h.jsx("strong",{children:"Technical Skills:"})," ",Z.technicalSkills]}),Z.softSkills&&h.jsxs("p",{children:[h.jsx("strong",{children:"Soft Skills:"})," ",Z.softSkills]}),Z.hobbies&&h.jsxs("p",{children:[h.jsx("strong",{children:"Hobbies:"})," ",Z.hobbies]}),Z.interests&&h.jsxs("p",{children:[h.jsx("strong",{children:"Interests:"})," ",Z.interests]})]})})]}),h.jsxs("div",{className:"report-section",children:[h.jsx("h3",{children:"EDUCATION"}),h.jsx("p",{className:"section-description",children:"This section details the candidate's academic qualifications, including their degree, specialization, and educational institution."}),r.university&&h.jsxs("p",{children:[h.jsx("strong",{children:"UNIVERSITY:"})," ",r.university]}),r.yearOfGraduation&&h.jsxs("p",{children:[h.jsx("strong",{children:"YEAR OF GRADUATION:"})," ",r.yearOfGraduation]}),h.jsxs("p",{children:[h.jsx("strong",{children:"DEGREE:"})," ",Z.degree||r.degree||"N/A"]}),Z.specialization&&h.jsxs("p",{children:[h.jsx("strong",{children:"SPECIALIZATION:"})," ",Z.specialization]})]}),h.jsxs("div",{className:"report-section",children:[h.jsx("h3",{children:"SUMMARY OF PSYCHOMETRIC TEST"}),h.jsx("p",{className:"section-description",children:"This section provides a comprehensive analysis of the candidate's performance across all sections of the psychometric assessment, including aptitude, behavioral, and domain-specific evaluations."}),h.jsx("div",{className:"interview-content",children:r.interviewSummary?r.interviewSummary.split(`

`).map((Ae,Ee)=>h.jsx("p",{children:Ae},Ee)):h.jsx("p",{children:"No psychometric test summary available."})})]}),h.jsxs("div",{className:"report-section swot-section",children:[h.jsx("h3",{children:"SWOT Analysis"}),h.jsx("p",{className:"section-description",children:"SWOT (Strengths, Weaknesses, Opportunities, Threats) analysis provides a structured evaluation of the candidate's profile, identifying key areas of excellence, areas for improvement, potential growth opportunities, and external factors that may impact their career trajectory."}),h.jsxs("div",{className:"swot-grid",children:[h.jsxs("div",{className:"swot-item",children:[h.jsx("h4",{children:"Strengths"}),h.jsx("ul",{children:r.strengths&&r.strengths.length>0?r.strengths.map((Ae,Ee)=>h.jsx("li",{children:Ae},Ee)):h.jsx("li",{children:"No strengths identified"})})]}),h.jsxs("div",{className:"swot-item",children:[h.jsx("h4",{children:"Weaknesses"}),h.jsx("ul",{children:r.weaknesses&&r.weaknesses.length>0?r.weaknesses.map((Ae,Ee)=>h.jsx("li",{children:Ae},Ee)):h.jsx("li",{children:"No weaknesses identified"})})]}),h.jsxs("div",{className:"swot-item",children:[h.jsx("h4",{children:"Opportunities"}),h.jsx("ul",{children:r.opportunities&&r.opportunities.length>0?r.opportunities.map((Ae,Ee)=>h.jsx("li",{children:Ae},Ee)):h.jsx("li",{children:"No opportunities identified"})})]}),h.jsxs("div",{className:"swot-item",children:[h.jsx("h4",{children:"Threats"}),h.jsx("ul",{children:r.threats&&r.threats.length>0?r.threats.map((Ae,Ee)=>h.jsx("li",{children:Ae},Ee)):h.jsx("li",{children:"No threats identified"})})]})]}),r.swotAnalysis&&h.jsx("div",{className:"swot-narrative",children:r.swotAnalysis.split(`

`).map((Ae,Ee)=>h.jsx("p",{children:Ae},Ee))})]}),h.jsxs("div",{className:"report-section fit-section",children:[h.jsx("h3",{children:"FIT ANALYSIS"}),h.jsx("p",{className:"section-description",children:"This analysis evaluates how well the candidate's skills, personality traits, and performance align with their chosen career path and the requirements of their field of interest."}),h.jsxs("div",{className:"fit-content-wrapper",children:[h.jsx("div",{className:"fit-content",children:r.fitAnalysis?r.fitAnalysis.split(`

`).map((Ae,Ee)=>h.jsx("p",{children:Ae},Ee)):h.jsx("p",{children:"No fit analysis available."})}),h.jsxs("div",{className:"chart-container",children:[h.jsx(v5,{width:"100%",height:300,children:h.jsxs(Oj,{data:[{name:"POOR",score:(ce==null?void 0:ce.poorScore)||30,fill:"#cbd5e1"},{name:"AVERAGE",score:(ce==null?void 0:ce.averageScore)||60,fill:"#94a3b8"},{name:"BEST",score:(ce==null?void 0:ce.bestScore)||90,fill:"#10b981"},{name:"You",score:(ce==null?void 0:ce.candidatePosition)==="BEST"?ce==null?void 0:ce.bestScore:((ce==null?void 0:ce.candidatePosition)==="AVERAGE"?ce==null?void 0:ce.averageScore:ce==null?void 0:ce.poorScore)||50,fill:"#3b82f6"}],margin:{top:20,right:30,left:0,bottom:5},children:[h.jsx(j4,{strokeDasharray:"3 3",vertical:!1}),h.jsx(W4,{dataKey:"name",tick:{fill:"#64748b",fontSize:12},axisLine:!1,tickLine:!1}),h.jsx(z4,{hide:!0}),h.jsx(k5,{cursor:{fill:"transparent"},contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgba(0,0,0,0.1)"}}),h.jsx(H4,{dataKey:"score",radius:[4,4,0,0],children:[{name:"POOR",color:"#cbd5e1"},{name:"AVERAGE",color:"#94a3b8"},{name:"BEST",color:"#10b981"},{name:"You",color:"#3b82f6"}].map((Ae,Ee)=>h.jsx(wx,{fill:Ae.color},`cell-${Ee}`))})]})}),h.jsxs("div",{className:"candidate-indicator",style:{marginTop:"10px",color:"#3b82f6",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[h.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#3b82f6"}}),((ye=Z.name)==null?void 0:ye.toUpperCase())||"CANDIDATE"]})]})]})]}),h.jsx("div",{className:"report-page-break"}),h.jsxs("div",{className:"report-section",children:[h.jsx("h3",{children:"Extended Analysis"}),h.jsx("p",{className:"section-description",children:"This section provides an in-depth narrative analysis of the candidate's overall profile, synthesizing performance metrics, personality traits, and behavioral patterns into a comprehensive assessment."}),r.narrativeSummary?h.jsx("div",{className:"narrative",children:r.narrativeSummary.split(`

`).map((Ae,Ee)=>h.jsx("p",{children:Ae},Ee))}):h.jsx("p",{children:"No extended analysis available."})]}),h.jsxs("div",{className:"report-section",children:[h.jsx("h3",{children:"Behavioral Insights"}),h.jsx("p",{className:"section-description",children:"This section analyzes the candidate's behavioral patterns, personality traits, and interpersonal skills based on their responses to behavioral assessment questions."}),r.behavioralInsights?h.jsx("div",{className:"narrative",children:r.behavioralInsights.split(`

`).map((Ae,Ee)=>h.jsx("p",{children:Ae},Ee))}):h.jsx("p",{children:"No behavioral insights available."})]}),h.jsxs("div",{className:"report-section",children:[h.jsx("h3",{children:"Domain-Specific Insights"}),h.jsx("p",{className:"section-description",children:"This section provides specialized insights into the candidate's knowledge and performance in their specific domain or field of expertise, based on domain-specific assessment questions."}),r.domainInsights?h.jsx("div",{className:"narrative",children:r.domainInsights.split(`

`).map((Ae,Ee)=>h.jsx("p",{children:Ae},Ee))}):h.jsx("p",{children:"No domain insights available."})]}),h.jsxs("div",{className:"report-section",children:[h.jsx("h3",{children:"Big Five Personality Traits"}),h.jsx("p",{className:"section-description",children:"The Big Five personality model evaluates five core dimensions of personality: Openness to Experience, Conscientiousness, Extraversion, Agreeableness, and Neuroticism, providing insights into the candidate's personality structure and behavioral tendencies."}),h.jsx("div",{className:"big-five-chart-container",children:h.jsx(v5,{width:"100%",height:400,children:h.jsxs(WPe,{cx:"50%",cy:"50%",outerRadius:"80%",data:[{subject:"Openness",A:r.openness||0,fullMark:100},{subject:"Conscientiousness",A:r.conscientiousness||0,fullMark:100},{subject:"Extraversion",A:r.extraversion||0,fullMark:100},{subject:"Agreeableness",A:r.agreeableness||0,fullMark:100},{subject:"Neuroticism",A:r.neuroticism||0,fullMark:100}],children:[h.jsx(gG,{stroke:"#e2e8f0"}),h.jsx(EG,{dataKey:"subject",tick:{fill:"#64748b",fontSize:12,fontWeight:600}}),h.jsx(CG,{angle:30,domain:[0,100],tick:!1,axisLine:!1}),h.jsx(QG,{name:"Score",dataKey:"A",stroke:"#3b82f6",strokeWidth:3,fill:"#3b82f6",fillOpacity:.2}),h.jsx(k5,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgba(0,0,0,0.1)"}})]})})}),h.jsxs("div",{className:"big-five-details",children:[h.jsxs("div",{className:"trait-detail-item",children:[h.jsxs("div",{className:"trait-detail-header",children:[h.jsx("h4",{children:"Openness to Experience"}),h.jsxs("span",{className:"trait-score",children:[r.openness||0,"/100"]})]}),h.jsxs("p",{className:"trait-description",children:["Measures curiosity, creativity, and willingness to try new experiences.",(r.openness||0)>=70?" High scorers are imaginative, adventurous, and intellectually curious, embracing new ideas and unconventional approaches.":(r.openness||0)>=40?" Moderate scorers balance traditional and innovative approaches, showing selective openness to new experiences.":" Lower scorers prefer familiar routines, practical solutions, and conventional approaches to problems."]})]}),h.jsxs("div",{className:"trait-detail-item",children:[h.jsxs("div",{className:"trait-detail-header",children:[h.jsx("h4",{children:"Conscientiousness"}),h.jsxs("span",{className:"trait-score",children:[r.conscientiousness||0,"/100"]})]}),h.jsxs("p",{className:"trait-description",children:["Reflects organization, dependability, and goal-directed behavior.",(r.conscientiousness||0)>=70?" High scorers are disciplined, thorough, and reliable, excelling at planning and following through on commitments.":(r.conscientiousness||0)>=40?" Moderate scorers demonstrate reasonable organization and reliability, balancing structure with flexibility.":" Lower scorers tend to be more spontaneous and flexible, sometimes at the expense of organization and planning."]})]}),h.jsxs("div",{className:"trait-detail-item",children:[h.jsxs("div",{className:"trait-detail-header",children:[h.jsx("h4",{children:"Extraversion"}),h.jsxs("span",{className:"trait-score",children:[r.extraversion||0,"/100"]})]}),h.jsxs("p",{className:"trait-description",children:["Indicates sociability, assertiveness, and energy from social interactions.",(r.extraversion||0)>=70?" High scorers are outgoing, energetic, and thrive in social settings, preferring teamwork and external stimulation.":(r.extraversion||0)>=40?" Moderate scorers (ambiverts) adapt well to both social and solitary situations, balancing interaction with reflection.":" Lower scorers (introverts) prefer quieter, more solitary activities and may excel in independent work requiring deep focus."]})]}),h.jsxs("div",{className:"trait-detail-item",children:[h.jsxs("div",{className:"trait-detail-header",children:[h.jsx("h4",{children:"Agreeableness"}),h.jsxs("span",{className:"trait-score",children:[r.agreeableness||0,"/100"]})]}),h.jsxs("p",{className:"trait-description",children:["Evaluates cooperation, compassion, and interpersonal harmony.",(r.agreeableness||0)>=70?" High scorers are empathetic, cooperative, and prioritize maintaining positive relationships and team harmony.":(r.agreeableness||0)>=40?" Moderate scorers balance cooperation with assertiveness, showing both empathy and the ability to challenge when necessary.":" Lower scorers tend to be more competitive and direct, prioritizing objectivity and results over interpersonal harmony."]})]}),h.jsxs("div",{className:"trait-detail-item",children:[h.jsxs("div",{className:"trait-detail-header",children:[h.jsx("h4",{children:"Neuroticism (Emotional Stability)"}),h.jsxs("span",{className:"trait-score",children:[r.neuroticism||0,"/100"]})]}),h.jsxs("p",{className:"trait-description",children:["Measures emotional stability and stress resilience.",(r.neuroticism||0)>=70?" High scorers may experience more frequent emotional fluctuations and stress sensitivity, which can drive careful risk assessment.":(r.neuroticism||0)>=40?" Moderate scorers show balanced emotional responses, with good stress management in most situations.":" Lower scorers demonstrate strong emotional stability, remaining calm and composed under pressure with excellent stress resilience."]})]})]})]}),h.jsxs("div",{className:"report-section",children:[h.jsx("h3",{children:"Performance Summary"}),h.jsx("p",{className:"section-description",children:"This section provides a quantitative overview of the candidate's performance across different assessment sections, including aptitude, behavioral, and domain-specific scores, along with the overall performance metric."}),h.jsx("div",{className:"performance-chart-container",children:h.jsx(v5,{width:"100%",height:350,children:h.jsxs(Oj,{data:[{name:"Aptitude",score:r.aptitudeScore||0,fill:"#3b82f6"},{name:"Behavioral",score:r.behavioralScore||0,fill:"#8b5cf6"},{name:"Domain",score:r.domainScore||0,fill:"#f59e0b"},{name:"Overall",score:r.overallScore||0,fill:"#10b981"}],margin:{top:20,right:30,left:20,bottom:5},layout:"vertical",children:[h.jsx(j4,{strokeDasharray:"3 3",horizontal:!1}),h.jsx(W4,{type:"number",domain:[0,100],hide:!0}),h.jsx(z4,{dataKey:"name",type:"category",width:100,tick:{fill:"#64748b",fontSize:13,fontWeight:600},axisLine:!1,tickLine:!1}),h.jsx(k5,{cursor:{fill:"transparent"},contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgba(0,0,0,0.1)"},formatter:Ae=>[`${Ae.toFixed(1)}%`,"Score"]}),h.jsx(H4,{dataKey:"score",radius:[0,4,4,0],barSize:40,children:[{name:"Aptitude",color:"#3b82f6"},{name:"Behavioral",color:"#8b5cf6"},{name:"Domain",color:"#f59e0b"},{name:"Overall",color:"#10b981"}].map((Ae,Ee)=>h.jsx(wx,{fill:Ae.color},`cell-${Ee}`))})]})})}),h.jsxs("div",{className:"performance-details",children:[h.jsxs("div",{className:"performance-detail-item",children:[h.jsxs("div",{className:"performance-detail-header",children:[h.jsx("h4",{children:"Aptitude Score"}),h.jsxs("span",{className:"performance-score",children:[((de=r.aptitudeScore)==null?void 0:de.toFixed(1))||"0.0","%"]})]}),h.jsx("p",{className:"performance-description",children:"Measures cognitive abilities, problem-solving skills, and analytical thinking. This score reflects the candidate's capacity to understand complex concepts, apply logical reasoning, and solve quantitative and qualitative problems efficiently."})]}),h.jsxs("div",{className:"performance-detail-item",children:[h.jsxs("div",{className:"performance-detail-header",children:[h.jsx("h4",{children:"Behavioral Score"}),h.jsxs("span",{className:"performance-score",children:[((Ie=r.behavioralScore)==null?void 0:Ie.toFixed(1))||"0.0","%"]})]}),h.jsx("p",{className:"performance-description",children:"Evaluates interpersonal skills, emotional intelligence, and situational judgment. This score indicates how well the candidate handles workplace scenarios, demonstrates leadership, manages conflicts, and adapts to changing situations."})]}),h.jsxs("div",{className:"performance-detail-item",children:[h.jsxs("div",{className:"performance-detail-header",children:[h.jsx("h4",{children:"Domain Score"}),h.jsxs("span",{className:"performance-score",children:[((De=r.domainScore)==null?void 0:De.toFixed(1))||"0.0","%"]})]}),h.jsx("p",{className:"performance-description",children:"Assesses specialized knowledge and technical proficiency in the candidate's field of expertise. This score demonstrates the depth of understanding in domain-specific concepts, tools, and best practices relevant to their career path."})]}),h.jsxs("div",{className:"performance-detail-item overall-detail",children:[h.jsxs("div",{className:"performance-detail-header",children:[h.jsx("h4",{children:"Overall Score"}),h.jsxs("span",{className:"performance-score overall-score-highlight",children:[((Y=r.overallScore)==null?void 0:Y.toFixed(1))||"0.0","%"]})]}),h.jsx("p",{className:"performance-description",children:"Represents the comprehensive evaluation combining all assessment components. This composite score provides a holistic measure of the candidate's readiness and suitability for their chosen career path, taking into account cognitive abilities, behavioral competencies, and domain expertise."})]})]})]})]}),p&&h.jsx("div",{className:"enhance-modal-overlay",onClick:X,children:h.jsxs("div",{className:"enhance-modal",onClick:Ae=>Ae.stopPropagation(),children:[h.jsxs("div",{className:"enhance-modal-header",children:[h.jsx("h2",{children:"Enhance Profile with Report Data"}),h.jsx("button",{className:"enhance-modal-close",onClick:X,children:""})]}),h.jsxs("div",{className:"enhance-modal-content",children:[h.jsx("p",{className:"enhance-modal-description",children:"Select a saved profile or upload a profile to preview and enhance it with insights from this psychometric report."}),h.jsxs("div",{className:"enhance-section",children:[h.jsx("h3",{children:"Upload Profile"}),h.jsxs("div",{className:"upload-profile-area",children:[h.jsx("input",{type:"file",accept:".json,.pdf",onChange:ie,id:"profile-upload",className:"profile-upload-input"}),h.jsx("label",{htmlFor:"profile-upload",className:"profile-upload-label",children:h.jsx("span",{children:"Choose a profile file (.json or .pdf)"})})]})]}),h.jsx("div",{className:"enhance-divider",children:"OR"}),h.jsxs("div",{className:"enhance-section",children:[h.jsx("h3",{children:"Use Saved Profile"}),v.length>0?h.jsx("div",{className:"saved-profiles-list",children:v.map((Ae,Ee)=>{var Ke;const Pe=Ae.profile||Ae,Se=y&&(((Ke=y.profile)==null?void 0:Ke.id)||y.id)===Pe.id;return h.jsxs("div",{className:`profile-item ${Se?"selected":""}`,onClick:()=>L(Ae),children:[h.jsxs("div",{className:"profile-item-info",children:[h.jsx("div",{className:"profile-item-name",children:Pe.name||"Unnamed Profile"}),h.jsxs("div",{className:"profile-item-details",children:[Pe.currentDegree||Pe.degree||"No education info",Pe.institute&&`  ${Pe.institute}`]})]}),Se&&h.jsx("span",{className:"profile-item-check",children:""})]},Pe.id||Ee)})}):h.jsx("p",{className:"no-profiles-message",children:"No saved profiles found. Please upload a profile or create one first."})]}),y&&h.jsx("div",{className:"enhance-selected-profile",children:h.jsx("button",{onClick:j,className:"btn-enhance-selected",disabled:S,children:S?"Enhancing Profile...":" Enhance Selected Profile with Report"})}),h.jsx("div",{className:"enhance-modal-actions",children:h.jsx("button",{className:"btn-cancel",onClick:X,children:"Cancel"})})]})]})}),h.jsx(U0e,{isOpen:O,onClose:z,title:"Profile Enhanced Successfully!",message:"Your profile has been enhanced with psychometric insights and refined through dual AI processing. You will now be redirected to view your enhanced profile.",buttonText:"View Enhanced Profile",onButtonClick:z,autoCloseDelay:5e3})]})}function zPe(){const e=jo(),[t,r]=E.useState([]),[n,i]=E.useState(!0),[a,o]=E.useState(null);E.useEffect(()=>{s()},[]);const s=async()=>{try{i(!0),o(null);const A=await n7();r(A)}catch(A){console.error("Failed to load saved reports:",A),o(A.message||"Failed to load saved reports")}finally{i(!1)}},l=A=>{e(`/psychometric/report/${A}`)},u=async(A,d)=>{if(window.confirm(`Are you sure you want to remove "${d}" from your saved reports?`))try{await a7(A),r(t.filter(f=>f.sessionId!==A)),alert("Report removed successfully")}catch(f){console.error("Failed to delete saved report:",f),alert(f.message||"Failed to delete report")}},c=A=>A?new Date(A).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";return n?h.jsx("div",{className:"saved-reports-page",children:h.jsx("div",{className:"saved-reports-container",children:h.jsx("div",{className:"loading-message",children:h.jsx("p",{children:"Loading saved reports..."})})})}):a?h.jsx("div",{className:"saved-reports-page",children:h.jsx("div",{className:"saved-reports-container",children:h.jsxs("div",{className:"error-message",children:[h.jsx("p",{children:a}),h.jsx("button",{onClick:()=>e(-1),className:"btn-back",children:"Go Back"})]})})}):h.jsx("div",{className:"saved-reports-page",children:h.jsxs("div",{className:"saved-reports-container",children:[h.jsxs("div",{className:"page-header",children:[h.jsx("h1",{children:"Saved Psychometric Reports"}),h.jsx("p",{className:"page-subtitle",children:"View and manage your saved psychometric test reports"})]}),t.length===0?h.jsxs("div",{className:"empty-state",children:[h.jsx("div",{className:"empty-state-icon",children:""}),h.jsx("h2",{children:"No Saved Reports"}),h.jsx("p",{children:"You haven't saved any psychometric reports yet."}),h.jsx("p",{className:"empty-state-hint",children:"Take a psychometric test and save the report to view it here."}),h.jsx("button",{onClick:()=>e("/psychometric/start"),className:"btn-primary",children:"Take Psychometric Test"})]}):h.jsx("div",{className:"reports-grid",children:t.map(A=>h.jsxs("div",{className:"report-card",children:[h.jsxs("div",{className:"report-card-header",children:[h.jsx("div",{className:"report-icon",children:""}),h.jsx("h3",{className:"report-candidate-name",children:A.candidateName||"Unnamed Report"})]}),h.jsxs("div",{className:"report-card-body",children:[h.jsxs("div",{className:"report-info-row",children:[h.jsx("span",{className:"report-info-label",children:"Email:"}),h.jsx("span",{className:"report-info-value",children:A.userEmail||"N/A"})]}),A.reportTitle&&h.jsxs("div",{className:"report-info-row",children:[h.jsx("span",{className:"report-info-label",children:"Title:"}),h.jsx("span",{className:"report-info-value",children:A.reportTitle})]}),h.jsxs("div",{className:"report-info-row",children:[h.jsx("span",{className:"report-info-label",children:"Saved on:"}),h.jsx("span",{className:"report-info-value",children:c(A.savedAt)})]}),h.jsxs("div",{className:"report-info-row",children:[h.jsx("span",{className:"report-info-label",children:"Session ID:"}),h.jsx("span",{className:"report-info-value report-session-id",children:A.sessionId})]})]}),h.jsxs("div",{className:"report-card-actions",children:[h.jsx("button",{onClick:()=>l(A.sessionId),className:"btn-view-report",children:"View Report"}),h.jsx("button",{onClick:()=>u(A.sessionId,A.candidateName),className:"btn-delete-report",children:"Remove"})]})]},A.id))}),h.jsx("div",{className:"page-actions",children:h.jsx("button",{onClick:()=>e("/"),className:"btn-back-home",children:"Back to Home"})})]})})}function VPe(){var O,F;const e=io(),t=jo(),{profileData:r,reportData:n,sessionId:i}=e.state||{},[a,o]=E.useState(!1),[s,l]=E.useState(null),[u,c]=E.useState(!1),[A,d]=E.useState(!1),[f,p]=E.useState(""),g=N=>N?String(N).replace(/[\r\n]+/g," ").replace(/\s+/g," ").trim():"",v=(N,U=12)=>{if(!N)return[];const M=String(N).split(/[,\n\r]+/g).map(W=>W.trim()).filter(Boolean),V=new Set,Q=[];for(const W of M){const D=W.toLowerCase();if(!V.has(D)&&(V.add(D),Q.push(W),Q.length>=U))break}return Q},m=(r==null?void 0:r.profile)||r||{},y=(m==null?void 0:m.name)||(r==null?void 0:r.name)||"Candidate",w=g(r==null?void 0:r.rawText)||g(((O=r==null?void 0:r.profile)==null?void 0:O.templateText)||(r==null?void 0:r.templateText))||g(((F=r==null?void 0:r.profile)==null?void 0:F.aiEnhancedTemplateText)||(r==null?void 0:r.aiEnhancedTemplateText))||"",b=E.useMemo(()=>{const N=[],U=(m==null?void 0:m.currentDegree)||(m==null?void 0:m.degree),M=m==null?void 0:m.institute,V=m==null?void 0:m.branch,Q=m==null?void 0:m.yearOfStudy;return U&&N.push(String(U).trim()),M&&N.push(String(M).trim()),V&&N.push(`Specialization: ${String(V).trim()}`),Q&&N.push(`Year: ${String(Q).trim()}`),N.filter(Boolean)},[m]),B=E.useMemo(()=>v(m==null?void 0:m.technicalSkills,14),[m==null?void 0:m.technicalSkills]),S=E.useMemo(()=>v(m==null?void 0:m.softSkills,14),[m==null?void 0:m.softSkills]);if(!r||!n)return h.jsx("div",{className:"profile-preview-page",children:h.jsxs("div",{className:"error-container",children:[h.jsx("p",{children:"No profile or report data available."}),h.jsx("button",{onClick:()=>t(-1),className:"btn-back",children:"Go Back"})]})});E.useEffect(()=>{f||d(!0)},[]);const P=N=>{var M;if(!N)return;if(!((M=N.type)!=null&&M.startsWith("image/"))){alert("Please select a valid image file.");return}if(N.size>5*1024*1024){alert("Image size should be less than 5MB.");return}const U=new FileReader;U.onloadend=()=>{const V=U.result;typeof V=="string"&&p(V),d(!1)},U.readAsDataURL(N)},k=async()=>{var N;try{o(!0);const U=await $Q({text:s||w,reportData:n,sessionId:i});if(U.success){const M=((N=U.data)==null?void 0:N.enhancedText)||"";l(M),alert("Paragraph enhanced successfully!")}else alert(U.error||"Failed to enhance profile. Please try again.")}catch(U){console.error("Failed to enhance profile:",U),alert(U.message||"Failed to enhance profile. Please try again.")}finally{o(!1)}},I=()=>{try{c(!0);const N=s||w;let U=`PROFILE (UPLOADED)

`;U+=`Professional Profile

`,U+=`Name: ${y}

`,U+=`EDUCATION
`,b.length?b.forEach(W=>U+=`- ${W}
`):U+=`- Not provided
`,U+=`
TECHNICAL SKILLS
`,B.length?B.forEach(W=>U+=`- ${W}
`):U+=`- Not provided
`,U+=`
SOFT SKILLS
`,S.length?S.forEach(W=>U+=`- ${W}
`):U+=`- Not provided
`,U+=`
`,U+=`${N}
`;const M=new Blob([U],{type:"text/plain"}),V=window.URL.createObjectURL(M),Q=document.createElement("a");Q.href=V,Q.download=`profile-${s?"enhanced":"original"}.txt`,document.body.appendChild(Q),Q.click(),window.URL.revokeObjectURL(V),document.body.removeChild(Q)}catch(N){console.error("Failed to download profile:",N),alert("Failed to download profile. Please try again.")}finally{c(!1)}};return h.jsxs("div",{className:"profile-preview-page",children:[h.jsxs("div",{className:"profile-preview-header",children:[h.jsx("button",{onClick:()=>t(-1),className:"btn-back-arrow",children:" Back to Report"}),h.jsx("h1",{children:"Profile Preview"})]}),h.jsx("div",{className:"a4-container",children:h.jsxs("div",{className:"a4-page",children:[h.jsx("div",{className:"pp-title",children:"Professional Profile"}),h.jsxs("div",{className:"pp-layout",children:[h.jsxs("div",{className:"pp-left",children:[h.jsxs("div",{className:"profile-section",children:[h.jsx("h2",{className:"section-title",children:"Education"}),h.jsx("div",{className:"section-content",children:h.jsx("ul",{className:"pp-bullets",children:b.length>0?b.map((N,U)=>h.jsx("li",{children:N},U)):h.jsx("li",{children:"Not provided"})})})]}),h.jsxs("div",{className:"profile-section",children:[h.jsx("h2",{className:"section-title",children:"Technical Skills"}),h.jsx("div",{className:"section-content",children:h.jsx("ul",{className:"pp-bullets",children:B.length>0?B.map((N,U)=>h.jsx("li",{children:N},U)):h.jsx("li",{children:"Not provided"})})})]}),h.jsxs("div",{className:"profile-section",children:[h.jsx("h2",{className:"section-title",children:"Soft Skills"}),h.jsx("div",{className:"section-content",children:h.jsx("ul",{className:"pp-bullets",children:S.length>0?S.map((N,U)=>h.jsx("li",{children:N},U)):h.jsx("li",{children:"Not provided"})})})]}),h.jsx("div",{className:"profile-section",children:h.jsx("div",{className:"section-content",children:h.jsx("p",{className:"pp-paragraph",children:s||w||"No uploaded profile content found."})})})]}),h.jsx("div",{className:"pp-right",children:h.jsxs("div",{className:"pp-photo-card",children:[h.jsx("div",{className:"pp-photo",children:f?h.jsx("img",{src:f,alt:"Profile"}):h.jsx("div",{className:"pp-photo-placeholder",children:"Photo"})}),h.jsx("div",{className:"pp-name",children:y}),h.jsx("button",{className:"pp-change-photo-btn no-print",onClick:()=>d(!0),children:f?"Change Image":"Add Image"})]})})]})]})}),h.jsxs("div",{className:"profile-actions",children:[s?h.jsx("div",{className:"enhanced-info",children:h.jsx("span",{className:"success-message",children:" Paragraph enhanced successfully!"})}):h.jsx("button",{onClick:k,className:"btn-enhance-profile",disabled:a,children:a?"Enhancing Profile...":" Enhance Profile with Report"}),h.jsx("button",{onClick:I,className:"btn-download-profile",disabled:u,children:u?"Downloading...":" Download Profile"})]}),A&&h.jsx("div",{className:"pp-modal-overlay no-print",onClick:()=>d(!1),children:h.jsxs("div",{className:"pp-modal",onClick:N=>N.stopPropagation(),children:[h.jsxs("div",{className:"pp-modal-header",children:[h.jsx("h2",{children:"Add Profile Photo"}),h.jsx("button",{className:"pp-modal-close",onClick:()=>d(!1),children:""})]}),h.jsx("p",{className:"pp-modal-desc",children:"Please upload a headshot (recommended). You can also skip and add it later."}),h.jsxs("div",{className:"pp-modal-actions",children:[h.jsxs("label",{className:"pp-btn pp-btn-primary pp-file-btn",children:["Choose Image",h.jsx("input",{type:"file",accept:"image/*",onChange:N=>{var U;return P((U=N.target.files)==null?void 0:U[0])},style:{display:"none"}})]}),h.jsx("button",{className:"pp-btn pp-btn-secondary",onClick:()=>d(!1),children:"Skip"})]})]})})]})}function M5(e){return e?Array.isArray(e)?e.filter(Boolean):typeof e=="string"?e.split(",").map(t=>t.trim()).filter(Boolean):[]:[]}function GPe(e,t){if(!e)return"";const r=String(e).trim().split(/\s+/).filter(Boolean);return r.length<=t?String(e).trim():`${r.slice(0,t).join(" ")}`}function qPe(){var P,k,I;const{sessionId:e}=$h(),t=io(),r=jo(),n=E.useRef(null),[i,a]=E.useState(((P=t.state)==null?void 0:P.reportData)||null),[o,s]=E.useState(!((k=t.state)!=null&&k.reportData)),[l,u]=E.useState(null),[c,A]=E.useState(((I=t.state)==null?void 0:I.photoDataUrl)||""),[d,f]=E.useState(!0),[p,g]=E.useState(!1);E.useEffect(()=>{let O=!0;return(async()=>{if(!(i||!e))try{s(!0);const N=await p2(e);if(!O)return;a(N)}catch(N){if(!O)return;u((N==null?void 0:N.message)||"Failed to load report")}finally{O&&s(!1)}})(),()=>{O=!1}},[i,e]),E.useEffect(()=>{f(!c)},[c]);const v=(i==null?void 0:i.userInfo)||{},m=E.useMemo(()=>{const O=((i==null?void 0:i.summaryBio)||(i==null?void 0:i.narrativeSummary)||(i==null?void 0:i.interviewSummary)||"").trim();return GPe(O,200)},[i]),y=E.useMemo(()=>{const O=[],F=(v==null?void 0:v.degree)||(i==null?void 0:i.degree),N=v==null?void 0:v.specialization,U=i==null?void 0:i.university,M=i==null?void 0:i.yearOfGraduation;return F&&O.push(F),N&&O.push(N),U&&O.push(U),M&&O.push(`Graduated: ${M}`),O},[i,v]),w=E.useMemo(()=>{const O=[];return O.push(...M5(v==null?void 0:v.technicalSkills)),O.push(...M5(v==null?void 0:v.softSkills)),Array.isArray(i==null?void 0:i.strengths)&&O.push(...i.strengths.slice(0,3)),Array.from(new Set(O.map(F=>String(F).trim()).filter(Boolean)))},[i,v]),b=E.useMemo(()=>M5((v==null?void 0:v.certifications)||(i==null?void 0:i.certifications)),[i,v]),B=O=>{var N;if(!O)return;if(!((N=O.type)!=null&&N.startsWith("image/"))){alert("Please select a valid image file.");return}const F=new FileReader;F.onload=U=>{var V;const M=(V=U==null?void 0:U.target)==null?void 0:V.result;typeof M=="string"&&(A(M),f(!1))},F.readAsDataURL(O)},S=async()=>{if(n.current)try{g(!0),await pN(n.current,{fileName:`psychometric-profile-${e||"candidate"}.pdf`,orientation:"p",hasPhoto:!!c,centerIfNoPhoto:!0})}catch(O){console.error("PDF download failed:",O),alert((O==null?void 0:O.message)||"Failed to download PDF. Please try again.")}finally{g(!1)}};return o?h.jsx("div",{className:"psy-profile-page",children:h.jsx("div",{className:"psy-profile-shell",children:h.jsx("div",{className:"psy-profile-loading",children:"Loading profile"})})}):l||!i?h.jsx("div",{className:"psy-profile-page",children:h.jsx("div",{className:"psy-profile-shell",children:h.jsxs("div",{className:"psy-profile-error",children:[h.jsx("p",{children:l||"No report data found."}),h.jsx("button",{className:"psy-btn",onClick:()=>r(-1),children:"Back"})]})})}):h.jsxs("div",{className:"psy-profile-page",children:[h.jsxs("div",{className:"psy-profile-shell no-print",children:[h.jsx("button",{className:"psy-btn psy-btn-secondary",onClick:()=>r(-1),children:" Back to Report"}),h.jsxs("div",{className:"psy-actions",children:[h.jsx("button",{className:"psy-btn psy-btn-secondary",onClick:()=>f(!0),children:c?"Change Photo":"Add Photo"}),h.jsx("button",{className:"psy-btn psy-btn-primary",onClick:S,disabled:p,children:p?"Downloading":"Download PDF"})]})]}),h.jsx("div",{className:"psy-a4-outer",children:h.jsxs("div",{className:"psy-a4-page",ref:n,children:[h.jsx("h3",{className:"psy-page-heading",children:"Professional Profile"}),h.jsxs("div",{className:"psy-hero",children:[h.jsx("div",{className:"psy-hero-left",children:h.jsx("div",{className:"psy-summary",children:m?m.split(`

`).map((O,F)=>h.jsx("p",{children:O},F)):h.jsx("p",{children:"This profile is generated from the psychometric report. Add a photo to complete the preview."})})}),h.jsxs("div",{className:"psy-hero-right",children:[h.jsx("div",{className:"psy-photo-frame",children:c?h.jsx("img",{className:"psy-photo",src:c,alt:"Candidate"}):h.jsx("div",{className:"psy-photo-placeholder",children:"Photo"})}),h.jsx("div",{className:"psy-title-block",children:h.jsx("div",{className:"psy-title-name",children:(v==null?void 0:v.name)||"Candidate"})}),h.jsxs("div",{className:"psy-skills-card",children:[h.jsx("div",{className:"psy-skills-title",children:"Skills"}),h.jsx("ul",{className:"psy-skills-bullets",children:w.length>0?w.slice(0,10).map((O,F)=>h.jsx("li",{children:O},F)):h.jsx("li",{children:"Not provided"})})]})]})]}),h.jsxs("div",{className:"psy-details",children:[h.jsxs("div",{className:"psy-col",children:[h.jsx("div",{className:"psy-section-title",children:"Education:"}),h.jsx("ul",{className:"psy-bullets",children:y.length>0?y.map((O,F)=>h.jsx("li",{children:O},F)):h.jsx("li",{children:"Not provided"})})]}),h.jsxs("div",{className:"psy-col",children:[h.jsx("div",{className:"psy-section-title",children:"Certifications:"}),h.jsx("ul",{className:"psy-bullets",children:b.length>0?b.slice(0,6).map((O,F)=>h.jsx("li",{children:O},F)):h.jsx("li",{children:"Not provided"})})]})]})]})}),d&&h.jsx("div",{className:"psy-modal-overlay no-print",onClick:()=>f(!1),children:h.jsxs("div",{className:"psy-modal",onClick:O=>O.stopPropagation(),children:[h.jsxs("div",{className:"psy-modal-header",children:[h.jsx("h2",{children:"Add Profile Photo"}),h.jsx("button",{className:"psy-modal-close",onClick:()=>f(!1),children:""})]}),h.jsx("p",{className:"psy-modal-desc",children:"This template includes a photo. Please upload a headshot (recommended) or you can skip."}),h.jsxs("div",{className:"psy-modal-actions",children:[h.jsxs("label",{className:"psy-btn psy-btn-primary psy-file-btn",children:["Choose Image",h.jsx("input",{type:"file",accept:"image/*",onChange:O=>{var F;return B((F=O.target.files)==null?void 0:F[0])},style:{display:"none"}})]}),h.jsx("button",{className:"psy-btn psy-btn-secondary",onClick:()=>f(!1),children:"Skip"})]})]})})]})}function XPe(){const e=io(),t=jo(),r=e.pathname.includes("/psychometric/assessment/"),n=()=>{t("/psychometric/start")};return h.jsxs("div",{className:"relative min-h-screen",children:[!r&&h.jsx(XH,{onNavigateToStart:n}),h.jsxs(vZ,{children:[h.jsx(yo,{path:"/psychometric/start",element:h.jsx(Wce,{})}),h.jsx(yo,{path:"/psychometric/skills",element:h.jsx(Vce,{})}),h.jsx(yo,{path:"/psychometric/instructions/:sessionId",element:h.jsx(qce,{})}),h.jsx(yo,{path:"/psychometric/loading/:sessionId",element:h.jsx(L0e,{})}),h.jsx(yo,{path:"/psychometric/assessment/:sessionId",element:h.jsx(O0e,{})}),h.jsx(yo,{path:"/psychometric/result/:sessionId",element:h.jsx(T0e,{})}),h.jsx(yo,{path:"/psychometric/report/:sessionId",element:h.jsx(KPe,{})}),h.jsx(yo,{path:"/psychometric/saved-reports",element:h.jsx(zPe,{})}),h.jsx(yo,{path:"/psychometric/profile-preview",element:h.jsx(VPe,{})}),h.jsx(yo,{path:"/psychometric/profile-from-report/:sessionId",element:h.jsx(qPe,{})}),h.jsx(yo,{path:"/psychometric",element:h.jsx(hP,{to:"/psychometric/start",replace:!0})}),h.jsx(yo,{path:"*",element:h.jsx(hP,{to:"/psychometric/start",replace:!0})})]})]})}const YPe=()=>{const[e,t]=E.useState([]);return E.useEffect(()=>{const r=n=>{const{type:i="info",message:a}=n.detail||{};if(!a)return;const o=`${Date.now()}-${Math.random()}`;t(s=>[...s,{id:o,type:i,message:a}]),setTimeout(()=>{t(s=>s.filter(l=>l.id!==o))},4e3)};return window.addEventListener("app:toast",r),()=>window.removeEventListener("app:toast",r)},[]),e.length===0?null:h.jsx("div",{style:{position:"fixed",top:"20px",right:"20px",zIndex:9999,display:"flex",flexDirection:"column",gap:"12px",maxWidth:"320px"},children:e.map(r=>h.jsx("div",{style:{padding:"12px 16px",borderRadius:"8px",color:"#fff",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",backgroundColor:r.type==="error"?"#dc2626":"#16a34a",fontSize:"0.95rem",lineHeight:"1.4"},children:r.message},r.id))})};window.addEventListener("load",()=>{const e=window.location.pathname;e.includes("/oauth2/code/google")||e.includes("/login/oauth2/code/google")});const hq=window.location.pathname,JPe=hq.startsWith("/admin"),ZPe=hq.startsWith("/psychometric");Q5.createRoot(document.getElementById("root")).render(h.jsxs(bu.StrictMode,{children:[h.jsx(YPe,{}),h.jsx(QZ,{children:JPe?h.jsx(Qce,{}):ZPe?h.jsx(VQ,{children:h.jsx(XPe,{})}):h.jsx(kce,{})})]}));export{Er as _,tOe as c,zs as g};
